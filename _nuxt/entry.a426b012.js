var ZO=Object.defineProperty;var YO=(e,t,r)=>t in e?ZO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var r3=(e,t,r)=>(YO(e,typeof t!="symbol"?t+"":t,r),r);function xw(e,t){const r=Object.create(null),s=e.split(",");for(let i=0;i<s.length;i++)r[s[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const $t={},Il=[],Ks=()=>{},XO=()=>!1,Rd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ew=e=>e.startsWith("onUpdate:"),cr=Object.assign,Tw=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},e5=Object.prototype.hasOwnProperty,Xe=(e,t)=>e5.call(e,t),Oe=Array.isArray,Ol=e=>Pd(e)==="[object Map]",U$=e=>Pd(e)==="[object Set]",s3=e=>Pd(e)==="[object Date]",Ae=e=>typeof e=="function",Ft=e=>typeof e=="string",uo=e=>typeof e=="symbol",yt=e=>e!==null&&typeof e=="object",q$=e=>(yt(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),B$=Object.prototype.toString,Pd=e=>B$.call(e),t5=e=>Pd(e).slice(8,-1),H$=e=>Pd(e)==="[object Object]",kw=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lc=xw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sy=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},r5=/-(\w)/g,xi=sy(e=>e.replace(r5,(t,r)=>r?r.toUpperCase():"")),s5=/\B([A-Z])/g,au=sy(e=>e.replace(s5,"-$1").toLowerCase()),iy=sy(e=>e.charAt(0).toUpperCase()+e.slice(1)),wm=sy(e=>e?`on${iy(e)}`:""),Sa=(e,t)=>!Object.is(e,t),rh=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},rf=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Sg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},i5=e=>{const t=Ft(e)?Number(e):NaN;return isNaN(t)?e:t};let i3;const $g=()=>i3||(i3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ny(e){if(Oe(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],i=Ft(s)?l5(s):ny(s);if(i)for(const n in i)t[n]=i[n]}return t}else if(Ft(e)||yt(e))return e}const n5=/;(?![^(]*\))/g,o5=/:([^]+)/,a5=/\/\*[^]*?\*\//g;function l5(e){const t={};return e.replace(a5,"").split(n5).forEach(r=>{if(r){const s=r.split(o5);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function lu(e){let t="";if(Ft(e))t=e;else if(Oe(e))for(let r=0;r<e.length;r++){const s=lu(e[r]);s&&(t+=s+" ")}else if(yt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function u5(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Ft(t)&&(e.class=lu(t)),r&&(e.style=ny(r)),e}const c5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d5=xw(c5);function G$(e){return!!e||e===""}function p5(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=sf(e[s],t[s]);return r}function sf(e,t){if(e===t)return!0;let r=s3(e),s=s3(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=uo(e),s=uo(t),r||s)return e===t;if(r=Oe(e),s=Oe(t),r||s)return r&&s?p5(e,t):!1;if(r=yt(e),s=yt(t),r||s){if(!r||!s)return!1;const i=Object.keys(e).length,n=Object.keys(t).length;if(i!==n)return!1;for(const a in e){const l=e.hasOwnProperty(a),d=t.hasOwnProperty(a);if(l&&!d||!l&&d||!sf(e[a],t[a]))return!1}}return String(e)===String(t)}const Gs=e=>Ft(e)?e:e==null?"":Oe(e)||yt(e)&&(e.toString===B$||!Ae(e.toString))?JSON.stringify(e,W$,2):String(e),W$=(e,t)=>t&&t.__v_isRef?W$(e,t.value):Ol(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,i],n)=>(r[_m(s,n)+" =>"]=i,r),{})}:U$(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>_m(r))}:uo(t)?_m(t):yt(t)&&!Oe(t)&&!H$(t)?String(t):t,_m=(e,t="")=>{var r;return uo(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};let zs;class J${constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zs,!t&&zs&&(this.index=(zs.scopes||(zs.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=zs;try{return zs=this,t()}finally{zs=r}}}on(){zs=this}off(){zs=this.parent}stop(t){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function h5(e){return new J$(e)}function f5(e,t=zs){t&&t.active&&t.effects.push(e)}function y5(){return zs}const Mw=e=>{const t=new Set(e);return t.w=0,t.n=0,t},K$=e=>(e.w&co)>0,Q$=e=>(e.n&co)>0,m5=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=co},g5=e=>{const{deps:t}=e;if(t.length){let r=0;for(let s=0;s<t.length;s++){const i=t[s];K$(i)&&!Q$(i)?i.delete(e):t[r++]=i,i.w&=~co,i.n&=~co}t.length=r}},nf=new WeakMap;let Wu=0,co=1;const xg=30;let Ws;const ga=Symbol(""),Eg=Symbol("");class Iw{constructor(t,r=null,s){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,f5(this,s)}run(){if(!this.active)return this.fn();let t=Ws,r=so;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ws,Ws=this,so=!0,co=1<<++Wu,Wu<=xg?m5(this):n3(this),this.fn()}finally{Wu<=xg&&g5(this),co=1<<--Wu,Ws=this.parent,so=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ws===this?this.deferStop=!0:this.active&&(n3(this),this.onStop&&this.onStop(),this.active=!1)}}function n3(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let so=!0;const Z$=[];function uu(){Z$.push(so),so=!1}function cu(){const e=Z$.pop();so=e===void 0?!0:e}function qr(e,t,r){if(so&&Ws){let s=nf.get(e);s||nf.set(e,s=new Map);let i=s.get(r);i||s.set(r,i=Mw()),Y$(i)}}function Y$(e,t){let r=!1;Wu<=xg?Q$(e)||(e.n|=co,r=!K$(e)):r=!e.has(Ws),r&&(e.add(Ws),Ws.deps.push(e))}function nn(e,t,r,s,i,n){const a=nf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(r==="length"&&Oe(e)){const d=Number(s);a.forEach((h,f)=>{(f==="length"||!uo(f)&&f>=d)&&l.push(h)})}else switch(r!==void 0&&l.push(a.get(r)),t){case"add":Oe(e)?kw(r)&&l.push(a.get("length")):(l.push(a.get(ga)),Ol(e)&&l.push(a.get(Eg)));break;case"delete":Oe(e)||(l.push(a.get(ga)),Ol(e)&&l.push(a.get(Eg)));break;case"set":Ol(e)&&l.push(a.get(ga));break}if(l.length===1)l[0]&&Tg(l[0]);else{const d=[];for(const h of l)h&&d.push(...h);Tg(Mw(d))}}function Tg(e,t){const r=Oe(e)?e:[...e];for(const s of r)s.computed&&o3(s);for(const s of r)s.computed||o3(s)}function o3(e,t){(e!==Ws||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function v5(e,t){var r;return(r=nf.get(e))==null?void 0:r.get(t)}const b5=xw("__proto__,__v_isRef,__isVue"),X$=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(uo)),a3=w5();function w5(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const s=rt(this);for(let n=0,a=this.length;n<a;n++)qr(s,"get",n+"");const i=s[t](...r);return i===-1||i===!1?s[t](...r.map(rt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){uu();const s=rt(this)[t].apply(this,r);return cu(),s}}),e}function _5(e){const t=rt(this);return qr(t,"has",e),t.hasOwnProperty(e)}class ex{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,s){const i=this._isReadonly,n=this._shallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return n;if(r==="__v_raw")return s===(i?n?R5:ix:n?sx:rx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=Oe(t);if(!i){if(a&&Xe(a3,r))return Reflect.get(a3,r,s);if(r==="hasOwnProperty")return _5}const l=Reflect.get(t,r,s);return(uo(r)?X$.has(r):b5(r))||(i||qr(t,"get",r),n)?l:pr(l)?a&&kw(r)?l:l.value:yt(l)?i?ox(l):dr(l):l}}class tx extends ex{constructor(t=!1){super(!1,t)}set(t,r,s,i){let n=t[r];if(!this._shallow){const d=$a(n);if(!of(s)&&!$a(s)&&(n=rt(n),s=rt(s)),!Oe(t)&&pr(n)&&!pr(s))return d?!1:(n.value=s,!0)}const a=Oe(t)&&kw(r)?Number(r)<t.length:Xe(t,r),l=Reflect.set(t,r,s,i);return t===rt(i)&&(a?Sa(s,n)&&nn(t,"set",r,s):nn(t,"add",r,s)),l}deleteProperty(t,r){const s=Xe(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&s&&nn(t,"delete",r,void 0),i}has(t,r){const s=Reflect.has(t,r);return(!uo(r)||!X$.has(r))&&qr(t,"has",r),s}ownKeys(t){return qr(t,"iterate",Oe(t)?"length":ga),Reflect.ownKeys(t)}}class S5 extends ex{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const $5=new tx,x5=new S5,E5=new tx(!0),Ow=e=>e,oy=e=>Reflect.getPrototypeOf(e);function yp(e,t,r=!1,s=!1){e=e.__v_raw;const i=rt(e),n=rt(t);r||(Sa(t,n)&&qr(i,"get",t),qr(i,"get",n));const{has:a}=oy(i),l=s?Ow:r?Aw:id;if(a.call(i,t))return l(e.get(t));if(a.call(i,n))return l(e.get(n));e!==i&&e.get(t)}function mp(e,t=!1){const r=this.__v_raw,s=rt(r),i=rt(e);return t||(Sa(e,i)&&qr(s,"has",e),qr(s,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function gp(e,t=!1){return e=e.__v_raw,!t&&qr(rt(e),"iterate",ga),Reflect.get(e,"size",e)}function l3(e){e=rt(e);const t=rt(this);return oy(t).has.call(t,e)||(t.add(e),nn(t,"add",e,e)),this}function u3(e,t){t=rt(t);const r=rt(this),{has:s,get:i}=oy(r);let n=s.call(r,e);n||(e=rt(e),n=s.call(r,e));const a=i.call(r,e);return r.set(e,t),n?Sa(t,a)&&nn(r,"set",e,t):nn(r,"add",e,t),this}function c3(e){const t=rt(this),{has:r,get:s}=oy(t);let i=r.call(t,e);i||(e=rt(e),i=r.call(t,e)),s&&s.call(t,e);const n=t.delete(e);return i&&nn(t,"delete",e,void 0),n}function d3(){const e=rt(this),t=e.size!==0,r=e.clear();return t&&nn(e,"clear",void 0,void 0),r}function vp(e,t){return function(s,i){const n=this,a=n.__v_raw,l=rt(a),d=t?Ow:e?Aw:id;return!e&&qr(l,"iterate",ga),a.forEach((h,f)=>s.call(i,d(h),d(f),n))}}function bp(e,t,r){return function(...s){const i=this.__v_raw,n=rt(i),a=Ol(n),l=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,h=i[e](...s),f=r?Ow:t?Aw:id;return!t&&qr(n,"iterate",d?Eg:ga),{next(){const{value:y,done:v}=h.next();return v?{value:y,done:v}:{value:l?[f(y[0]),f(y[1])]:f(y),done:v}},[Symbol.iterator](){return this}}}}function vn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function T5(){const e={get(n){return yp(this,n)},get size(){return gp(this)},has:mp,add:l3,set:u3,delete:c3,clear:d3,forEach:vp(!1,!1)},t={get(n){return yp(this,n,!1,!0)},get size(){return gp(this)},has:mp,add:l3,set:u3,delete:c3,clear:d3,forEach:vp(!1,!0)},r={get(n){return yp(this,n,!0)},get size(){return gp(this,!0)},has(n){return mp.call(this,n,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:vp(!0,!1)},s={get(n){return yp(this,n,!0,!0)},get size(){return gp(this,!0)},has(n){return mp.call(this,n,!0)},add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear"),forEach:vp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=bp(n,!1,!1),r[n]=bp(n,!0,!1),t[n]=bp(n,!1,!0),s[n]=bp(n,!0,!0)}),[e,r,t,s]}const[k5,M5,I5,O5]=T5();function jw(e,t){const r=t?e?O5:I5:e?M5:k5;return(s,i,n)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Xe(r,i)&&i in s?r:s,i,n)}const j5={get:jw(!1,!1)},C5={get:jw(!1,!0)},A5={get:jw(!0,!1)},rx=new WeakMap,sx=new WeakMap,ix=new WeakMap,R5=new WeakMap;function P5(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function L5(e){return e.__v_skip||!Object.isExtensible(e)?0:P5(t5(e))}function dr(e){return $a(e)?e:Cw(e,!1,$5,j5,rx)}function nx(e){return Cw(e,!1,E5,C5,sx)}function ox(e){return Cw(e,!0,x5,A5,ix)}function Cw(e,t,r,s,i){if(!yt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=i.get(e);if(n)return n;const a=L5(e);if(a===0)return e;const l=new Proxy(e,a===2?s:r);return i.set(e,l),l}function jl(e){return $a(e)?jl(e.__v_raw):!!(e&&e.__v_isReactive)}function $a(e){return!!(e&&e.__v_isReadonly)}function of(e){return!!(e&&e.__v_isShallow)}function ax(e){return jl(e)||$a(e)}function rt(e){const t=e&&e.__v_raw;return t?rt(t):e}function lx(e){return rf(e,"__v_skip",!0),e}const id=e=>yt(e)?dr(e):e,Aw=e=>yt(e)?ox(e):e;function ux(e){so&&Ws&&(e=rt(e),Y$(e.dep||(e.dep=Mw())))}function cx(e,t){e=rt(e);const r=e.dep;r&&Tg(r)}function pr(e){return!!(e&&e.__v_isRef===!0)}function io(e){return dx(e,!1)}function p3(e){return dx(e,!0)}function dx(e,t){return pr(e)?e:new F5(e,t)}class F5{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:rt(t),this._value=r?t:id(t)}get value(){return ux(this),this._value}set value(t){const r=this.__v_isShallow||of(t)||$a(t);t=r?t:rt(t),Sa(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:id(t),cx(this))}}function _e(e){return pr(e)?e.value:e}const N5={get:(e,t,r)=>_e(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const i=e[t];return pr(i)&&!pr(r)?(i.value=r,!0):Reflect.set(e,t,r,s)}};function px(e){return jl(e)?e:new Proxy(e,N5)}class D5{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return v5(rt(this._object),this._key)}}class z5{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function V5(e,t,r){return pr(e)?e:Ae(e)?new z5(e):yt(e)&&arguments.length>1?U5(e,t,r):io(e)}function U5(e,t,r){const s=e[t];return pr(s)?s:new D5(e,t,r)}class q5{constructor(t,r,s,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Iw(t,()=>{this._dirty||(this._dirty=!0,cx(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=rt(this);return ux(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function B5(e,t,r=!1){let s,i;const n=Ae(e);return n?(s=e,i=Ks):(s=e.get,i=e.set),new q5(s,i,n||!i,r)}function no(e,t,r,s){let i;try{i=s?e(...s):e()}catch(n){du(n,t,r)}return i}function Qs(e,t,r,s){if(Ae(e)){const n=no(e,t,r,s);return n&&q$(n)&&n.catch(a=>{du(a,t,r)}),n}const i=[];for(let n=0;n<e.length;n++)i.push(Qs(e[n],t,r,s));return i}function du(e,t,r,s=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const a=t.proxy,l=r;for(;n;){const h=n.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](e,a,l)===!1)return}n=n.parent}const d=t.appContext.config.errorHandler;if(d){no(d,null,10,[e,a,l]);return}}H5(e,r,i,s)}function H5(e,t,r,s=!0){console.error(e)}let nd=!1,kg=!1;const _r=[];let _i=0;const Cl=[];let Qi=null,ra=0;const hx=Promise.resolve();let Rw=null;function Pw(e){const t=Rw||hx;return e?t.then(this?e.bind(this):e):t}function G5(e){let t=_i+1,r=_r.length;for(;t<r;){const s=t+r>>>1,i=_r[s],n=od(i);n<e||n===e&&i.pre?t=s+1:r=s}return t}function ay(e){(!_r.length||!_r.includes(e,nd&&e.allowRecurse?_i+1:_i))&&(e.id==null?_r.push(e):_r.splice(G5(e.id),0,e),fx())}function fx(){!nd&&!kg&&(kg=!0,Rw=hx.then(yx))}function W5(e){const t=_r.indexOf(e);t>_i&&_r.splice(t,1)}function Mg(e){Oe(e)?Cl.push(...e):(!Qi||!Qi.includes(e,e.allowRecurse?ra+1:ra))&&Cl.push(e),fx()}function h3(e,t,r=nd?_i+1:0){for(;r<_r.length;r++){const s=_r[r];if(s&&s.pre){if(e&&s.id!==e.uid)continue;_r.splice(r,1),r--,s()}}}function af(e){if(Cl.length){const t=[...new Set(Cl)];if(Cl.length=0,Qi){Qi.push(...t);return}for(Qi=t,Qi.sort((r,s)=>od(r)-od(s)),ra=0;ra<Qi.length;ra++)Qi[ra]();Qi=null,ra=0}}const od=e=>e.id==null?1/0:e.id,J5=(e,t)=>{const r=od(e)-od(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function yx(e){kg=!1,nd=!0,_r.sort(J5);const t=Ks;try{for(_i=0;_i<_r.length;_i++){const r=_r[_i];r&&r.active!==!1&&no(r,null,14)}}finally{_i=0,_r.length=0,af(),nd=!1,Rw=null,(_r.length||Cl.length)&&yx()}}function K5(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||$t;let i=r;const n=t.startsWith("update:"),a=n&&t.slice(7);if(a&&a in s){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:y,trim:v}=s[f]||$t;v&&(i=r.map(b=>Ft(b)?b.trim():b)),y&&(i=r.map(Sg))}let l,d=s[l=wm(t)]||s[l=wm(xi(t))];!d&&n&&(d=s[l=wm(au(t))]),d&&Qs(d,e,6,i);const h=s[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Qs(h,e,6,i)}}function mx(e,t,r=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const n=e.emits;let a={},l=!1;if(!Ae(e)){const d=h=>{const f=mx(h,t,!0);f&&(l=!0,cr(a,f))};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!n&&!l?(yt(e)&&s.set(e,null),null):(Oe(n)?n.forEach(d=>a[d]=null):cr(a,n),yt(e)&&s.set(e,a),a)}function ly(e,t){return!e||!Rd(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xe(e,t[0].toLowerCase()+t.slice(1))||Xe(e,au(t))||Xe(e,t))}let Vr=null,uy=null;function lf(e){const t=Vr;return Vr=e,uy=e&&e.type.__scopeId||null,t}function eJ(e){uy=e}function tJ(){uy=null}function gx(e,t=Vr,r){if(!t||e._n)return e;const s=(...i)=>{s._d&&T3(-1);const n=lf(t);let a;try{a=e(...i)}finally{lf(n),s._d&&T3(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Sm(e){const{type:t,vnode:r,proxy:s,withProxy:i,props:n,propsOptions:[a],slots:l,attrs:d,emit:h,render:f,renderCache:y,data:v,setupState:b,ctx:x,inheritAttrs:I}=e;let A,q;const G=lf(e);try{if(r.shapeFlag&4){const p=i||s,m=p;A=gs(f.call(m,p,y,n,b,v,x)),q=d}else{const p=t;A=gs(p.length>1?p(n,{attrs:d,slots:l,emit:h}):p(n,null)),q=t.props?d:Z5(d)}}catch(p){zc.length=0,du(p,e,1),A=Ot(Ei)}let C=A;if(q&&I!==!1){const p=Object.keys(q),{shapeFlag:m}=C;p.length&&m&7&&(a&&p.some(Ew)&&(q=Y5(q,a)),C=Kl(C,q))}return r.dirs&&(C=Kl(C),C.dirs=C.dirs?C.dirs.concat(r.dirs):r.dirs),r.transition&&(C.transition=r.transition),A=C,lf(G),A}function Q5(e){let t;for(let r=0;r<e.length;r++){const s=e[r];if(pf(s)){if(s.type!==Ei||s.children==="v-if"){if(t)return;t=s}}else return}return t}const Z5=e=>{let t;for(const r in e)(r==="class"||r==="style"||Rd(r))&&((t||(t={}))[r]=e[r]);return t},Y5=(e,t)=>{const r={};for(const s in e)(!Ew(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function X5(e,t,r){const{props:s,children:i,component:n}=e,{props:a,children:l,patchFlag:d}=t,h=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?f3(s,a,h):!!a;if(d&8){const f=t.dynamicProps;for(let y=0;y<f.length;y++){const v=f[y];if(a[v]!==s[v]&&!ly(h,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?f3(s,a,h):!0:!!a;return!1}function f3(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const n=s[i];if(t[n]!==e[n]&&!ly(r,n))return!0}return!1}function Lw({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Fw="components";function rJ(e,t){return bx(Fw,e,!0,t)||e}const vx=Symbol.for("v-ndc");function e4(e){return Ft(e)?bx(Fw,e,!1)||e:e||vx}function bx(e,t,r=!0,s=!1){const i=Vr||Jt;if(i){const n=i.type;if(e===Fw){const l=K4(n,!1);if(l&&(l===t||l===xi(t)||l===iy(xi(t))))return n}const a=y3(i[e]||n[e],t)||y3(i.appContext[e],t);return!a&&s?n:a}}function y3(e,t){return e&&(e[t]||e[xi(t)]||e[iy(xi(t))])}const t4=e=>e.__isSuspense,r4={name:"Suspense",__isSuspense:!0,process(e,t,r,s,i,n,a,l,d,h){e==null?i4(t,r,s,i,n,a,l,d,h):n4(e,t,r,s,i,a,l,d,h)},hydrate:o4,create:Nw,normalize:a4},s4=r4;function ad(e,t){const r=e.props&&e.props[t];Ae(r)&&r()}function i4(e,t,r,s,i,n,a,l,d){const{p:h,o:{createElement:f}}=d,y=f("div"),v=e.suspense=Nw(e,i,s,t,y,r,n,a,l,d);h(null,v.pendingBranch=e.ssContent,y,null,s,v,n,a),v.deps>0?(ad(e,"onPending"),ad(e,"onFallback"),h(null,e.ssFallback,t,r,s,null,n,a),Al(v,e.ssFallback)):v.resolve(!1,!0)}function n4(e,t,r,s,i,n,a,l,{p:d,um:h,o:{createElement:f}}){const y=t.suspense=e.suspense;y.vnode=t,t.el=e.el;const v=t.ssContent,b=t.ssFallback,{activeBranch:x,pendingBranch:I,isInFallback:A,isHydrating:q}=y;if(I)y.pendingBranch=v,Zn(v,I)?(d(I,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0?y.resolve():A&&(d(x,b,r,s,i,null,n,a,l),Al(y,b))):(y.pendingId++,q?(y.isHydrating=!1,y.activeBranch=I):h(I,i,y),y.deps=0,y.effects.length=0,y.hiddenContainer=f("div"),A?(d(null,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0?y.resolve():(d(x,b,r,s,i,null,n,a,l),Al(y,b))):x&&Zn(v,x)?(d(x,v,r,s,i,y,n,a,l),y.resolve(!0)):(d(null,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0&&y.resolve()));else if(x&&Zn(v,x))d(x,v,r,s,i,y,n,a,l),Al(y,v);else if(ad(t,"onPending"),y.pendingBranch=v,y.pendingId++,d(null,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0)y.resolve();else{const{timeout:G,pendingId:C}=y;G>0?setTimeout(()=>{y.pendingId===C&&y.fallback(b)},G):G===0&&y.fallback(b)}}function Nw(e,t,r,s,i,n,a,l,d,h,f=!1){const{p:y,m:v,um:b,n:x,o:{parentNode:I,remove:A}}=h;let q;const G=l4(e);G&&t!=null&&t.pendingBranch&&(q=t.pendingId,t.deps++);const C=e.props?i5(e.props.timeout):void 0,p={vnode:e,parent:t,parentComponent:r,isSVG:a,container:s,hiddenContainer:i,anchor:n,deps:0,pendingId:0,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(m=!1,g=!1){const{vnode:_,activeBranch:$,pendingBranch:T,pendingId:S,effects:O,parentComponent:W,container:U}=p;let F=!1;if(p.isHydrating)p.isHydrating=!1;else if(!m){F=$&&T.transition&&T.transition.mode==="out-in",F&&($.transition.afterLeave=()=>{S===p.pendingId&&(v(T,U,x($),0),Mg(O))});let{anchor:z}=p;$&&(z=x($),b($,W,p,!0)),F||v(T,U,z,0)}Al(p,T),p.pendingBranch=null,p.isInFallback=!1;let J=p.parent,E=!1;for(;J;){if(J.pendingBranch){J.effects.push(...O),E=!0;break}J=J.parent}!E&&!F&&Mg(O),p.effects=[],G&&t&&t.pendingBranch&&q===t.pendingId&&(t.deps--,t.deps===0&&!g&&t.resolve()),ad(_,"onResolve")},fallback(m){if(!p.pendingBranch)return;const{vnode:g,activeBranch:_,parentComponent:$,container:T,isSVG:S}=p;ad(g,"onFallback");const O=x(_),W=()=>{p.isInFallback&&(y(null,m,T,O,$,null,S,l,d),Al(p,m))},U=m.transition&&m.transition.mode==="out-in";U&&(_.transition.afterLeave=W),p.isInFallback=!0,b(_,$,null,!0),U||W()},move(m,g,_){p.activeBranch&&v(p.activeBranch,m,g,_),p.container=m},next(){return p.activeBranch&&x(p.activeBranch)},registerDep(m,g){const _=!!p.pendingBranch;_&&p.deps++;const $=m.vnode.el;m.asyncDep.catch(T=>{du(T,m,0)}).then(T=>{if(m.isUnmounted||p.isUnmounted||p.pendingId!==m.suspenseId)return;m.asyncResolved=!0;const{vnode:S}=m;Ag(m,T,!1),$&&(S.el=$);const O=!$&&m.subTree.el;g(m,S,I($||m.subTree.el),$?null:x(m.subTree),p,a,d),O&&A(O),Lw(m,S.el),_&&--p.deps===0&&p.resolve()})},unmount(m,g){p.isUnmounted=!0,p.activeBranch&&b(p.activeBranch,r,m,g),p.pendingBranch&&b(p.pendingBranch,r,m,g)}};return p}function o4(e,t,r,s,i,n,a,l,d){const h=t.suspense=Nw(t,s,r,e.parentNode,document.createElement("div"),null,i,n,a,l,!0),f=d(e,h.pendingBranch=t.ssContent,r,h,n,a);return h.deps===0&&h.resolve(!1,!0),f}function a4(e){const{shapeFlag:t,children:r}=e,s=t&32;e.ssContent=m3(s?r.default:r),e.ssFallback=s?m3(r.fallback):Ot(Ei)}function m3(e){let t;if(Ae(e)){const r=Jl&&e._c;r&&(e._d=!1,Ke()),e=e(),r&&(e._d=!0,t=bs,Fx())}return Oe(e)&&(e=Q5(e)),e=gs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function wx(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):Mg(e)}function Al(e,t){e.activeBranch=t;const{vnode:r,parentComponent:s}=e,i=r.el=t.el;s&&s.subTree===r&&(s.vnode.el=i,Lw(s,i))}function l4(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function sJ(e,t){return Dw(e,null,t)}const wp={};function Fc(e,t,r){return Dw(e,t,r)}function Dw(e,t,{immediate:r,deep:s,flush:i,onTrack:n,onTrigger:a}=$t){var l;const d=y5()===((l=Jt)==null?void 0:l.scope)?Jt:null;let h,f=!1,y=!1;if(pr(e)?(h=()=>e.value,f=of(e)):jl(e)?(h=()=>e,s=!0):Oe(e)?(y=!0,f=e.some(p=>jl(p)||of(p)),h=()=>e.map(p=>{if(pr(p))return p.value;if(jl(p))return da(p);if(Ae(p))return no(p,d,2)})):Ae(e)?t?h=()=>no(e,d,2):h=()=>{if(!(d&&d.isUnmounted))return v&&v(),Qs(e,d,3,[b])}:h=Ks,t&&s){const p=h;h=()=>da(p())}let v,b=p=>{v=G.onStop=()=>{no(p,d,4),v=G.onStop=void 0}},x;if(Zl)if(b=Ks,t?r&&Qs(t,d,3,[h(),y?[]:void 0,b]):h(),i==="sync"){const p=X4();x=p.__watcherHandles||(p.__watcherHandles=[])}else return Ks;let I=y?new Array(e.length).fill(wp):wp;const A=()=>{if(G.active)if(t){const p=G.run();(s||f||(y?p.some((m,g)=>Sa(m,I[g])):Sa(p,I)))&&(v&&v(),Qs(t,d,3,[p,I===wp?void 0:y&&I[0]===wp?[]:I,b]),I=p)}else G.run()};A.allowRecurse=!!t;let q;i==="sync"?q=A:i==="post"?q=()=>Nr(A,d&&d.suspense):(A.pre=!0,d&&(A.id=d.uid),q=()=>ay(A));const G=new Iw(h,q);t?r?A():I=G.run():i==="post"?Nr(G.run.bind(G),d&&d.suspense):G.run();const C=()=>{G.stop(),d&&d.scope&&Tw(d.scope.effects,G)};return x&&x.push(C),C}function u4(e,t,r){const s=this.proxy,i=Ft(e)?e.includes(".")?_x(s,e):()=>s[e]:e.bind(s,s);let n;Ae(t)?n=t:(n=t.handler,r=t);const a=Jt;Ql(this);const l=Dw(i,n.bind(s),r);return a?Ql(a):va(),l}function _x(e,t){const r=t.split(".");return()=>{let s=e;for(let i=0;i<r.length&&s;i++)s=s[r[i]];return s}}function da(e,t){if(!yt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pr(e))da(e.value,t);else if(Oe(e))for(let r=0;r<e.length;r++)da(e[r],t);else if(U$(e)||Ol(e))e.forEach(r=>{da(r,t)});else if(H$(e))for(const r in e)da(e[r],t);return e}function $m(e,t){const r=Vr;if(r===null)return e;const s=py(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,d,h=$t]=t[n];a&&(Ae(a)&&(a={mounted:a,updated:a}),a.deep&&da(l),i.push({dir:a,instance:s,value:l,oldValue:void 0,arg:d,modifiers:h}))}return e}function wi(e,t,r,s){const i=e.dirs,n=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];n&&(l.oldValue=n[a].value);let d=l.dir[s];d&&(uu(),Qs(d,r,8,[e.el,l,e,t]),cu())}}/*! #__NO_SIDE_EFFECTS__ */function Ld(e,t){return Ae(e)?(()=>cr({name:e.name},t,{setup:e}))():e}const Nc=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function g3(e){Ae(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:s,delay:i=200,timeout:n,suspensible:a=!0,onError:l}=e;let d=null,h,f=0;const y=()=>(f++,d=null,v()),v=()=>{let b;return d||(b=d=t().catch(x=>{if(x=x instanceof Error?x:new Error(String(x)),l)return new Promise((I,A)=>{l(x,()=>I(y()),()=>A(x),f+1)});throw x}).then(x=>b!==d&&d?d:(x&&(x.__esModule||x[Symbol.toStringTag]==="Module")&&(x=x.default),h=x,x)))};return Ld({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return h},setup(){const b=Jt;if(h)return()=>xm(h,b);const x=G=>{d=null,du(G,b,13,!s)};if(a&&b.suspense||Zl)return v().then(G=>()=>xm(G,b)).catch(G=>(x(G),()=>s?Ot(s,{error:G}):null));const I=io(!1),A=io(),q=io(!!i);return i&&setTimeout(()=>{q.value=!1},i),n!=null&&setTimeout(()=>{if(!I.value&&!A.value){const G=new Error(`Async component timed out after ${n}ms.`);x(G),A.value=G}},n),v().then(()=>{I.value=!0,b.parent&&zw(b.parent.vnode)&&ay(b.parent.update)}).catch(G=>{x(G),A.value=G}),()=>{if(I.value&&h)return xm(h,b);if(A.value&&s)return Ot(s,{error:A.value});if(r&&!q.value)return Ot(r)}}})}function xm(e,t){const{ref:r,props:s,children:i,ce:n}=t.vnode,a=Ot(e,s,i);return a.ref=r,a.ce=n,delete t.vnode.ce,a}const zw=e=>e.type.__isKeepAlive;function c4(e,t){Sx(e,"a",t)}function d4(e,t){Sx(e,"da",t)}function Sx(e,t,r=Jt){const s=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(cy(t,s,r),r){let i=r.parent;for(;i&&i.parent;)zw(i.parent.vnode)&&p4(s,t,r,i),i=i.parent}}function p4(e,t,r,s){const i=cy(t,e,s,!0);$x(()=>{Tw(s[t],i)},r)}function cy(e,t,r=Jt,s=!1){if(r){const i=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;uu(),Ql(r);const l=Qs(t,r,e,a);return va(),cu(),l});return s?i.unshift(n):i.push(n),n}}const hn=e=>(t,r=Jt)=>(!Zl||e==="sp")&&cy(e,(...s)=>t(...s),r),h4=hn("bm"),f4=hn("m"),y4=hn("bu"),m4=hn("u"),g4=hn("bum"),$x=hn("um"),v4=hn("sp"),b4=hn("rtg"),w4=hn("rtc");function xx(e,t=Jt){cy("ec",e,t)}function uf(e,t,r,s){let i;const n=r&&r[s];if(Oe(e)||Ft(e)){i=new Array(e.length);for(let a=0,l=e.length;a<l;a++)i[a]=t(e[a],a,void 0,n&&n[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,n&&n[a])}else if(yt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const h=a[l];i[l]=t(e[h],h,l,n&&n[l])}}else i=[];return r&&(r[s]=i),i}const Ig=e=>e?Vx(e)?py(e)||e.proxy:Ig(e.parent):null,Dc=cr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ig(e.parent),$root:e=>Ig(e.root),$emit:e=>e.emit,$options:e=>Vw(e),$forceUpdate:e=>e.f||(e.f=()=>ay(e.update)),$nextTick:e=>e.n||(e.n=Pw.bind(e.proxy)),$watch:e=>u4.bind(e)}),Em=(e,t)=>e!==$t&&!e.__isScriptSetup&&Xe(e,t),_4={get({_:e},t){const{ctx:r,setupState:s,data:i,props:n,accessCache:a,type:l,appContext:d}=e;let h;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return i[t];case 4:return r[t];case 3:return n[t]}else{if(Em(s,t))return a[t]=1,s[t];if(i!==$t&&Xe(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&Xe(h,t))return a[t]=3,n[t];if(r!==$t&&Xe(r,t))return a[t]=4,r[t];Og&&(a[t]=0)}}const f=Dc[t];let y,v;if(f)return t==="$attrs"&&qr(e,"get",t),f(e);if((y=l.__cssModules)&&(y=y[t]))return y;if(r!==$t&&Xe(r,t))return a[t]=4,r[t];if(v=d.config.globalProperties,Xe(v,t))return v[t]},set({_:e},t,r){const{data:s,setupState:i,ctx:n}=e;return Em(i,t)?(i[t]=r,!0):s!==$t&&Xe(s,t)?(s[t]=r,!0):Xe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:i,propsOptions:n}},a){let l;return!!r[a]||e!==$t&&Xe(e,a)||Em(t,a)||(l=n[0])&&Xe(l,a)||Xe(s,a)||Xe(Dc,a)||Xe(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Xe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function v3(e){return Oe(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Og=!0;function S4(e){const t=Vw(e),r=e.proxy,s=e.ctx;Og=!1,t.beforeCreate&&b3(t.beforeCreate,e,"bc");const{data:i,computed:n,methods:a,watch:l,provide:d,inject:h,created:f,beforeMount:y,mounted:v,beforeUpdate:b,updated:x,activated:I,deactivated:A,beforeDestroy:q,beforeUnmount:G,destroyed:C,unmounted:p,render:m,renderTracked:g,renderTriggered:_,errorCaptured:$,serverPrefetch:T,expose:S,inheritAttrs:O,components:W,directives:U,filters:F}=t;if(h&&$4(h,s,null),a)for(const z in a){const K=a[z];Ae(K)&&(s[z]=K.bind(r))}if(i){const z=i.call(r,r);yt(z)&&(e.data=dr(z))}if(Og=!0,n)for(const z in n){const K=n[z],fe=Ae(K)?K.bind(r,r):Ae(K.get)?K.get.bind(r,r):Ks,Me=!Ae(K)&&Ae(K.set)?K.set.bind(r):Ks,me=fn({get:fe,set:Me});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>me.value,set:Qe=>me.value=Qe})}if(l)for(const z in l)Ex(l[z],s,r,z);if(d){const z=Ae(d)?d.call(r):d;Reflect.ownKeys(z).forEach(K=>{kx(K,z[K])})}f&&b3(f,e,"c");function E(z,K){Oe(K)?K.forEach(fe=>z(fe.bind(r))):K&&z(K.bind(r))}if(E(h4,y),E(f4,v),E(y4,b),E(m4,x),E(c4,I),E(d4,A),E(xx,$),E(w4,g),E(b4,_),E(g4,G),E($x,p),E(v4,T),Oe(S))if(S.length){const z=e.exposed||(e.exposed={});S.forEach(K=>{Object.defineProperty(z,K,{get:()=>r[K],set:fe=>r[K]=fe})})}else e.exposed||(e.exposed={});m&&e.render===Ks&&(e.render=m),O!=null&&(e.inheritAttrs=O),W&&(e.components=W),U&&(e.directives=U)}function $4(e,t,r=Ks){Oe(e)&&(e=jg(e));for(const s in e){const i=e[s];let n;yt(i)?"default"in i?n=Rl(i.from||s,i.default,!0):n=Rl(i.from||s):n=Rl(i),pr(n)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:a=>n.value=a}):t[s]=n}}function b3(e,t,r){Qs(Oe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ex(e,t,r,s){const i=s.includes(".")?_x(r,s):()=>r[s];if(Ft(e)){const n=t[e];Ae(n)&&Fc(i,n)}else if(Ae(e))Fc(i,e.bind(r));else if(yt(e))if(Oe(e))e.forEach(n=>Ex(n,t,r,s));else{const n=Ae(e.handler)?e.handler.bind(r):t[e.handler];Ae(n)&&Fc(i,n,e)}}function Vw(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:i,optionsCache:n,config:{optionMergeStrategies:a}}=e.appContext,l=n.get(t);let d;return l?d=l:!i.length&&!r&&!s?d=t:(d={},i.length&&i.forEach(h=>cf(d,h,a,!0)),cf(d,t,a)),yt(t)&&n.set(t,d),d}function cf(e,t,r,s=!1){const{mixins:i,extends:n}=t;n&&cf(e,n,r,!0),i&&i.forEach(a=>cf(e,a,r,!0));for(const a in t)if(!(s&&a==="expose")){const l=x4[a]||r&&r[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const x4={data:w3,props:_3,emits:_3,methods:Ju,computed:Ju,beforeCreate:Er,created:Er,beforeMount:Er,mounted:Er,beforeUpdate:Er,updated:Er,beforeDestroy:Er,beforeUnmount:Er,destroyed:Er,unmounted:Er,activated:Er,deactivated:Er,errorCaptured:Er,serverPrefetch:Er,components:Ju,directives:Ju,watch:T4,provide:w3,inject:E4};function w3(e,t){return t?e?function(){return cr(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function E4(e,t){return Ju(jg(e),jg(t))}function jg(e){if(Oe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Er(e,t){return e?[...new Set([].concat(e,t))]:t}function Ju(e,t){return e?cr(Object.create(null),e,t):t}function _3(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:cr(Object.create(null),v3(e),v3(t??{})):t}function T4(e,t){if(!e)return t;if(!t)return e;const r=cr(Object.create(null),e);for(const s in t)r[s]=Er(e[s],t[s]);return r}function Tx(){return{app:null,config:{isNativeTag:XO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let k4=0;function M4(e,t){return function(s,i=null){Ae(s)||(s=cr({},s)),i!=null&&!yt(i)&&(i=null);const n=Tx(),a=new WeakSet;let l=!1;const d=n.app={_uid:k4++,_component:s,_props:i,_container:null,_context:n,_instance:null,version:qx,get config(){return n.config},set config(h){},use(h,...f){return a.has(h)||(h&&Ae(h.install)?(a.add(h),h.install(d,...f)):Ae(h)&&(a.add(h),h(d,...f))),d},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),d},component(h,f){return f?(n.components[h]=f,d):n.components[h]},directive(h,f){return f?(n.directives[h]=f,d):n.directives[h]},mount(h,f,y){if(!l){const v=Ot(s,i);return v.appContext=n,f&&t?t(v,h):e(v,h,y),l=!0,d._container=h,h.__vue_app__=d,py(v.component)||v.component.proxy}},unmount(){l&&(e(null,d._container),delete d._container.__vue_app__)},provide(h,f){return n.provides[h]=f,d},runWithContext(h){ld=d;try{return h()}finally{ld=null}}};return d}}let ld=null;function kx(e,t){if(Jt){let r=Jt.provides;const s=Jt.parent&&Jt.parent.provides;s===r&&(r=Jt.provides=Object.create(s)),r[e]=t}}function Rl(e,t,r=!1){const s=Jt||Vr;if(s||ld){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ld._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Ae(t)?t.call(s&&s.proxy):t}}function Mx(){return!!(Jt||Vr||ld)}function I4(e,t,r,s=!1){const i={},n={};rf(n,dy,1),e.propsDefaults=Object.create(null),Ix(e,t,i,n);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=s?i:nx(i):e.type.props?e.props=i:e.props=n,e.attrs=n}function O4(e,t,r,s){const{props:i,attrs:n,vnode:{patchFlag:a}}=e,l=rt(i),[d]=e.propsOptions;let h=!1;if((s||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let y=0;y<f.length;y++){let v=f[y];if(ly(e.emitsOptions,v))continue;const b=t[v];if(d)if(Xe(n,v))b!==n[v]&&(n[v]=b,h=!0);else{const x=xi(v);i[x]=Cg(d,l,x,b,e,!1)}else b!==n[v]&&(n[v]=b,h=!0)}}}else{Ix(e,t,i,n)&&(h=!0);let f;for(const y in l)(!t||!Xe(t,y)&&((f=au(y))===y||!Xe(t,f)))&&(d?r&&(r[y]!==void 0||r[f]!==void 0)&&(i[y]=Cg(d,l,y,void 0,e,!0)):delete i[y]);if(n!==l)for(const y in n)(!t||!Xe(t,y))&&(delete n[y],h=!0)}h&&nn(e,"set","$attrs")}function Ix(e,t,r,s){const[i,n]=e.propsOptions;let a=!1,l;if(t)for(let d in t){if(Lc(d))continue;const h=t[d];let f;i&&Xe(i,f=xi(d))?!n||!n.includes(f)?r[f]=h:(l||(l={}))[f]=h:ly(e.emitsOptions,d)||(!(d in s)||h!==s[d])&&(s[d]=h,a=!0)}if(n){const d=rt(r),h=l||$t;for(let f=0;f<n.length;f++){const y=n[f];r[y]=Cg(i,d,y,h[y],e,!Xe(h,y))}}return a}function Cg(e,t,r,s,i,n){const a=e[r];if(a!=null){const l=Xe(a,"default");if(l&&s===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&Ae(d)){const{propsDefaults:h}=i;r in h?s=h[r]:(Ql(i),s=h[r]=d.call(null,t),va())}else s=d}a[0]&&(n&&!l?s=!1:a[1]&&(s===""||s===au(r))&&(s=!0))}return s}function Ox(e,t,r=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const n=e.props,a={},l=[];let d=!1;if(!Ae(e)){const f=y=>{d=!0;const[v,b]=Ox(y,t,!0);cr(a,v),b&&l.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!d)return yt(e)&&s.set(e,Il),Il;if(Oe(n))for(let f=0;f<n.length;f++){const y=xi(n[f]);S3(y)&&(a[y]=$t)}else if(n)for(const f in n){const y=xi(f);if(S3(y)){const v=n[f],b=a[y]=Oe(v)||Ae(v)?{type:v}:cr({},v);if(b){const x=E3(Boolean,b.type),I=E3(String,b.type);b[0]=x>-1,b[1]=I<0||x<I,(x>-1||Xe(b,"default"))&&l.push(y)}}}const h=[a,l];return yt(e)&&s.set(e,h),h}function S3(e){return e[0]!=="$"}function $3(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function x3(e,t){return $3(e)===$3(t)}function E3(e,t){return Oe(t)?t.findIndex(r=>x3(r,e)):Ae(t)&&x3(t,e)?0:-1}const jx=e=>e[0]==="_"||e==="$stable",Uw=e=>Oe(e)?e.map(gs):[gs(e)],j4=(e,t,r)=>{if(t._n)return t;const s=gx((...i)=>Uw(t(...i)),r);return s._c=!1,s},Cx=(e,t,r)=>{const s=e._ctx;for(const i in e){if(jx(i))continue;const n=e[i];if(Ae(n))t[i]=j4(i,n,s);else if(n!=null){const a=Uw(n);t[i]=()=>a}}},Ax=(e,t)=>{const r=Uw(t);e.slots.default=()=>r},C4=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=rt(t),rf(t,"_",r)):Cx(t,e.slots={})}else e.slots={},t&&Ax(e,t);rf(e.slots,dy,1)},A4=(e,t,r)=>{const{vnode:s,slots:i}=e;let n=!0,a=$t;if(s.shapeFlag&32){const l=t._;l?r&&l===1?n=!1:(cr(i,t),!r&&l===1&&delete i._):(n=!t.$stable,Cx(t,i)),a=t}else t&&(Ax(e,t),a={default:1});if(n)for(const l in i)!jx(l)&&a[l]==null&&delete i[l]};function df(e,t,r,s,i=!1){if(Oe(e)){e.forEach((v,b)=>df(v,t&&(Oe(t)?t[b]:t),r,s,i));return}if(Nc(s)&&!i)return;const n=s.shapeFlag&4?py(s.component)||s.component.proxy:s.el,a=i?null:n,{i:l,r:d}=e,h=t&&t.r,f=l.refs===$t?l.refs={}:l.refs,y=l.setupState;if(h!=null&&h!==d&&(Ft(h)?(f[h]=null,Xe(y,h)&&(y[h]=null)):pr(h)&&(h.value=null)),Ae(d))no(d,l,12,[a,f]);else{const v=Ft(d),b=pr(d);if(v||b){const x=()=>{if(e.f){const I=v?Xe(y,d)?y[d]:f[d]:d.value;i?Oe(I)&&Tw(I,n):Oe(I)?I.includes(n)||I.push(n):v?(f[d]=[n],Xe(y,d)&&(y[d]=f[d])):(d.value=[n],e.k&&(f[e.k]=d.value))}else v?(f[d]=a,Xe(y,d)&&(y[d]=a)):b&&(d.value=a,e.k&&(f[e.k]=a))};a?(x.id=-1,Nr(x,r)):x()}}}let bn=!1;const _p=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Sp=e=>e.nodeType===8;function R4(e){const{mt:t,p:r,o:{patchProp:s,createText:i,nextSibling:n,parentNode:a,remove:l,insert:d,createComment:h}}=e,f=(C,p)=>{if(!p.hasChildNodes()){r(null,C,p),af(),p._vnode=C;return}bn=!1,y(p.firstChild,C,null,null,null),af(),p._vnode=C,bn&&console.error("Hydration completed but contains mismatches.")},y=(C,p,m,g,_,$=!1)=>{const T=Sp(C)&&C.data==="[",S=()=>I(C,p,m,g,_,T),{type:O,ref:W,shapeFlag:U,patchFlag:F}=p;let J=C.nodeType;p.el=C,F===-2&&($=!1,p.dynamicChildren=null);let E=null;switch(O){case Wl:J!==3?p.children===""?(d(p.el=i(""),a(C),C),E=C):E=S():(C.data!==p.children&&(bn=!0,C.data=p.children),E=n(C));break;case Ei:G(C)?(E=n(C),q(p.el=C.content.firstChild,C,m)):J!==8||T?E=S():E=n(C);break;case sh:if(T&&(C=n(C),J=C.nodeType),J===1||J===3){E=C;const z=!p.children.length;for(let K=0;K<p.staticCount;K++)z&&(p.children+=E.nodeType===1?E.outerHTML:E.data),K===p.staticCount-1&&(p.anchor=E),E=n(E);return T?n(E):E}else S();break;case wr:T?E=x(C,p,m,g,_,$):E=S();break;default:if(U&1)(J!==1||p.type.toLowerCase()!==C.tagName.toLowerCase())&&!G(C)?E=S():E=v(C,p,m,g,_,$);else if(U&6){p.slotScopeIds=_;const z=a(C);if(T?E=A(C):Sp(C)&&C.data==="teleport start"?E=A(C,C.data,"teleport end"):E=n(C),t(p,z,null,m,g,_p(z),$),Nc(p)){let K;T?(K=Ot(wr),K.anchor=E?E.previousSibling:z.lastChild):K=C.nodeType===3?hf(""):Ot("div"),K.el=C,p.component.subTree=K}}else U&64?J!==8?E=S():E=p.type.hydrate(C,p,m,g,_,$,e,b):U&128&&(E=p.type.hydrate(C,p,m,g,_p(a(C)),_,$,e,y))}return W!=null&&df(W,null,g,p),E},v=(C,p,m,g,_,$)=>{$=$||!!p.dynamicChildren;const{type:T,props:S,patchFlag:O,shapeFlag:W,dirs:U,transition:F}=p,J=T==="input"||T==="option";if(J||O!==-1){U&&wi(p,null,m,"created");let E=!1;if(G(C)){E=Px(g,F)&&m&&m.vnode.props&&m.vnode.props.appear;const K=C.content.firstChild;E&&F.beforeEnter(K),q(K,C,m),p.el=C=K}if(S)if(J||!$||O&48)for(const K in S)(J&&(K.endsWith("value")||K==="indeterminate")||Rd(K)&&!Lc(K)||K[0]===".")&&s(C,K,null,S[K],!1,void 0,m);else S.onClick&&s(C,"onClick",null,S.onClick,!1,void 0,m);let z;if((z=S&&S.onVnodeBeforeMount)&&fs(z,m,p),U&&wi(p,null,m,"beforeMount"),((z=S&&S.onVnodeMounted)||U||E)&&wx(()=>{z&&fs(z,m,p),E&&F.enter(C),U&&wi(p,null,m,"mounted")},g),W&16&&!(S&&(S.innerHTML||S.textContent))){let K=b(C.firstChild,p,C,m,g,_,$);for(;K;){bn=!0;const fe=K;K=K.nextSibling,l(fe)}}else W&8&&C.textContent!==p.children&&(bn=!0,C.textContent=p.children)}return C.nextSibling},b=(C,p,m,g,_,$,T)=>{T=T||!!p.dynamicChildren;const S=p.children,O=S.length;for(let W=0;W<O;W++){const U=T?S[W]:S[W]=gs(S[W]);if(C)C=y(C,U,g,_,$,T);else{if(U.type===Wl&&!U.children)continue;bn=!0,r(null,U,m,null,g,_,_p(m),$)}}return C},x=(C,p,m,g,_,$)=>{const{slotScopeIds:T}=p;T&&(_=_?_.concat(T):T);const S=a(C),O=b(n(C),p,S,m,g,_,$);return O&&Sp(O)&&O.data==="]"?n(p.anchor=O):(bn=!0,d(p.anchor=h("]"),S,O),O)},I=(C,p,m,g,_,$)=>{if(bn=!0,p.el=null,$){const O=A(C);for(;;){const W=n(C);if(W&&W!==O)l(W);else break}}const T=n(C),S=a(C);return l(C),r(null,p,S,T,m,g,_p(S),_),T},A=(C,p="[",m="]")=>{let g=0;for(;C;)if(C=n(C),C&&Sp(C)&&(C.data===p&&g++,C.data===m)){if(g===0)return n(C);g--}return C},q=(C,p,m)=>{const g=p.parentNode;g&&g.replaceChild(C,p);let _=m;for(;_;)_.vnode.el===p&&(_.vnode.el=_.subTree.el=C),_=_.parent},G=C=>C.nodeType===1&&C.tagName.toLowerCase()==="template";return[f,y]}const Nr=wx;function P4(e){return Rx(e)}function L4(e){return Rx(e,R4)}function Rx(e,t){const r=$g();r.__VUE__=!0;const{insert:s,remove:i,patchProp:n,createElement:a,createText:l,createComment:d,setText:h,setElementText:f,parentNode:y,nextSibling:v,setScopeId:b=Ks,insertStaticContent:x}=e,I=(j,R,Q,B=null,te=null,le=null,de=!1,oe=null,ce=!!R.dynamicChildren)=>{if(j===R)return;j&&!Zn(j,R)&&(B=wt(j),Qe(j,te,le,!0),j=null),R.patchFlag===-2&&(ce=!1,R.dynamicChildren=null);const{type:se,ref:Se,shapeFlag:ge}=R;switch(se){case Wl:A(j,R,Q,B);break;case Ei:q(j,R,Q,B);break;case sh:j==null&&G(R,Q,B,de);break;case wr:W(j,R,Q,B,te,le,de,oe,ce);break;default:ge&1?m(j,R,Q,B,te,le,de,oe,ce):ge&6?U(j,R,Q,B,te,le,de,oe,ce):(ge&64||ge&128)&&se.process(j,R,Q,B,te,le,de,oe,ce,xr)}Se!=null&&te&&df(Se,j&&j.ref,le,R||j,!R)},A=(j,R,Q,B)=>{if(j==null)s(R.el=l(R.children),Q,B);else{const te=R.el=j.el;R.children!==j.children&&h(te,R.children)}},q=(j,R,Q,B)=>{j==null?s(R.el=d(R.children||""),Q,B):R.el=j.el},G=(j,R,Q,B)=>{[j.el,j.anchor]=x(j.children,R,Q,B,j.el,j.anchor)},C=({el:j,anchor:R},Q,B)=>{let te;for(;j&&j!==R;)te=v(j),s(j,Q,B),j=te;s(R,Q,B)},p=({el:j,anchor:R})=>{let Q;for(;j&&j!==R;)Q=v(j),i(j),j=Q;i(R)},m=(j,R,Q,B,te,le,de,oe,ce)=>{de=de||R.type==="svg",j==null?g(R,Q,B,te,le,de,oe,ce):T(j,R,te,le,de,oe,ce)},g=(j,R,Q,B,te,le,de,oe)=>{let ce,se;const{type:Se,props:ge,shapeFlag:xe,transition:we,dirs:Ne}=j;if(ce=j.el=a(j.type,le,ge&&ge.is,ge),xe&8?f(ce,j.children):xe&16&&$(j.children,ce,null,B,te,le&&Se!=="foreignObject",de,oe),Ne&&wi(j,null,B,"created"),_(ce,j,j.scopeId,de,B),ge){for(const Ze in ge)Ze!=="value"&&!Lc(Ze)&&n(ce,Ze,null,ge[Ze],le,j.children,B,te,st);"value"in ge&&n(ce,"value",null,ge.value),(se=ge.onVnodeBeforeMount)&&fs(se,B,j)}Ne&&wi(j,null,B,"beforeMount");const Be=Px(te,we);Be&&we.beforeEnter(ce),s(ce,R,Q),((se=ge&&ge.onVnodeMounted)||Be||Ne)&&Nr(()=>{se&&fs(se,B,j),Be&&we.enter(ce),Ne&&wi(j,null,B,"mounted")},te)},_=(j,R,Q,B,te)=>{if(Q&&b(j,Q),B)for(let le=0;le<B.length;le++)b(j,B[le]);if(te){let le=te.subTree;if(R===le){const de=te.vnode;_(j,de,de.scopeId,de.slotScopeIds,te.parent)}}},$=(j,R,Q,B,te,le,de,oe,ce=0)=>{for(let se=ce;se<j.length;se++){const Se=j[se]=oe?Wn(j[se]):gs(j[se]);I(null,Se,R,Q,B,te,le,de,oe)}},T=(j,R,Q,B,te,le,de)=>{const oe=R.el=j.el;let{patchFlag:ce,dynamicChildren:se,dirs:Se}=R;ce|=j.patchFlag&16;const ge=j.props||$t,xe=R.props||$t;let we;Q&&Eo(Q,!1),(we=xe.onVnodeBeforeUpdate)&&fs(we,Q,R,j),Se&&wi(R,j,Q,"beforeUpdate"),Q&&Eo(Q,!0);const Ne=te&&R.type!=="foreignObject";if(se?S(j.dynamicChildren,se,oe,Q,B,Ne,le):de||K(j,R,oe,null,Q,B,Ne,le,!1),ce>0){if(ce&16)O(oe,R,ge,xe,Q,B,te);else if(ce&2&&ge.class!==xe.class&&n(oe,"class",null,xe.class,te),ce&4&&n(oe,"style",ge.style,xe.style,te),ce&8){const Be=R.dynamicProps;for(let Ze=0;Ze<Be.length;Ze++){const _t=Be[Ze],yr=ge[_t],ri=xe[_t];(ri!==yr||_t==="value")&&n(oe,_t,yr,ri,te,j.children,Q,B,st)}}ce&1&&j.children!==R.children&&f(oe,R.children)}else!de&&se==null&&O(oe,R,ge,xe,Q,B,te);((we=xe.onVnodeUpdated)||Se)&&Nr(()=>{we&&fs(we,Q,R,j),Se&&wi(R,j,Q,"updated")},B)},S=(j,R,Q,B,te,le,de)=>{for(let oe=0;oe<R.length;oe++){const ce=j[oe],se=R[oe],Se=ce.el&&(ce.type===wr||!Zn(ce,se)||ce.shapeFlag&70)?y(ce.el):Q;I(ce,se,Se,null,B,te,le,de,!0)}},O=(j,R,Q,B,te,le,de)=>{if(Q!==B){if(Q!==$t)for(const oe in Q)!Lc(oe)&&!(oe in B)&&n(j,oe,Q[oe],null,de,R.children,te,le,st);for(const oe in B){if(Lc(oe))continue;const ce=B[oe],se=Q[oe];ce!==se&&oe!=="value"&&n(j,oe,se,ce,de,R.children,te,le,st)}"value"in B&&n(j,"value",Q.value,B.value)}},W=(j,R,Q,B,te,le,de,oe,ce)=>{const se=R.el=j?j.el:l(""),Se=R.anchor=j?j.anchor:l("");let{patchFlag:ge,dynamicChildren:xe,slotScopeIds:we}=R;we&&(oe=oe?oe.concat(we):we),j==null?(s(se,Q,B),s(Se,Q,B),$(R.children,Q,Se,te,le,de,oe,ce)):ge>0&&ge&64&&xe&&j.dynamicChildren?(S(j.dynamicChildren,xe,Q,te,le,de,oe),(R.key!=null||te&&R===te.subTree)&&Lx(j,R,!0)):K(j,R,Q,Se,te,le,de,oe,ce)},U=(j,R,Q,B,te,le,de,oe,ce)=>{R.slotScopeIds=oe,j==null?R.shapeFlag&512?te.ctx.activate(R,Q,B,de,ce):F(R,Q,B,te,le,de,ce):J(j,R,ce)},F=(j,R,Q,B,te,le,de)=>{const oe=j.component=q4(j,B,te);if(zw(j)&&(oe.ctx.renderer=xr),H4(oe),oe.asyncDep){if(te&&te.registerDep(oe,E),!j.el){const ce=oe.subTree=Ot(Ei);q(null,ce,R,Q)}return}E(oe,j,R,Q,te,le,de)},J=(j,R,Q)=>{const B=R.component=j.component;if(X5(j,R,Q))if(B.asyncDep&&!B.asyncResolved){z(B,R,Q);return}else B.next=R,W5(B.update),B.update();else R.el=j.el,B.vnode=R},E=(j,R,Q,B,te,le,de)=>{const oe=()=>{if(j.isMounted){let{next:Se,bu:ge,u:xe,parent:we,vnode:Ne}=j,Be=Se,Ze;Eo(j,!1),Se?(Se.el=Ne.el,z(j,Se,de)):Se=Ne,ge&&rh(ge),(Ze=Se.props&&Se.props.onVnodeBeforeUpdate)&&fs(Ze,we,Se,Ne),Eo(j,!0);const _t=Sm(j),yr=j.subTree;j.subTree=_t,I(yr,_t,y(yr.el),wt(yr),j,te,le),Se.el=_t.el,Be===null&&Lw(j,_t.el),xe&&Nr(xe,te),(Ze=Se.props&&Se.props.onVnodeUpdated)&&Nr(()=>fs(Ze,we,Se,Ne),te)}else{let Se;const{el:ge,props:xe}=R,{bm:we,m:Ne,parent:Be}=j,Ze=Nc(R);if(Eo(j,!1),we&&rh(we),!Ze&&(Se=xe&&xe.onVnodeBeforeMount)&&fs(Se,Be,R),Eo(j,!0),ge&&ti){const _t=()=>{j.subTree=Sm(j),ti(ge,j.subTree,j,te,null)};Ze?R.type.__asyncLoader().then(()=>!j.isUnmounted&&_t()):_t()}else{const _t=j.subTree=Sm(j);I(null,_t,Q,B,j,te,le),R.el=_t.el}if(Ne&&Nr(Ne,te),!Ze&&(Se=xe&&xe.onVnodeMounted)){const _t=R;Nr(()=>fs(Se,Be,_t),te)}(R.shapeFlag&256||Be&&Nc(Be.vnode)&&Be.vnode.shapeFlag&256)&&j.a&&Nr(j.a,te),j.isMounted=!0,R=Q=B=null}},ce=j.effect=new Iw(oe,()=>ay(se),j.scope),se=j.update=()=>ce.run();se.id=j.uid,Eo(j,!0),se()},z=(j,R,Q)=>{R.component=j;const B=j.vnode.props;j.vnode=R,j.next=null,O4(j,R.props,B,Q),A4(j,R.children,Q),uu(),h3(j),cu()},K=(j,R,Q,B,te,le,de,oe,ce=!1)=>{const se=j&&j.children,Se=j?j.shapeFlag:0,ge=R.children,{patchFlag:xe,shapeFlag:we}=R;if(xe>0){if(xe&128){Me(se,ge,Q,B,te,le,de,oe,ce);return}else if(xe&256){fe(se,ge,Q,B,te,le,de,oe,ce);return}}we&8?(Se&16&&st(se,te,le),ge!==se&&f(Q,ge)):Se&16?we&16?Me(se,ge,Q,B,te,le,de,oe,ce):st(se,te,le,!0):(Se&8&&f(Q,""),we&16&&$(ge,Q,B,te,le,de,oe,ce))},fe=(j,R,Q,B,te,le,de,oe,ce)=>{j=j||Il,R=R||Il;const se=j.length,Se=R.length,ge=Math.min(se,Se);let xe;for(xe=0;xe<ge;xe++){const we=R[xe]=ce?Wn(R[xe]):gs(R[xe]);I(j[xe],we,Q,null,te,le,de,oe,ce)}se>Se?st(j,te,le,!0,!1,ge):$(R,Q,B,te,le,de,oe,ce,ge)},Me=(j,R,Q,B,te,le,de,oe,ce)=>{let se=0;const Se=R.length;let ge=j.length-1,xe=Se-1;for(;se<=ge&&se<=xe;){const we=j[se],Ne=R[se]=ce?Wn(R[se]):gs(R[se]);if(Zn(we,Ne))I(we,Ne,Q,null,te,le,de,oe,ce);else break;se++}for(;se<=ge&&se<=xe;){const we=j[ge],Ne=R[xe]=ce?Wn(R[xe]):gs(R[xe]);if(Zn(we,Ne))I(we,Ne,Q,null,te,le,de,oe,ce);else break;ge--,xe--}if(se>ge){if(se<=xe){const we=xe+1,Ne=we<Se?R[we].el:B;for(;se<=xe;)I(null,R[se]=ce?Wn(R[se]):gs(R[se]),Q,Ne,te,le,de,oe,ce),se++}}else if(se>xe)for(;se<=ge;)Qe(j[se],te,le,!0),se++;else{const we=se,Ne=se,Be=new Map;for(se=Ne;se<=xe;se++){const nr=R[se]=ce?Wn(R[se]):gs(R[se]);nr.key!=null&&Be.set(nr.key,se)}let Ze,_t=0;const yr=xe-Ne+1;let ri=!1,Ga=0;const ji=new Array(yr);for(se=0;se<yr;se++)ji[se]=0;for(se=we;se<=ge;se++){const nr=j[se];if(_t>=yr){Qe(nr,te,le,!0);continue}let Ar;if(nr.key!=null)Ar=Be.get(nr.key);else for(Ze=Ne;Ze<=xe;Ze++)if(ji[Ze-Ne]===0&&Zn(nr,R[Ze])){Ar=Ze;break}Ar===void 0?Qe(nr,te,le,!0):(ji[Ar-Ne]=se+1,Ar>=Ga?Ga=Ar:ri=!0,I(nr,R[Ar],Q,null,te,le,de,oe,ce),_t++)}const Wa=ri?F4(ji):Il;for(Ze=Wa.length-1,se=yr-1;se>=0;se--){const nr=Ne+se,Ar=R[nr],xo=nr+1<Se?R[nr+1].el:B;ji[se]===0?I(null,Ar,Q,xo,te,le,de,oe,ce):ri&&(Ze<0||se!==Wa[Ze]?me(Ar,Q,xo,2):Ze--)}}},me=(j,R,Q,B,te=null)=>{const{el:le,type:de,transition:oe,children:ce,shapeFlag:se}=j;if(se&6){me(j.component.subTree,R,Q,B);return}if(se&128){j.suspense.move(R,Q,B);return}if(se&64){de.move(j,R,Q,xr);return}if(de===wr){s(le,R,Q);for(let ge=0;ge<ce.length;ge++)me(ce[ge],R,Q,B);s(j.anchor,R,Q);return}if(de===sh){C(j,R,Q);return}if(B!==2&&se&1&&oe)if(B===0)oe.beforeEnter(le),s(le,R,Q),Nr(()=>oe.enter(le),te);else{const{leave:ge,delayLeave:xe,afterLeave:we}=oe,Ne=()=>s(le,R,Q),Be=()=>{ge(le,()=>{Ne(),we&&we()})};xe?xe(le,Ne,Be):Be()}else s(le,R,Q)},Qe=(j,R,Q,B=!1,te=!1)=>{const{type:le,props:de,ref:oe,children:ce,dynamicChildren:se,shapeFlag:Se,patchFlag:ge,dirs:xe}=j;if(oe!=null&&df(oe,null,Q,j,!0),Se&256){R.ctx.deactivate(j);return}const we=Se&1&&xe,Ne=!Nc(j);let Be;if(Ne&&(Be=de&&de.onVnodeBeforeUnmount)&&fs(Be,R,j),Se&6)bt(j.component,Q,B);else{if(Se&128){j.suspense.unmount(Q,B);return}we&&wi(j,null,R,"beforeUnmount"),Se&64?j.type.remove(j,R,Q,te,xr,B):se&&(le!==wr||ge>0&&ge&64)?st(se,R,Q,!1,!0):(le===wr&&ge&384||!te&&Se&16)&&st(ce,R,Q),B&&xt(j)}(Ne&&(Be=de&&de.onVnodeUnmounted)||we)&&Nr(()=>{Be&&fs(Be,R,j),we&&wi(j,null,R,"unmounted")},Q)},xt=j=>{const{type:R,el:Q,anchor:B,transition:te}=j;if(R===wr){Kt(Q,B);return}if(R===sh){p(j);return}const le=()=>{i(Q),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(j.shapeFlag&1&&te&&!te.persisted){const{leave:de,delayLeave:oe}=te,ce=()=>de(Q,le);oe?oe(j.el,le,ce):ce()}else le()},Kt=(j,R)=>{let Q;for(;j!==R;)Q=v(j),i(j),j=Q;i(R)},bt=(j,R,Q)=>{const{bum:B,scope:te,update:le,subTree:de,um:oe}=j;B&&rh(B),te.stop(),le&&(le.active=!1,Qe(de,j,R,Q)),oe&&Nr(oe,R),Nr(()=>{j.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},st=(j,R,Q,B=!1,te=!1,le=0)=>{for(let de=le;de<j.length;de++)Qe(j[de],R,Q,B,te)},wt=j=>j.shapeFlag&6?wt(j.component.subTree):j.shapeFlag&128?j.suspense.next():v(j.anchor||j.el),Dt=(j,R,Q)=>{j==null?R._vnode&&Qe(R._vnode,null,null,!0):I(R._vnode||null,j,R,null,null,null,Q),h3(),af(),R._vnode=j},xr={p:I,um:Qe,m:me,r:xt,mt:F,mc:$,pc:K,pbc:S,n:wt,o:e};let fr,ti;return t&&([fr,ti]=t(xr)),{render:Dt,hydrate:fr,createApp:M4(Dt,fr)}}function Eo({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Px(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Lx(e,t,r=!1){const s=e.children,i=t.children;if(Oe(s)&&Oe(i))for(let n=0;n<s.length;n++){const a=s[n];let l=i[n];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[n]=Wn(i[n]),l.el=a.el),r||Lx(a,l)),l.type===Wl&&(l.el=a.el)}}function F4(e){const t=e.slice(),r=[0];let s,i,n,a,l;const d=e.length;for(s=0;s<d;s++){const h=e[s];if(h!==0){if(i=r[r.length-1],e[i]<h){t[s]=i,r.push(s);continue}for(n=0,a=r.length-1;n<a;)l=n+a>>1,e[r[l]]<h?n=l+1:a=l;h<e[r[n]]&&(n>0&&(t[s]=r[n-1]),r[n]=s)}}for(n=r.length,a=r[n-1];n-- >0;)r[n]=a,a=t[a];return r}const N4=e=>e.__isTeleport,wr=Symbol.for("v-fgt"),Wl=Symbol.for("v-txt"),Ei=Symbol.for("v-cmt"),sh=Symbol.for("v-stc"),zc=[];let bs=null;function Ke(e=!1){zc.push(bs=e?null:[])}function Fx(){zc.pop(),bs=zc[zc.length-1]||null}let Jl=1;function T3(e){Jl+=e}function Nx(e){return e.dynamicChildren=Jl>0?bs||Il:null,Fx(),Jl>0&&bs&&bs.push(e),e}function ct(e,t,r,s,i,n){return Nx(qe(e,t,r,s,i,n,!0))}function sa(e,t,r,s,i){return Nx(Ot(e,t,r,s,i,!0))}function pf(e){return e?e.__v_isVNode===!0:!1}function Zn(e,t){return e.type===t.type&&e.key===t.key}const dy="__vInternal",Dx=({key:e})=>e??null,ih=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ft(e)||pr(e)||Ae(e)?{i:Vr,r:e,k:t,f:!!r}:e:null);function qe(e,t=null,r=null,s=0,i=null,n=e===wr?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Dx(t),ref:t&&ih(t),scopeId:uy,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vr};return l?(qw(d,r),n&128&&e.normalize(d)):r&&(d.shapeFlag|=Ft(r)?8:16),Jl>0&&!a&&bs&&(d.patchFlag>0||n&6)&&d.patchFlag!==32&&bs.push(d),d}const Ot=D4;function D4(e,t=null,r=null,s=0,i=null,n=!1){if((!e||e===vx)&&(e=Ei),pf(e)){const l=Kl(e,t,!0);return r&&qw(l,r),Jl>0&&!n&&bs&&(l.shapeFlag&6?bs[bs.indexOf(e)]=l:bs.push(l)),l.patchFlag|=-2,l}if(Q4(e)&&(e=e.__vccOpts),t){t=zx(t);let{class:l,style:d}=t;l&&!Ft(l)&&(t.class=lu(l)),yt(d)&&(ax(d)&&!Oe(d)&&(d=cr({},d)),t.style=ny(d))}const a=Ft(e)?1:t4(e)?128:N4(e)?64:yt(e)?4:Ae(e)?2:0;return qe(e,t,r,s,i,a,n,!0)}function zx(e){return e?ax(e)||dy in e?cr({},e):e:null}function Kl(e,t,r=!1){const{props:s,ref:i,patchFlag:n,children:a}=e,l=t?z4(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Dx(l),ref:t&&t.ref?r&&i?Oe(i)?i.concat(ih(t)):[i,ih(t)]:ih(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wr?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kl(e.ssContent),ssFallback:e.ssFallback&&Kl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function hf(e=" ",t=0){return Ot(Wl,null,e,t)}function qs(e="",t=!1){return t?(Ke(),sa(Ei,null,e)):Ot(Ei,null,e)}function gs(e){return e==null||typeof e=="boolean"?Ot(Ei):Oe(e)?Ot(wr,null,e.slice()):typeof e=="object"?Wn(e):Ot(Wl,null,String(e))}function Wn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kl(e)}function qw(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Oe(t))r=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),qw(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(dy in t)?t._ctx=Vr:i===3&&Vr&&(Vr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:Vr},r=32):(t=String(t),s&64?(r=16,t=[hf(t)]):r=8);e.children=t,e.shapeFlag|=r}function z4(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=lu([t.class,s.class]));else if(i==="style")t.style=ny([t.style,s.style]);else if(Rd(i)){const n=t[i],a=s[i];a&&n!==a&&!(Oe(n)&&n.includes(a))&&(t[i]=n?[].concat(n,a):a)}else i!==""&&(t[i]=s[i])}return t}function fs(e,t,r,s=null){Qs(e,t,7,[r,s])}const V4=Tx();let U4=0;function q4(e,t,r){const s=e.type,i=(t?t.appContext:e.appContext)||V4,n={uid:U4++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new J$(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ox(s,i),emitsOptions:mx(s,i),emit:null,emitted:null,propsDefaults:$t,inheritAttrs:s.inheritAttrs,ctx:$t,data:$t,props:$t,attrs:$t,slots:$t,refs:$t,setupState:$t,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=K5.bind(null,n),e.ce&&e.ce(n),n}let Jt=null;const B4=()=>Jt||Vr;let Bw,Qa,k3="__VUE_INSTANCE_SETTERS__";(Qa=$g()[k3])||(Qa=$g()[k3]=[]),Qa.push(e=>Jt=e),Bw=e=>{Qa.length>1?Qa.forEach(t=>t(e)):Qa[0](e)};const Ql=e=>{Bw(e),e.scope.on()},va=()=>{Jt&&Jt.scope.off(),Bw(null)};function Vx(e){return e.vnode.shapeFlag&4}let Zl=!1;function H4(e,t=!1){Zl=t;const{props:r,children:s}=e.vnode,i=Vx(e);I4(e,r,i,t),C4(e,s);const n=i?G4(e,t):void 0;return Zl=!1,n}function G4(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=lx(new Proxy(e.ctx,_4));const{setup:s}=r;if(s){const i=e.setupContext=s.length>1?J4(e):null;Ql(e),uu();const n=no(s,e,0,[e.props,i]);if(cu(),va(),q$(n)){if(n.then(va,va),t)return n.then(a=>{Ag(e,a,t)}).catch(a=>{du(a,e,0)});e.asyncDep=n}else Ag(e,n,t)}else Ux(e,t)}function Ag(e,t,r){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yt(t)&&(e.setupState=px(t)),Ux(e,r)}let M3;function Ux(e,t,r){const s=e.type;if(!e.render){if(!t&&M3&&!s.render){const i=s.template||Vw(e).template;if(i){const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:d}=s,h=cr(cr({isCustomElement:n,delimiters:l},a),d);s.render=M3(i,h)}}e.render=s.render||Ks}{Ql(e),uu();try{S4(e)}finally{cu(),va()}}}function W4(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return qr(e,"get","$attrs"),t[r]}}))}function J4(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return W4(e)},slots:e.slots,emit:e.emit,expose:t}}function py(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(px(lx(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Dc)return Dc[r](e)},has(t,r){return r in t||r in Dc}}))}function K4(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function Q4(e){return Ae(e)&&"__vccOpts"in e}const fn=(e,t)=>B5(e,t,Zl);function Z4(e,t,r){const s=arguments.length;return s===2?yt(t)&&!Oe(t)?pf(t)?Ot(e,null,[t]):Ot(e,t):Ot(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&pf(r)&&(r=[r]),Ot(e,t,r))}const Y4=Symbol.for("v-scx"),X4=()=>Rl(Y4),qx="3.3.13",ej="http://www.w3.org/2000/svg",ia=typeof document<"u"?document:null,I3=ia&&ia.createElement("template"),tj={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const i=t?ia.createElementNS(ej,e):ia.createElement(e,r?{is:r}:void 0);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>ia.createTextNode(e),createComment:e=>ia.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ia.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,i,n){const a=r?r.previousSibling:t.lastChild;if(i&&(i===n||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===n||!(i=i.nextSibling)););else{I3.innerHTML=s?`<svg>${e}</svg>`:e;const l=I3.content;if(s){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},rj=Symbol("_vtc");function sj(e,t,r){const s=e[rj];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Hw=Symbol("_vod"),ij={beforeMount(e,{value:t},{transition:r}){e[Hw]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Ru(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),Ru(e,!0),s.enter(e)):s.leave(e,()=>{Ru(e,!1)}):Ru(e,t))},beforeUnmount(e,{value:t}){Ru(e,t)}};function Ru(e,t){e.style.display=t?e[Hw]:"none"}const nj=Symbol("");function oj(e,t,r){const s=e.style,i=Ft(r);if(r&&!i){if(t&&!Ft(t))for(const n in t)r[n]==null&&Rg(s,n,"");for(const n in r)Rg(s,n,r[n])}else{const n=s.display;if(i){if(t!==r){const a=s[nj];a&&(r+=";"+a),s.cssText=r}}else t&&e.removeAttribute("style");Hw in e&&(s.display=n)}}const O3=/\s*!important$/;function Rg(e,t,r){if(Oe(r))r.forEach(s=>Rg(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=aj(e,t);O3.test(r)?e.setProperty(au(s),r.replace(O3,""),"important"):e[s]=r}}const j3=["Webkit","Moz","ms"],Tm={};function aj(e,t){const r=Tm[t];if(r)return r;let s=xi(t);if(s!=="filter"&&s in e)return Tm[t]=s;s=iy(s);for(let i=0;i<j3.length;i++){const n=j3[i]+s;if(n in e)return Tm[t]=n}return t}const C3="http://www.w3.org/1999/xlink";function lj(e,t,r,s,i){if(s&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(C3,t.slice(6,t.length)):e.setAttributeNS(C3,t,r);else{const n=d5(t);r==null||n&&!G$(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}function uj(e,t,r,s,i,n,a){if(t==="innerHTML"||t==="textContent"){s&&a(s,i,n),e[t]=r??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=r;const h=l==="OPTION"?e.getAttribute("value"):e.value,f=r??"";h!==f&&(e.value=f),r==null&&e.removeAttribute(t);return}let d=!1;if(r===""||r==null){const h=typeof e[t];h==="boolean"?r=G$(r):r==null&&h==="string"?(r="",d=!0):h==="number"&&(r=0,d=!0)}try{e[t]=r}catch{}d&&e.removeAttribute(t)}function na(e,t,r,s){e.addEventListener(t,r,s)}function cj(e,t,r,s){e.removeEventListener(t,r,s)}const A3=Symbol("_vei");function dj(e,t,r,s,i=null){const n=e[A3]||(e[A3]={}),a=n[t];if(s&&a)a.value=s;else{const[l,d]=pj(t);if(s){const h=n[t]=yj(s,i);na(e,l,h,d)}else a&&(cj(e,l,a,d),n[t]=void 0)}}const R3=/(?:Once|Passive|Capture)$/;function pj(e){let t;if(R3.test(e)){t={};let s;for(;s=e.match(R3);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):au(e.slice(2)),t]}let km=0;const hj=Promise.resolve(),fj=()=>km||(hj.then(()=>km=0),km=Date.now());function yj(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Qs(mj(s,r.value),t,5,[s])};return r.value=e,r.attached=fj(),r}function mj(e,t){if(Oe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const P3=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gj=(e,t,r,s,i=!1,n,a,l,d)=>{t==="class"?sj(e,s,i):t==="style"?oj(e,r,s):Rd(t)?Ew(t)||dj(e,t,r,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vj(e,t,s,i))?uj(e,t,s,n,a,l,d):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),lj(e,t,s,i))};function vj(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&P3(t)&&Ae(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return P3(t)&&Ft(r)?!1:t in e}const ff=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?r=>rh(t,r):t};function bj(e){e.target.composing=!0}function L3(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pl=Symbol("_assign"),wj={created(e,{modifiers:{lazy:t,trim:r,number:s}},i){e[Pl]=ff(i);const n=s||i.props&&i.props.type==="number";na(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;r&&(l=l.trim()),n&&(l=Sg(l)),e[Pl](l)}),r&&na(e,"change",()=>{e.value=e.value.trim()}),t||(na(e,"compositionstart",bj),na(e,"compositionend",L3),na(e,"change",L3))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:s,number:i}},n){if(e[Pl]=ff(n),e.composing)return;const a=i||e.type==="number"?Sg(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r||s&&e.value.trim()===l)||(e.value=l))}},_j={created(e,{value:t},r){e.checked=sf(t,r.props.value),e[Pl]=ff(r),na(e,"change",()=>{e[Pl](Sj(e))})},beforeUpdate(e,{value:t,oldValue:r},s){e[Pl]=ff(s),t!==r&&(e.checked=sf(t,s.props.value))}};function Sj(e){return"_value"in e?e._value:e.value}const $j=["ctrl","shift","alt","meta"],xj={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$j.some(r=>e[`${r}Key`]&&!t.includes(r))},Ej=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(i,...n)=>{for(let a=0;a<t.length;a++){const l=xj[t[a]];if(l&&l(i,t))return}return e(i,...n)})},Bx=cr({patchProp:gj},tj);let Vc,F3=!1;function Tj(){return Vc||(Vc=P4(Bx))}function kj(){return Vc=F3?Vc:L4(Bx),F3=!0,Vc}const Mj=(...e)=>{const t=Tj().createApp(...e),{mount:r}=t;return t.mount=s=>{const i=Hx(s);if(!i)return;const n=t._component;!Ae(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.innerHTML="";const a=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},Ij=(...e)=>{const t=kj().createApp(...e),{mount:r}=t;return t.mount=s=>{const i=Hx(s);if(i)return r(i,!0,i instanceof SVGElement)},t};function Hx(e){return Ft(e)?document.querySelector(e):e}const Oj=/#/g,jj=/&/g,Cj=/=/g,Gw=/\+/g,Aj=/%5e/gi,Rj=/%60/gi,Pj=/%7c/gi,Lj=/%20/gi;function Fj(e){return encodeURI(""+e).replace(Pj,"|")}function Pg(e){return Fj(typeof e=="string"?e:JSON.stringify(e)).replace(Gw,"%2B").replace(Lj,"+").replace(Oj,"%23").replace(jj,"%26").replace(Rj,"`").replace(Aj,"^")}function Mm(e){return Pg(e).replace(Cj,"%3D")}function yf(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function Nj(e){return yf(e.replace(Gw," "))}function Dj(e){return yf(e.replace(Gw," "))}function Gx(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const s=r.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const i=Nj(s[1]);if(i==="__proto__"||i==="constructor")continue;const n=Dj(s[2]||"");t[i]===void 0?t[i]=n:Array.isArray(t[i])?t[i].push(n):t[i]=[t[i],n]}return t}function zj(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${Mm(e)}=${Pg(r)}`).join("&"):`${Mm(e)}=${Pg(t)}`:Mm(e)}function Wx(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>zj(t,e[t])).filter(Boolean).join("&")}const Vj=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Uj=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,qj=/^([/\\]\s*){2,}[^/\\]/;function hy(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Vj.test(e):Uj.test(e)||(t.acceptRelative?qj.test(e):!1)}const Bj=/^[\s\0]*(blob|data|javascript|vbscript):$/i;function Hj(e){return!!e&&Bj.test(e)}const Gj=/\/$|\/\?|\/#/;function Lg(e="",t){return t?Gj.test(e):e.endsWith("/")}function Jx(e="",t){if(!t)return(Lg(e)?e.slice(0,-1):e)||"/";if(!Lg(e,!0))return e||"/";let r=e,s="";const i=e.indexOf("#");i>=0&&(r=e.slice(0,i),s=e.slice(i));const[n,...a]=r.split("?");return(n.slice(0,-1)||"/")+(a.length>0?`?${a.join("?")}`:"")+s}function Fg(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(Lg(e,!0))return e||"/";let r=e,s="";const i=e.indexOf("#");if(i>=0&&(r=e.slice(0,i),s=e.slice(i),!r))return s;const[n,...a]=r.split("?");return n+"/"+(a.length>0?`?${a.join("?")}`:"")+s}function Wj(e=""){return e.startsWith("/")}function N3(e=""){return Wj(e)?e:"/"+e}function Jj(e,t){if(Qx(t)||hy(e))return e;const r=Jx(t);return e.startsWith(r)?e:pu(r,e)}function Kj(e,t){if(Qx(t))return e;const r=Jx(t);if(!e.startsWith(r))return e;const s=e.slice(r.length);return s[0]==="/"?s:"/"+s}function Kx(e,t){const r=Fd(e),s={...Gx(r.search),...t};return r.search=Wx(s),Zx(r)}function Qx(e){return!e||e==="/"}function Qj(e){return e&&e!=="/"}const Zj=/^\.?\//;function pu(e,...t){let r=e||"";for(const s of t.filter(i=>Qj(i)))if(r){const i=s.replace(Zj,"");r=Fg(r)+i}else r=s;return r}function Yj(e,t,r={}){return r.trailingSlash||(e=Fg(e),t=Fg(t)),r.leadingSlash||(e=N3(e),t=N3(t)),r.encoding||(e=yf(e),t=yf(t)),e===t}function Fd(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,y,v=""]=r;return{protocol:y.toLowerCase(),pathname:v,href:y+v,auth:"",host:"",search:"",hash:""}}if(!hy(e,{acceptRelative:!0}))return t?Fd(t+e):D3(e);const[,s="",i,n=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",l=""]=n.match(/([^#/?]*)(.*)?/)||[],{pathname:d,search:h,hash:f}=D3(l.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:s.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:d,search:h,hash:f}}function D3(e=""){const[t="",r="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:s}}function Zx(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",i=e.auth?e.auth+"@":"",n=e.host||"";return(e.protocol?e.protocol+"//":"")+i+n+t+r+s}const Xj=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},mf=Xj().app,eC=()=>mf.baseURL,tC=()=>mf.buildAssetsDir,Ww=(...e)=>pu(Yx(),tC(),...e),Yx=(...e)=>{const t=mf.cdnURL||mf.baseURL;return e.length?pu(t,...e):t};globalThis.__buildAssetsURL=Ww,globalThis.__publicAssetsURL=Yx;const rC=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,sC=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,iC=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function nC(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){oC(e);return}return t}function oC(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function gf(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.at(-1)==='"'&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const s=r.toLowerCase();if(s==="true")return!0;if(s==="false")return!1;if(s==="undefined")return;if(s==="null")return null;if(s==="nan")return Number.NaN;if(s==="infinity")return Number.POSITIVE_INFINITY;if(s==="-infinity")return Number.NEGATIVE_INFINITY}if(!iC.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(rC.test(e)||sC.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,nC)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}class aC extends Error{constructor(t,r){super(t,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function lC(e){var d,h,f,y,v;const t=((d=e.error)==null?void 0:d.message)||((h=e.error)==null?void 0:h.toString())||"",r=((f=e.request)==null?void 0:f.method)||((y=e.options)==null?void 0:y.method)||"GET",s=((v=e.request)==null?void 0:v.url)||String(e.request)||"/",i=`[${r}] ${JSON.stringify(s)}`,n=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",a=`${i}: ${n}${t?` ${t}`:""}`,l=new aC(a,e.error?{cause:e.error}:void 0);for(const b of["request","options","response"])Object.defineProperty(l,b,{get(){return e[b]}});for(const[b,x]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,b,{get(){return e.response&&e.response[x]}});return l}const uC=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function z3(e="GET"){return uC.has(e.toUpperCase())}function cC(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const dC=new Set(["image/svg","application/xml","application/xhtml","application/html"]),pC=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function hC(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return pC.test(t)?"json":dC.has(t)||t.startsWith("text/")?"text":"blob"}function fC(e,t,r=globalThis.Headers){const s={...t,...e};if(t!=null&&t.params&&(e!=null&&e.params)&&(s.params={...t==null?void 0:t.params,...e==null?void 0:e.params}),t!=null&&t.query&&(e!=null&&e.query)&&(s.query={...t==null?void 0:t.query,...e==null?void 0:e.query}),t!=null&&t.headers&&(e!=null&&e.headers)){s.headers=new r((t==null?void 0:t.headers)||{});for(const[i,n]of new r((e==null?void 0:e.headers)||{}))s.headers.set(i,n)}return s}const yC=new Set([408,409,425,429,500,502,503,504]),mC=new Set([101,204,205,304]);function Xx(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function i(l){const d=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!d){let f;typeof l.options.retry=="number"?f=l.options.retry:f=z3(l.options.method)?0:1;const y=l.response&&l.response.status||500;if(f>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(y):yC.has(y))){const v=l.options.retryDelay||0;return v>0&&await new Promise(b=>setTimeout(b,v)),n(l.request,{...l.options,retry:f-1,timeout:l.options.timeout})}}const h=lC(l);throw Error.captureStackTrace&&Error.captureStackTrace(h,n),h}const n=async function(d,h={}){var v;const f={request:d,options:fC(h,e.defaults,r),response:void 0,error:void 0};if(f.options.method=(v=f.options.method)==null?void 0:v.toUpperCase(),f.options.onRequest&&await f.options.onRequest(f),typeof f.request=="string"&&(f.options.baseURL&&(f.request=Jj(f.request,f.options.baseURL)),(f.options.query||f.options.params)&&(f.request=Kx(f.request,{...f.options.params,...f.options.query}))),f.options.body&&z3(f.options.method)&&(cC(f.options.body)?(f.options.body=typeof f.options.body=="string"?f.options.body:JSON.stringify(f.options.body),f.options.headers=new r(f.options.headers||{}),f.options.headers.has("content-type")||f.options.headers.set("content-type","application/json"),f.options.headers.has("accept")||f.options.headers.set("accept","application/json")):("pipeTo"in f.options.body&&typeof f.options.body.pipeTo=="function"||typeof f.options.body.pipe=="function")&&("duplex"in f.options||(f.options.duplex="half"))),!f.options.signal&&f.options.timeout){const b=new s;setTimeout(()=>b.abort(),f.options.timeout),f.options.signal=b.signal}try{f.response=await t(f.request,f.options)}catch(b){return f.error=b,f.options.onRequestError&&await f.options.onRequestError(f),await i(f)}if(f.response.body&&!mC.has(f.response.status)&&f.options.method!=="HEAD"){const b=(f.options.parseResponse?"json":f.options.responseType)||hC(f.response.headers.get("content-type")||"");switch(b){case"json":{const x=await f.response.text(),I=f.options.parseResponse||gf;f.response._data=I(x);break}case"stream":{f.response._data=f.response.body;break}default:f.response._data=await f.response[b]()}}return f.options.onResponse&&await f.options.onResponse(f),!f.options.ignoreResponseError&&f.response.status>=400&&f.response.status<600?(f.options.onResponseError&&await f.options.onResponseError(f),await i(f)):f.response},a=async function(d,h){return(await n(d,h))._data};return a.raw=n,a.native=(...l)=>t(...l),a.create=(l={})=>Xx({...e,defaults:{...e.defaults,...l}}),a}const Jw=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),gC=Jw.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),vC=Jw.Headers,bC=Jw.AbortController,wC=Xx({fetch:gC,Headers:vC,AbortController:bC}),_C=wC;globalThis.$fetch||(globalThis.$fetch=_C.create({baseURL:eC()}));function Ng(e,t={},r){for(const s in e){const i=e[s],n=r?`${r}:${s}`:s;typeof i=="object"&&i!==null?Ng(i,t,n):typeof i=="function"&&(t[n]=i)}return t}const SC={run:e=>e()},$C=()=>SC,eE=typeof console.createTask<"u"?console.createTask:$C;function xC(e,t){const r=t.shift(),s=eE(r);return e.reduce((i,n)=>i.then(()=>s.run(()=>n(...t))),Promise.resolve())}function EC(e,t){const r=t.shift(),s=eE(r);return Promise.all(e.map(i=>s.run(()=>i(...t))))}function Im(e,t){for(const r of[...e])r(t)}class TC{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,r,s={}){if(!t||typeof r!="function")return()=>{};const i=t;let n;for(;this._deprecatedHooks[t];)n=this._deprecatedHooks[t],t=n.to;if(n&&!s.allowDeprecated){let a=n.message;a||(a=`${i} hook has been deprecated`+(n.to?`, please use ${n.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(r),()=>{r&&(this.removeHook(t,r),r=void 0)}}hookOnce(t,r){let s,i=(...n)=>(typeof s=="function"&&s(),s=void 0,i=void 0,r(...n));return s=this.hook(t,i),s}removeHook(t,r){if(this._hooks[t]){const s=this._hooks[t].indexOf(r);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,r){this._deprecatedHooks[t]=typeof r=="string"?{to:r}:r;const s=this._hooks[t]||[];delete this._hooks[t];for(const i of s)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const r in t)this.deprecateHook(r,t[r])}addHooks(t){const r=Ng(t),s=Object.keys(r).map(i=>this.hook(i,r[i]));return()=>{for(const i of s.splice(0,s.length))i()}}removeHooks(t){const r=Ng(t);for(const s in r)this.removeHook(s,r[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...r){return r.unshift(t),this.callHookWith(xC,t,...r)}callHookParallel(t,...r){return r.unshift(t),this.callHookWith(EC,t,...r)}callHookWith(t,r,...s){const i=this._before||this._after?{name:r,args:s,context:{}}:void 0;this._before&&Im(this._before,i);const n=t(r in this._hooks?[...this._hooks[r]]:[],s);return n instanceof Promise?n.finally(()=>{this._after&&i&&Im(this._after,i)}):(this._after&&i&&Im(this._after,i),n)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const r=this._before.indexOf(t);r!==-1&&this._before.splice(r,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const r=this._after.indexOf(t);r!==-1&&this._after.splice(r,1)}}}}function tE(){return new TC}function kC(e={}){let t,r=!1;const s=a=>{if(t&&t!==a)throw new Error("Context conflict")};let i;if(e.asyncContext){const a=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?i=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const n=()=>{if(i&&t===void 0){const a=i.getStore();if(a!==void 0)return a}return t};return{use:()=>{const a=n();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>n(),set:(a,l)=>{l||s(a),t=a,r=!0},unset:()=>{t=void 0,r=!1},call:(a,l)=>{s(a),t=a;try{return i?i.run(a,l):l()}finally{r||(t=void 0)}},async callAsync(a,l){t=a;const d=()=>{t=a},h=()=>t===a?d:void 0;Dg.add(h);try{const f=i?i.run(a,l):l();return r||(t=void 0),await f}finally{Dg.delete(h)}}}}function MC(e={}){const t={};return{get(r,s={}){return t[r]||(t[r]=kC({...e,...s})),t[r],t[r]}}}const vf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},V3="__unctx__",IC=vf[V3]||(vf[V3]=MC()),OC=(e,t={})=>IC.get(e,t),U3="__unctx_async_handlers__",Dg=vf[U3]||(vf[U3]=new Set);function rE(e){const t=[];for(const i of Dg){const n=i();n&&t.push(n)}const r=()=>{for(const i of t)i()};let s=e();return s&&typeof s=="object"&&"catch"in s&&(s=s.catch(i=>{throw r(),i})),[s,r]}const sE=OC("nuxt-app",{asyncContext:!1}),jC="__nuxt_plugin";function CC(e){let t=0;const r={_scope:h5(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.8.2"},get vue(){return r.vueApp.version}},payload:dr({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:i=>r._scope.run(()=>PC(r,i)),isHydrating:!0,deferHydration(){if(!r.isHydrating)return()=>{};t++;let i=!1;return()=>{if(!i&&(i=!0,t--,t===0))return r.isHydrating=!1,r.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...e};r.hooks=tE(),r.hook=r.hooks.hook,r.callHook=r.hooks.callHook,r.provide=(i,n)=>{const a="$"+i;$p(r,a,n),$p(r.vueApp.config.globalProperties,a,n)},$p(r.vueApp,"$nuxt",r),$p(r.vueApp.config.globalProperties,"$nuxt",r);{window.addEventListener("nuxt.preloadError",n=>{r.callHook("app:chunkError",{error:n.payload})}),window.useNuxtApp=window.useNuxtApp||sr;const i=r.hook("app:error",(...n)=>{console.error("[nuxt] error caught during app initialization",...n)});r.hook("app:mounted",i)}const s=dr(r.payload.config);return r.provide("config",s),r}async function AC(e,t){if(t.hooks&&e.hooks.addHooks(t.hooks),typeof t=="function"){const{provide:r}=await e.runWithContext(()=>t(e))||{};if(r&&typeof r=="object")for(const s in r)e.provide(s,r[s])}}async function RC(e,t){const r=[],s=[];for(const i of t){const n=AC(e,i);i.parallel?r.push(n.catch(a=>s.push(a))):await n}if(await Promise.all(r),s.length)throw s[0]}/*! @__NO_SIDE_EFFECTS__ */function Aa(e){return typeof e=="function"?e:(delete e.name,Object.assign(e.setup||(()=>{}),e,{[jC]:!0}))}function PC(e,t,r){const s=()=>r?t(...r):t();return sE.set(e),e.vueApp.runWithContext(s)}/*! @__NO_SIDE_EFFECTS__ */function sr(){var t;let e;if(Mx()&&(e=(t=B4())==null?void 0:t.appContext.app.$nuxt),e=e||sE.tryUse(),!e)throw new Error("[nuxt] instance unavailable");return e}/*! @__NO_SIDE_EFFECTS__ */function bf(){return sr().$config}function $p(e,t,r){Object.defineProperty(e,t,{get:()=>r})}const LC="modulepreload",FC=function(e,t){return e[0]==="."?new URL(e,t).href:e},q3={},NC=function(t,r,s){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=FC(n,s),n in q3)return;q3[n]=!0;const a=n.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let f=i.length-1;f>=0;f--){const y=i[f];if(y.href===n&&(!a||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const h=document.createElement("link");if(h.rel=a?"stylesheet":LC,a||(h.as="script",h.crossOrigin=""),h.href=n,document.head.appendChild(h),a)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},Fe=(...e)=>NC(...e).catch(t=>{const r=new Event("nuxt.preloadError");throw r.payload=t,window.dispatchEvent(r),t}),DC=-1,zC=-2,VC=-3,UC=-4,qC=-5,BC=-6;function HC(e,t){return GC(JSON.parse(e),t)}function GC(e,t){if(typeof e=="number")return i(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,s=Array(r.length);function i(n,a=!1){if(n===DC)return;if(n===VC)return NaN;if(n===UC)return 1/0;if(n===qC)return-1/0;if(n===BC)return-0;if(a)throw new Error("Invalid input");if(n in s)return s[n];const l=r[n];if(!l||typeof l!="object")s[n]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const d=l[0],h=t==null?void 0:t[d];if(h)return s[n]=h(i(l[1]));switch(d){case"Date":s[n]=new Date(l[1]);break;case"Set":const f=new Set;s[n]=f;for(let b=1;b<l.length;b+=1)f.add(i(l[b]));break;case"Map":const y=new Map;s[n]=y;for(let b=1;b<l.length;b+=2)y.set(i(l[b]),i(l[b+1]));break;case"RegExp":s[n]=new RegExp(l[1],l[2]);break;case"Object":s[n]=Object(l[1]);break;case"BigInt":s[n]=BigInt(l[1]);break;case"null":const v=Object.create(null);s[n]=v;for(let b=1;b<l.length;b+=2)v[l[b]]=i(l[b+1]);break;default:throw new Error(`Unknown type ${d}`)}}else{const d=new Array(l.length);s[n]=d;for(let h=0;h<l.length;h+=1){const f=l[h];f!==zC&&(d[h]=i(f))}}else{const d={};s[n]=d;for(const h in l){const f=l[h];d[h]=i(f)}}return s[n]}return i(0)}function WC(e){return Array.isArray(e)?e:[e]}const JC=["title","titleTemplate","script","style","noscript"],nh=["base","meta","link","style","script","noscript"],KC=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],QC=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],iE=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],ZC=typeof window<"u";function Kw(e){let t=9;for(let r=0;r<e.length;)t=Math.imul(t^e.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function B3(e){return e._h||Kw(e._d?e._d:`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,r])=>`${t}:${String(r)}`).join(",")}`)}function nE(e,t){const{props:r,tag:s}=e;if(QC.includes(s))return s;if(s==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";const i=["id"];s==="meta"&&i.push("name","property","http-equiv");for(const n of i)if(typeof r[n]<"u"){const a=String(r[n]);return t&&!t(a)?!1:`${s}:${n}:${a}`}return!1}function H3(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function YC(e,t,r){const s={tag:e,props:await oE(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[["script","noscript","style"].includes(e)?"innerHTML":"textContent"]:t},["templateParams","titleTemplate"].includes(e))};return iE.forEach(i=>{const n=typeof s.props[i]<"u"?s.props[i]:r[i];typeof n<"u"&&((!["innerHTML","textContent","children"].includes(i)||JC.includes(s.tag))&&(s[i==="children"?"innerHTML":i]=n),delete s.props[i])}),s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(i=>({...s,props:{...s.props,content:i}})):s}function XC(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function oE(e,t){for(const r of Object.keys(e)){if(r==="class"){e[r]=XC(e[r]);continue}if(e[r]instanceof Promise&&(e[r]=await e[r]),!t&&!iE.includes(r)){const s=String(e[r]),i=r.startsWith("data-");s==="true"||s===""?e[r]=i?"true":!0:e[r]||(i&&s==="false"?e[r]="false":delete e[r])}}return e}const eA=10;async function tA(e){const t=[];return Object.entries(e.resolvedInput).filter(([r,s])=>typeof s<"u"&&KC.includes(r)).forEach(([r,s])=>{const i=WC(s);t.push(...i.map(n=>YC(r,n,e)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((r,s)=>(r._e=e._i,e.mode&&(r._m=e.mode),r._p=(e._i<<eA)+s,r))}const G3={base:-10,title:10},W3={critical:-80,high:-10,low:20};function wf(e){let t=100;const r=e.tagPriority;return typeof r=="number"?r:(e.tag==="meta"?(e.props["http-equiv"]==="content-security-policy"&&(t=-30),e.props.charset&&(t=-20),e.props.name==="viewport"&&(t=-15)):e.tag==="link"&&e.props.rel==="preconnect"?t=20:e.tag in G3&&(t=G3[e.tag]),typeof r=="string"&&r in W3?t+W3[r]:t)}const rA=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],aE=["onload","onerror","onabort","onprogress","onloadstart"],wn="%separator";function oh(e,t,r){if(typeof e!="string"||!e.includes("%"))return e;function s(a){let l;return["s","pageTitle"].includes(a)?l=t.pageTitle:a.includes(".")?l=a.split(".").reduce((d,h)=>d&&d[h]||void 0,t):l=t[a],typeof l<"u"?(l||"").replace(/"/g,'\\"'):!1}let i=e;try{i=decodeURI(e)}catch{}return(i.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const l=s(a.slice(1));typeof l=="string"&&(e=e.replace(new RegExp(`\\${a}(\\W|$)`,"g"),(d,h)=>`${l}${h}`).trim())}),e.includes(wn)&&(e.endsWith(wn)&&(e=e.slice(0,-wn.length).trim()),e.startsWith(wn)&&(e=e.slice(wn.length).trim()),e=e.replace(new RegExp(`\\${wn}\\s*\\${wn}`,"g"),wn),e=oh(e,{separator:r},r)),e}async function sA(e){const t={tag:e.tagName.toLowerCase(),props:await oE(e.getAttributeNames().reduce((r,s)=>({...r,[s]:e.getAttribute(s)}),{})),innerHTML:e.innerHTML};return t._d=nE(t),t}async function lE(e,t={}){var f;const r=t.document||e.resolvedOptions.document;if(!r)return;const s={shouldRender:e.dirty,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const i=(await e.resolveTags()).map(y=>({tag:y,id:nh.includes(y.tag)?B3(y):y.tag,shouldRender:!0}));let n=e._dom;if(!n){n={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};for(const y of["body","head"]){const v=(f=r==null?void 0:r[y])==null?void 0:f.children;for(const b of[...v].filter(x=>nh.includes(x.tagName.toLowerCase())))n.elMap[b.getAttribute("data-hid")||B3(await sA(b))]=b}}n.pendingSideEffects={...n.sideEffects||{}},n.sideEffects={};function a(y,v,b){const x=`${y}:${v}`;n.sideEffects[x]=b,delete n.pendingSideEffects[x]}function l({id:y,$el:v,tag:b}){const x=b.tag.endsWith("Attrs");n.elMap[y]=v,x||(["textContent","innerHTML"].forEach(I=>{b[I]&&b[I]!==v[I]&&(v[I]=b[I])}),a(y,"el",()=>{n.elMap[y].remove(),delete n.elMap[y]})),Object.entries(b.props).forEach(([I,A])=>{const q=`attr:${I}`;if(I==="class")for(const G of(A||"").split(" ").filter(Boolean))x&&a(y,`${q}:${G}`,()=>v.classList.remove(G)),!v.classList.contains(G)&&v.classList.add(G);else v.getAttribute(I)!==A&&v.setAttribute(I,A===!0?"":String(A)),x&&a(y,q,()=>v.removeAttribute(I))})}const d=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const y of i){const{tag:v,shouldRender:b,id:x}=y;if(b){if(v.tag==="title"){r.title=v.textContent;continue}y.$el=y.$el||n.elMap[x],y.$el?l(y):nh.includes(v.tag)&&d.push(y)}}for(const y of d){const v=y.tag.tagPosition||"head";y.$el=r.createElement(y.tag.tag),l(y),h[v]=h[v]||r.createDocumentFragment(),h[v].appendChild(y.$el)}for(const y of i)await e.hooks.callHook("dom:renderTag",y,r,a);h.head&&r.head.appendChild(h.head),h.bodyOpen&&r.body.insertBefore(h.bodyOpen,r.body.firstChild),h.bodyClose&&r.body.appendChild(h.bodyClose),Object.values(n.pendingSideEffects).forEach(y=>y()),e._dom=n,e.dirty=!1,await e.hooks.callHook("dom:rendered",{renders:i})}async function iA(e,t={}){const r=t.delayFn||(s=>setTimeout(s,10));return e._domUpdatePromise=e._domUpdatePromise||new Promise(s=>r(async()=>{await lE(e,t),delete e._domUpdatePromise,s()}))}function nA(e){return t=>{var s,i;const r=((i=(s=t.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return r&&t.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":function(n){iA(n,e)}}}}}const oA=["templateParams","htmlAttrs","bodyAttrs"],aA={hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(s=>{e.props[s]&&(e.key=e.props[s],delete e.props[s])});const r=nE(e)||(e.key?`${e.tag}:${e.key}`:!1);r&&(e._d=r)},"tags:resolve":function(e){const t={};e.tags.forEach(s=>{const i=(s.key?`${s.tag}:${s.key}`:s._d)||s._p,n=t[i];if(n){let l=s==null?void 0:s.tagDuplicateStrategy;if(!l&&oA.includes(s.tag)&&(l="merge"),l==="merge"){const d=n.props;["class","style"].forEach(h=>{d[h]&&(s.props[h]?(h==="style"&&!d[h].endsWith(";")&&(d[h]+=";"),s.props[h]=`${d[h]} ${s.props[h]}`):s.props[h]=d[h])}),t[i].props={...d,...s.props};return}else if(s._e===n._e){n._duped=n._duped||[],s._d=`${n._d}:${n._duped.length+1}`,n._duped.push(s);return}else if(wf(s)>wf(n))return}const a=Object.keys(s.props).length+(s.innerHTML?1:0)+(s.textContent?1:0);if(nh.includes(s.tag)&&a===0){delete t[i];return}t[i]=s});const r=[];Object.values(t).forEach(s=>{const i=s._duped;delete s._duped,r.push(s),i&&r.push(...i)}),e.tags=r,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},lA={mode:"server",hooks:{"tags:resolve":function(e){const t={};e.tags.filter(r=>["titleTemplate","templateParams","title"].includes(r.tag)&&r._m==="server").forEach(r=>{t[r.tag]=r.tag.startsWith("title")?r.textContent:r.props}),Object.keys(t).length&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},uA=["script","link","bodyAttrs"];function cA(e){const t={},r={};return Object.entries(e.props).forEach(([s,i])=>{s.startsWith("on")&&typeof i=="function"?(aE.includes(s)&&(t[s]=`this.dataset.${s} = true`),r[s]=i):t[s]=i}),{props:t,eventHandlers:r}}const dA=e=>({hooks:{"tags:resolve":function(t){for(const r of t.tags)if(uA.includes(r.tag)){const{props:s,eventHandlers:i}=cA(r);r.props=s,Object.keys(i).length&&((r.props.src||r.props.href)&&(r.key=r.key||Kw(r.props.src||r.props.href)),r._eventHandlers=i)}},"dom:renderTag":function(t,r,s){if(!t.tag._eventHandlers)return;const i=t.tag.tag==="bodyAttrs"?r.defaultView:t.$el;Object.entries(t.tag._eventHandlers).forEach(([n,a])=>{const l=`${t.tag._d||t.tag._p}:${n}`,d=n.slice(2).toLowerCase(),h=`data-h-${d}`;if(s(t.id,l,()=>{}),t.$el.hasAttribute(h))return;t.$el.setAttribute(h,"");let f;const y=v=>{a(v),f==null||f.disconnect()};n in t.$el.dataset?y(new Event(n.replace("on",""))):aE.includes(n)&&typeof MutationObserver<"u"?(f=new MutationObserver(v=>{v.some(x=>x.attributeName===`data-${n}`)&&(y(new Event(n.replace("on",""))),f==null||f.disconnect())}),f.observe(t.$el,{attributes:!0})):i.addEventListener(d,y),s(t.id,l,()=>{f==null||f.disconnect(),i.removeEventListener(d,y),t.$el.removeAttribute(h)})})}}}),pA=["link","style","script","noscript"],hA={hooks:{"tag:normalise":({tag:e})=>{e.key&&pA.includes(e.tag)&&(e.props["data-hid"]=e._h=Kw(e.key))}}},fA={hooks:{"tags:resolve":e=>{const t=r=>{var s;return(s=e.tags.find(i=>i._d===r))==null?void 0:s._p};for(const{prefix:r,offset:s}of rA)for(const i of e.tags.filter(n=>typeof n.tagPriority=="string"&&n.tagPriority.startsWith(r))){const n=t(i.tagPriority.replace(r,""));typeof n<"u"&&(i._p=n+s)}e.tags.sort((r,s)=>r._p-s._p).sort((r,s)=>wf(r)-wf(s))}}},yA={meta:"content",link:"href",htmlAttrs:"lang"},mA=e=>({hooks:{"tags:resolve":t=>{var l;const{tags:r}=t,s=(l=r.find(d=>d.tag==="title"))==null?void 0:l.textContent,i=r.findIndex(d=>d.tag==="templateParams"),n=i!==-1?r[i].props:{},a=n.separator||"|";delete n.separator,n.pageTitle=oh(n.pageTitle||s||"",n,a);for(const d of r.filter(h=>h.processTemplateParams!==!1)){const h=yA[d.tag];h&&typeof d.props[h]=="string"?d.props[h]=oh(d.props[h],n,a):(d.processTemplateParams===!0||["titleTemplate","title"].includes(d.tag))&&["innerHTML","textContent"].forEach(f=>{typeof d[f]=="string"&&(d[f]=oh(d[f],n,a))})}e._templateParams=n,e._separator=a,t.tags=r.filter(d=>d.tag!=="templateParams")}}}),gA={hooks:{"tags:resolve":e=>{const{tags:t}=e;let r=t.findIndex(i=>i.tag==="titleTemplate");const s=t.findIndex(i=>i.tag==="title");if(s!==-1&&r!==-1){const i=H3(t[r].textContent,t[s].textContent);i!==null?t[s].textContent=i||t[s].textContent:delete t[s]}else if(r!==-1){const i=H3(t[r].textContent);i!==null&&(t[r].textContent=i,t[r].tag="title",r=-1)}r!==-1&&delete t[r],e.tags=t.filter(Boolean)}}},vA={hooks:{"tags:afterResolve":function(e){for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&["application/ld+json","application/json"].includes(t.props.type)?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let uE;function bA(e={}){const t=wA(e);return t.use(nA()),uE=t}function J3(e,t){return!e||e==="server"&&t||e==="client"&&!t}function wA(e={}){const t=tE();t.addHooks(e.hooks||{}),e.document=e.document||(ZC?document:void 0);const r=!e.document,s=()=>{l.dirty=!0,t.callHook("entries:updated",l)};let i=0,n=[];const a=[],l={plugins:a,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return n},use(d){const h=typeof d=="function"?d(l):d;(!h.key||!a.some(f=>f.key===h.key))&&(a.push(h),J3(h.mode,r)&&t.addHooks(h.hooks||{}))},push(d,h){h==null||delete h.head;const f={_i:i++,input:d,...h};return J3(f.mode,r)&&(n.push(f),s()),{dispose(){n=n.filter(y=>y._i!==f._i),t.callHook("entries:updated",l),s()},patch(y){n=n.map(v=>(v._i===f._i&&(v.input=f.input=y),v)),s()}}},async resolveTags(){const d={tags:[],entries:[...n]};await t.callHook("entries:resolve",d);for(const h of d.entries){const f=h.resolvedInput||h.input;if(h.resolvedInput=await(h.transform?h.transform(f):f),h.resolvedInput)for(const y of await tA(h)){const v={tag:y,entry:h,resolvedOptions:l.resolvedOptions};await t.callHook("tag:normalise",v),d.tags.push(v.tag)}}return await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d),d.tags},ssr:r};return[aA,lA,dA,hA,fA,mA,gA,vA,...(e==null?void 0:e.plugins)||[]].forEach(d=>l.use(d)),l.hooks.callHook("init",l),l}function _A(){return uE}const SA=qx.startsWith("3");function $A(e){return typeof e=="function"?e():_e(e)}function zg(e,t=""){if(e instanceof Promise)return e;const r=$A(e);return!e||!r?r:Array.isArray(r)?r.map(s=>zg(s,t)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([s,i])=>s==="titleTemplate"||s.startsWith("on")?[s,_e(i)]:[s,zg(i,s)])):r}const xA={hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=zg(t.input)}}},cE="usehead";function EA(e){return{install(r){SA&&(r.config.globalProperties.$unhead=e,r.config.globalProperties.$head=e,r.provide(cE,e))}}.install}function TA(e={}){e.domDelayFn=e.domDelayFn||(r=>Pw(()=>setTimeout(()=>r(),0)));const t=bA(e);return t.use(xA),t.install=EA(t),t}const Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ug="__unhead_injection_handler__";function kA(e){Vg[Ug]=e}function iJ(){if(Ug in Vg)return Vg[Ug]();const e=Rl(cE);return e||_A()}function MA(e){return{ctx:{table:e},matchAll:t=>pE(t,e)}}function dE(e){const t={};for(const r in e)t[r]=r==="dynamic"?new Map(Object.entries(e[r]).map(([s,i])=>[s,dE(i)])):new Map(Object.entries(e[r]));return t}function IA(e){return MA(dE(e))}function pE(e,t){const r=[];for(const[i,n]of K3(t.wildcard))e.startsWith(i)&&r.push(n);for(const[i,n]of K3(t.dynamic))if(e.startsWith(i+"/")){const a="/"+e.slice(i.length).split("/").splice(2).join("/");r.push(...pE(a,n))}const s=t.static.get(e);return s&&r.push(s),r.filter(Boolean)}function K3(e){return[...e.entries()].sort((t,r)=>t[0].length-r[0].length)}function qg(e,t,r=".",s){if(!Om(t))return qg(e,{},r,s);const i=Object.assign({},t);for(const n in e){if(n==="__proto__"||n==="constructor")continue;const a=e[n];a!=null&&(s&&s(i,n,a,r)||(Array.isArray(a)&&Array.isArray(i[n])?i[n]=[...a,...i[n]]:Om(a)&&Om(i[n])?i[n]=qg(a,i[n],(r?`${r}.`:"")+n.toString(),s):i[n]=a))}return i}function Om(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hE(e){return(...t)=>t.reduce((r,s)=>qg(r,s,"",e),{})}const OA=hE(),jA=hE((e,t,r)=>{if(e[t]!==void 0&&typeof r=="function")return e[t]=r(e[t]),!0});function CA(e,t){try{return t in e}catch{return!1}}var AA=Object.defineProperty,RA=(e,t,r)=>t in e?AA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mo=(e,t,r)=>(RA(e,typeof t!="symbol"?t+"":t,r),r);class Bg extends Error{constructor(t,r={}){super(t,r),Mo(this,"statusCode",500),Mo(this,"fatal",!1),Mo(this,"unhandled",!1),Mo(this,"statusMessage"),Mo(this,"data"),Mo(this,"cause"),r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const t={message:this.message,statusCode:Hg(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=fE(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Mo(Bg,"__h3_error__",!0);function PA(e){if(typeof e=="string")return new Bg(e);if(LA(e))return e;const t=new Bg(e.message??e.statusMessage??"",{cause:e.cause||e});if(CA(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=Hg(e.statusCode,t.statusCode):e.status&&(t.statusCode=Hg(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const r=t.statusMessage;fE(t.statusMessage)!==r&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function LA(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const FA=/[^\u0009\u0020-\u007E]/g;function fE(e=""){return e.replace(FA,"")}function Hg(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const yE=Symbol("route"),Qw=()=>V5(sr().payload,"error"),NA=e=>{const t=mE(e);try{const r=sr(),s=Qw();r.hooks.callHook("app:error",t),s.value=s.value||t}catch{throw t}return t},DA=async(e={})=>{const t=sr(),r=Qw();t.callHook("app:error:cleared",e),e.redirect&&await fy().replace(e.redirect),r.value=null},zA=e=>!!(e&&typeof e=="object"&&"__nuxt_error"in e),mE=e=>{const t=PA(e);return t.__nuxt_error=!0,t},fy=()=>{var e;return(e=sr())==null?void 0:e.$router},gE=()=>Mx()?Rl(yE,sr()._route):sr()._route;/*! @__NO_SIDE_EFFECTS__ */const VA=()=>{try{if(sr()._processingMiddleware)return!0}catch{return!0}return!1},UA=(e,t)=>{e||(e="/");const r=typeof e=="string"?e:Kx(e.path||"/",e.query||{})+(e.hash||"");if(t!=null&&t.open){{const{target:l="_blank",windowFeatures:d={}}=t.open,h=Object.entries(d).filter(([f,y])=>y!==void 0).map(([f,y])=>`${f.toLowerCase()}=${y}`).join(", ");open(r,l,h)}return Promise.resolve()}const s=(t==null?void 0:t.external)||hy(r,{acceptRelative:!0});if(s){if(!(t!=null&&t.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const l=Fd(r).protocol;if(l&&Hj(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=VA();if(!s&&i)return e;const n=fy(),a=sr();return s?(a._scope.stop(),t!=null&&t.replace?location.replace(r):location.href=r,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t!=null&&t.replace?n.replace(e):n.push(e)},qA={nuxt:{buildId:"42e6841c-2dba-498c-9eb7-9355455c9b1f"}},BA=jA(qA);function HA(){const e=sr();return e._appConfig||(e._appConfig=dr(BA)),e._appConfig}const nJ={componentName:"NuxtLink"},GA="#__nuxt";let ah,vE;function WA(){var t;const e=(t=HA().nuxt)==null?void 0:t.buildId;return ah=$fetch(Ww(`builds/meta/${e}.json`)),ah.then(r=>{vE=IA(r.matcher)}),ah}function yy(){return ah||WA()}async function bE(e){return await yy(),OA({},...vE.matchAll(e).reverse())}function Q3(e,t={}){const r=JA(e,t),s=sr(),i=s._payloadCache=s._payloadCache||{};return r in i||(i[r]=KA(e).then(n=>n?wE(r).then(a=>a||(delete i[r],null)):(i[r]=null,null))),i[r]}const Z3="json";function JA(e,t={}){const r=new URL(e,"http://localhost");if(r.search)throw new Error("Payload URL cannot contain search params: "+e);if(r.host!=="localhost"||hy(r.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const s=t.hash||(t.fresh?Date.now():"");return pu(bf().app.baseURL,r.pathname,s?`_payload.${s}.${Z3}`:`_payload.${Z3}`)}async function wE(e){const t=fetch(e).then(r=>r.text().then(_E));try{return await t}catch(r){console.warn("[nuxt] Cannot load payload ",e,r)}return null}async function KA(e=gE().path){if((await yy()).prerendered.includes(e))return!0;const r=await bE(e);return!!r.prerender&&!r.redirect}let xp=null;async function QA(){if(xp)return xp;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=_E(e.textContent||""),r=e.dataset.src?await wE(e.dataset.src):void 0;return xp={...t,...r,...window.__NUXT__},xp}function _E(e){return HC(e,sr()._payloadRevivers)}function ZA(e,t){sr()._payloadRevivers[e]=t}const Y3={NuxtError:e=>mE(e),EmptyShallowRef:e=>p3(e==="_"?void 0:e==="0n"?BigInt(0):gf(e)),EmptyRef:e=>io(e==="_"?void 0:e==="0n"?BigInt(0):gf(e)),ShallowRef:e=>p3(e),ShallowReactive:e=>nx(e),Ref:e=>io(e),Reactive:e=>dr(e)},YA=Aa({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,r;for(const s in Y3)ZA(s,Y3[s]);Object.assign(e.payload,([t,r]=rE(()=>e.runWithContext(QA)),t=await t,r(),t)),window.__NUXT__=e.payload}}),XA=[],eR=Aa({name:"nuxt:head",enforce:"pre",setup(e){const t=TA({plugins:XA});kA(()=>sr().vueApp._context.provides.usehead),e.vueApp.use(t);{let r=!0;const s=async()=>{r=!1,await lE(t)};t.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!r}),e.hooks.hook("page:start",()=>{r=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||s()}),e.hooks.hook("app:error",s),e.hooks.hook("app:suspense:resolve",s)}}}),tR=async e=>{let t,r;const s=([t,r]=rE(()=>bE(e.path)),t=await t,r(),t);if(s.redirect)return s.redirect},rR=[tR];function jm(e){typeof e=="object"&&(e=Zx({pathname:e.path||"",search:Wx(e.query||{}),hash:e.hash||""}));const t=Fd(e.toString());return{path:t.pathname,fullPath:e,query:Gx(t.search),hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:e}}const sR=Aa({name:"nuxt:router",enforce:"pre",setup(e){const t=Kj(window.location.pathname,bf().app.baseURL)+window.location.search+window.location.hash,r=[],s={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},i=(f,y)=>(s[f].push(y),()=>s[f].splice(s[f].indexOf(y),1)),n=bf().app.baseURL,a=dr(jm(t));async function l(f,y){try{const v=jm(f);for(const b of s["navigate:before"]){const x=await b(v,a);if(x===!1||x instanceof Error)return;if(typeof x=="string"&&x.length)return l(x,!0)}for(const b of s["resolve:before"])await b(v,a);Object.assign(a,v),window.history[y?"replaceState":"pushState"]({},"",pu(n,v.fullPath)),e.isHydrating||await e.runWithContext(DA);for(const b of s["navigate:after"])await b(v,a)}catch(v){for(const b of s.error)await b(v)}}const d={currentRoute:a,isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:f=>l(f,!1),replace:f=>l(f,!0),back:()=>window.history.go(-1),go:f=>window.history.go(f),forward:()=>window.history.go(1),beforeResolve:f=>i("resolve:before",f),beforeEach:f=>i("navigate:before",f),afterEach:f=>i("navigate:after",f),onError:f=>i("error",f),resolve:jm,addRoute:(f,y)=>{r.push(y)},getRoutes:()=>r,hasRoute:f=>r.some(y=>y.name===f),removeRoute:f=>{const y=r.findIndex(v=>v.name===f);y!==-1&&r.splice(y,1)}};e.vueApp.component("RouterLink",{functional:!0,props:{to:String,custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(f,{slots:y})=>{const v=()=>l(f.to,f.replace);return()=>{var x;const b=d.resolve(f.to);return f.custom?(x=y.default)==null?void 0:x.call(y,{href:f.to,navigate:v,route:b}):Z4("a",{href:f.to,onClick:I=>(I.preventDefault(),v())},y)}}}),window.addEventListener("popstate",f=>{const y=f.target.location;d.replace(y.href.replace(y.origin,""))}),e._route=a,e._middleware=e._middleware||{global:[],named:{}};const h=e.payload.state._layout;return e.hooks.hookOnce("app:created",async()=>{d.beforeEach(async(f,y)=>{f.meta=dr(f.meta||{}),e.isHydrating&&h&&!$a(f.meta.layout)&&(f.meta.layout=h),e._processingMiddleware=!0;{const v=new Set([...rR,...e._middleware.global]);for(const b of v){const x=await e.runWithContext(()=>b(f,y));if(x!==!0&&(x||x===!1))return x}}}),d.afterEach(()=>{delete e._processingMiddleware}),await d.replace(t),Yj(a.fullPath,t)||await e.runWithContext(()=>UA(a.fullPath))}),{provide:{route:a,router:d}}}}),X3=globalThis.requestIdleCallback||(e=>{const t=Date.now(),r={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(r)},1)}),oJ=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),SE=e=>{const t=sr();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{X3(e)}):X3(e)},iR=Aa({name:"nuxt:payload",setup(e){fy().beforeResolve(async(t,r)=>{if(t.path===r.path)return;const s=await Q3(t.path);s&&Object.assign(e.static.data,s.data)}),SE(()=>{var t;e.hooks.hook("link:prefetch",async r=>{Fd(r).protocol||await Q3(r)}),((t=navigator.connection)==null?void 0:t.effectiveType)!=="slow-2g"&&setTimeout(yy,1e3)})}}),nR=Aa({name:"nuxt:global-components"});function oR(e={}){const t=e.path||window.location.pathname;let r={};try{r=gf(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(r==null?void 0:r.path)!==t||(r==null?void 0:r.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:sr().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const aR=Aa({name:"nuxt:chunk-reload",setup(e){const t=fy(),r=bf(),s=new Set;t.beforeEach(()=>{s.clear()}),e.hook("app:chunkError",({error:n})=>{s.add(n)});function i(n){const l="href"in n&&n.href.startsWith("#")?r.app.baseURL+n.href:pu(r.app.baseURL,n.fullPath);oR({path:l,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(i)}),t.onError((n,a)=>{s.has(n)&&i(a)})}}),lR=Aa(e=>{let t;async function r(){const s=await yy();t&&clearTimeout(t),t=setTimeout(r,1e3*60*60);const i=await $fetch(Ww("builds/latest.json"));i.id!==s.id&&e.hooks.callHook("app:manifest:update",i)}SE(()=>{t=setTimeout(r,1e3*60*60)})}),uR=[YA,eR,sR,iR,nR,aR,lR];var cR=Object.defineProperty,dR=Object.defineProperties,pR=Object.getOwnPropertyDescriptors,_f=Object.getOwnPropertySymbols,$E=Object.prototype.hasOwnProperty,xE=Object.prototype.propertyIsEnumerable,eS=(e,t,r)=>t in e?cR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))$E.call(t,r)&&eS(e,r,t[r]);if(_f)for(var r of _f(t))xE.call(t,r)&&eS(e,r,t[r]);return e},Ie=(e,t)=>dR(e,pR(t)),hR=(e,t)=>{var r={};for(var s in e)$E.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&_f)for(var s of _f(e))t.indexOf(s)<0&&xE.call(e,s)&&(r[s]=e[s]);return r};function o(e,t,r,s){var i,n=arguments.length,a=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}function fR(e){return e&&e.release&&typeof e.release=="function"}function yR(e){return e&&e.acquire&&typeof e.acquire=="function"}class ln{constructor(t,r,s,i=1,n=0){if(this.ctor=t,this.acquireFunction=r,this.releaseFunction=s,this.allocationSize=i,this._pool=new Array(n),this._initialSize=n,this.ctor)for(let a=0;a<n;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(ln.test.disabled)r=new this.ctor;else{if(this._pool.length===0){const s=this.allocationSize;for(let i=0;i<s;i++)this._pool[i]=new this.ctor}r=this._pool.pop()}return this.acquireFunction?this.acquireFunction(r,...t):yR(r)&&r.acquire(...t),r}release(t){t&&!ln.test.disabled&&(this.releaseFunction?this.releaseFunction(t):fR(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const s=this._pool[r];this._dispose(s)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}ln.test={disabled:!1};function mR(e){e.length=0}class Bs{constructor(t=50,r=50){this._pool=new ln(Array,void 0,mR,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Cm.acquire()}static release(t){return Cm.release(t)}static prune(){Cm.prune()}}const Cm=new Bs(100);var tS,rS;let rn;var sS,iS;(tS=globalThis.dojoConfig)!=null&&tS.has||(rS=globalThis.esriConfig)!=null&&rS.has?rn=V(V({},(sS=globalThis.dojoConfig)==null?void 0:sS.has),(iS=globalThis.esriConfig)==null?void 0:iS.has):rn={};function X(e){return typeof rn[e]=="function"?rn[e]=rn[e](globalThis):rn[e]}X.add=(e,t,r,s)=>((s||rn[e]===void 0)&&(rn[e]=t),r&&X(e)),X.cache=rn,X.add("esri-deprecation-warnings",!0),(()=>{var e;X.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(X.add("host-browser",t),X.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),X.add("dom",t),X("host-browser")){const r=navigator,s=r.userAgent,i=r.appVersion,n=parseFloat(i);if(X.add("wp",parseFloat(s.split("Windows Phone")[1])||void 0),X.add("msapp",parseFloat(s.split("MSAppHost/")[1])||void 0),X.add("khtml",i.includes("Konqueror")?n:void 0),X.add("edge",parseFloat(s.split("Edge/")[1])||void 0),X.add("opr",parseFloat(s.split("OPR/")[1])||void 0),X.add("webkit",!X("wp")&&!X("edge")&&parseFloat(s.split("WebKit/")[1])||void 0),X.add("chrome",!X("edge")&&!X("opr")&&parseFloat(s.split("Chrome/")[1])||void 0),X.add("android",!X("wp")&&parseFloat(s.split("Android ")[1])||void 0),X.add("safari",!i.includes("Safari")||X("wp")||X("chrome")||X("android")||X("edge")||X("opr")?void 0:parseFloat(i.split("Version/")[1])),X.add("mac",i.includes("Macintosh")),!X("wp")&&s.match(/(iPhone|iPod|iPad)/)){const a=RegExp.$1.replace(/P/,"p"),l=s.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=parseFloat(l.replace(/_/,".").replace(/_/g,""));X.add(a,d),X.add("ios",d)}X.add("trident",parseFloat(i.split("Trident/")[1])||void 0),X("webkit")||(!s.includes("Gecko")||X("wp")||X("khtml")||X("trident")||X("edge")||X.add("mozilla",n),X("mozilla")&&X.add("ff",parseFloat(s.split("Firefox/")[1]||s.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&X.add("esri-mobile",t),r&&X.add("esri-iPhone",r),X.add("esri-geolocation",!!navigator.geolocation)}X.add("esri-canvas-svg-support",!X("trident")),X.add("esri-wasm","WebAssembly"in globalThis),X.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),X.add("esri-atomics","Atomics"in globalThis),X.add("esri-workers","Worker"in globalThis),X.add("web-feat:cache","caches"in globalThis),X.add("esri-workers-arraybuffer-transfer",!X("safari")||Number(X("safari"))>=12),X.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),X.add("featurelayer-simplify-payload-size-factors",[1,1,4]),X.add("featurelayer-snapshot-enabled",!0),X.add("featurelayer-snapshot-point-min-threshold",8e4),X.add("featurelayer-snapshot-point-max-threshold",4e5),X.add("featurelayer-snapshot-point-coverage",.1),X.add("featurelayer-advanced-symbols",!1),X.add("featurelayer-pbf",!0),X.add("featurelayer-pbf-statistics",!1),X.add("feature-layers-workers",!0),X.add("feature-polyline-generalization-factor",1),X.add("mapview-transitions-duration",200),X.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),X.add("mapserver-pbf-enabled",!1),X("host-webworker")||X("host-browser")&&(X.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),X.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{X.add("esri-image-decode",!0,!0,!0)}).catch(()=>{X.add("esri-image-decode",!1,!0,!0)})}return!1}),X.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const nS=new Set;function gR(e,t,r=!1){r&&nS.has(t)||(r&&nS.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function Ya(e,t,r={}){if(X("esri-deprecation-warnings")){const{moduleName:s}=r;my(e,`Function: ${(s?s+"::":"")+t+"()"}`,r)}}function ud(e,t,r={}){if(X("esri-deprecation-warnings")){const{moduleName:s}=r;my(e,`Property: ${(s?s+"::":"")+t}`,r)}}function my(e,t,r={}){if(X("esri-deprecation-warnings")){const{replacement:s,version:i,see:n,warnOnce:a}=r;let l=t;s&&(l+=`
	🛠️ Replacement: ${s}`),i&&(l+=`
	⚙️ Version: ${i}`),n&&(l+=`
	🔗 See ${n} for more details.`),gR(e,l,a)}}const vR=null;function H(e){return e!=null}function be(e){return e==null}function bR(e){return e===void 0}function Sf(e,t){return H(e)?t(e):vR}function wR(e){return e}function EE(e,t){if(be(e))throw new Error(t);return e}function Zw(e,t){return H(e)?e:typeof t=="function"?t():t}function _R(e,t){return H(e)?e:t}function $f(e){return H(e)&&e.destroy(),null}function SR(e){return H(e)&&e.dispose(),null}function Nd(e){return H(e)&&e.remove(),null}function $R(e){return H(e)&&e.release(),null}function xR(e){return null}function ER(e,t){const r=new Array;for(const s of e)r.push(Sl(s,null,t));return r}function TR(e,t){for(const r of e)Sf(r,t)}function Sl(e,t,r){return H(e)?r(e):t}function kR(e){return e.filter(t=>H(t))}function TE(e,...t){let r=e;for(let s=0;s<t.length&&r;++s)r=r[t[s]];return r}function MR(e){return e}class Hs{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Hs._m}getInt(){return this._seed=(Hs._a*this._seed+Hs._c)%Hs._m,this._seed}getFloat(){return this.getInt()/(Hs._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const s=r-t;return t+this.getInt()/Hs._m*s}}Hs._m=2147483647,Hs._a=48271,Hs._c=0;function Yw(e,t,r){if(be(e)&&be(t))return!0;if(be(e)||be(t)||e.length!==t.length)return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function IR(e){return e&&typeof e.length=="number"}const OR=!!Array.prototype.fill;function jR(e,t){if(OR)return new Array(e).fill(t);const r=new Array(e);for(let s=0;s<e;s++)r[s]=t;return r}function CR(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let s=e;s<t;s++)r[s-e]=s;return r}class Xw{constructor(){this.last=0}}const kE=new Xw;function e1(e,t,r,s){s=s||kE;const i=Math.max(0,s.last-10);for(let a=i;a<r;++a)if(e[a]===t)return s.last=a,a;const n=Math.min(i,r);for(let a=0;a<n;++a)if(e[a]===t)return s.last=a,a;return-1}function ME(e,t,r,s){const i=r??e.length,n=e1(e,t,i,s);if(n!==-1)return e[n]=e[i-1],r==null&&e.pop(),t}const xs=new Set;function AR(e,t,r=e.length,s=t.length,i,n){if(s===0||r===0)return r;xs.clear();for(let l=0;l<s;++l)xs.add(t[l]);i=i||kE;const a=Math.max(0,i.last-10);for(let l=a;l<r;++l)if(xs.has(e[l])&&(n&&n.push(e[l]),xs.delete(e[l]),e[l]=e[r-1],--r,--l,xs.size===0||r===0))return xs.clear(),r;for(let l=0;l<a;++l)if(xs.has(e[l])&&(n&&n.push(e[l]),xs.delete(e[l]),e[l]=e[r-1],--r,--l,xs.size===0||r===0))return xs.clear(),r;return xs.clear(),r}function IE(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function RR(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function OE(e,t,r){if(e.slice)return e.slice(t,r);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),r===void 0?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const s=Math.max(0,r-t),i=new e.constructor(s);for(let n=0;n<s;n++)i[n]=e[t+n];return i}function PR(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function LR(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function jE(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function FR(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function NR(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function CE(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function DR(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function AE(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function zR(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function VR(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function t1(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&t1(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function D(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=FE(e);if(H(t))return t;if(RE(e))return e.clone();if(PE(e))return e.map(D);if(LE(e))return e.clone();const r={};for(const s of Object.getOwnPropertyNames(e))r[s]=D(e[s]);return r}function Gg(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=FE(e);if(H(t))return t;if(PE(e)){let r=!0;const s=e.map(i=>{const n=Gg(i);return i!=null&&n==null&&(r=!1),n});return r?s:null}if(RE(e))return e.clone();if(!LE(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const s of Object.getOwnPropertyNames(e)){const i=e[s],n=Gg(i);if(i!=null&&n==null)return null;r[s]=n}return r}return null}function RE(e){return typeof e.clone=="function"}function PE(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function LE(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function FE(e){if(LR(e)||jE(e)||FR(e)||NR(e)||CE(e)||DR(e)||AE(e)||zR(e)||VR(e))return OE(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((r,s)=>{t.set(s,D(r))}),t}if(e instanceof Set){const t=new Set;return e.forEach(r=>{t.add(D(r))}),t}return null}function gy(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function NE(e,t,r=!1){return zE(e,t,r)}function Dd(e,t){if(t!=null)return t[e]||DE(e.split("."),!1,t)}function Br(e,t,r){const s=e.split("."),i=s.pop(),n=DE(s,!0,r);n&&i&&(n[i]=t)}function DE(e,t,r){let s=r;for(const i of e){if(s==null)return;if(!(i in s)){if(!t)return;s[i]={}}s=s[i]}return s}function zE(e,t,r){return t?Object.keys(t).reduce(function(s,i){let n=s[i],a=t[i];return n===a?s:n===void 0?(s[i]=D(a),s):(Array.isArray(a)||Array.isArray(s)?(n=n?Array.isArray(n)?s[i]=n.concat():s[i]=[n]:s[i]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach(l=>{n.indexOf(l)===-1&&n.push(l)}):s[i]=a.concat())):a&&typeof a=="object"?s[i]=zE(n,a,r):s.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(s[i]=a),s)},e||{}):e}var oS;const it={apiKey:void 0,applicationUrl:(oS=globalThis.location)==null?void 0:oS.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(NE(it,globalThis.esriConfig,!0),delete it.has),!it.assetsPath){const e="4.23.7";it.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}it.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(it,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),it.request.corsEnabledServers=[],it.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const UR=/\{([^\}]+)\}/g;function aS(e){return e??""}function zd(e,t){return e.replace(UR,typeof t=="object"?(r,s)=>aS(Dd(s,t)):(r,s)=>aS(t(s)))}function VE(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.indexOf(r)!==-1?r:`\\${r}`)}function vy(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function qR(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const lS={info:0,warn:1,error:2,none:3};class pe{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,pe._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=pe.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=pe._loggers;return pe._loggers=t,r},set throttlingDisabled(t){pe._throttlingDisabled=t}}}static getLogger(t){let r=pe._loggers[t];return r||(r=new pe({module:t})),r}_log(t,r,...s){if(this._matchLevel(t)){if(r!=="always"&&!pe._throttlingDisabled){const i=this._argsToKey(s),n=this._loggedMessages[t].get(i);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=pe._tickCounter)return;this._loggedMessages[t].set(i,pe._tickCounter),pe._scheduleTickCounterIncrement()}for(const i of it.log.interceptors)if(i(t,this.module,...s))return;this._inheritedWriter()(t,this.module,...s)}}_parentWithMember(t,r){let s=this;for(;H(s);){const i=s[t];if(H(i))return i;s=s.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...s){console[t](`[${r}]`,...s)}_matchLevel(t){const r=it.log.level?it.log.level:"warn";return lS[this._parentWithMember("level",r)]<=lS[t]}_argsToKey(...t){return vy(JSON.stringify(t,(s,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}static _scheduleTickCounterIncrement(){pe._tickCounterScheduled||(pe._tickCounterScheduled=!0,Promise.resolve().then(()=>{pe._tickCounter++,pe._tickCounterScheduled=!1}))}}pe._loggers={},pe._tickCounter=0,pe._tickCounterScheduled=!1,pe._throttlingDisabled=!1;function by(e){return Vd(()=>e.forEach(t=>H(t)&&t.remove()))}function Vd(e){return{remove:()=>{e&&(e(),e=void 0)}}}function $r(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function BR(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function lh(e,t,r){return r?xf(e,t,{policy:r,path:""}):xf(e,t,null)}function xf(e,t,r){return t?Object.keys(t).reduce(function(s,i){let n=null,a="merge";if(r&&(n=r.path?`${r.path}.${i}`:i,a=r.policy(n)),a==="replace")return s[i]=t[i],s;if(s[i]===void 0)return s[i]=D(t[i]),s;let l=s[i],d=t[i];if(l===d)return s;if(Array.isArray(d)||Array.isArray(s))l=l?Array.isArray(l)?s[i]=l.concat():s[i]=[l]:s[i]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(h=>{l.indexOf(h)===-1&&l.push(h)}));else if(d&&typeof d=="object")if(r){const h=r.path;r.path=n,s[i]=xf(l,d,r),r.path=h}else s[i]=xf(l,d,null);else s.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(s[i]=d);return s},e||{}):e}function UE(e){return Array.isArray(e)?e:e.split(".")}function uS(e){return e.indexOf(",")>-1?e.split(",").map(t=>t.trim()):[e.trim()]}function HR(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...uS(r));return t}return uS(e)}function qE(e,t,r,s){const i=HR(t);if(i.length!==1){const n=i.map(a=>s(e,a,r));return by(n)}return s(e,i[0],r)}function BE(e){let t=!1;return()=>{t||(t=!0,e())}}function HE(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}const s=$r(t);return BR(s,r)?s.get(r):t[r]}function GE(e,t,r){if(e==null)return e;const s=HE(t[r],e);return!s&&r<t.length-1?void 0:r===t.length-1?s:GE(s,t,r+1)}function Ud(e,t,r=0){return typeof t=="string"&&t.indexOf(".")===-1?HE(t,e):GE(e,UE(t),r)}function Ef(e,t){return Ud(e,t)}function cS(e,t){return Ud(t,e)!==void 0}var Si;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Si||(Si={}));class dS{constructor(t){this.autoDestroy=!1,this.properties=t}}function qd(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const s=Object.create(t.properties),i=t.autoDestroy;for(const n in s)s[n]=D(s[n]);t=new dS(s),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new dS({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function GR(e){return qd(e).properties}function Bd(e,t){const r=GR(e);let s=r[t];return s||(s=r[t]={}),s}function WR(e,t){return lh(e,t,KR)}const JR=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function KR(e){return JR.test(e)?"replace":"merge"}var Ve;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(Ve||(Ve={}));const Wg=Ve.USER+1;function sn(e){switch(e){case"defaults":return Ve.DEFAULTS;case"service":return Ve.SERVICE;case"portal-item":return Ve.PORTAL_ITEM;case"web-scene":return Ve.WEB_SCENE;case"web-map":return Ve.WEB_MAP;case"user":return Ve.USER}}function cd(e){switch(e){case Ve.DEFAULTS:return"defaults";case Ve.SERVICE:return"service";case Ve.PORTAL_ITEM:return"portal-item";case Ve.WEB_SCENE:return"web-scene";case Ve.WEB_MAP:return"web-map";case Ve.USER:return"user"}return void 0}function QR(e){return cd(e)}var at;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(at||(at={}));let Tf,Ku=[];const ZR=pe.getLogger("esri.core.Accessor");function Pe(e){Tf!==void 0&&Tf.onObservableAccessed(e)}let uh=!1,ch=!1;function un(e,t,r){if(uh)return r1(e,t,r);WE(e);const s=t.call(r);return JE(),s}function YR(e,t){return un(void 0,e,t)}function r1(e,t,r){const s=uh;uh=!0,WE(e);let i=null;try{i=t.call(r)}catch(n){ch&&ZR.error(n)}return JE(),uh=s,i}function WE(e){Tf=e,Ku.push(e)}function JE(){const e=Ku.pop();Tf=Ku.length>0?Ku[Ku.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function KE(e,t){if(t.flags&at.DepTrackingInitialized)return;const r=ch;ch=!1,t.flags&at.AutoTracked?r1(t,t.metadata.get,e):QE(e,t),ch=r}const XR=[];function QE(e,t){t.flags&at.ExplicitlyTracking||(t.flags|=at.ExplicitlyTracking,r1(t,()=>{const r=t.metadata.dependsOn||XR;for(const s of r)if(typeof s=="string"&&s.indexOf(".")===-1)pS(e,s,!1);else{const i=UE(s);for(let n=0,a=e;n<i.length&&a!=null&&typeof a=="object";++n)a=pS(a,i[n],n!==i.length-1)}}),t.flags&=~at.ExplicitlyTracking)}function pS(e,t,r){const s=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const a=parseInt(s,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.getItemAt(a)}const i=$r(e),n=i==null?void 0:i.properties.get(s);return n&&(Pe(n),KE(e,n)),r?e[s]:void 0}class ZE{constructor(t,r){this._observers=t,this._observer=r}remove(){IE(this._observers,this._observer)}}class hS{constructor(t,r,s){this.properties=t,this.propertyName=r,this.metadata=s,this._observers=null,this._accessed=null,this._handles=null,this.flags=at.Dirty|(s.nonNullable?at.NonNullable:0)|(s.hasOwnProperty("value")?at.HasDefaultValue:0)|(s.get===void 0?at.DepTrackingInitialized:0)|(s.dependsOn===void 0?at.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Pe(this);const t=this.properties.store,r=this.propertyName,s=this.flags,i=t.get(r);if(s&at.Computing||~s&at.Dirty&&t.has(r))return i;this.flags|=at.Computing;const n=this.properties.host;let a;s&at.AutoTracked?a=un(this,this.metadata.get,n):(QE(n,this),a=this.metadata.get.call(n)),t.set(r,a,Ve.COMPUTED);const l=t.get(r);return l===i?this.flags&=~at.Dirty:YR(this.commit,this),this.flags&=~at.Computing,l}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=at.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let r=this._handles;r===null&&(r=this._handles=[]);for(let s=0;s<t.length;++s)r.push(t[s].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new ZE(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&at.Overriden&&(this.flags|=at.Dirty);const t=this._observers;if(t!==null)for(let r=0;r<t.length;++r)t[r].onInvalidated()}commit(){this.flags&=~at.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let r=0;r<t.length;++r)t[r].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}}class s1{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new s1;return this._values.forEach((s,i)=>{t&&t.has(i)||r.set(i,D(s))}),r}get(t){return this._values.get(t)}originOf(){return Ve.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function Ep(e,t,r){return e!==void 0}function fS(e,t,r,s){return e!==void 0&&(!(r==null&&e.flags&at.NonNullable)||(s.lifecycle,Si.INITIALIZING,!1))}function eP(e){return e&&typeof e.destroy=="function"}pe.getLogger("esri.core.accessorSupport.Properties");class tP{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Si.INITIALIZING,this.store=new s1,this._origin=Ve.USER;const r=this.host.constructor.__accessorMetadata__,s=r.properties;for(const i in s){const n=new hS(this,i,s[i]);this.properties.set(i,n)}this.metadatas=s,this._autoDestroy=r.autoDestroy}initialize(){this.lifecycle=Si.CONSTRUCTING}constructed(){this.lifecycle=Si.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,r]of this.properties){const s=this.internalGet(t);s&&eP(s)&&(s.destroy(),~r.flags&at.NonNullable&&this._internalSet(r,null)),r.destroy()}else for(const[t,r]of this.properties)r.destroy()}get initialized(){return this.lifecycle!==Si.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();Pe(r);const s=this.store;return s.has(t)?s.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const s=this.properties.get(t);if(s!==void 0&&s.flags&at.HasDefaultValue)return"defaults"}return cd(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(Ep(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const s=this.properties.get(t);Ep(s)&&this._internalSet(s,r)}getDependsInfo(t,r,s){const i=this.properties.get(r);if(!Ep(i))return"";const n=new Set,a=un({onObservableAccessed:d=>n.add(d),onTrackingEnd:()=>{}},()=>{var d;return(d=i.metadata.get)==null?void 0:d.call(t)});let l=`${s}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;if(n.size===0)return l;s+="  ";for(const d of n){if(!(d instanceof hS))continue;const h=d.properties.host,f=d.propertyName,y=$r(h);l+=y?y.getDependsInfo(h,f,s):`${s}${f}: undefined
`}return l}setAtOrigin(t,r,s){const i=this.properties.get(t);if(Ep(i))return this._setAtOrigin(i,r,s)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.flags&at.Overriden)}clearOverride(t){const r=this.properties.get(t);r!==void 0&&r.flags&at.Overriden&&(r.flags&=~at.Overriden,r.notifyChange())}override(t,r){const s=this.properties.get(t);if(!fS(s,t,r,this))return;const i=s.metadata.cast;if(i){const n=this._cast(i,r),{valid:a,value:l}=n;if(Am.release(n),!a)return;r=l}s.flags|=at.Overriden,this._internalSet(s,r)}set(t,r){const s=this.properties.get(t);if(!fS(s,t,r,this))return;const i=s.metadata.cast;if(i){const a=this._cast(i,r),{valid:l,value:d}=a;if(Am.release(a),!l)return;r=d}const n=s.metadata.set;n?n.call(this.host,r):this._internalSet(s,r)}setDefaultOrigin(t){this._origin=sn(t)}getDefaultOrigin(){return cd(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const s=this.lifecycle!==Si.INITIALIZING?this._origin:Ve.DEFAULTS;this._setAtOrigin(t,r,s)}_setAtOrigin(t,r,s){const i=this.store,n=t.propertyName;i.has(n,s)&&gy(r,i.get(n))&&~t.flags&at.Overriden&&s===i.originOf(n)||(t.invalidate(),i.set(n,r,s),t.commit(),KE(this.host,t))}_cast(t,r){const s=Am.acquire();return s.valid=!0,s.value=r,t&&(s.value=t.call(this.host,r,s)),s}}class rP{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const Am=new ln(rP);function sP(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(r,s){if(s==="")return"$";const i=Dd(s,t),n=i??"";if(n===void 0)throw new Error(`could not find key "${s}" in template`);return n.toString()})}class wy{constructor(t,r,s){this.name=t,this.details=s,this.message=void 0,this instanceof wy&&(this.message=r&&sP(r,s)||"")}toString(){return"["+this.name+"]: "+this.message}}class Y extends wy{constructor(t,r,s){if(super(t,r,s),!(this instanceof Y))return new Y(t,r,s)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return D(r)}catch{return"[object]"}}))}}catch(t){throw pe.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new Y(t.name,t.message,t.details)}}Y.prototype.type="error";function kf(e,t,r){if(e&&t)if(typeof t=="object")for(const s of Object.getOwnPropertyNames(t))kf(e,s,t[s]);else{if(t.indexOf(".")!==-1){const i=t.split("."),n=i.splice(i.length-1,1)[0];return void kf(Ef(e,i),n,r)}const s=e.__accessor__;s!=null&&iP(t,s),e[t]=r}}function iP(e,t){if(X("esri-unknown-property-errors")&&!nP(e,t))throw new Y("set:unknown-property",oP(e,t))}function nP(e,t){return t.metadatas[e]!=null}function oP(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}pe.getLogger("esri.core.accessorSupport.set");class aP extends ln{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=xR(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const Tp=[];function dd(e){Tp.push(e),Tp.length===1&&queueMicrotask(()=>{const t=Tp.slice();Tp.length=0;for(const r of t)r()})}const lP=29;class i1{constructor(t,r=lP){this.name=t,this._counter=0,this._items=new Array(r)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,r)=>t-r)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,r)=>t+r,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var Jg;(function(e){const t=(n,a,l,d)=>{let h=a,f=a;const y=l>>>1,v=n[h-1];for(;f<=y;){f=h<<1,f<l&&d(n[f-1],n[f])<0&&++f;const b=n[f-1];if(d(b,v)<=0)break;n[h-1]=b,h=f}n[h-1]=v},r=(n,a)=>n<a?-1:n>a?1:0;function s(n,a,l,d){a===void 0&&(a=0),l===void 0&&(l=n.length),d===void 0&&(d=r);for(let f=l>>>1;f>a;f--)t(n,f,l,d);const h=a+1;for(let f=l-1;f>a;f--){const y=n[a];n[a]=n[f],n[f]=y,t(n,h,f,d)}}function*i(n,a,l,d){a===void 0&&(a=0),l===void 0&&(l=n.length),d===void 0&&(d=r);for(let f=l>>>1;f>a;f--)t(n,f,l,d),yield;const h=a+1;for(let f=l-1;f>a;f--){const y=n[a];n[a]=n[f],n[f]=y,t(n,h,f,d),yield}}e.sort=s,e.iterableSort=i})(Jg||(Jg={}));const yS=Jg,uP=1.5,cP=1.1;class pd{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Xw,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>mS(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let s=0;s<this._length;s++){const i=this.data[s];t(i)&&r.push(i)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let s=0;s<r;s++)this.data[this._length++]=t[s]}fill(t,r){for(let s=0;s<r;s++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,mS(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=e1(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){const r=ME(this.data,t,this.length,this._hint);return r!==void 0&&(this.length=this.length-1),this._shrink(),r}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,s){this.length=AR(this.data,t,this.length,r,this._hint,s),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){t>=this.length||r>=this.length||t===r||([this.data[t],this.data[r]]=[this.data[r],this.data[t]])}sort(t){yS.sort(this.data,0,this.length,t)}iterableSort(t){return yS.iterableSort(this.data,0,this.length,t)}some(t,r){for(let s=0;s<this.length;++s)if(t.call(r,this.data[s],s,this.data))return!0;return!1}filterInPlace(t,r){let s=0;for(let i=0;i<this._length;++i){const n=this.data[i];t.call(r,n,i,this.data)&&(this.data[i]=this.data[s],this.data[s]=n,s++)}if(this._deallocator)for(let i=s;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=s,this._shrink(),this}forAll(t,r){const s=this.length,i=this.data;for(let n=0;n<s;++n)t.call(r,i[n],n,i)}forEach(t,r){for(let s=0;s<this.length;++s)t.call(r,this.data[s],s,this.data)}map(t,r){const s=new Array(this.length);for(let i=0;i<this.length;++i)s[i]=t.call(r,this.data[i],i,this.data);return s}reduce(t,r){let s=r;for(let i=0;i<this.length;++i)s=t(s,this.data[i],i,this.data);return s}has(t){const r=this.length,s=this.data;for(let i=0;i<r;++i)if(s[i]===t)return!0;return!1}}function mS(e){e.data.length>uP*e.length&&(e.data.length=Math.floor(e.length*cP))}function dP(e){return{setTimeout:(t,r)=>{const s=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(s)}}}}const pP=dP(globalThis);function _y(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Hd(e,t,r){if(!_y(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const s=t.slice();for(const i of s)e.addEventListener(i,r);return{remove(){for(const i of s)e.removeEventListener(i,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function YE(e,t,r){if(!_y(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const s=Hd(e,t,i=>{s.remove(),r.call(e,i)});return{remove(){s.remove()}}}const hP={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function Rm({key:e}){return hP[e]||e}function fP(e){return Promise.all(e)}function XE(e){return new Promise((t,r)=>{try{e(t,r)}catch(s){Promise.resolve().then(()=>r(s))}})}function hr(e="Aborted"){return new Y("AbortError",e)}function Xs(e,t="Aborted"){if(po(e))throw hr(t)}function Sy(e){return H(e)?"aborted"in e?e:e.signal:e}function po(e){const t=Sy(e);return H(t)&&t.aborted}function hu(e){if(ei(e))throw e}function Kg(e){if(!ei(e))throw e}function cn(e,t){const r=Sy(e);if(!be(r)){if(!r.aborted)return YE(r,"abort",()=>t());t()}}function $y(e,t){const r=Sy(e);if(!be(r))return Xs(r),YE(r,"abort",()=>t(hr()))}function eT(e,t){const r=Sy(t);return be(r)?e:new Promise((s,i)=>{let n=cn(t,()=>i(hr()));const a=()=>n=Nd(n);e.then(a,a),e.then(s,i)})}function ei(e){return e&&e.name==="AbortError"}function tT(e){return e.catch(t=>{if(!ei(t))throw t})}function xa(){let e=null;const t=new Promise((r,s)=>{e={promise:void 0,resolve:r,reject:s}});return e.promise=t,e}function $i(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e);return $i(r.map(s=>e[s])).then(s=>{const i={};return r.forEach((n,a)=>i[n]=s[a]),i})}const t=e;return XE(r=>{const s=[];let i=t.length;i===0&&r(s),t.forEach(n=>{const a={promise:n||Promise.resolve(n)};s.push(a),a.promise.then(l=>{a.value=l}).catch(l=>{a.error=l}).then(()=>{--i,i===0&&r(s)})})})}function yP(e){return $i(e).then(t=>t.filter(r=>!!r.value).map(r=>r.value))}function mP(e){return Promise.reject(e)}function rT(e){return Promise.resolve(e)}function n1(e,t,r){const s=new AbortController;return cn(r,()=>s.abort()),new Promise((i,n)=>{let a=setTimeout(()=>{a=0,i(t)},e);cn(s,()=>{a&&(clearTimeout(a),n(hr()))})})}function fu(e){return e&&typeof e.then=="function"}function Qg(e){return fu(e)?e:Promise.resolve(e)}function o1(e,t=-1){let r,s,i,n,a=null;const l=(...d)=>{if(r){s=d,n&&n.reject(hr()),n=xa();const v=n.promise;if(a){const b=a;a=null,b.abort()}return v}if(i=n||xa(),n=null,t>0){const v=new AbortController;r=Qg(e(...d,v.signal));const b=r;n1(t).then(()=>{r===b&&(n?v.abort():a=v)})}else r=1,r=Qg(e(...d));const h=()=>{const v=s;s=i=r=a=null,v!=null&&l(...v)},f=r,y=i;return f.then(h,h),f.then(y.resolve,y.reject),y.promise};return l}function sT(){let e,t;const r=new Promise((i,n)=>{e=i,t=n}),s=i=>{e(i)};return s.resolve=i=>e(i),s.reject=i=>t(i),s.timeout=(i,n)=>pP.setTimeout(()=>s.reject(n),i),s.promise=r,s}function gP(e,t){let r,s=new AbortController;const i=e(s.signal);let n={promise:i,finished:!1,abort:()=>{s&&(s.abort(),s=null)}};const a=()=>{n&&(n.finished=!0,n=null),H(r)&&(r.remove(),r=null),s=null};return i.then(a,a),r=cn(t,()=>{H(n)&&n.abort()}),n}function vP(e){return Promise.resolve().then(()=>{Xs(e)})}function bP(e){return e}class wP{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let gS=0;const Pu={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Zg=["prepare","preRender","render","postRender","update","finish"],Yg=[],hd=new pd,Xg={frameTasks:hd,willDispatch:!1,clearFrameTasks:_P,dispatch:nT,executeFrameTasks:SP};function xy(e){const t=new wP(e);return Yg.push(t),Xg.willDispatch||(Xg.willDispatch=!0,dd(nT)),t}function _P(e=!1){hd.forAll(t=>{t.removed=!0}),e&&iT()}function SP(e){const t=e-gS;gS=e;const r=1e3/60,s=Math.max(0,t-r);for(let i=0;i<Zg.length;i++){const n=performance.now(),a=Zg[i];hd.forAll(l=>{var d;l.paused||l.removed||(i===0&&l.ticks++,l.phases[a]&&(Pu.time=e,Pu.deltaTime=l.ticks===0?0:t,Pu.elapsedFrameTime=performance.now()-e,Pu.frameDuration=r-s,(d=l.phases[a])==null||d.call(l,Pu)))}),xP[i].record(performance.now()-n)}iT(),EP.record(performance.now()-e)}const kp=new pd;function iT(){hd.forAll(e=>{e.removed&&kp.push(e)}),hd.removeUnorderedMany(kp.data,kp.length),kp.clear()}function nT(){for(;Yg.length;){const e=Yg.shift();e.isActive&&e.callback()}Xg.willDispatch=!1}function $P(e=1,t){const r=sT(),s=()=>{po(t)?r.reject(hr()):e===0?r():(--e,dd(()=>s()))};return s(),r.promise}const xP=Zg.map(e=>new i1(e)),EP=new i1("total");let TP=0;function Ll(){return++TP}class Ey{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed;for(let s=0;s<r.length;++s)t.push(r[s].observe(this));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}let Fl=!1;const Mf=[];function oT(e,t){let r=new Ey(n),s=null,i=!1;function n(){if(!r||i)return;if(Fl)return void uT(n);const l=s;r.clear(),Fl=!0,i=!0,s=un(r,e),i=!1,Fl=!1,t(s,l),cT()}function a(){r&&(r.destroy(),r=null,s=null)}return i=!0,s=un(r,e),i=!1,{remove:a}}function aT(e,t){let r=new Ey(i),s=null;function i(){t(s,a)}function n(){r&&(r.destroy(),r=null),s=null}function a(){return r?(r.clear(),s=un(r,e),s):null}return a(),{remove:n}}function lT(e){let t=new Ey(s),r=!1;function s(){t&&!r&&(Fl?uT(s):(t.clear(),Fl=!0,r=!0,un(t,e),r=!1,Fl=!1,cT()))}function i(){t&&(t.destroy(),t=null)}return r=!0,un(t,e),r=!1,{remove:i}}function uT(e){Mf.includes(e)||Mf.unshift(e)}function cT(){for(;Mf.length;)Mf.pop()()}var Uc;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Uc||(Uc={}));class fd{constructor(){this.uid=Ll(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,s,i,n){return this.pool.acquire(Uc.Untracked,t,r,s,i,n,gy)}static acquireTracked(t,r,s,i){return this.pool.acquire(Uc.Tracked,t,r,s,null,null,i)}notify(t,r){this.type===Uc.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,s,i,n,a,l){this.uid=Ll(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=s,this.getValue=i,this.target=n,this.path=a,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Ll(),this.removed=!0}}fd.pool=new aP(fd);const dh=new Bs,oo=new Set;let If;function Of(e){oo.delete(e),oo.add(e),If||(If=xy(IP))}function kP(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function MP(e){for(const t of oo.values())t.target===e&&(t.removed=!0)}function IP(){let e=10;for(;If&&e--;){If=null;const t=OP(),r=dh.acquire();for(const s of t){const i=s.uid;kP(s),i===s.uid&&s.removed&&r.push(s)}for(const s of oo)s.removed&&(r.push(s),oo.delete(s));for(const s of r)fd.pool.release(s);dh.release(r),dh.release(t),jP.forEach(s=>s())}}function OP(){const e=dh.acquire();e.length=oo.size;let t=0;for(const r of oo)e[t]=r,++t;return oo.clear(),e}const jP=new Set;function CP(e,t,r){let s=qE(e,t,r,(i,n,a)=>{let l,d,h=aT(()=>Ud(i,n),(f,y)=>{i.__accessor__.destroyed||l&&l.uid!==d?s.remove():(l||(l=fd.acquireUntracked(f,a,y,i,n),d=l.uid),Of(l))});return{remove:BE(()=>{h.remove(),l&&(l.uid!==d||l.removed||(l.removed=!0,Of(l)),l=null),s=h=null})}});return s}function AP(e,t,r){const s=qE(e,t,r,(i,n,a)=>{let l=!1;return oT(()=>Ud(i,n),(d,h)=>{i.__accessor__.destroyed?s.remove():l||(l=!0,gy(h,d)||a.call(i,d,h,n,i),l=!1)})});return s}function RP(e,t,r,s=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:s?AP(e,t,r):CP(e,t,r)}function PP(e,t,r){let s,i,n=aT(e,(a,l)=>{s&&s.uid!==i?n.remove():(s||(s=fd.acquireTracked(a,t,l,r),i=s.uid),Of(s))});return{remove:BE(()=>{n.remove(),s&&(s.uid!==i||s.removed||(s.removed=!0,Of(s)),s=null),n=null})}}function LP(e,t,r){let s=!1;return oT(e,(i,n)=>{s||(s=!0,r(n,i)||t(i,n),s=!1)})}function FP(e,t,r=!1,s=gy){return r?LP(e,t,s):PP(e,t,s)}function dT(e,t,r){const s=e.get(t);if(s!==void 0)return s;const i=r();return e.set(t,i),i}const Nl=pe.getLogger("esri.core.Accessor");function NP(e){return e==null?e:new Date(e)}function DP(e){return e==null?e:!!e}function Gd(e){return e==null?e:e.toString()}function Wd(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function Ty(e){return e==null?e:Math.round(parseFloat(e))}function pT(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function jf(e,t){return t!=null&&e&&!(t instanceof e)}function hT(e){return e&&"isCollection"in e}function vS(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function zP(e,t){if(!t||!t.constructor||!hT(t.constructor))return e0(e,t)?t:new e(t);const r=vS(e.prototype.itemType),s=vS(t.constructor.prototype.itemType);return r?s?r===s?t:r.prototype.isPrototypeOf(s.prototype)?new e(t):(e0(e,t),t):new e(t):t}function e0(e,t){return!!pT(t)&&(Nl.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+My(e)+"'"),!0)}function ky(e,t){return t==null?t:hT(e)?zP(e,t):jf(e,t)?e0(e,t)?t:new e(t):t}function My(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const VP=new WeakMap;function UP(e){switch(e){case Number:return Wd;case Bt:return Ty;case Boolean:return DP;case String:return Gd;case Date:return NP;default:return dT(VP,e,()=>ky.bind(null,e))}}function lt(e,t){const r=UP(e);return arguments.length===1?r:r(t)}function yd(e,t,r){return arguments.length===1?yd.bind(null,e):t&&(Array.isArray(t)?t.map(s=>e(s,r)):[e(t,r)])}function qP(e,t){return arguments.length===1?yd(lt.bind(null,e)):yd(lt.bind(null,e),t)}function fT(e,t,r){return t!==0&&Array.isArray(r)?r.map(s=>fT(e,t-1,s)):e(r)}function Cf(e,t,r){if(arguments.length===2)return Cf.bind(null,e,t);if(!r)return r;let s=t,i=r=fT(e,t,r);for(;s>0&&Array.isArray(i);)s--,i=i[0];if(i!==void 0)for(let n=0;n<s;n++)r=[r];return r}function BP(e,t,r){return arguments.length===2?Cf(lt.bind(null,e),t):Cf(lt.bind(null,e),t,r)}function yT(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function t0(e,t){if(arguments.length===2)return t0(e).call(null,t);const r=new Set,s=e.filter(l=>typeof l!="function"),i=e.filter(l=>typeof l=="function");for(const l of e)typeof l!="string"&&typeof l!="number"||r.add(l);let n=null,a=null;return(l,d)=>{if(l==null)return l;const h=typeof l,f=h==="string"||h==="number";return f&&(r.has(l)||i.some(y=>h==="string"&&y===String||h==="number"&&y===Number))||h==="object"&&i.some(y=>!jf(l,y))?l:(f&&s.length?(n||(n=s.map(y=>typeof y=="string"?`'${y}'`:`${y}`).join(", ")),Nl.error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof l=="object"&&i.length?(a||(a=i.map(y=>My(y)).join(", ")),Nl.error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${a}`)):Nl.error("Accessor#set",`'${l}' is not a valid value for this property`),d&&(d.valid=!1),null)}}function Ti(e,t){if(arguments.length===2)return Ti(e).call(null,t);const r={},s=[],i=[];for(const d in e.typeMap){const h=e.typeMap[d];r[d]=lt(h),s.push(My(h)),i.push(d)}const n=()=>`'${s.join("', '")}'`,a=()=>`'${i.join("', '")}'`,l=typeof e.key=="string"?d=>d[e.key]:e.key;return d=>{if(e.base&&!jf(e.base,d)||d==null)return d;const h=l(d)||e.defaultKeyValue,f=r[h];if(!f)return Nl.error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!jf(e.typeMap[h],d))return d;if(typeof e.key=="string"&&!pT(d)){const y={};for(const v in d)v!==e.key&&(y[v]=d[v]);return f(y)}return f(d)}}class Bt{}const HP={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function GP(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function mT(e){switch(e.type){case"native":return lt(e.value);case"array":return yd(mT(e.value));case"one-of":return WP(e);default:return null}}function WP(e){let t=null;return(r,s)=>s0(r,e)?r:(t==null&&(t=r0(e)),Nl.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),s&&(s.valid=!1),null)}function r0(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Bt:return"integer";case Date:return"date";default:return My(e.value)}case"array":return`array of ${r0(e.value)}`;case"one-of":{const t=e.values.map(r=>r0(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function s0(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Bt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!s0(r,t.value));case"one-of":return t.values.some(r=>s0(e,r))}}function c(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const s=Object.getOwnPropertyDescriptor(t,r),i=Bd(t,r);s&&(s.get||s.set?(i.get=s.get||i.get,i.set=s.set||i.set):"value"in s&&("value"in e&&pe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=s.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const n=e.aliasOf;if(n){const d=typeof n=="string"?n:n.source,h=typeof n=="string"?null:n.overridable===!0;let f;i.dependsOn=[d],i.get=function(){let y=Ef(this,d);if(typeof y=="function"){f||(f=d.split(".").slice(0,-1).join("."));const v=Ef(this,f);v&&(y=y.bind(v))}return y},i.readOnly||(i.set=h?function(y){y!==void 0?this._override(r,y):this._clearOverride(r)}:function(y){kf(this,d,y)})}const a=e.type,l=e.types;i.cast||(a?i.cast=JP(a):l&&(Array.isArray(l)?i.cast=yd(Ti(l[0])):i.cast=Ti(l))),e.range&&(i.cast=gT(i.cast,e.range)),WR(i,e)}}function a1(e,t,r){const s=Bd(e,r);s.json||(s.json={});let i=s.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function JP(e){let t=0,r=e;if(GP(e))return mT(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const s=r;if(yT(s))return t===0?t0(s):Cf(t0(s),t);if(t===1)return qP(s);if(t>1)return BP(s,t);const i=e;return i.from?i.from:lt(i)}function gT(e,t){return r=>{let s=+e(r);return t.step!=null&&(s=Math.round(s/t.step)*t.step),t.min!=null&&(s=Math.max(t.min,s)),t.max!=null&&(s=Math.min(t.max,s)),s}}function KP(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const s in r)if(t[s]){const i=t[s];r[s].forEach(n=>{t[n]=i}),delete t[s]}}}class Hr extends wy{constructor(t,r,s){if(super(t,r,s),!(this instanceof Hr))return new Hr(t,r,s)}}Hr.prototype.type="warning";function vT(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const i0=pe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function bS(e,t,r){var s,i;e&&(!r&&!t.read||(s=t.read)!=null&&s.reader||((i=t.read)==null?void 0:i.enabled)===!1||YP(e)&&Br("read.reader",Ra(e),t))}function Ra(e){var t;const r=(t=e.ndimArray)!=null?t:0;if(r>1)return ZP(e);if(r===1)return wS(e);if("type"in e&&wT(e.type)){var s,i;const n=(s=e.type.prototype)==null||(i=s.itemType)==null?void 0:i.Type,a=wS(typeof n=="function"?{type:n}:{types:n});return(l,d,h)=>{const f=a(l,d,h);return f&&new e.type(f)}}return l1(e)}function l1(e){return"type"in e?QP(e.type):XP(e.types)}function QP(e){return e.prototype.read?(t,r,s)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void i0.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const n=new e;return n.read(t,s),n}:e.fromJSON}function bT(e,t,r,s){return s!==0&&Array.isArray(t)?t.map(i=>bT(e,i,r,s-1)):e(t,void 0,r)}function ZP(e){var t;const r=l1(e),s=bT.bind(null,r),i=(t=e.ndimArray)!=null?t:0;return(n,a,l)=>{if(n==null)return n;n=s(n,l,i);let d=i,h=n;for(;d>0&&Array.isArray(h);)d--,h=h[0];if(h!==void 0)for(let f=0;f<d;f++)n=[n];return n}}function wS(e){const t=l1(e);return(r,s,i)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const l of r){const d=t(l,void 0,i);d!==void 0&&a.push(d)}return a}const n=t(r,void 0,i);return n!==void 0?[n]:void 0}}function wT(e){if(!vT(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?u1(t.Type):_T(t.Type))}function YP(e){return"types"in e?_T(e.types):u1(e.type)}function u1(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||wT(e))}function _T(e){for(const t in e.typeMap)if(!u1(e.typeMap[t]))return!1;return!0}function XP(e){var t;let r=null;const s=(t=e.errorContext)!=null?t:"type";return(i,n,a)=>{if(i==null)return i;const l=typeof i;if(l!=="object")return void i0.error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);r||(r=e9(e));const d=e.key;if(typeof d!="string")return;const h=i[d],f=h?r[h]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const v=`Type '${h||"unknown"}' is not supported`;return a&&a.messages&&i&&a.messages.push(new Hr(`${s}:unsupported`,v,{definition:i,context:a})),void i0.error(v)}const y=new f;return y.read(i,a),y}}function e9(e){const t={};for(const i in e.typeMap){var r,s;const n=e.typeMap[i],a=qd(n.prototype);if(typeof e.key=="function")continue;const l=a.properties[e.key];if(!l)continue;(r=l.json)!=null&&r.type&&Array.isArray(l.json.type)&&l.json.type.length===1&&typeof l.json.type[0]=="string"&&(t[l.json.type[0]]=n);const d=(s=l.json)==null?void 0:s.write;if(!d||!d.writer){t[i]=n;continue}const h=d.target,f=typeof h=="string"?h:e.key,y={};d.writer(i,y,f),y[f]&&(t[y[f]]=n)}return t}function t9(e){if(e.json||(e.json={}),SS(e.json),$S(e.json),_S(e.json),e.json.origins)for(const t in e.json.origins)SS(e.json.origins[t]),$S(e.json.origins[t]),_S(e.json.origins[t]);return!0}function _S(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function SS(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function $S(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const r9=pe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function xS(e,t){var r;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const s=(r=e==null?void 0:e.ndimArray)!=null?r:0;e&&(s===1||"type"in e&&vT(e.type))?t.write.writer=n9:s>1?t.write.writer=o9(s):t.types?Array.isArray(t.types)?t.write.writer=i9(t.types[0]):t.write.writer=s9(t.types):t.write.writer=md}function s9(e){return(t,r,s,i)=>t?ST(t,e,i)?md(t,r,s,i):void 0:md(t,r,s,i)}function ST(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){var s,i;const n=(s=t.errorContext)!=null?s:"type",a=`Values of type '${(i=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?i:"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new Y(`${n}:unsupported`,a,{definition:e,context:r})),r9.error(a)}return!1}function i9(e){return(t,r,s,i)=>!t||!Array.isArray(t)?md(t,r,s,i):md(t.filter(n=>ST(n,e,i)),r,s,i)}function md(e,t,r,s){Br(r,Af(e,s),t)}function Af(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?$T(e):e}function $T(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function n9(e,t,r,s){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(n=>Af(n,s)),typeof i.toArray=="function"&&(i=i.toArray())):i=[Af(e,s)],Br(r,i,t)}function xT(e,t,r){return r!==0&&Array.isArray(e)?e.map(s=>xT(s,t,r-1)):Af(e,t)}function o9(e){return function(t,r,s,i){let n;if(t===null)n=null;else{n=xT(t,i,e);let a=e,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let d=0;d<a;d++)n=[n]}Br(s,n,r)}}function n0(e,t){return c1(e,"read",t)}function ET(e,t){return c1(e,"write",t)}function c1(e,t,r){let s=e&&e.json;if(e&&e.json&&e.json.origins&&r){const i=e.json.origins[r.origin];i&&(t==="any"||t in i)&&(s=i)}return s}function a9(e){const t=l9(e);if(e.json.origins)for(const r in e.json.origins){const s=e.json.origins[r],i=s.types?u9(s):t;bS(i,s,!1),s.types&&!s.write&&e.json.write&&e.json.write.enabled&&(s.write=V({},e.json.write)),xS(i,s)}bS(t,e.json,!0),xS(t,e.json)}function l9(e){return e.json.types?o0(e.json):e.type?TT(e):o0(e)}function u9(e){return e.type?TT(e):o0(e)}function TT(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!yT(r);)r=r[0],t++;return{type:r,ndimArray:t}}function o0(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function c9(e){t9(e)&&(KP(e),a9(e))}const Pm=new Set,Lm=new Set;function k(e){return t=>{t.prototype.declaredClass=e,p9(t);const r=[],s=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!Pm.has(i.initialize)&&(Pm.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!Lm.has(i.destroy)&&(Lm.add(i.destroy),s.push(i.destroy)),i=Object.getPrototypeOf(i);Pm.clear(),Lm.clear();class n extends t{constructor(...l){if(super(...l),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let d=r.length-1;d>=0;d--)r[d].call(this)}}),s.length){let d=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!d){d=!0;for(let h=0;h<s.length;h++)s[h].call(this)}}})}this.postscript(...l)}}}return n.__accessorMetadata__=qd(t.prototype),n.prototype.declaredClass=e,n}}function d9(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;Pe(r);const s=this.__accessor__.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function p9(e){const t=e.prototype,r=qd(t).properties,s={};for(const i of Object.getOwnPropertyNames(r)){const n=r[i];c9(n),s[i]={enumerable:!0,configurable:!0,get:d9(i,n),set(a){const l=this.__accessor__;if(l!==void 0){if(!Object.isFrozen(this)){if(l.initialized&&n.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${i}' of ${this.declaredClass}`);if(l.lifecycle===Si.CONSTRUCTED&&n.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${i}' of ${this.declaredClass}`);l.set(i,a)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,s)}function h9(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class vt{constructor(...t){if(this.constructor===vt)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new tP(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:s,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class a extends n{constructor(...d){super(...d),this.inherited=null,i&&i.apply(this,d)}}qd(a.prototype);for(const l in t){const d=t[l];a.prototype[l]=typeof d=="function"?function(...h){const f=this.inherited;let y;this.inherited=function(...v){if(n.prototype[l])return n.prototype[l].apply(this,v)};try{y=d.apply(this,h)}catch(v){throw this.inherited=f,v}return this.inherited=f,y}:t[l]}for(const l in r){const d=h9(r[l]);c(d)(a.prototype,l)}return k(s)(a)}postscript(t){const r=this.__accessor__,s=r.ctorArgs||t;r.initialize(),s&&(this.set(s),r.ctorArgs=null),r.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(MP(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===Si.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Ef(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return Ya(pe.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return kf(this,t,r),this}watch(t,r,s){return RP(this,t,r,s)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,r){return this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}class Dl{constructor(){this._emitter=new Dl.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(i=null){this.target=i,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(i,n){const a=this._listenersMap&&this._listenersMap.get(i);if(!a)return!1;const l=this.target||this;return[...a].forEach(d=>{d.call(l,n)}),a.length>0}on(i,n){if(Array.isArray(i)){const l=i.map(d=>this.on(d,n));return by(l)}if(i.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const a=this._listenersMap.get(i)||[];return a.push(n),this._listenersMap.set(i,a),{remove:()=>{const l=this._listenersMap&&this._listenersMap.get(i)||[],d=l.indexOf(n);d>=0&&l.splice(d,1)}}}once(i,n){const a=this.on(i,l=>{a.remove(),n.call(null,l)});return a}hasEventListener(i){const n=this._listenersMap&&this._listenersMap.get(i);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=s=>{let i=class extends s{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return i=o([k("esri.core.Evented")],i),i};let r=class extends vt{constructor(){super(...arguments),this._emitter=new Dl.EventEmitter(this)}destroy(){this._emitter.clear()}emit(s,i){return this._emitter.emit(s,i)}on(s,i){return this._emitter.on(s,i)}once(s,i){return this._emitter.once(s,i)}hasEventListener(s){return this._emitter.hasEventListener(s)}};r=o([k("esri.core.Evented")],r),e.EventedAccessor=r})(Dl||(Dl={}));const Jd=Dl;var tt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(tt||(tt={}));function d1(e){return(t,r)=>{t[r]=e}}class f9{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new ZE(this._observers,t)}notify(){const t=this._observers.slice();for(let r=0;r<t.length;++r){const s=t[r];s.onInvalidated(),s.onCommitted()}}}var en;class y9{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const as=new ln(y9,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),m9=()=>{};function Fm(e){return e?e instanceof oa?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Nm(e){if(e&&e.length)return e[0]}function g9(e,t,r,s){const i=Math.min(e.length-r,t.length-s);let n=0;for(;n<i&&e[r+n]===t[s+n];)n++;return n}function kT(e,t,r,s){t&&t.forEach((i,n,a)=>{e.push(i),kT(e,r.call(s,i,n,a),r,s)})}const _n=new Set,Sn=new Set,$n=new Set,Dm=new Map;let v9=0,oa=en=class extends Jd.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new f9,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:v9++})}static isCollection(e){return e!=null&&e instanceof en}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof en?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Pe(this._observable),this._items}set items(e){this._emitBeforeChanges(tt.ADD)||(this._splice(0,this.length,Fm(e)),this._emitAfterChanges(tt.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,s={removed:!1,callback:t};return r.push(s),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=m9,s.removed=!0,r.splice(r.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Pe(this._observable),this._emitBeforeChanges(tt.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(tt.ADD),this}addMany(e,t=this._items.length){if(Pe(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(tt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Fm(e)),this._emitAfterChanges(tt.ADD),this}at(e){if(Pe(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(tt.REMOVE),e}clone(){return Pe(this._observable),this._createNewInstance({items:this._items.map(D)})}concat(...e){Pe(this._observable);const t=e.map(Fm);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Pe(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return;const r=this._splice(0,this.length),s=r.length;for(let i=0;i<s;i++)e.call(t,r[i],i,r);this._emitAfterChanges(tt.REMOVE)}every(e,t){return Pe(this._observable),this._items.every(e,t)}filter(e,t){let r;return Pe(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Pe(this._observable),this._items.find(e,t)}findIndex(e,t){return Pe(this._observable),this._items.findIndex(e,t)}flatten(e,t){Pe(this._observable);const r=[];return kT(r,this,e,t),new en(r)}forEach(e,t){return Pe(this._observable),this._items.forEach(e,t)}getItemAt(e){return Pe(this._observable),this._items[e]}getNextIndex(e){Pe(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Pe(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Pe(this._observable),this._items.indexOf(e,t)}join(e=","){return Pe(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Pe(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Pe(this._observable);const r=this._items.map(e,t);return new en({items:r})}reorder(e,t=this.length-1){Pe(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(tt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(tt.MOVE)}return e}}pop(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return;const e=Nm(this._splice(this.length-1,1));return this._emitAfterChanges(tt.REMOVE),e}push(...e){return Pe(this._observable),this._emitBeforeChanges(tt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(tt.ADD)),this.length}reduce(e,t){Pe(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Pe(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Pe(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Pe(this._observable),e<0||e>=this.length||this._emitBeforeChanges(tt.REMOVE))return;const t=Nm(this._splice(e,1));return this._emitAfterChanges(tt.REMOVE),t}removeMany(e){if(Pe(this._observable),!e||!e.length||this._emitBeforeChanges(tt.REMOVE))return[];const t=e instanceof en?e.toArray():e,r=this._items,s=[],i=t.length;for(let n=0;n<i;n++){const a=t[n],l=r.indexOf(a);if(l>-1){const d=1+g9(t,r,n+1,l+1),h=this._splice(l,d);h&&h.length>0&&s.push.apply(s,h),n+=d-1}}return this._emitAfterChanges(tt.REMOVE),s}reverse(){if(Pe(this._observable),this._emitBeforeChanges(tt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(tt.MOVE),this}shift(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(tt.REMOVE))return;const e=Nm(this._splice(0,1));return this._emitAfterChanges(tt.REMOVE),e}slice(e=0,t=this.length){return Pe(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Pe(this._observable),this._items.some(e,t)}sort(e){if(Pe(this._observable),!this.length||this._emitBeforeChanges(tt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(tt.MOVE),this}splice(e,t,...r){Pe(this._observable);const s=(t?tt.REMOVE:0)|(r.length?tt.ADD:0);if(this._emitBeforeChanges(s))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(s),i}toArray(){return Pe(this._observable),this._items.slice()}toJSON(){return Pe(this._observable),this.toArray()}toLocaleString(){return Pe(this._observable),this._items.toLocaleString()}toString(){return Pe(this._observable),this._items.toString()}unshift(...e){return Pe(this._observable),!e.length||this._emitBeforeChanges(tt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(tt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const s=this._items,i=this.itemType;let n,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=xy(()=>this._dispatchChange())),t){if(a=s.splice(e,t),this.hasEventListener("before-remove")){const l=as.acquire();l.target=this,l.cancellable=!0;for(let d=0,h=a.length;d<h;d++)n=a[d],l.reset(n),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(d,1),s.splice(e,0,n),e+=1,d-=1,h-=1);as.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=as.acquire();l.target=this,l.cancellable=!1;const d=a.length;for(let h=0;h<d;h++)l.reset(a[h]),this.emit("after-remove",l);as.release(l)}}if(r&&r.length){if(i){const f=[];for(const y of r){const v=i.ensureType(y);v==null&&y!=null||f.push(v)}r=f}const l=this.hasEventListener("before-add"),d=this.hasEventListener("after-add"),h=e===this.length;if(l||d){const f=as.acquire();f.target=this,f.cancellable=!0;const y=as.acquire();y.target=this,y.cancellable=!1;for(const v of r)l?(f.reset(v),this.emit("before-add",f),f.defaultPrevented||(h?s.push(v):s.splice(e++,0,v),this._set("length",s.length),d&&(y.reset(v),this.emit("after-add",y)))):(h?s.push(v):s.splice(e++,0,v),this._set("length",s.length),y.reset(v),this.emit("after-add",y));as.release(y),as.release(f)}else{if(h)for(const f of r)s.push(f);else s.splice(e,0,...r);this._set("length",s.length)}}return(r&&r.length||a&&a.length)&&this._notifyChangeEvent(r,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=as.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,as.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=as.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),as.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;_n.clear(),Sn.clear(),$n.clear();for(const{added:d,removed:h}of r){if(d)if($n.size===0&&Sn.size===0)for(const f of d)_n.add(f);else for(const f of d)Sn.has(f)?($n.add(f),Sn.delete(f)):$n.has(f)||_n.add(f);if(h)if($n.size===0&&_n.size===0)for(const f of h)Sn.add(f);else for(const f of h)_n.has(f)?_n.delete(f):($n.delete(f),Sn.add(f))}const s=Bs.acquire();_n.forEach(d=>{s.push(d)});const i=Bs.acquire();Sn.forEach(d=>{i.push(d)});const n=this._items,a=t.items,l=Bs.acquire();if($n.forEach(d=>{a.indexOf(d)!==n.indexOf(d)&&l.push(d)}),t.listeners&&(s.length||i.length||l.length)){const d={target:this,added:s,removed:i,moved:l},h=t.listeners.length;for(let f=0;f<h;f++){const y=t.listeners[f];y.removed||y.callback.call(this,d)}}Bs.release(s),Bs.release(i),Bs.release(l)}_n.clear(),Sn.clear(),$n.clear()}};oa.ofType=e=>{if(!e)return en;if(Dm.has(e))return Dm.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const i=e.typeMap[s].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends en{};return o([d1({Type:e,ensureType:typeof e=="function"?lt(e):Ti(e)})],r.prototype,"itemType",void 0),r=o([k(`esri.core.Collection<${t}>`)],r),Dm.set(e,r),r},o([c()],oa.prototype,"length",void 0),o([c()],oa.prototype,"items",null),oa=en=o([k("esri.core.Collection")],oa);const ft=oa;class p1{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new p1;return this._values.forEach((s,i)=>{t&&t.has(i)||r.set(i,D(s.value),s.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const s=this._values.get(t);return r==null||(s==null?void 0:s.origin)===r?s==null?void 0:s.value:void 0}originOf(t){var r,s;return(r=(s=this._values.get(t))==null?void 0:s.origin)!=null?r:Ve.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(s=>{var i;return((i=this._values.get(s))==null?void 0:i.origin)===t})}set(t,r,s){if((s=this._normalizeOrigin(s))===Ve.DEFAULTS){const i=this._values.get(t);if(i&&i.origin!=null&&i.origin>s)return}this._values.set(t,new b9(r,s))}delete(t,r){var s;(r=this._normalizeOrigin(r))!=null&&((s=this._values.get(t))==null?void 0:s.origin)!==r||this._values.delete(t)}has(t,r){var s;return(r=this._normalizeOrigin(r))!=null?((s=this._values.get(t))==null?void 0:s.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},s)=>t(r,s))}_normalizeOrigin(t){if(t!=null)return t===Ve.DEFAULTS?t:Ve.USER}}class b9{constructor(t,r){this.value=t,this.origin=r}}function MT(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),Ve.DEFAULTS)});const s=e.metadatas;Object.keys(s).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),Ve.DEFAULTS)})}function w9(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const s=e.read.source;if(typeof s=="string"){if(s===t||s.indexOf(".")>-1&&s.indexOf(t)===0&&cS(s,r))return!0}else for(const i of s)if(i===t||i.indexOf(".")>-1&&i.indexOf(t)===0&&cS(i,r))return!0;return!1}function _9(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function S9(e,t,r,s,i){let n=n0(t[r],i);_9(n)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))n=n0(t[a],i),w9(n,r,s)&&(e[a]=!0)}function $9(e,t,r,s){const i=r.metadatas,n=c1(i[t],"any",s),a=n&&n.default;if(a===void 0)return;const l=typeof a=="function"?a.call(e,t,s):a;l!==void 0&&r.set(t,l)}const IT={origin:"service"};function OT(e,t,r=IT){if(!t||typeof t!="object")return;const s=$r(e),i=s.metadatas,n={};for(const a of Object.getOwnPropertyNames(t))S9(n,i,a,t,r);s.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(n)){const l=n0(i[a],r).read,d=l&&l.source;let h;h=d&&typeof d=="string"?Ud(t,d):t[a],l&&l.reader&&(h=l.reader.call(e,h,t,r)),h!==void 0&&s.set(a,h)}if(!r||!r.ignoreDefaults){s.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(i))n[a]||$9(e,a,s,r)}s.setDefaultOrigin("user")}function x9(e,t,r,s=IT){var i;const n=Ie(V({},s),{messages:[]});r(n),(i=n.messages)==null||i.forEach(a=>{a.type!=="warning"||e.loaded?s&&s.messages&&s.messages.push(a):e.loadWarnings.push(a)})}const E9=pe.getLogger("esri.core.accessorSupport.write");function T9(e,t,r,s,i){var n,a;const l={};return(n=t.write)==null||(a=n.writer)==null||a.call(e,s,l,r,i),l}function jT(e,t,r,s,i,n){if(!s||!s.write)return!1;const a=e.get(r);if(!i&&s.write.overridePolicy){const l=s.write.overridePolicy.call(e,a,r,n);l!==void 0&&(i=l)}if(i||(i=s.write),!i||i.enabled===!1)return!1;if((a===null&&!i.allowNull&&!i.writerEnsuresNonNull||a===void 0)&&i.isRequired){const l=new Y("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return l&&n&&n.messages?n.messages.push(l):l&&!n&&E9.error(l.name,l.message),!1}return!(a===void 0||a===null&&!i.allowNull&&!i.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===Ve.DEFAULTS)&&k9(e,r,n,s,a)||!i.ignoreOrigin&&n&&n.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<sn(n.origin))}function k9(e,t,r,s,i){const n=s.default;if(n===void 0)return!1;if(s.defaultEquals!=null)return s.defaultEquals(i);if(typeof n=="function"){if(Array.isArray(i)){const a=n.call(e,t,r);return Yw(a,i)}return!1}return n===i}function CT(e,t,r,s){const i=$r(e),n=i.metadatas,a=ET(n[t],s);return!!a&&jT(e,i,t,a,r,s)}function AT(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return lh(t,e.toJSON());const s=$r(e),i=s.metadatas;for(const l in i){const d=ET(i[l],r);if(!jT(e,s,l,d,void 0,r))continue;const h=e.get(l),f=T9(e,d,d.write&&typeof d.write.target=="string"?d.write.target:l,h,r);var n,a;Object.keys(f).length>0&&(t=lh(t,f),r!=null&&(n=r.resources)!=null&&(a=n.pendingOperations)!=null&&a.length&&Promise.all(r.resources.pendingOperations).then(()=>lh(t,f)),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:l,oldOrigin:QR(s.store.originOf(l)),newOrigin:r.origin}))}return t}const Iy=e=>{let t=class extends e{constructor(...r){super(...r);const s=$r(this),i=s.store,n=new p1;s.store=n,MT(s,i,n)}read(r,s){OT(this,r,s)}write(r={},s){return AT(this,r,s)}toJSON(r){return this.write({},r)}static fromJSON(r,s){return M9.call(this,r,s)}};return t=o([k("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function M9(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let ee=class extends Iy(vt){};ee=o([k("esri.core.JSONSupport")],ee);const I9=Object.prototype.toString;function O9(e){const t="__accessorMetadata__"in e?lt(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return j9.apply(this,r)}}function j9(e,t,r,s){Bd(e,t).cast=s}function C9(e){return function(t,r){Bd(t,e).cast=t[r]}}function Ct(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&I9.call(e[0])==="[object Function]"?O9(e[0]):e.length===1&&typeof e[0]=="string"?C9(e[0]):void 0}function ue(e,t,r){let s,i;return t===void 0||Array.isArray(t)?(i=e,r=t,s=[void 0]):(i=t,s=Array.isArray(e)?e:[e]),(n,a)=>{const l=n.constructor.prototype;s.forEach(d=>{const h=a1(n,d,i);h.read&&typeof h.read=="object"||(h.read={}),h.read.reader=l[a],r&&(h.read.source=(h.read.source||[]).concat(r))})}}function he(e,t,r){let s,i;return t===void 0?(i=e,s=[void 0]):typeof t!="string"?(i=e,s=[void 0],r=t):(i=t,s=Array.isArray(e)?e:[e]),(n,a)=>{const l=n.constructor.prototype;for(const d of s){const h=a1(n,d,i);h.write&&typeof h.write=="object"||(h.write={}),r&&(h.write.target=r),h.write.writer=l[a]}}}var Yl;function A9(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,s="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>s)return Yl.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return Yl.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Yl||(Yl={}));var Ea;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Ea||(Ea={}));let u;const w={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(u=2e3;u<=2045;u++)w[u]=0;for(u=2056;u<=2065;u++)w[u]=0;for(u=2067;u<=2135;u++)w[u]=0;for(u=2137;u<=2154;u++)w[u]=0;for(u=2161;u<=2170;u++)w[u]=0;for(u=2172;u<=2193;u++)w[u]=0;for(u=2195;u<=2198;u++)w[u]=0;for(u=2200;u<=2203;u++)w[u]=0;for(u=2205;u<=2217;u++)w[u]=0;for(u=2222;u<=2224;u++)w[u]=1;for(u=2225;u<=2250;u++)w[u]=2;for(u=2251;u<=2253;u++)w[u]=1;for(u=2257;u<=2264;u++)w[u]=2;for(u=2274;u<=2279;u++)w[u]=2;for(u=2280;u<=2282;u++)w[u]=1;for(u=2283;u<=2289;u++)w[u]=2;for(u=2290;u<=2292;u++)w[u]=0;for(u=2308;u<=2313;u++)w[u]=0;for(u=2315;u<=2491;u++)w[u]=0;for(u=2494;u<=2866;u++)w[u]=0;for(u=2867;u<=2869;u++)w[u]=1;for(u=2870;u<=2888;u++)w[u]=2;for(u=2891;u<=2895;u++)w[u]=2;for(u=2896;u<=2898;u++)w[u]=1;for(u=2902;u<=2908;u++)w[u]=2;for(u=2915;u<=2920;u++)w[u]=2;for(u=2921;u<=2923;u++)w[u]=1;for(u=2924;u<=2930;u++)w[u]=2;for(u=2931;u<=2962;u++)w[u]=0;for(u=2964;u<=2968;u++)w[u]=2;for(u=2969;u<=2973;u++)w[u]=0;for(u=2975;u<=2991;u++)w[u]=0;for(u=2995;u<=3051;u++)w[u]=0;for(u=3054;u<=3079;u++)w[u]=0;for(u=3081;u<=3088;u++)w[u]=0;for(u=3092;u<=3101;u++)w[u]=0;for(u=3106;u<=3138;u++)w[u]=0;for(u=3146;u<=3151;u++)w[u]=0;for(u=3153;u<=3166;u++)w[u]=0;for(u=3168;u<=3172;u++)w[u]=0;for(u=3174;u<=3203;u++)w[u]=0;for(u=3294;u<=3358;u++)w[u]=0;for(u=3367;u<=3403;u++)w[u]=0;for(u=3408;u<=3416;u++)w[u]=0;for(u=3417;u<=3438;u++)w[u]=2;for(u=3441;u<=3446;u++)w[u]=2;for(u=3447;u<=3450;u++)w[u]=0;for(u=3451;u<=3459;u++)w[u]=2;for(u=3460;u<=3478;u++)w[u]=0;for(u=3554;u<=3559;u++)w[u]=0;for(u=3560;u<=3570;u++)w[u]=2;for(u=3571;u<=3581;u++)w[u]=0;for(u=3594;u<=3597;u++)w[u]=0;for(u=3601;u<=3604;u++)w[u]=0;for(u=3637;u<=3639;u++)w[u]=0;for(u=3665;u<=3667;u++)w[u]=0;for(u=3693;u<=3695;u++)w[u]=0;for(u=3701;u<=3727;u++)w[u]=0;for(u=3728;u<=3739;u++)w[u]=2;for(u=3740;u<=3751;u++)w[u]=0;for(u=3753;u<=3760;u++)w[u]=2;for(u=3761;u<=3773;u++)w[u]=0;for(u=3775;u<=3777;u++)w[u]=0;for(u=3779;u<=3781;u++)w[u]=0;for(u=3783;u<=3785;u++)w[u]=0;for(u=3788;u<=3791;u++)w[u]=0;for(u=3797;u<=3802;u++)w[u]=0;for(u=3814;u<=3816;u++)w[u]=0;for(u=3825;u<=3829;u++)w[u]=0;for(u=3832;u<=3841;u++)w[u]=0;for(u=3844;u<=3852;u++)w[u]=0;for(u=3873;u<=3885;u++)w[u]=0;for(u=3890;u<=3893;u++)w[u]=0;for(u=3907;u<=3912;u++)w[u]=0;for(u=3942;u<=3950;u++)w[u]=0;for(u=3968;u<=3970;u++)w[u]=0;for(u=3973;u<=3976;u++)w[u]=0;for(u=3986;u<=3989;u++)w[u]=0;for(u=3994;u<=3997;u++)w[u]=0;for(u=4048;u<=4051;u++)w[u]=0;for(u=4056;u<=4063;u++)w[u]=0;for(u=4093;u<=4096;u++)w[u]=0;for(u=4390;u<=4398;u++)w[u]=0;for(u=4399;u<=4413;u++)w[u]=2;for(u=4418;u<=4433;u++)w[u]=2;for(u=4455;u<=4457;u++)w[u]=2;for(u=4484;u<=4489;u++)w[u]=0;for(u=4491;u<=4554;u++)w[u]=0;for(u=4568;u<=4589;u++)w[u]=0;for(u=4652;u<=4656;u++)w[u]=0;for(u=4766;u<=4800;u++)w[u]=0;for(u=5014;u<=5016;u++)w[u]=0;for(u=5069;u<=5072;u++)w[u]=0;for(u=5105;u<=5130;u++)w[u]=0;for(u=5173;u<=5188;u++)w[u]=0;for(u=5253;u<=5259;u++)w[u]=0;for(u=5269;u<=5275;u++)w[u]=0;for(u=5292;u<=5311;u++)w[u]=0;for(u=5329;u<=5331;u++)w[u]=0;for(u=5343;u<=5349;u++)w[u]=0;for(u=5355;u<=5357;u++)w[u]=0;for(u=5387;u<=5389;u++)w[u]=0;for(u=5459;u<=5463;u++)w[u]=0;for(u=5479;u<=5482;u++)w[u]=0;for(u=5518;u<=5520;u++)w[u]=0;for(u=5530;u<=5539;u++)w[u]=0;for(u=5550;u<=5552;u++)w[u]=0;for(u=5562;u<=5583;u++)w[u]=0;for(u=5623;u<=5625;u++)w[u]=2;for(u=5631;u<=5639;u++)w[u]=0;for(u=5649;u<=5653;u++)w[u]=0;for(u=5663;u<=5680;u++)w[u]=0;for(u=5682;u<=5685;u++)w[u]=0;for(u=5875;u<=5877;u++)w[u]=0;for(u=5896;u<=5899;u++)w[u]=0;for(u=5921;u<=5940;u++)w[u]=0;for(u=6050;u<=6125;u++)w[u]=0;for(u=6244;u<=6275;u++)w[u]=0;for(u=6328;u<=6348;u++)w[u]=0;for(u=6350;u<=6356;u++)w[u]=0;for(u=6366;u<=6372;u++)w[u]=0;for(u=6381;u<=6387;u++)w[u]=0;for(u=6393;u<=6404;u++)w[u]=0;for(u=6480;u<=6483;u++)w[u]=0;for(u=6511;u<=6514;u++)w[u]=0;for(u=6579;u<=6581;u++)w[u]=0;for(u=6619;u<=6624;u++)w[u]=0;for(u=6625;u<=6627;u++)w[u]=2;for(u=6628;u<=6632;u++)w[u]=0;for(u=6634;u<=6637;u++)w[u]=0;for(u=6669;u<=6692;u++)w[u]=0;for(u=6707;u<=6709;u++)w[u]=0;for(u=6720;u<=6723;u++)w[u]=0;for(u=6732;u<=6738;u++)w[u]=0;for(u=6931;u<=6933;u++)w[u]=0;for(u=6956;u<=6959;u++)w[u]=0;for(u=7005;u<=7007;u++)w[u]=0;for(u=7057;u<=7070;u++)w[u]=2;for(u=7074;u<=7082;u++)w[u]=0;for(u=7109;u<=7118;u++)w[u]=0;for(u=7119;u<=7127;u++)w[u]=1;for(u=7374;u<=7376;u++)w[u]=0;for(u=7528;u<=7586;u++)w[u]=0;for(u=7587;u<=7645;u++)w[u]=2;for(u=7692;u<=7696;u++)w[u]=0;for(u=7755;u<=7787;u++)w[u]=0;for(u=7791;u<=7795;u++)w[u]=0;for(u=7799;u<=7801;u++)w[u]=0;for(u=7803;u<=7805;u++)w[u]=0;for(u=7825;u<=7831;u++)w[u]=0;for(u=7845;u<=7859;u++)w[u]=0;for(u=8013;u<=8032;u++)w[u]=0;for(u=8065;u<=8068;u++)w[u]=1;for(u=8518;u<=8529;u++)w[u]=2;for(u=8533;u<=8536;u++)w[u]=2;for(u=8538;u<=8540;u++)w[u]=2;for(u=8677;u<=8679;u++)w[u]=0;for(u=8836;u<=8840;u++)w[u]=0;for(u=8857;u<=8859;u++)w[u]=0;for(u=8908;u<=8910;u++)w[u]=0;for(u=9154;u<=9159;u++)w[u]=0;for(u=9205;u<=9218;u++)w[u]=0;for(u=9271;u<=9273;u++)w[u]=0;for(u=9295;u<=9297;u++)w[u]=0;for(u=9356;u<=9360;u++)w[u]=0;for(u=9404;u<=9407;u++)w[u]=0;for(u=9476;u<=9482;u++)w[u]=0;for(u=9487;u<=9494;u++)w[u]=0;for(u=9697;u<=9699;u++)w[u]=0;for(u=20002;u<=20032;u++)w[u]=0;for(u=20062;u<=20092;u++)w[u]=0;for(u=20135;u<=20138;u++)w[u]=0;for(u=20248;u<=20258;u++)w[u]=0;for(u=20348;u<=20358;u++)w[u]=0;for(u=20436;u<=20440;u++)w[u]=0;for(u=20822;u<=20824;u++)w[u]=0;for(u=20904;u<=20932;u++)w[u]=0;for(u=20934;u<=20936;u++)w[u]=0;for(u=21004;u<=21032;u++)w[u]=0;for(u=21035;u<=21037;u++)w[u]=0;for(u=21095;u<=21097;u++)w[u]=0;for(u=21148;u<=21150;u++)w[u]=0;for(u=21207;u<=21264;u++)w[u]=0;for(u=21307;u<=21364;u++)w[u]=0;for(u=21413;u<=21423;u++)w[u]=0;for(u=21453;u<=21463;u++)w[u]=0;for(u=21473;u<=21483;u++)w[u]=0;for(u=21780;u<=21782;u++)w[u]=0;for(u=21891;u<=21894;u++)w[u]=0;for(u=21896;u<=21899;u++)w[u]=0;for(u=22171;u<=22177;u++)w[u]=0;for(u=22181;u<=22187;u++)w[u]=0;for(u=22191;u<=22197;u++)w[u]=0;for(u=22234;u<=22236;u++)w[u]=0;for(u=22521;u<=22525;u++)w[u]=0;for(u=22991;u<=22994;u++)w[u]=0;for(u=23028;u<=23038;u++)w[u]=0;for(u=23830;u<=23853;u++)w[u]=0;for(u=23866;u<=23872;u++)w[u]=0;for(u=23877;u<=23884;u++)w[u]=0;for(u=23886;u<=23894;u++)w[u]=0;for(u=23946;u<=23948;u++)w[u]=0;for(u=24311;u<=24313;u++)w[u]=0;for(u=24342;u<=24347;u++)w[u]=0;for(u=24370;u<=24374;u++)w[u]=10;for(u=24375;u<=24381;u++)w[u]=0;for(u=24718;u<=24721;u++)w[u]=0;for(u=24817;u<=24821;u++)w[u]=0;for(u=24877;u<=24882;u++)w[u]=0;for(u=24891;u<=24893;u++)w[u]=0;for(u=25391;u<=25395;u++)w[u]=0;for(u=25828;u<=25838;u++)w[u]=0;for(u=26191;u<=26195;u++)w[u]=0;for(u=26391;u<=26393;u++)w[u]=0;for(u=26701;u<=26722;u++)w[u]=0;for(u=26729;u<=26799;u++)w[u]=2;for(u=26801;u<=26803;u++)w[u]=2;for(u=26811;u<=26813;u++)w[u]=2;for(u=26847;u<=26870;u++)w[u]=2;for(u=26891;u<=26899;u++)w[u]=0;for(u=26901;u<=26923;u++)w[u]=0;for(u=26929;u<=26946;u++)w[u]=0;for(u=26948;u<=26998;u++)w[u]=0;for(u=27037;u<=27040;u++)w[u]=0;for(u=27205;u<=27232;u++)w[u]=0;for(u=27258;u<=27260;u++)w[u]=0;for(u=27391;u<=27398;u++)w[u]=0;for(u=27561;u<=27564;u++)w[u]=0;for(u=27571;u<=27574;u++)w[u]=0;for(u=27581;u<=27584;u++)w[u]=0;for(u=27591;u<=27594;u++)w[u]=0;for(u=28191;u<=28193;u++)w[u]=0;for(u=28348;u<=28358;u++)w[u]=0;for(u=28402;u<=28432;u++)w[u]=0;for(u=28462;u<=28492;u++)w[u]=0;for(u=29118;u<=29122;u++)w[u]=0;for(u=29168;u<=29172;u++)w[u]=0;for(u=29177;u<=29185;u++)w[u]=0;for(u=29187;u<=29195;u++)w[u]=0;for(u=29900;u<=29903;u++)w[u]=0;for(u=30161;u<=30179;u++)w[u]=0;for(u=30491;u<=30494;u++)w[u]=0;for(u=30729;u<=30732;u++)w[u]=0;for(u=31251;u<=31259;u++)w[u]=0;for(u=31265;u<=31268;u++)w[u]=0;for(u=31275;u<=31279;u++)w[u]=0;for(u=31281;u<=31297;u++)w[u]=0;for(u=31461;u<=31469;u++)w[u]=0;for(u=31491;u<=31495;u++)w[u]=0;for(u=31917;u<=31922;u++)w[u]=0;for(u=31965;u<=32e3;u++)w[u]=0;for(u=32001;u<=32003;u++)w[u]=2;for(u=32005;u<=32031;u++)w[u]=2;for(u=32033;u<=32060;u++)w[u]=2;for(u=32064;u<=32067;u++)w[u]=2;for(u=32074;u<=32077;u++)w[u]=2;for(u=32081;u<=32086;u++)w[u]=0;for(u=32107;u<=32130;u++)w[u]=0;for(u=32133;u<=32158;u++)w[u]=0;for(u=32164;u<=32167;u++)w[u]=2;for(u=32180;u<=32199;u++)w[u]=0;for(u=32201;u<=32260;u++)w[u]=0;for(u=32301;u<=32360;u++)w[u]=0;for(u=32601;u<=32662;u++)w[u]=0;for(u=32664;u<=32667;u++)w[u]=2;for(u=32701;u<=32761;u++)w[u]=0;for(u=53001;u<=53004;u++)w[u]=0;for(u=53008;u<=53019;u++)w[u]=0;for(u=53021;u<=53032;u++)w[u]=0;for(u=53034;u<=53037;u++)w[u]=0;for(u=53042;u<=53046;u++)w[u]=0;for(u=53074;u<=53080;u++)w[u]=0;for(u=54001;u<=54004;u++)w[u]=0;for(u=54008;u<=54019;u++)w[u]=0;for(u=54021;u<=54032;u++)w[u]=0;for(u=54034;u<=54037;u++)w[u]=0;for(u=54042;u<=54046;u++)w[u]=0;for(u=54048;u<=54053;u++)w[u]=0;for(u=54074;u<=54080;u++)w[u]=0;for(u=54098;u<=54101;u++)w[u]=0;for(u=102001;u<=102040;u++)w[u]=0;for(u=102042;u<=102063;u++)w[u]=0;for(u=102065;u<=102067;u++)w[u]=0;for(u=102070;u<=102117;u++)w[u]=0;for(u=102122;u<=102216;u++)w[u]=0;for(u=102221;u<=102377;u++)w[u]=0;for(u=102382;u<=102388;u++)w[u]=0;for(u=102389;u<=102398;u++)w[u]=2;for(u=102399;u<=102444;u++)w[u]=0;for(u=102445;u<=102447;u++)w[u]=2;for(u=102448;u<=102458;u++)w[u]=0;for(u=102459;u<=102468;u++)w[u]=2;for(u=102469;u<=102499;u++)w[u]=0;for(u=102500;u<=102519;u++)w[u]=1;for(u=102520;u<=102524;u++)w[u]=0;for(u=102525;u<=102529;u++)w[u]=2;for(u=102530;u<=102588;u++)w[u]=0;for(u=102590;u<=102598;u++)w[u]=0;for(u=102601;u<=102603;u++)w[u]=0;for(u=102605;u<=102628;u++)w[u]=0;for(u=102629;u<=102646;u++)w[u]=2;for(u=102648;u<=102700;u++)w[u]=2;for(u=102701;u<=102703;u++)w[u]=0;for(u=102707;u<=102730;u++)w[u]=2;for(u=102733;u<=102758;u++)w[u]=2;for(u=102767;u<=102900;u++)w[u]=0;for(u=102901;u<=102933;u++)w[u]=2;for(u=102934;u<=102950;u++)w[u]=13;for(u=102951;u<=102960;u++)w[u]=0;for(u=102965;u<=102969;u++)w[u]=0;for(u=102971;u<=102973;u++)w[u]=0;for(u=102975;u<=102989;u++)w[u]=0;for(u=102990;u<=102992;u++)w[u]=1;for(u=102997;u<=103002;u++)w[u]=0;for(u=103003;u<=103008;u++)w[u]=2;for(u=103009;u<=103011;u++)w[u]=0;for(u=103012;u<=103014;u++)w[u]=2;for(u=103019;u<=103021;u++)w[u]=0;for(u=103022;u<=103024;u++)w[u]=2;for(u=103029;u<=103031;u++)w[u]=0;for(u=103032;u<=103034;u++)w[u]=2;for(u=103065;u<=103068;u++)w[u]=0;for(u=103074;u<=103076;u++)w[u]=0;for(u=103077;u<=103079;u++)w[u]=1;for(u=103080;u<=103082;u++)w[u]=0;for(u=103083;u<=103085;u++)w[u]=2;for(u=103090;u<=103093;u++)w[u]=0;for(u=103097;u<=103099;u++)w[u]=0;for(u=103100;u<=103102;u++)w[u]=2;for(u=103107;u<=103109;u++)w[u]=0;for(u=103110;u<=103112;u++)w[u]=2;for(u=103113;u<=103116;u++)w[u]=0;for(u=103117;u<=103120;u++)w[u]=2;for(u=103153;u<=103157;u++)w[u]=0;for(u=103158;u<=103162;u++)w[u]=2;for(u=103163;u<=103165;u++)w[u]=0;for(u=103166;u<=103168;u++)w[u]=1;for(u=103169;u<=103171;u++)w[u]=2;for(u=103186;u<=103188;u++)w[u]=0;for(u=103189;u<=103191;u++)w[u]=2;for(u=103192;u<=103195;u++)w[u]=0;for(u=103196;u<=103199;u++)w[u]=2;for(u=103200;u<=103224;u++)w[u]=0;for(u=103225;u<=103227;u++)w[u]=1;for(u=103232;u<=103237;u++)w[u]=0;for(u=103238;u<=103243;u++)w[u]=2;for(u=103244;u<=103246;u++)w[u]=0;for(u=103247;u<=103249;u++)w[u]=2;for(u=103254;u<=103256;u++)w[u]=0;for(u=103257;u<=103259;u++)w[u]=2;for(u=103264;u<=103266;u++)w[u]=0;for(u=103267;u<=103269;u++)w[u]=2;for(u=103300;u<=103375;u++)w[u]=0;for(u=103381;u<=103383;u++)w[u]=0;for(u=103384;u<=103386;u++)w[u]=1;for(u=103387;u<=103389;u++)w[u]=0;for(u=103390;u<=103392;u++)w[u]=2;for(u=103397;u<=103399;u++)w[u]=0;for(u=103400;u<=103471;u++)w[u]=2;for(u=103476;u<=103478;u++)w[u]=0;for(u=103479;u<=103481;u++)w[u]=2;for(u=103486;u<=103488;u++)w[u]=0;for(u=103489;u<=103491;u++)w[u]=2;for(u=103492;u<=103495;u++)w[u]=0;for(u=103496;u<=103499;u++)w[u]=2;for(u=103528;u<=103543;u++)w[u]=0;for(u=103544;u<=103548;u++)w[u]=2;for(u=103549;u<=103551;u++)w[u]=0;for(u=103552;u<=103554;u++)w[u]=1;for(u=103555;u<=103557;u++)w[u]=2;for(u=103558;u<=103560;u++)w[u]=0;for(u=103571;u<=103573;u++)w[u]=0;for(u=103574;u<=103576;u++)w[u]=2;for(u=103577;u<=103580;u++)w[u]=0;for(u=103581;u<=103583;u++)w[u]=2;for(u=103595;u<=103694;u++)w[u]=0;for(u=103696;u<=103699;u++)w[u]=0;for(u=103700;u<=103793;u++)w[u]=2;for(u=103794;u<=103872;u++)w[u]=0;for(u=103900;u<=103971;u++)w[u]=2;const R9={102113:!0,102100:!0,3857:!0,3785:!0},P9={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},ES='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',Mp=[-20037508342788905e-9,20037508342788905e-9],Ip=[-20037508342787e-6,20037508342787e-6],RT={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Mp,origin:Ip,dx:1e-5},102100:{wkTemplate:ES,valid:Mp,origin:Ip,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Mp,origin:Ip,dx:1e-5},3857:{wkTemplate:ES,valid:Mp,origin:Ip,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function yu(e,t){return!be(e)&&!be(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||Ta(e)&&Ta(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function qc(e){return Mi(e)&&e.wkid?RT[e.wkid]:null}function PT(e){return!!Mi(e)&&(e.wkid?w[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function L9(e){return!(Oy(e)||jy(e))}function gd(e){return Mi(e)&&e.wkid===4326}function F9(e){return Mi(e)&&e.wkid===Ea.CGCS2000}function Ta(e){return Mi(e)&&e.wkid!=null&&R9[e.wkid]===!0}function N9(e){return Mi(e)&&e.wkid===32662}function h1(e){return e===Ea.GCSMARS2000||e===Ea.GCSMARS2000_SPHERE}function Oy(e){return Mi(e)&&e.wkid!=null&&h1(e.wkid)}function f1(e){return e===Ea.GCSMOON2000}function jy(e){return Mi(e)&&e.wkid!=null&&f1(e.wkid)}function D9(e){return Mi(e)&&e.wkid!=null&&P9[e.wkid]===!0}function Mi(e){return H(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const LT={wkid:4326,wkt:zd(RT[4326].wkTemplate,{Central_Meridian:"0.0"})},z9={wkid:102100,latestWkid:3857},V9={wkid:32662};var oi;let nt=oi=class extends ee{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return oi.WebMercator;if(e.wkid===4326)return oi.WGS84}const t=new oi;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return gd(this)}get isWebMercator(){return Ta(this)}get isGeographic(){return PT(this)}get isWrappable(){return D9(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===oi.WGS84)return oi.WGS84;if(this===oi.WebMercator)return oi.WebMercator;const e=new oi;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=D(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||s?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return yu(this,e)}toJSON(e){return this.write(void 0,e)}};nt.GCS_NAD_1927=null,nt.WGS84=null,nt.WebMercator=null,nt.PlateCarree=null,o([c({readOnly:!0})],nt.prototype,"isWGS84",null),o([c({readOnly:!0})],nt.prototype,"isWebMercator",null),o([c({readOnly:!0})],nt.prototype,"isGeographic",null),o([c({readOnly:!0})],nt.prototype,"isWrappable",null),o([c({type:Bt,json:{write:!0}})],nt.prototype,"latestWkid",void 0),o([c({type:Bt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],nt.prototype,"wkid",void 0),o([c({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],nt.prototype,"wkt",void 0),o([he("wkt"),he("web-scene","wkt")],nt.prototype,"writeWkt",null),o([c({type:Bt,json:{write:!0}})],nt.prototype,"vcsWkid",void 0),o([c({type:Bt,json:{write:!0}})],nt.prototype,"latestVcsWkid",void 0),o([c()],nt.prototype,"imageCoordinateSystem",void 0),nt=oi=o([k("esri.geometry.SpatialReference")],nt),nt.prototype.toJSON.isDefaultToJSON=!0,nt.GCS_NAD_1927=new nt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),nt.WGS84=new nt(LT),nt.WebMercator=new nt(z9),nt.PlateCarree=new nt(V9),Object.freeze&&(Object.freeze(nt.GCS_NAD_1927),Object.freeze(nt.WGS84),Object.freeze(nt.WebMercator));const Ue=nt;let ai=class extends ee{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ue.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Ue)return e;if(e!=null){const r=new Ue;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};o([c()],ai.prototype,"type",void 0),o([c({readOnly:!0})],ai.prototype,"cache",null),o([c({readOnly:!0})],ai.prototype,"extent",null),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ai.prototype,"hasM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ai.prototype,"hasZ",void 0),o([c({type:Ue,json:{write:!0}})],ai.prototype,"spatialReference",void 0),o([ue("spatialReference")],ai.prototype,"readSpatialReference",null),ai=o([k("esri.geometry.Geometry")],ai);const go=ai;function U9(e,t,r,s){var i;return e.x=e.x+t,e.y=e.y+r,s!=null&&(e.z=((i=e.z)!=null?i:0)+s),e}function q9(e,t){const r=e.x-t.x,s=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+s*s+i*i)}class y1{constructor(t,r,s,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=s;const n=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*n,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const rs=new y1(6378137,1/298.257223563,3e5,.006694379990137799),Kd=new y1(3396190,1/169.8944472236118,23e4),Qd=new y1(1737400,0,0),B9=57.29577951308232,H9=.017453292519943;function TS(e){return e*B9}function kS(e){return e*H9}function G9(e){return Math.PI/2-2*Math.atan(Math.exp(-e/rs.radius))}function a0(e){return e.wkid!=null||e.wkt!=null}const zm=[0,0];function Rf(e,t,r,s,i){const n=e,a=i;if(a.spatialReference=r,"x"in n&&"x"in a)[a.x,a.y]=t(n.x,n.y,zm,s);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=t(n.xmin,n.ymin,zm,s),[a.xmax,a.ymax]=t(n.xmax,n.ymax,zm,s);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const l="paths"in n?n.paths:n.rings,d=[];let h;for(let f=0;f<l.length;f++){const y=l[f];h=[],d.push(h);for(let v=0;v<y.length;v++)h.push(t(y[v][0],y[v][1],[0,0],s)),y[v].length>2&&h[v].push(y[v][2]),y[v].length>3&&h[v].push(y[v][3])}"paths"in a?a.paths=d:a.rings=d}else if("points"in n&&"points"in a){const l=n.points,d=[];for(let h=0;h<l.length;h++)d[h]=t(l[h][0],l[h][1],[0,0],s),l[h].length>2&&d[h].push(l[h][2]),l[h].length>3&&d[h].push(l[h][3]);a.points=d}return i}function Bc(e,t){const r=e&&(a0(e)?e:e.spatialReference),s=t&&(a0(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!s)&&(!!yu(s,r)||Ta(s)&&gd(r)||Ta(r)&&gd(s))}function m1(e,t){if(be(e))return null;const r=e.spatialReference,s=t&&(a0(t)?t:t.spatialReference);return Bc(r,s)?yu(r,s)?D(e):Ta(s)?Rf(e,pa,Ue.WebMercator,!1,D(e)):gd(s)?Rf(e,zl,Ue.WGS84,!1,D(e)):null:null}function pa(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const s=kS(t);return r[0]=kS(e)*rs.radius,r[1]=rs.halfSemiMajorAxis*Math.log((1+Math.sin(s))/(1-Math.sin(s))),r}function zl(e,t,r=[0,0],s=!1){const i=TS(e/rs.radius);return r[0]=s?i:i-360*Math.floor((i+180)/360),r[1]=TS(Math.PI/2-2*Math.atan(Math.exp(-t/rs.radius))),r}function Hc(e,t=!1,r=D(e)){return Rf(e,pa,Ue.WebMercator,t,r)}function Qu(e,t=!1,r=D(e)){return Rf(e,zl,Ue.WGS84,t,r)}var ph;const Lu=[0,0];function MS(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const Op=pe.getLogger("esri.geometry.Point");let Tr=ph=class extends go{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,s,i){let n;if(Array.isArray(e))n=e,i=t,e=n[0],t=n[1],r=n[2],s=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,r=n.z,s=n.m,(i=n.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new Ue(i)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)Op.warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)Op.warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&i&&i.isWebMercator){const l=pa(n.longitude,n.latitude,Lu);e=l[0],t=l[1]}}}else MS(r)?(i=r,r=null):MS(s)&&(i=s,s=null);const a={x:e,y:t};return a.x==null&&a.y!=null?Op.warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&Op.warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(a.spatialReference=i),r!=null&&(a.z=r),s!=null&&(a.m=s),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return zl(t,r,Lu)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",pa(r,e,Lu)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return zl(e,t,Lu)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",pa(e,t,Lu)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new ph;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return ph.copy(e,this),this}equals(e){if(be(e))return!1;const{x:t,y:r,z:s,m:i,spatialReference:n}=this,{z:a,m:l}=e;let{x:d,y:h,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[d,h]=pa(d,h),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[d,h]=zl(d,h),f=n}return t===d&&r===h&&s===a&&i===l&&n.wkid===f.wkid}offset(e,t,r){return U9(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=qc(this.spatialReference);if(!e)return this;let t=this.x;const[r,s]=e.valid,i=2*s;let n;return t>s?(n=Math.ceil(Math.abs(t-s)/i),t-=n*i):t<r&&(n=Math.ceil(Math.abs(t-r)/i),t+=n*i),this._set("x",t),this}distance(e){return q9(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],Tr.prototype,"cache",null),o([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Tr.prototype,"hasM",null),o([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Tr.prototype,"hasZ",null),o([c({type:Number})],Tr.prototype,"latitude",null),o([c({type:Number})],Tr.prototype,"longitude",null),o([c({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ct(e=>isNaN(e)?e:Wd(e))],Tr.prototype,"x",void 0),o([he("x")],Tr.prototype,"writeX",null),o([ue("x")],Tr.prototype,"readX",null),o([c({type:Number,json:{write:!0}})],Tr.prototype,"y",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Tr.prototype,"z",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Tr.prototype,"m",void 0),Tr=ph=o([k("esri.geometry.Point")],Tr),Tr.prototype.toJSON.isDefaultToJSON=!0;const dt=Tr,Vm=[0,0];function g1(e,t){return!!H(t)&&Ir(e,t.x,t.y,t.z)}function W9(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Xl(e,r))return!1;return!0}function J9(e,t){const{xmin:r,ymin:s,zmin:i,xmax:n,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?Ir(e,r,s,i)&&Ir(e,r,a,i)&&Ir(e,n,a,i)&&Ir(e,n,s,i)&&Ir(e,r,s,l)&&Ir(e,r,a,l)&&Ir(e,n,a,l)&&Ir(e,n,s,l):Ir(e,r,s)&&Ir(e,r,a)&&Ir(e,n,a)&&Ir(e,n,s)}function Xl(e,t){return Ir(e,t[0],t[1])}function K9(e,t){return Ir(e,t[0],t[1],t[2])}function Ir(e,t,r,s){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(s==null||!e.hasZ||s>=e.zmin&&s<=e.zmax)}function Q9(e,t){return Vm[1]=t.y,Vm[0]=t.x,FT(e,Vm)}function FT(e,t){return Z9(e.rings,t)}function Z9(e,t){if(!e)return!1;if(Y9(e))return IS(!1,e,t);let r=!1;for(let s=0,i=e.length;s<i;s++)r=IS(r,e[s],t);return r}function Y9(e){return!Array.isArray(e[0][0])}function IS(e,t,r){const[s,i]=r;let n=e,a=0;for(let l=0,d=t.length;l<d;l++){a++,a===d&&(a=0);const[h,f]=t[l],[y,v]=t[a];(f<i&&v>=i||v<i&&f>=i)&&h+(i-f)/(v-f)*(y-h)<s&&(n=!n)}return n}function X9(e,t){return g1(e,t)}function NT(e,t){const r=e.hasZ&&t.hasZ;let s,i,n;if(e.xmin<=t.xmin){if(s=t.xmin,e.xmax<s)return!1}else if(s=e.xmin,t.xmax<s)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function eL(e,t){const{points:r,hasZ:s}=t,i=s?K9:Xl;for(const n of r)if(i(e,n))return!0;return!1}const ka=[0,0],Ma=[0,0],Ia=[0,0],Oa=[0,0],tL=[ka,Ma,Ia,Oa],DT=[[Ia,ka],[ka,Ma],[Ma,Oa],[Oa,Ia]];function rL(e,t){ka[0]=e.xmin,ka[1]=e.ymax,Ma[0]=e.xmax,Ma[1]=e.ymax,Ia[0]=e.xmin,Ia[1]=e.ymin,Oa[0]=e.xmax,Oa[1]=e.ymin;for(const r of tL)if(FT(t,r))return!0;for(const r of t.rings){if(!r.length)continue;let s=r[0];if(Xl(e,s))return!0;for(let i=1;i<r.length;i++){const n=r[i];if(Xl(e,n)||zT(s,n,DT))return!0;s=n}}return!1}function sL(e,t){ka[0]=e.xmin,ka[1]=e.ymax,Ma[0]=e.xmax,Ma[1]=e.ymax,Ia[0]=e.xmin,Ia[1]=e.ymin,Oa[0]=e.xmax,Oa[1]=e.ymin;const r=t.paths;for(const s of r){if(!r.length)continue;let i=s[0];if(Xl(e,i))return!0;for(let n=1;n<s.length;n++){const a=s[n];if(Xl(e,a)||zT(i,a,DT))return!0;i=a}}return!1}const tr=[0,0];function iL(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const n=r[i],a=r[i+1];for(let l=t+1;l<e.length;l++)for(let d=0;d<e[l].length-1;d++){const h=e[l][d],f=e[l][d+1];if(Pf(n,a,h,f,tr)&&!(tr[0]===n[0]&&tr[1]===n[1]||tr[0]===h[0]&&tr[1]===h[1]||tr[0]===a[0]&&tr[1]===a[1]||tr[0]===f[0]&&tr[1]===f[1]))return!0}}const s=r.length;if(!(s<=4))for(let i=0;i<s-3;i++){let n=s-1;i===0&&(n=s-2);const a=r[i],l=r[i+1];for(let d=i+2;d<n;d++){const h=r[d],f=r[d+1];if(Pf(a,l,h,f,tr)&&!(tr[0]===a[0]&&tr[1]===a[1]||tr[0]===h[0]&&tr[1]===h[1]||tr[0]===l[0]&&tr[1]===l[1]||tr[0]===f[0]&&tr[1]===f[1]))return!0}}}return!1}function zT(e,t,r){for(let s=0;s<r.length;s++)if(Pf(e,t,r[s][0],r[s][1]))return!0;return!1}function Pf(e,t,r,s,i){const[n,a]=e,[l,d]=t,[h,f]=r,[y,v]=s,b=y-h,x=n-h,I=l-n,A=v-f,q=a-f,G=d-a,C=A*I-b*G;if(C===0)return!1;const p=(b*q-A*x)/C,m=(I*q-G*x)/C;return p>=0&&p<=1&&m>=0&&m<=1&&(i&&(i[0]=n+p*(l-n),i[1]=a+p*(d-a)),!0)}function VT(e){switch(e){case"esriGeometryEnvelope":case"extent":return NT;case"esriGeometryMultipoint":case"multipoint":return eL;case"esriGeometryPoint":case"point":return X9;case"esriGeometryPolygon":case"polygon":return rL;case"esriGeometryPolyline":case"polyline":return sL}}var ls;function nL(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function xn(e,t,r){return t==null?r:r==null?t:e(t,r)}let Qt=ls=class extends go{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,s,i){return nL(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ue.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:s,spatialReference:i??Ue.WGS84}}static fromBounds(e,t){return new ls({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new ls({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new dt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new ls;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Bc(t,r)&&(e=t.isWebMercator?Hc(e):Qu(e,!0)),e.type==="point"?g1(this,e):e.type==="extent"&&J9(this,e)}equals(e){if(this===e)return!0;if(be(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Bc(t,r)&&(e=t.isWebMercator?Hc(e):Qu(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,s=this.height*t;if(this.xmin+=r,this.ymin+=s,this.xmax-=r,this.ymax-=s,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(be(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Bc(t,r)&&(e=t.isWebMercator?Hc(e):Qu(e,!0)),VT(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=xn(Math.min,this.zmin,e.zmin),this.zmax=xn(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=xn(Math.min,this.mmin,e.mmin),this.mmax=xn(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:be(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=xn(Math.max,this.zmin,e.zmin),this.zmax=xn(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=xn(Math.max,this.mmin,e.mmin),this.mmax=xn(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=qc(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const s=t.isWebMercator?Qu(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(s.x=this._normalizeX(s.x,e).x),this.spatialReference=new Ue(zd(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:s.x}))}return this}_getCM(e){let t=null;const[r,s]=e.valid,i=this.xmin,n=this.xmax;return i>=r&&i<=s&&n>=r&&n<=s||(t=this.center),t}_normalize(e,t,r){const s=this.spatialReference;if(!s)return this;if(!(r=r||qc(s)))return this;const i=this._getParts(r).map(l=>l.extent);if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;let n=!0,a=!0;return i.forEach(l=>{l.hasZ||(n=!1),l.hasM||(a=!1)}),{rings:i.map(l=>{const d=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(n){const h=(l.zmax-l.zmin)/2;for(let f=0;f<d.length;f++)d[f].push(h)}if(a){const h=(l.mmax-l.mmin)/2;for(let f=0;f<d.length;f++)d[f].push(h)}return d}),hasZ:n,hasM:a,spatialReference:s}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:n,spatialReference:a}=this,l=this.width,d=this.xmin,h=this.xmax;let f;e=e||qc(a);const[y,v]=e.valid;f=this._normalizeX(this.xmin,e);const b=f.x,x=f.frameId;f=this._normalizeX(this.xmax,e);const I=f.x,A=f.frameId,q=b===I&&l>0;if(l>2*v){const G=new ls(d<h?b:I,i,v,n,a),C=new ls(y,i,d<h?I:b,n,a),p=new ls(0,i,v,n,a),m=new ls(y,i,0,n,a),g=[],_=[];G.contains(p)&&g.push(x),G.contains(m)&&_.push(x),C.contains(p)&&g.push(A),C.contains(m)&&_.push(A);for(let $=x+1;$<A;$++)g.push($),_.push($);t.push({extent:G,frameIds:[x]},{extent:C,frameIds:[A]},{extent:p,frameIds:g},{extent:m,frameIds:_})}else b>I||q?t.push({extent:new ls(b,i,v,n,a),frameIds:[x]},{extent:new ls(y,i,I,n,a),frameIds:[A]}):t.push({extent:new ls(b,i,I,n,a),frameIds:[x]});this.cache._parts=t}const r=this.hasZ,s=this.hasM;if(r||s){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),s&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(i)}return t}_normalizeX(e,t){const[r,s]=t.valid,i=2*s;let n,a=0;return e>s?(n=Math.ceil(Math.abs(e-s)/i),e-=n*i,a=n):e<r&&(n=Math.ceil(Math.abs(e-r)/i),e+=n*i,a=-n),{x:e,frameId:a}}};o([c({readOnly:!0})],Qt.prototype,"cache",null),o([c({readOnly:!0})],Qt.prototype,"center",null),o([c({readOnly:!0})],Qt.prototype,"extent",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Qt.prototype,"hasM",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Qt.prototype,"hasZ",null),o([c({readOnly:!0})],Qt.prototype,"height",null),o([c({readOnly:!0})],Qt.prototype,"width",null),o([c({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Qt.prototype,"xmin",void 0),o([c({type:Number,json:{write:!0}})],Qt.prototype,"ymin",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Qt.prototype,"mmin",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Qt.prototype,"zmin",void 0),o([c({type:Number,json:{write:!0}})],Qt.prototype,"xmax",void 0),o([c({type:Number,json:{write:!0}})],Qt.prototype,"ymax",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Qt.prototype,"mmax",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Qt.prototype,"zmax",void 0),Qt=ls=o([k("esri.geometry.Extent")],Qt),Qt.prototype.toJSON.isDefaultToJSON=!0;const Nt=Qt;function eu(e,t,r=!1){let{hasM:s,hasZ:i}=e;Array.isArray(t)?t.length!==4||s||i?t.length===3&&r&&!s?(i=!0,s=!1):t.length===3&&s&&i&&(s=!1,i=!1):(s=!0,i=!0):(i=!i&&t.hasZ&&(!s||t.hasM),s=!s&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=s}var l0;function OS(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function oL(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Tn=l0=class extends go{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):oL(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const s=r.points&&r.points[0];return s&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=s.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=s.length>3:r.hasM===void 0&&(r.hasM=s.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Nt,r=this.hasZ,s=this.hasM,i=r?3:2,n=e[0],a=OS(Math.min),l=OS(Math.max);let d,h,f,y,[v,b]=n,[x,I]=n;for(let A=0,q=e.length;A<q;A++){const G=e[A],[C,p]=G;if(v=a(v,C),b=a(b,p),x=l(x,C),I=l(I,p),r&&G.length>2){const m=G[2];d=a(d,m),f=l(f,m)}if(s&&G.length>i){const m=G[i];h=a(h,m),y=l(y,m)}}return t.xmin=v,t.ymin=b,t.xmax=x,t.ymax=I,t.spatialReference=this.spatialReference,r?(t.zmin=d,t.zmax=f):(t.zmin=null,t.zmax=null),s?(t.mmin=h,t.mmax=y):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=D(this.points)}addPoint(e){return eu(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:D(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new l0(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=t[2],s=3),this.hasM&&(r.m=t[s]),new dt(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new dt(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(eu(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};o([c({readOnly:!0})],Tn.prototype,"cache",null),o([c()],Tn.prototype,"extent",null),o([c({type:[[Number]],json:{write:{isRequired:!0}}})],Tn.prototype,"points",void 0),o([he("points")],Tn.prototype,"writePoints",null),Tn=l0=o([k("esri.geometry.Multipoint")],Tn),Tn.prototype.toJSON.isDefaultToJSON=!0;const Cy=Tn;function aL(e,t){const r=t[0]-e[0],s=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+s*s+i*i)}return Math.sqrt(r*r+s*s)}function lL(e,t,r){const s=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[s,i,e[2]+r*(t[2]-e[2])]:[s,i]}function uL(e,t){return lL(e,t,.5)}function UT(e,t,r){const s=e.length;let i=0,n=0,a=0;for(let l=0;l<s;l++){const d=e[l],h=e[(l+1)%s];let f=2;i+=d[0]*h[1]-h[0]*d[1],d.length>2&&h.length>2&&r&&(n+=d[0]*h[2]-h[0]*d[2],f=3),d.length>f&&h.length>f&&t&&(a+=d[0]*h[f]-h[0]*d[f])}return i<=0&&n<=0&&a<=0}function cL(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function qT(e){return e?dL(e.rings,e.hasZ):null}function dL(e,t){if(!e||!e.length)return null;const r=[],s=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=e.length;n<a;n++){const l=pL(e[n],t,i);l&&s.push(l)}if(s.sort((n,a)=>{let l=n[2]-a[2];return l===0&&t&&(l=n[4]-a[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?hL(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function pL(e,t,r){let s=0,i=0,n=0,a=0,l=0;const d=e.length?e[0][0]:0,h=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let v=0;v<e.length;v++){const b=e[v],x=e[(v+1)%e.length],[I,A,q]=b,G=I-d,C=A-h,p=t?q-f:void 0,[m,g,_]=x,$=m-d,T=g-h,S=t?_-f:void 0,O=G*T-$*C;if(a+=O,s+=(G+$)*O,i+=(C+T)*O,t&&b.length>2&&x.length>2){const W=G*S-$*p;n+=(p+S)*W,l+=W}I<r[0]&&(r[0]=I),I>r[1]&&(r[1]=I),A<r[2]&&(r[2]=A),A>r[3]&&(r[3]=A),t&&(q<r[4]&&(r[4]=q),q>r[5]&&(r[5]=q))}if(a>0&&(a*=-1),l>0&&(l*=-1),!a)return null;a*=.5,l*=.5;const y=[s/(6*a)+d,i/(6*a)+h,a];return t&&(r[4]===r[5]||l===0?(y[3]=(r[4]+r[5])/2,y[4]=0):(y[3]=n/(6*l)+f,y[4]=l)),y}function hL(e,t){const r=t?[0,0,0]:[0,0],s=t?[0,0,0]:[0,0];let i=0,n=0,a=0,l=0;for(let d=0,h=e.length;d<h-1;d++){const f=e[d],y=e[d+1];if(f&&y){r[0]=f[0],r[1]=f[1],s[0]=y[0],s[1]=y[1],t&&f.length>2&&y.length>2&&(r[2]=f[2],s[2]=y[2]);const v=aL(r,s);if(v){i+=v;const b=uL(f,y);n+=v*b[0],a+=v*b[1],t&&b.length>2&&(l+=v*b[2])}}}return i>0?t?[n/i,a/i,l/i]:[n/i,a/i]:e.length?e[0]:null}function BT(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function HT(e){return e.points!==void 0}function GT(e){return e.x!==void 0&&e.y!==void 0}function WT(e){return e.paths!==void 0}function JT(e){return e.rings!==void 0}function KT(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}const Yn=KT(Math.min),Xn=KT(Math.max);function fL(e,t){return WT(t)?tu(e,t.paths,!1,!1):JT(t)?tu(e,t.rings,!1,!1):HT(t)?v1(e,t.points,!1,!1,!1,!1):BT(t)?QT(e,t):(GT(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function yL(e,t){return WT(t)?tu(e,t.paths,!0,!1):JT(t)?tu(e,t.rings,!0,!1):HT(t)?v1(e,t.points,!0,!1,!0,!1):BT(t)?QT(e,t,!0,!1,!0,!1):(GT(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function tu(e,t,r,s){const i=r?3:2;if(!t.length||!t[0].length)return null;let n,a,l,d,[h,f]=t[0][0],[y,v]=t[0][0];for(let b=0;b<t.length;b++){const x=t[b];for(let I=0;I<x.length;I++){const A=x[I],[q,G]=A;if(h=Yn(h,q),f=Yn(f,G),y=Xn(y,q),v=Xn(v,G),r&&A.length>2){const C=A[2];n=Yn(n,C),a=Xn(a,C)}if(s&&A.length>i){const C=A[i];l=Yn(n,C),d=Xn(a,C)}}}return r?s?(e[0]=h,e[1]=f,e[2]=n,e[3]=l,e[4]=y,e[5]=v,e[6]=a,e[7]=d,e.length=8,e):(e[0]=h,e[1]=f,e[2]=n,e[3]=y,e[4]=v,e[5]=a,e.length=6,e):s?(e[0]=h,e[1]=f,e[2]=l,e[3]=y,e[4]=v,e[5]=d,e.length=6,e):(e[0]=h,e[1]=f,e[2]=y,e[3]=v,e.length=4,e)}function QT(e,t,r,s,i,n){const a=t.xmin,l=t.xmax,d=t.ymin,h=t.ymax;let f=t.zmin,y=t.zmax,v=t.mmin,b=t.mmax;return i?(f=f||0,y=y||0,n?(v=v||0,b=b||0,e[0]=a,e[1]=d,e[2]=f,e[3]=v,e[4]=l,e[5]=h,e[6]=y,e[7]=b,e):(e[0]=a,e[1]=d,e[2]=f,e[3]=l,e[4]=h,e[5]=y,e)):n?(v=v||0,b=b||0,e[0]=a,e[1]=d,e[2]=v,e[3]=l,e[4]=h,e[5]=b,e):(e[0]=a,e[1]=d,e[2]=l,e[3]=h,e)}function v1(e,t,r,s,i,n){const a=r?3:2,l=s&&n,d=r&&i;if(!t.length||!t[0].length)return null;let h,f,y,v,[b,x]=t[0],[I,A]=t[0];for(let q=0;q<t.length;q++){const G=t[q],[C,p]=G;if(b=Yn(b,C),x=Yn(x,p),I=Xn(I,C),A=Xn(A,p),d&&G.length>2){const m=G[2];h=Yn(h,m),f=Xn(f,m)}if(l&&G.length>a){const m=G[a];y=Yn(h,m),v=Xn(f,m)}}return i?(h=h||0,f=f||0,n?(y=y||0,v=v||0,e[0]=b,e[1]=x,e[2]=h,e[3]=y,e[4]=I,e[5]=A,e[6]=f,e[7]=v,e):(e[0]=b,e[1]=x,e[2]=h,e[3]=I,e[4]=A,e[5]=f,e)):n?(y=y||0,v=v||0,e[0]=b,e[1]=x,e[2]=y,e[3]=I,e[4]=A,e[5]=v,e):(e[0]=b,e[1]=x,e[2]=I,e[3]=A,e)}function mL(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function gL(e){return e.points!==void 0}function vL(e){return e.x!==void 0&&e.y!==void 0}function bL(e){return e.paths!==void 0}function wL(e){return e.rings!==void 0}const b1=[];function ZT(e,t,r,s){return{xmin:e,ymin:t,xmax:r,ymax:s}}function YT(e,t,r,s,i,n){return{xmin:e,ymin:t,zmin:r,xmax:s,ymax:i,zmax:n}}function XT(e,t,r,s,i,n){return{xmin:e,ymin:t,mmin:r,xmax:s,ymax:i,mmax:n}}function ek(e,t,r,s,i,n,a,l){return{xmin:e,ymin:t,zmin:r,mmin:s,xmax:i,ymax:n,zmax:a,mmax:l}}function w1(e,t=!1,r=!1){return t?r?ek(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):YT(e[0],e[1],e[2],e[3],e[4],e[5]):r?XT(e[0],e[1],e[2],e[3],e[4],e[5]):ZT(e[0],e[1],e[2],e[3])}function _L(e){return e?mL(e)?e:vL(e)?$L(e):wL(e)?_1(e):bL(e)?tk(e):gL(e)?SL(e):null:null}function SL(e){const{hasZ:t,hasM:r,points:s}=e;return w1(v1(b1,s,t,r),t,r)}function $L(e){const{x:t,y:r,z:s,m:i}=e,n=i!=null;return s!=null?n?ek(t,r,s,i,t,r,s,i):YT(t,r,s,t,r,s):n?XT(t,r,i,t,r,i):ZT(t,r,t,r)}function _1(e){const{hasZ:t,hasM:r,rings:s}=e,i=tu(b1,s,t,r);return i?w1(i,t,r):null}function tk(e){const{hasZ:t,hasM:r,paths:s}=e,i=tu(b1,s,t,r);return i?w1(i,t,r):null}var hh;function jS(e){return!Array.isArray(e[0])}let li=hh=class extends go{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let s=!1,i=!1;for(const a of t)a.hasZ&&(s=!0),a.hasM&&(i=!0);const n={rings:t.map(function(a){const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const d=a.zmin+.5*(a.zmax-a.zmin);for(let h=0;h<l.length;h++)l[h].push(d)}if(i&&a.hasM){const d=a.mmin+.5*(a.mmax-a.mmin);for(let h=0;h<l.length;h++)l[h].push(d)}return l}),spatialReference:r};return s&&(n.hasZ=!0),i&&(n.hasM=!0),new hh(n)}normalizeCtorArgs(e,t){let r,s,i=null,n=null;return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,s=e.hasM):i=e,i=i||[],t=t||Ue.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),n=i[0]&&i[0][0],n&&(r===void 0&&s===void 0?(r=n.length>2,s=n.length>3):r===void 0?r=s?n.length>3:n.length>2:s===void 0&&(s=r?n.length>3:n.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=qT(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new dt;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=_1(this);if(!t)return null;const r=new Nt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return iL(this.rings)}writeRings(e,t){t.rings=D(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(jS(e)){const s=[];for(let i=0,n=e.length;i<n;i++)s[i]=e[i].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new hh;return e.spatialReference=this.spatialReference,e.rings=D(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(be(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(H(t)!==H(r)||H(t)&&H(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const s=([i,n,a,l],[d,h,f,y])=>i===d&&n===h&&(a==null&&f==null||a===f)&&(l==null&&y==null||l===y);for(let i=0;i<this.rings.length;i++){const n=this.rings[i],a=e.rings[i];if(!Yw(n,a,s))return!1}return!0}contains(e){if(!e)return!1;const t=m1(e,this.spatialReference);return Q9(this,H(t)?t:e)}isClockwise(e){let t;return t=jS(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,UT(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],s=this.hasZ,i=this.hasM;return s&&!i?new dt(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new dt(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new dt(r[0],r[1],r[2],r[3],this.spatialReference):new dt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(eu(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new dt(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,s=t.map(i=>new dt(i,r));return this.notifyChange("rings"),s}setPoint(e,t,r){return this._validateInputs(e,t)?(eu(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const s=this.rings[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],li.prototype,"cache",null),o([c({readOnly:!0})],li.prototype,"centroid",null),o([c({readOnly:!0})],li.prototype,"extent",null),o([c({readOnly:!0})],li.prototype,"isSelfIntersecting",null),o([c({type:[[[Number]]],json:{write:{isRequired:!0}}})],li.prototype,"rings",void 0),o([he("rings")],li.prototype,"writeRings",null),li=hh=o([k("esri.geometry.Polygon")],li),li.prototype.toJSON.isDefaultToJSON=!0;const Pa=li;var u0;function xL(e){return!Array.isArray(e[0])}let kn=u0=class extends go{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,s,i=null,n=null;return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,s=e.hasM):i=e,i=i||[],t=t||Ue.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),n=i[0]&&i[0][0],n&&(r===void 0&&s===void 0?(r=n.length>2,s=!1):r===void 0?r=!s&&n.length>3:s===void 0&&(s=!r&&n.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=tk(this);if(!t)return null;const r=new Nt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=D(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(xL(e)){const s=[];for(let i=0,n=e.length;i<n;i++)s[i]=e[i].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new u0;return e.spatialReference=this.spatialReference,e.paths=D(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],s=this.hasZ,i=this.hasM;return s&&!i?new dt(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new dt(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new dt(r[0],r[1],r[2],r[3],this.spatialReference):new dt(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(eu(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,s=t.map(i=>new dt(i,r));return this.notifyChange("paths"),s}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new dt(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(eu(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const s=this.paths[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],kn.prototype,"cache",null),o([c({readOnly:!0})],kn.prototype,"extent",null),o([c({type:[[[Number]]],json:{write:{isRequired:!0}}})],kn.prototype,"paths",void 0),o([he("paths")],kn.prototype,"writePaths",null),kn=u0=o([k("esri.geometry.Polyline")],kn),kn.prototype.toJSON.isDefaultToJSON=!0;const mu=kn;class Ce{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=s=>this.fromJSON(s),this.write=(s,i,n)=>{const a=this.toJSON(s);a!==void 0&&Br(n,a,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const r=this.apiToJSON[t];return this.options.useNumericKeys?+r:r}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const s in t)r[t[s]]=s;return r}_getKeysSorted(t){const r=[];for(const s in t)r.push(s);return r.sort(),r}}function ir(){return function(e,t){return new Ce(e,V({ignoreUnknown:!0},t))}}const rk=ir()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),c0=ir()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function S1(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function $1(e){return e.points!==void 0}function x1(e){return e.x!==void 0&&e.y!==void 0}function E1(e){return e.paths!==void 0}function Vl(e){return e.rings!==void 0}function ss(e){return be(e)?null:e instanceof go?e:x1(e)?dt.fromJSON(e):E1(e)?mu.fromJSON(e):Vl(e)?Pa.fromJSON(e):$1(e)?Cy.fromJSON(e):S1(e)?Nt.fromJSON(e):null}function ho(e){return e?x1(e)?"esriGeometryPoint":E1(e)?"esriGeometryPolyline":Vl(e)?"esriGeometryPolygon":S1(e)?"esriGeometryEnvelope":$1(e)?"esriGeometryMultipoint":null:null}const EL={esriGeometryPoint:dt,esriGeometryPolyline:mu,esriGeometryPolygon:Pa,esriGeometryEnvelope:Nt,esriGeometryMultipoint:Cy};function sk(e){return e&&EL[e]||null}const La={base:go,key:"type",typeMap:{extent:Nt,multipoint:Cy,point:dt,polyline:mu,polygon:Pa}};Ti(La);let Um;function fo(){return Um||(Um=(async()=>{const e=await Fe(()=>import("./arcadeUtils.6fff18f5.js"),["./arcadeUtils.6fff18f5.js","./number.4f9f8c16.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js"],import.meta.url).then(function(t){return t.aA});return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Um}const TL=(e,t,r)=>gu.create(e,t,r,null,["$feature"]),kL=(e,t,r)=>gu.create(e,t,r,null,["$feature","$view"]),ML=(e,t,r,s)=>gu.create(e,t,r,s,["$feature","$view"]);class gu{constructor(t,r,s,i,n,a,l,d){this.script=t,this.evaluate=n;const h=Array.isArray(l)?l:l.fields;this.fields=h,this._syntaxTree=i,this._arcade=r,this._arcadeDictionary=s,this._arcadeFeature=a,this._spatialReference=d,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,s,i,n,a){const{arcade:l,Feature:d,Dictionary:h}=await fo(),f=Ue.fromJSON(r),y=l.parseScript(t,a),v=n.reduce((m,g)=>Ie(V({},m),{[g]:null}),{});let b=null;H(i)&&(b=new h(i),b.immutable=!0,v.$config=null);const x=l.scriptUsesGeometryEngine(y)&&l.enableGeometrySupport(),I=l.scriptUsesFeatureSet(y)&&l.enableFeatureSetSupport(),A=l.scriptIsAsync(y)&&l.enableAsyncSupport(),q={vars:v,spatialReference:f,useAsync:!!A},G=new h;G.immutable=!1,G.setField("scale",0);const C=l.compileScript(y,q),p=m=>("$view"in m&&m.$view&&(G.setField("scale",m.$view.scale),m.$view=G),b&&(m.$config=b),C({vars:m,spatialReference:f}));return await Promise.all([x,I,A]),new gu(t,l,h,y,p,new d,s,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const IL=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],OL=["field","normalizationField"];function d0(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(CS(IL,r,t),"visualVariables"in r&&r.visualVariables)for(const s of r.visualVariables)CS(OL,s,t)}}function CS(e,t,r){if(e)for(const s of e){const i=Dd(s,t),n=i&&typeof i!="function"&&r.get(i);n&&Br(s,n.name,t)}}function T1(e,t){if(e!=null&&t!=null&&t.fields.length)if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=r&&r.name||null,e.endField=s&&s.name||null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=s&&s.name||null}}const qm=new Set;function jL(e,t){return e&&t?(qm.clear(),k1(qm,e,t),Array.from(qm).sort()):[]}function k1(e,t,r){var s;if(r)if(t!=null&&(s=t.fields)!=null&&s.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)Zs(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)e.add(i)}}function Zs(e,t,r){if(typeof r=="string")if(t){const s=t.get(r);s&&e.add(s.name)}else e.add(r)}async function yn(e,t,r){var s;if(!r)return;const{arcadeUtils:i}=await fo(),n=i.extractFieldNames(r,t==null||(s=t.fields)==null?void 0:s.map(a=>a.name));for(const a of n)Zs(e,t,a)}async function CL(e,t,r){if(r&&r!=="1=1"){const s=(await Fe(()=>import("./WhereClause.5a06219b.js"),[],import.meta.url)).WhereClause.create(r,t);if(!s.isStandardized)throw new Y("fieldUtils:collectFilterFields","Where clause is not standardized");k1(e,t,s.fieldNames)}}function AL({displayField:e,fields:t}){return e||(t&&t.length?Bm(t,"name-or-title")||Bm(t,"unique-identifier")||Bm(t,"type-or-category")||RL(t):null)}function RL(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}function Bm(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function PL(e,t){const{labelingInfo:r,fieldsIndex:s}=t;r&&r.length&&await Promise.all(r.map(i=>LL(e,s,i)))}async function LL(e,t,r){if(!r)return;const s=r.getLabelExpression(),i=r.where;if(s.type==="arcade")await yn(e,t,s.expression);else{const n=s.expression.match(/{[^}]*}/g);n&&n.forEach(a=>{Zs(e,t,a.slice(1,-1))})}await CL(e,t,i)}function ik(e){const t=e.defaultValue;return t!==void 0&&ak(e,t)?t:e.nullable?null:void 0}function nk(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function FL(e){return e===null||nk(e)}const M1="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function NL(e){return e===null||M1(e)}function ok(e){return e!=null&&typeof e=="string"}function DL(e){return e===null||ok(e)}function zL(){return!0}function ak(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?NL:M1;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?FL:nk;break;case"string":case"esriFieldTypeString":r=e.nullable?DL:ok;break;default:r=zL}return arguments.length===1?r:r(t)}const VL=["integer","small-integer","single","double"],UL=new Set([...VL,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function I1(e){return e!=null&&UL.has(e.type)}function qL(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var Lf,Ff;function BL(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function HL(e,t){return e.nullable&&t===null?null:I1(e)&&!GL(e.type,Number(t))?Lf.OUT_OF_RANGE:ak(e,t)?e.domain?A9(e.domain,t):null:Ff.INVALID_TYPE}function GL(e,t){const r=typeof e=="string"?lk(e):e;return!!r&&(r.isInteger?M1(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}function lk(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return WL;case"esriFieldTypeInteger":case"integer":return JL;case"esriFieldTypeSingle":case"single":return KL;case"esriFieldTypeDouble":case"double":return QL}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Lf||(Lf={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Ff||(Ff={}));const WL={min:-32768,max:32767,isInteger:!0},JL={min:-2147483648,max:2147483647,isInteger:!0},KL={min:-34e37,max:12e37,isInteger:!1},QL={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function ZL(e,t,r){switch(e){case Yl.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Yl.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Ff.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case Lf.OUT_OF_RANGE:{const{min:s,max:i}=lk(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${s} to ${i}`}}}let fh=class extends ee{constructor(e){super(e),this.type=null}};o([c({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],fh.prototype,"type",void 0),fh=o([k("esri.popup.content.Content")],fh);const Fa=fh;var p0;let Io=p0=class extends Fa{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new p0({description:this.description,displayType:this.displayType,title:this.title})}};o([c({type:String,json:{write:!0}})],Io.prototype,"description",void 0),o([c({type:["auto","preview","list"],json:{write:!0}})],Io.prototype,"displayType",void 0),o([c({type:String,json:{write:!0}})],Io.prototype,"title",void 0),o([c({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Io.prototype,"type",void 0),Io=p0=o([k("esri.popup.content.AttachmentsContent")],Io);const vd=Io;var h0;let Oo=h0=class extends Fa{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new h0({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?D(this.outFields):null})}};o([c()],Oo.prototype,"creator",void 0),o([c()],Oo.prototype,"destroyer",void 0),o([c()],Oo.prototype,"outFields",void 0),o([c({type:["custom"],readOnly:!0})],Oo.prototype,"type",void 0),Oo=h0=o([k("esri.popup.content.CustomContent")],Oo);const YL=Oo;var f0;let Xa=f0=class extends ee{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new f0({title:this.title,expression:this.expression})}};o([c({type:String,json:{write:!0}})],Xa.prototype,"title",void 0),o([c({type:String,json:{write:!0}})],Xa.prototype,"expression",void 0),o([c({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Xa.prototype,"returnType",void 0),Xa=f0=o([k("esri.popup.ElementExpressionInfo")],Xa);const XL=Xa;var y0;let Zu=y0=class extends Fa{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new y0({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};o([c({type:XL,json:{write:!0}})],Zu.prototype,"expressionInfo",void 0),o([c({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Zu.prototype,"type",void 0),Zu=y0=o([k("esri.popup.content.ExpressionContent")],Zu);const O1=Zu;function Ee(e,t={}){var r;const s=e instanceof Ce?e:new Ce(e,t),i={type:(r=t==null?void 0:t.ignoreUnknown)==null||r?s.apiValues:String,json:{type:s.jsonValues,read:(t==null||!t.readOnly)&&{reader:s.read},write:{writer:s.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(i.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(i.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(i.json.name=t.name),c(i)}const bd=ir()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});bd.toJSON.bind(bd);bd.fromJSON.bind(bd);var AS,RS,PS;let e7,Gc;const LS=(AS=(RS=globalThis.esriConfig)==null?void 0:RS.locale)!=null?AS:(PS=globalThis.dojoConfig)==null?void 0:PS.locale;function uk(){var e,t;return(e=LS??((t=globalThis.navigator)==null?void 0:t.language))!=null?e:"en"}function Ys(){return Gc===void 0&&(Gc=uk()),Gc}const Wc=[];function ck(e){return Wc.push(e),{remove(){Wc.splice(Wc.indexOf(e),1)}}}const m0=[];function j1(e){return m0.push(e),{remove(){Wc.splice(m0.indexOf(e),1)}}}function t7(){var e;const t=(e=e7)!=null?e:uk();Gc!==t&&(Gc=t,[...m0].forEach(r=>{r.call(null,t)}),[...Wc].forEach(r=>{r.call(null,t)}))}globalThis.addEventListener==null||globalThis.addEventListener("languagechange",t7);const ii={year:"numeric",month:"numeric",day:"numeric"},Fu={year:"numeric",month:"long",day:"numeric"},Nu={year:"numeric",month:"short",day:"numeric"},Du={year:"numeric",month:"long",weekday:"long",day:"numeric"},us={hour:"numeric",minute:"numeric"},Es=Ie(V({},us),{second:"numeric"}),C1={"short-date":ii,"short-date-short-time":V(V({},ii),us),"short-date-short-time-24":Ie(V(V({},ii),us),{hour12:!1}),"short-date-long-time":V(V({},ii),Es),"short-date-long-time-24":Ie(V(V({},ii),Es),{hour12:!1}),"short-date-le":ii,"short-date-le-short-time":V(V({},ii),us),"short-date-le-short-time-24":Ie(V(V({},ii),us),{hour12:!1}),"short-date-le-long-time":V(V({},ii),Es),"short-date-le-long-time-24":Ie(V(V({},ii),Es),{hour12:!1}),"long-month-day-year":Fu,"long-month-day-year-short-time":V(V({},Fu),us),"long-month-day-year-short-time-24":Ie(V(V({},Fu),us),{hour12:!1}),"long-month-day-year-long-time":V(V({},Fu),Es),"long-month-day-year-long-time-24":Ie(V(V({},Fu),Es),{hour12:!1}),"day-short-month-year":Nu,"day-short-month-year-short-time":V(V({},Nu),us),"day-short-month-year-short-time-24":Ie(V(V({},Nu),us),{hour12:!1}),"day-short-month-year-long-time":V(V({},Nu),Es),"day-short-month-year-long-time-24":Ie(V(V({},Nu),Es),{hour12:!1}),"long-date":Du,"long-date-short-time":V(V({},Du),us),"long-date-short-time-24":Ie(V(V({},Du),us),{hour12:!1}),"long-date-long-time":V(V({},Du),Es),"long-date-long-time-24":Ie(V(V({},Du),Es),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":us,"long-time":Es},wd=ir()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});wd.apiValues;wd.toJSON.bind(wd);wd.fromJSON.bind(wd);const r7={ar:"ar-u-nu-latn-ca-gregory"};let yh=new WeakMap,dk=C1["short-date-short-time"];function s7(e){const t=e||dk;if(!yh.has(t)){const r=Ys(),s=r7[Ys()]||r;yh.set(t,new Intl.DateTimeFormat(s,t))}return yh.get(t)}function pk(e){return C1[e]||null}function ja(e,t){return s7(t).format(e)}j1(()=>{yh=new WeakMap,dk=C1["short-date-short-time"]});const i7={ar:"ar-u-nu-latn"};let mh=new WeakMap,hk={};function n7(e){const t=e||hk;if(!mh.has(t)){const r=Ys(),s=i7[Ys()]||r;mh.set(t,new Intl.NumberFormat(s,e))}return mh.get(t)}function o7(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function ru(e,t){return n7(t).format(e)}j1(()=>{mh=new WeakMap,hk={}});var g0;let jo=g0=class extends ee{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new g0({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?ja(e,V(V({},pk(this.dateFormat)),this.dateTimeFormatOptions)):ru(e,o7(this))}};o([Ee(bd)],jo.prototype,"dateFormat",void 0),o([c({type:Object,json:{read:!1}})],jo.prototype,"dateTimeFormatOptions",void 0),o([c({type:Boolean,json:{write:!0}})],jo.prototype,"digitSeparator",void 0),o([c({type:Bt,json:{write:!0}})],jo.prototype,"places",void 0),jo=g0=o([k("esri.popup.support.FieldInfoFormat")],jo);const gh=jo;var v0;let ks=v0=class extends ee{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new v0({fieldName:this.fieldName,format:this.format?D(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};o([c({type:String,json:{write:!0}})],ks.prototype,"fieldName",void 0),o([c({type:gh,json:{write:!0}})],ks.prototype,"format",void 0),o([c({type:Boolean,json:{write:!0,default:!1}})],ks.prototype,"isEditable",void 0),o([c({type:String,json:{write:!0}})],ks.prototype,"label",void 0),o([Ee(new Ce({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],ks.prototype,"stringFieldOption",void 0),o([c({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],ks.prototype,"statisticType",void 0),o([c({type:String,json:{write:!0}})],ks.prototype,"tooltip",void 0),o([c({type:Boolean,json:{write:!0}})],ks.prototype,"visible",void 0),ks=v0=o([k("esri.popup.FieldInfo")],ks);const A1=ks;var b0;let Li=b0=class extends Fa{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new b0(D({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};o([c({type:Object,json:{write:!0}})],Li.prototype,"attributes",void 0),o([c({type:String,json:{write:!0}})],Li.prototype,"description",void 0),o([c({type:[A1]})],Li.prototype,"fieldInfos",void 0),o([he("fieldInfos")],Li.prototype,"writeFieldInfos",null),o([c({type:String,json:{write:!0}})],Li.prototype,"title",void 0),o([c({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Li.prototype,"type",void 0),Li=b0=o([k("esri.popup.content.FieldsContent")],Li);const _d=Li;let Co=class extends ee{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};o([c({type:String,json:{write:!0}})],Co.prototype,"altText",void 0),o([c({type:String,json:{write:!0}})],Co.prototype,"caption",void 0),o([c({type:String,json:{write:!0}})],Co.prototype,"title",void 0),o([c({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Co.prototype,"type",void 0),Co=o([k("esri.popup.content.mixins.MediaInfo")],Co);const R1=Co;var w0;let Yu=w0=class extends vt{constructor(e){super(e),this.tooltip=null,this.value=null}clone(){return new w0({tooltip:this.tooltip,value:this.value})}};o([c()],Yu.prototype,"tooltip",void 0),o([c()],Yu.prototype,"value",void 0),Yu=w0=o([k("esri.popup.content.support.ChartMediaInfoValueSeries")],Yu);const a7=Yu;var _0;let Ao=_0=class extends ee{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new _0({fields:D(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};o([c({type:[String],json:{write:!0}})],Ao.prototype,"fields",void 0),o([c({type:String,json:{write:!0}})],Ao.prototype,"normalizeField",void 0),o([c({type:[a7],json:{read:!1}})],Ao.prototype,"series",void 0),o([c({type:String,json:{write:!0}})],Ao.prototype,"tooltipField",void 0),Ao=_0=o([k("esri.popup.content.support.ChartMediaInfoValue")],Ao);const l7=Ao;let Xu=class extends R1{constructor(e){super(e),this.type=null,this.value=null}};o([c({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Xu.prototype,"type",void 0),o([c({type:l7,json:{write:!0}})],Xu.prototype,"value",void 0),Xu=o([k("esri.popup.content.mixins.ChartMediaInfo")],Xu);const Ay=Xu,Ry=ir()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var S0;let vh=S0=class extends Ay{constructor(e){super(e),this.type="bar-chart"}clone(){return new S0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:Ry.write}})],vh.prototype,"type",void 0),vh=S0=o([k("esri.popup.content.BarChartMediaInfo")],vh);const fk=vh;var $0;let bh=$0=class extends Ay{constructor(e){super(e),this.type="column-chart"}clone(){return new $0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:Ry.write}})],bh.prototype,"type",void 0),bh=$0=o([k("esri.popup.content.ColumnChartMediaInfo")],bh);const yk=bh;var x0;let ec=x0=class extends ee{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new x0({linkURL:this.linkURL,sourceURL:this.sourceURL})}};o([c({type:String,json:{write:!0}})],ec.prototype,"linkURL",void 0),o([c({type:String,json:{write:!0}})],ec.prototype,"sourceURL",void 0),ec=x0=o([k("esri.popup.content.support.ImageMediaInfoValue")],ec);const u7=ec;var E0;let el=E0=class extends R1{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new E0({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};o([c({type:Number,json:{write:!0}})],el.prototype,"refreshInterval",void 0),o([c({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],el.prototype,"type",void 0),o([c({type:u7,json:{write:!0}})],el.prototype,"value",void 0),el=E0=o([k("esri.popup.content.ImageMediaInfo")],el);const mk=el;var T0;let wh=T0=class extends Ay{constructor(e){super(e),this.type="line-chart"}clone(){return new T0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:Ry.write}})],wh.prototype,"type",void 0),wh=T0=o([k("esri.popup.content.LineChartMediaInfo")],wh);const gk=wh;var k0;let _h=k0=class extends Ay{constructor(e){super(e),this.type="pie-chart"}clone(){return new k0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:Ry.write}})],_h.prototype,"type",void 0),_h=k0=o([k("esri.popup.content.PieChartMediaInfo")],_h);const vk=_h,bk={base:R1,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":fk,"column-chart":yk,"line-chart":gk,"pie-chart":vk,image:mk}};var M0;let Ms=M0=class extends Fa{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?mk.fromJSON(t):t.type==="barchart"?fk.fromJSON(t):t.type==="columnchart"?yk.fromJSON(t):t.type==="linechart"?gk.fromJSON(t):t.type==="piechart"?vk.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new M0(D({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};o([c()],Ms.prototype,"activeMediaInfoIndex",void 0),o([c({type:Object,json:{write:!0}})],Ms.prototype,"attributes",void 0),o([c({type:String,json:{write:!0}})],Ms.prototype,"description",void 0),o([c({types:[bk]})],Ms.prototype,"mediaInfos",void 0),o([ue("mediaInfos")],Ms.prototype,"readMediaInfos",null),o([he("mediaInfos")],Ms.prototype,"writeMediaInfos",null),o([c({type:String,json:{write:!0}})],Ms.prototype,"title",void 0),o([c({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Ms.prototype,"type",void 0),Ms=M0=o([k("esri.popup.content.MediaContent")],Ms);const Nf=Ms;var I0;let tc=I0=class extends Fa{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new I0({text:this.text})}};o([c({type:String,json:{write:!0}})],tc.prototype,"text",void 0),o([c({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],tc.prototype,"type",void 0),tc=I0=o([k("esri.popup.content.TextContent")],tc);const Df=tc,c7={base:null,key:"type",typeMap:{attachment:vd,media:Nf,text:Df,expression:O1,field:_d}};var O0;let Ro=O0=class extends ee{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new O0({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};o([c({type:String,json:{write:!0}})],Ro.prototype,"name",void 0),o([c({type:String,json:{write:!0}})],Ro.prototype,"title",void 0),o([c({type:String,json:{write:!0}})],Ro.prototype,"expression",void 0),o([c({type:["string","number"],json:{write:!0}})],Ro.prototype,"returnType",void 0),Ro=O0=o([k("esri.popup.ExpressionInfo")],Ro);const wk=Ro;var j0;let rc=j0=class extends ee{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new j0({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};o([c({type:Boolean,json:{write:!0}})],rc.prototype,"returnTopmostRaster",void 0),o([c({type:Boolean,json:{write:!0}})],rc.prototype,"showNoDataRecords",void 0),rc=j0=o([k("esri.popup.LayerOptions")],rc);const d7=rc;var C0;let sc=C0=class extends ee{constructor(e){super(e),this.field=null,this.order=null}clone(){return new C0({field:this.field,order:this.order})}};o([c({type:String,json:{write:!0}})],sc.prototype,"field",void 0),o([c({type:["asc","desc"],json:{write:!0}})],sc.prototype,"order",void 0),sc=C0=o([k("esri.popup.support.RelatedRecordsInfoFieldOrder")],sc);const _k=sc;var A0;let ic=A0=class extends ee{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new A0({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?D(this.orderByFields):null})}};o([c({type:Boolean,json:{write:!0}})],ic.prototype,"showRelatedRecords",void 0),o([c({type:[_k],json:{write:!0}})],ic.prototype,"orderByFields",void 0),ic=A0=o([k("esri.popup.RelatedRecordsInfo")],ic);const p7=ic;let h7=0;const Zd=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+h7++})}};return t=o([k("esri.core.Identifiable")],t),t};let FS=class extends Zd(class{}){};FS=o([k("esri.core.Identifiable")],FS);var R0;let Is=R0=class extends Zd(vt){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new R0({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};o([c()],Is.prototype,"active",void 0),o([c()],Is.prototype,"className",void 0),o([c()],Is.prototype,"disabled",void 0),o([c()],Is.prototype,"id",void 0),o([c()],Is.prototype,"indicator",void 0),o([c()],Is.prototype,"title",void 0),o([c()],Is.prototype,"type",void 0),o([c()],Is.prototype,"visible",void 0),Is=R0=o([k("esri.support.actions.ActionBase")],Is);const P1=Is;var P0;let Sh=P0=class extends P1{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new P0({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};o([c()],Sh.prototype,"image",void 0),Sh=P0=o([k("esri.support.Action.ActionButton")],Sh);const f7=Sh;var L0;let nc=L0=class extends P1{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new L0({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};o([c()],nc.prototype,"image",void 0),o([c()],nc.prototype,"value",void 0),nc=L0=o([k("esri.support.Action.ActionToggle")],nc);const y7=nc;var F0;const m7=ft.ofType({key:"type",defaultKeyValue:"button",base:P1,typeMap:{button:f7,toggle:y7}}),g7={base:Fa,key:"type",typeMap:{media:Nf,custom:YL,text:Df,attachments:vd,fields:_d,expression:O1}},Sk="esri.PopupTemplate",v7=pe.getLogger(Sk),b7=["attachments","fields","media","text","expression"];let Ht=F0=class extends ee{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>Ti(g7,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||fu(e)?e:(v7.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,s){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(i=>b7.indexOf(i.type)!==-1).map(i=>i&&i.toJSON(s)),t.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(t):i.type==="media"?this._writeMediaContent(i,t):i.type==="text"&&this._writeTextContent(i,t)})):t.description=e}writeFieldInfos(e,t,r,s){const{content:i}=this,n=Array.isArray(i)?i:null;if(e){const a=n?n.filter(d=>d.type==="fields"):[],l=a.length&&a.every(d=>{var h;return(h=d.fieldInfos)==null?void 0:h.length});t.fieldInfos=e.filter(Boolean).map(d=>{const h=d.toJSON(s);return l&&(h.visible=!1),h})}if(n)for(const a of n)a.type==="fields"&&this._writeFieldsContent(a,t)}writeLayerOptions(e,t,r,s){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?D(e.toArray()):[];return new F0({actions:t,content:Array.isArray(this.content)?D(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?D(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?D(this.fieldInfos):null,layerOptions:this.layerOptions?D(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?D(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?D(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),k1(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=D(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(s=>{const i=t.fieldInfos.find(n=>n.fieldName.toLowerCase()===s.fieldName.toLowerCase());i?i.visible=!0:t.fieldInfos.push(s)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=D(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const s={description:!1,mediaInfos:!1};return r.map(i=>i.type==="media"?(i.mediaInfos||!t||s.mediaInfos||(i.mediaInfos=t,s.mediaInfos=!0),Nf.fromJSON(i)):i.type==="text"?(i.text||!e||s.description||(i.text=e,s.description=!0),Df.fromJSON(i)):i.type==="attachments"?vd.fromJSON(i):i.type==="fields"?_d.fromJSON(i):i.type==="expression"?O1.fromJSON(i):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const s=[];return e?s.push(new Df({text:e})):s.push(new _d),Array.isArray(t)&&t.length&&s.push(Nf.fromJSON({mediaInfos:t})),r&&s.push(vd.fromJSON({displayType:"auto"})),s.length?s:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((s,i)=>[...s,...this._getMediaInfoFields(i)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:s}=e,i=s||{},{fields:n=[],normalizeField:a,tooltipField:l,sourceURL:d,linkURL:h}=i,f=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(d),...this._extractFieldNames(h),...n];return a&&f.push(a),l&&f.push(l),f}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(s=>yn(e,t,s.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>t.indexOf("relationships/")===-1&&t.indexOf("expression/")===-1):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:s}=e,i=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const s=/\{(\w+):.+\}/,i=r.filter(n=>!(n.indexOf("{relationships/")===0||n.indexOf("{expression/")===0)).map(n=>n.replace(s,"{$1}"));return i?i.map(n=>n.slice(1,-1)):[]}};o([c({type:m7})],Ht.prototype,"actions",void 0),o([c()],Ht.prototype,"content",void 0),o([Ct("content")],Ht.prototype,"castContent",null),o([ue("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Ht.prototype,"readContent",null),o([he("content",{popupElements:{type:ft.ofType(c7)},showAttachments:{type:Boolean},mediaInfos:{type:ft.ofType(bk)},description:{type:String}})],Ht.prototype,"writeContent",null),o([c({type:[wk],json:{write:!0}})],Ht.prototype,"expressionInfos",void 0),o([c({type:[A1]})],Ht.prototype,"fieldInfos",void 0),o([he("fieldInfos")],Ht.prototype,"writeFieldInfos",null),o([c({type:d7})],Ht.prototype,"layerOptions",void 0),o([he("layerOptions")],Ht.prototype,"writeLayerOptions",null),o([c({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ht.prototype,"lastEditInfoEnabled",void 0),o([c()],Ht.prototype,"outFields",void 0),o([c()],Ht.prototype,"overwriteActions",void 0),o([c()],Ht.prototype,"returnGeometry",void 0),o([c({json:{type:String}})],Ht.prototype,"title",void 0),o([he("title")],Ht.prototype,"writeTitle",null),o([c({type:p7,json:{write:!0}})],Ht.prototype,"relatedRecordsInfo",void 0),Ht=F0=o([k(Sk)],Ht);const Na=Ht,zf={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function $k(e){return zf[e]||zf[e.toLowerCase()]}function L1(e){var t;return(t=zf[e])!=null?t:zf[e.toLowerCase()]}function w7(e){return[...L1(e)]}function Hm(e,t,r){r<0&&++r,r>1&&--r;const s=6*r;return s<1?e+(t-e)*s:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function xk(e,t,r,s=1){const i=(e%360+360)%360/360,n=r<=.5?r*(t+1):r+t-r*t,a=2*r-n;return[Math.round(255*Hm(a,n,i+1/3)),Math.round(255*Hm(a,n,i)),Math.round(255*Hm(a,n,i-1/3)),s]}function _7(e){const t=e.length>5,r=t?8:4,s=(1<<r)-1,i=t?1:17,n=t?e.length===9:e.length===5;let a=+("0x"+e.substr(1));if(isNaN(a))return null;const l=[0,0,0,1];let d;return n&&(d=a&s,a>>=r,l[3]=i*d/255),d=a&s,a>>=r,l[2]=i*d,d=a&s,a>>=r,l[1]=i*d,d=a&s,a>>=r,l[0]=i*d,l}function F1(){return[0,0,0]}function S7(e){return[e[0],e[1],e[2]]}function N1(e,t,r){return[e,t,r]}function $7(e){const t=F1(),r=Math.min(3,e.length);for(let s=0;s<r;++s)t[s]=e[s];return t}function x7(e,t){return new Float64Array(e,t,3)}function E7(){return F1()}function T7(){return N1(1,1,1)}const k7=E7(),M7=T7(),Et=1e-6,I7=Math.random;function D1(e){const t=e[0],r=e[1],s=e[2];return Math.sqrt(t*t+r*r+s*s)}function O7(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ek(e,t,r,s){return e[0]=t,e[1]=r,e[2]=s,e}function j7(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function C7(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function A7(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function R7(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function P7(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+s*s+i*i)}function L7(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return r*r+s*s+i*i}function F7(e){const t=e[0],r=e[1],s=e[2];return t*t+r*r+s*s}function N7(e,t){const r=t[0],s=t[1],i=t[2];let n=r*r+s*s+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}function D7(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function z7(e,t,r){const s=t[0],i=t[1],n=t[2],a=r[0],l=r[1],d=r[2];return e[0]=i*d-n*l,e[1]=n*a-s*d,e[2]=s*l-i*a,e}function V7(e,t,r,s){const i=t[0],n=t[1],a=t[2];return e[0]=i+s*(r[0]-i),e[1]=n+s*(r[1]-n),e[2]=a+s*(r[2]-a),e}function U7(e,t,r){const s=t[0],i=t[1],n=t[2];return e[0]=r[0]*s+r[4]*i+r[8]*n+r[12],e[1]=r[1]*s+r[5]*i+r[9]*n+r[13],e[2]=r[2]*s+r[6]*i+r[10]*n+r[14],e}function q7(e,t,r){const s=t[0],i=t[1],n=t[2];return e[0]=s*r[0]+i*r[3]+n*r[6],e[1]=s*r[1]+i*r[4]+n*r[7],e[2]=s*r[2]+i*r[5]+n*r[8],e}function B7(e,t,r){const s=r[0],i=r[1],n=r[2],a=r[3],l=t[0],d=t[1],h=t[2];let f=i*h-n*d,y=n*l-s*h,v=s*d-i*l,b=i*v-n*y,x=n*f-s*v,I=s*y-i*f;const A=2*a;return f*=A,y*=A,v*=A,b*=2,x*=2,I*=2,e[0]=l+f+b,e[1]=d+y+x,e[2]=h+v+I,e}function H7(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function G7(e,t,r){const s=r[0]-t[0],i=r[1]-t[1],n=r[2]-t[2];let a=s*s+i*i+n*n;return a>0?(a=1/Math.sqrt(a),e[0]=s*a,e[1]=i*a,e[2]=n*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const W7=D1;function J7(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function K7(e,t,r,s,i){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e}function Q7(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Z7(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Y7(e){const t=e[0],r=e[1],s=e[2],i=e[3];return Math.sqrt(t*t+r*r+s*s+i*i)}function X7(e){const t=e[0],r=e[1],s=e[2],i=e[3];return t*t+r*r+s*s+i*i}function eF(e,t){const r=t[0],s=t[1],i=t[2],n=t[3];let a=r*r+s*s+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=s*a,e[2]=i*a,e[3]=n*a),e}function tF(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function rF(e,t,r,s){const i=t[0],n=t[1],a=t[2],l=t[3];return e[0]=i+s*(r[0]-i),e[1]=n+s*(r[1]-n),e[2]=a+s*(r[2]-a),e[3]=l+s*(r[3]-l),e}function sF(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function iF(e,t){const r=e[0],s=e[1],i=e[2],n=e[3],a=t[0],l=t[1],d=t[2],h=t[3];return Math.abs(r-a)<=Et*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=Et*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-d)<=Et*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(n-h)<=Et*Math.max(1,Math.abs(n),Math.abs(h))}const NS=new Float32Array(1);function nF(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function Yd(e,t,r){return Math.min(Math.max(e,t),r)}function oF(e){return(e&e-1)==0}function aF(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function lF(e,t,r){return e+(t-e)*r}function uF(e){return e*Math.PI/180}function cF(e){return 180*e/Math.PI}function dF(e){return Math.acos(Yd(e,-1,1))}function Tk(e){return Math.asin(Yd(e,-1,1))}function pF(e){return kk(Math.max(-DS,Math.min(e,DS)))}function kk(e){return NS[0]=e,NS[0]}function hF(e,t){const r=D1(e),s=Tk(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return Ek(t,r,s,i),t}const DS=kk(34028234663852886e22);function jp(e){return Yd(Ty(e),0,255)}function Cp(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class qt{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,s,i=new qt){return i.r=Math.round(t.r+(r.r-t.r)*s),i.g=Math.round(t.g+(r.g-t.g)*s),i.b=Math.round(t.b+(r.b-t.b)*s),i.a=t.a+(r.a-t.a)*s,i._sanitize()}static fromRgb(t,r){const s=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(s){const i=s[2].split(/\s*,\s*/),n=s[1];if(n==="rgb"&&i.length===3||n==="rgba"&&i.length===4){const a=i[0];if(a.charAt(a.length-1)==="%"){const l=i.map(d=>2.56*parseFloat(d));return i.length===4&&(l[3]=parseFloat(i[3])),qt.fromArray(l,r)}return qt.fromArray(i.map(l=>parseFloat(l)),r)}if(n==="hsl"&&i.length===3||n==="hsla"&&i.length===4)return qt.fromArray(xk(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new qt){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const s=t.length===4?4:8,i=(1<<s)-1;let n=+("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach(a=>{const l=n&i;n>>=s,r[a]=s===4?17*l:l}),r.a=1,r)}static fromArray(t,r=new qt){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const s=$k(t)?L1(t):null;return s&&qt.fromArray(s,r)||qt.fromRgb(t,r)||qt.fromHex(t,r)}static fromJSON(t){return t&&new qt([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return H(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return H(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if(typeof t=="string")qt.fromString(t,this);else if(Array.isArray(t))qt.fromArray(t,this);else{var r,s,i,n;this._set((r=t.r)!=null?r:0,(s=t.g)!=null?s:0,(i=t.b)!=null?i:0,(n=t.a)!=null?n:1),t instanceof qt||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),s=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${s.length<2?"0"+s:s}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=qt.AlphaMode.ALWAYS){const r=jp(this.r),s=jp(this.g),i=jp(this.b);return t===qt.AlphaMode.ALWAYS||this.a!==1?[r,s,i,jp(255*this.a)]:[r,s,i]}clone(){return new qt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return H(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Cp(this.r,0,255)),this.g=Math.round(Cp(this.g,0,255)),this.b=Math.round(Cp(this.b,0,255)),this.a=Cp(this.a,0,1),this}_set(t,r,s,i){this.r=t,this.g=r,this.b=s,this.a=i}}qt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(qt||(qt={}));const We=qt,zS=new Ce({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let fF=0,tl=class extends ee{constructor(e){super(e),this.id="sym"+fF++,this.type=null,this.color=new We([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};o([c({type:zS.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:zS.write}}})],tl.prototype,"type",void 0),o([c({type:We,json:{write:{allowNull:!0}}})],tl.prototype,"color",void 0),o([ue("color")],tl.prototype,"readColor",null),tl=o([k("esri.symbols.Symbol")],tl);const Cr=tl;var N0;let Mn=N0=class extends Cr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(i=>{const n=i.valueExpressionInfo;return yn(e,t,n.expression)});await Promise.all(s)}}}clone(){return new N0({data:D(this.data)})}hash(){return vy(JSON.stringify(this.data)).toString()}};o([c({json:{write:!1}})],Mn.prototype,"color",void 0),o([c({json:{write:!0}})],Mn.prototype,"data",void 0),o([ue("data",["symbol"])],Mn.prototype,"readData",null),o([he("data",{})],Mn.prototype,"writeData",null),o([Ee({CIMSymbolReference:"cim"},{readOnly:!0})],Mn.prototype,"type",void 0),Mn=N0=o([k("esri.symbols.CIMSymbol")],Mn);const Xd=Mn;let rl=class extends ee{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};o([c({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],rl.prototype,"enabled",void 0),o([he("enabled")],rl.prototype,"writeEnabled",null),o([c({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],rl.prototype,"type",void 0),rl=o([k("esri.symbols.Symbol3DLayer")],rl);const Ii=rl,yF=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,mF="screenUtils.toPt: input not recognized!",Mk=96;function gF(e){return e?e/72*Mk:0}function dn(e){return e?72*e/Mk:0}function et(e){if(typeof e=="string"){const t=e.match(yF);if(t){const r=Number(t[1]),s=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",n=s==="px"?dn(r):r;return i?-n:n}return console.warn(mF),null}return e}function vF(e=0,t=0){return{x:e,y:t}}function Ik(e){const t=Ty(100*(1-e));return Math.max(0,Math.min(t,100))}function Sd(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function bF(e,t){const r=t.transparency!=null?Sd(t.transparency):1,s=t.color;return s&&Array.isArray(s)?new We([s[0]||0,s[1]||0,s[2]||0,r]):null}function wF(e,t){t.color=e.toJSON().slice(0,3);const r=Ik(e.a);r!==0&&(t.transparency=r)}const vo={type:We,json:{type:[Bt],default:null,read:{source:["color","transparency"],reader:bF},write:{target:{color:{type:[Bt]},transparency:{type:Bt}},writer:wF}}},ki={type:Number,cast:et,json:{write:!0}};let Po=class extends ee{constructor(e){super(e),this.color=new We([0,0,0,1]),this.extensionLength=0,this.size=dn(1)}clone(){}cloneProperties(){return{color:D(this.color),size:this.size,extensionLength:this.extensionLength}}};o([c({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Po.prototype,"type",void 0),o([c(vo)],Po.prototype,"color",void 0),o([c(Ie(V({},ki),{json:{write:{overridePolicy:e=>({enabled:!!e})}}}))],Po.prototype,"extensionLength",void 0),o([c(ki)],Po.prototype,"size",void 0),Po=o([k("esri.symbols.edges.Edges3D")],Po);const z1=Po;var D0;let $h=D0=class extends z1{constructor(e){super(e),this.type="sketch"}clone(){return new D0(this.cloneProperties())}};o([Ee({sketch:"sketch"},{readOnly:!0})],$h.prototype,"type",void 0),$h=D0=o([k("esri.symbols.edges.SketchEdges3D")],$h);const _F=$h;var z0;let xh=z0=class extends z1{constructor(e){super(e),this.type="solid"}clone(){return new z0(this.cloneProperties())}};o([Ee({solid:"solid"},{readOnly:!0})],xh.prototype,"type",void 0),xh=z0=o([k("esri.symbols.support.SolidEdges3D")],xh);const SF=xh,V1={types:{key:"type",base:z1,typeMap:{solid:SF,sketch:_F}},json:{write:!0}};var V0;let _s=V0=class extends ee{constructor(e){super(e),this.color=null}clone(){const e={color:H(this.color)?this.color.clone():null};return new V0(e)}};o([c(vo)],_s.prototype,"color",void 0),_s=V0=o([k("esri.symbols.support.Symbol3DMaterial")],_s);var U0;let In=U0=class extends Ii{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new U0({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:H(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};o([Ee({Extrude:"extrude"},{readOnly:!0})],In.prototype,"type",void 0),o([c({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],In.prototype,"size",void 0),o([c({type:_s,json:{write:!0}})],In.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],In.prototype,"castShadows",void 0),o([c(V1)],In.prototype,"edges",void 0),In=U0=o([k("esri.symbols.ExtrudeSymbol3DLayer")],In);const U1=In;let oc=class extends Cr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};o([Ee({esriSLS:"simple-line"},{readOnly:!0})],oc.prototype,"type",void 0),o([c({type:Number,cast:et,json:{write:!0}})],oc.prototype,"width",void 0),oc=o([k("esri.symbols.LineSymbol")],oc);const $F=oc,xF=["begin","end","begin-end"],Ok=["arrow","circle","square","diamond","cross","x"];var q0;let ui=q0=class extends ee{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,s){(s==null?void 0:s.origin)==="web-map"?t[r]="arrow":t[r]=e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,s){(s==null?void 0:s.origin)==="web-map"||(t[r]=e)}clone(){return new q0({color:D(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};o([c({type:["begin","end","begin-end"],json:{write:!0}})],ui.prototype,"placement",void 0),o([Ee({"line-marker":"line-marker"},{readOnly:!0}),c({json:{origins:{"web-map":{write:!1}}}})],ui.prototype,"type",void 0),o([c({type:Ok})],ui.prototype,"style",void 0),o([he("style")],ui.prototype,"writeStyle",null),o([c({type:We,value:null,json:{write:{allowNull:!0}}})],ui.prototype,"color",null),o([ue("color")],ui.prototype,"readColor",null),o([he("color")],ui.prototype,"writeColor",null),ui=q0=o([k("esri.symbols.LineSymbolMarker")],ui);const EF=ui;var B0;const Gm=new Ce({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Fi=B0=class extends $F{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,s,i,n){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=et(r)),s!=null&&(a.cap=s),i!=null&&(a.join=i),n!=null&&(a.miterLimit=et(n)),a}clone(){var e;return new B0({color:D(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};o([Ee({esriSLS:"simple-line"},{readOnly:!0})],Fi.prototype,"type",void 0),o([c({type:Gm.apiValues,json:{read:Gm.read,write:Gm.write}})],Fi.prototype,"style",void 0),o([c({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Fi.prototype,"cap",void 0),o([c({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Fi.prototype,"join",void 0),o([c({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":EF}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Fi.prototype,"marker",void 0),o([c({type:Number,json:{read:!1,write:!1}})],Fi.prototype,"miterLimit",void 0),Fi=B0=o([k("esri.symbols.SimpleLineSymbol")],Fi);const is=Fi;let ac=class extends Cr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};o([c({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":is}},json:{default:null,write:!0}})],ac.prototype,"outline",void 0),o([c({type:["simple-fill","picture-fill"],readOnly:!0})],ac.prototype,"type",void 0),ac=o([k("esri.symbols.FillSymbol")],ac);const jk=ac;let Eh=class extends ee{constructor(e){super(e)}clone(){}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Eh.prototype,"type",void 0),Eh=o([k("esri.symbols.patterns.LinePattern3D")],Eh);const Ck=Eh,TF=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var H0;const kF=ir()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let lc=H0=class extends Ck{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new H0(e)}};o([c({type:["style"]})],lc.prototype,"type",void 0),o([Ee(kF),c({type:TF})],lc.prototype,"style",void 0),lc=H0=o([k("esri.symbols.patterns.LineStylePattern3D")],lc);const q1=lc;let Th=class extends ee{constructor(e){super(e)}clone(){}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Th.prototype,"type",void 0),Th=o([k("esri.symbols.patterns.Pattern3D")],Th);const Ak=Th,MF=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var G0;let uc=G0=class extends Ak{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new G0(e)}};o([c({type:["style"]})],uc.prototype,"type",void 0),o([c({type:MF,json:{read:!0,write:!0}})],uc.prototype,"style",void 0),uc=G0=o([k("esri.symbols.patterns.StylePattern3D")],uc);const Rk=uc,IF={types:{key:"type",base:Ak,typeMap:{style:Rk}},json:{write:!0}},Pk={types:{key:"type",base:Ck,typeMap:{style:q1}},json:{write:!0}},Jc=new We("white");new We("black");const OF=new We([255,255,255,0]);function jF(e){return e.r===0&&e.g===0&&e.b===0}var W0;let Kc=W0=class extends _s{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:H(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new W0(e)}};o([Ee({multiply:"multiply",replace:"replace",tint:"tint"})],Kc.prototype,"colorMixMode",void 0),Kc=W0=o([k("esri.symbols.support.Symbol3DFillMaterial")],Kc);function Py(e=qF){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function B1(e,t,r,s,i,n,a=Py()){return a[0]=e,a[1]=t,a[2]=r,a[3]=s,a[4]=i,a[5]=n,a}function CF(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function AF(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function RF(e){return e[0]>=e[3]?0:e[3]-e[0]}function PF(e){return e[1]>=e[4]?0:e[4]-e[1]}function LF(e){return e[2]>=e[5]?0:e[5]-e[2]}function FF(e,t=[0,0,0]){return t[0]=RF(e),t[1]=PF(e),t[2]=LF(e),t}function NF(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function DF(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function Lk(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function zF(e){return e?Lk(e,J0):Py(J0)}function VF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function VS(e){return e.length===6}function UF(e,t,r){if(be(e)||be(t))return e===t;if(!VS(e)||!VS(t))return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}const J0=[1/0,1/0,1/0,-1/0,-1/0,-1/0],qF=[0,0,0,0,0,0];Py();function BF(e,{isPrimitive:t,width:r,depth:s,height:i}){const n=t?10:1;if(r==null&&i==null&&s==null)return[n*e[0],n*e[1],n*e[2]];const a=N1(r,s,i);let l;for(let d=0;d<3;d++){const h=a[d];if(h!=null){l=h/e[d];break}}for(let d=0;d<3;d++)a[d]==null&&(a[d]=e[d]*l);return a}const HF=B1(-.5,-.5,-.5,.5,.5,.5),GF=B1(-.5,-.5,0,.5,.5,1),WF=B1(-.5,-.5,0,.5,.5,.5);function JF(e){switch(e){case"sphere":case"cube":case"diamond":return HF;case"cylinder":case"cone":case"inverted-cone":return GF;case"tetrahedron":return WF;default:return}}const H1=["butt","square","round"],KF=[...H1,"none"],Fk=["miter","bevel","round"];var K0;let Lo=K0=class extends ee{constructor(e){super(e),this.color=new We([0,0,0,1]),this.size=dn(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:H(this.color)?this.color.clone():null,size:this.size,pattern:H(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new K0(e)}};o([c(vo)],Lo.prototype,"color",void 0),o([c(ki)],Lo.prototype,"size",void 0),o([c(Pk)],Lo.prototype,"pattern",void 0),o([c({type:H1,json:{default:"butt",write:{overridePolicy(){return{enabled:H(this.pattern)}}}}})],Lo.prototype,"patternCap",void 0),Lo=K0=o([k("esri.symbols.support.Symbol3DOutline")],Lo);var kh;let Ni=kh=class extends Ii{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:H(this.edges)?this.edges.clone():null,enabled:this.enabled,material:H(this.material)?this.material.clone():null,pattern:H(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:H(this.outline)?this.outline.clone():null};return new kh(e)}static fromSimpleFillSymbol(e){var t,r,s,i,n,a;const l=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new q1({style:e.outline.style}):null,d={size:(t=(r=e.outline)==null?void 0:r.width)!=null?t:0,color:((s=(i=e.outline)==null?void 0:i.color)!=null?s:Jc).clone(),pattern:l};return l&&(n=e.outline)!=null&&n.cap&&(d.patternCap=e.outline.cap),new kh({material:new Kc({color:((a=e.color)!=null?a:OF).clone()}),pattern:e.style&&e.style!=="solid"?new Rk({style:e.style}):null,outline:d})}};o([Ee({Fill:"fill"},{readOnly:!0})],Ni.prototype,"type",void 0),o([c({type:Kc,json:{write:!0}})],Ni.prototype,"material",void 0),o([c(IF)],Ni.prototype,"pattern",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ni.prototype,"castShadows",void 0),o([c({type:Lo,json:{write:!0}})],Ni.prototype,"outline",void 0),o([c(V1)],Ni.prototype,"edges",void 0),Ni=kh=o([k("esri.symbols.FillSymbol3DLayer")],Ni);const ep=Ni,QF=["none","underline","line-through"],ZF=["normal","italic","oblique"],YF=["normal","lighter","bold","bolder"],Nk={type:Number,cast:e=>{const t=Wd(e);return t===0?1:Yd(t,.1,4)},nonNullable:!0},XF=["left","right","center","justify"],eN=["left","right","center"],tN=["baseline","top","middle","bottom"],rN={type:XF,nonNullable:!0},sN={type:eN,nonNullable:!0},Dk={type:tN,nonNullable:!0};var Q0;let Di=Q0=class extends ee{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return et(e)}clone(){return new Q0({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};o([c({type:QF,json:{default:"none",write:!0}})],Di.prototype,"decoration",void 0),o([c({type:String,json:{write:!0}})],Di.prototype,"family",void 0),o([c({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Di.prototype,"size",void 0),o([Ct("size")],Di.prototype,"castSize",null),o([c({type:ZF,json:{default:"normal",write:!0}})],Di.prototype,"style",void 0),o([c({type:YF,json:{default:"normal",write:!0}})],Di.prototype,"weight",void 0),Di=Q0=o([k("esri.symbols.Font")],Di);const Ly=Di,iN=pe.getLogger("esri.core.urlUtils"),vu=it.request,US="esri/config: esriConfig.request.proxyUrl is not set.",zk=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Vk=/^\s*http:/i,nN=/^\s*https:/i,oN=/^\s*file:/i,aN=/:\d+$/,lN=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,uN=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),cN=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class ba{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(uN);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(cN),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}const Ap={},dN=new ba(it.applicationUrl);let Sr=dN;const pN=fN();let G1=pN;const Uk=()=>Sr,hN=()=>G1;function fN(){const e=Sr.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${Sr.scheme}://${Sr.host}${Sr.port!=null?`:${Sr.port}`:""}`}${t}`}function Gr(e){const t={path:null,query:null},r=new ba(e),s=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,s),t.query=W1(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function W1(e){const t=e.split("&"),r={};for(const s of t){if(!s)continue;const i=s.indexOf("=");let n,a;i<0?(n=decodeURIComponent(s),a=""):(n=decodeURIComponent(s.slice(0,i)),a=decodeURIComponent(s.slice(i+1)));let l=r[n];typeof l=="string"&&(l=r[n]=[l]),Array.isArray(l)?l.push(a):r[n]=a}return r}function qS(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function su(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const s=e[r];if(s==null)return"";const i=encodeURIComponent(r)+"=",n=t&&t[r];return n?i+encodeURIComponent(n(s)):Array.isArray(s)?s.map(a=>qS(a)?i+encodeURIComponent(JSON.stringify(a)):i+encodeURIComponent(a)).join("&"):qS(s)?i+encodeURIComponent(JSON.stringify(s)):i+encodeURIComponent(s)}).filter(r=>r).join("&"):""}function yN(e=!1){let t,r=vu.proxyUrl;if(typeof e=="string"){t=Wk(e);const s=tp(e);s&&(r=s.proxyUrl)}else t=!!e;if(!r)throw iN.warn(US),new Y("urlutils:proxy-not-set",US);return t&&Z0()&&(r=Ny(r)),Gr(r)}function mN(e){const t=tp(e);let r,s;if(t){const i=J1(t.proxyUrl);r=i.path,s=i.query?W1(i.query):null}if(r){const i=Gr(e);e=r+"?"+i.path;const n=su(V(V({},s),i.query));n&&(e=`${e}?${n}`)}return e}const zu={path:"",query:""};function J1(e){const t=e.indexOf("?");return t!==-1?(zu.path=e.slice(0,t),zu.query=e.slice(t+1)):(zu.path=e,zu.query=null),zu}function qk(e){return e=(e=Vf(e=ON(e=J1(e).path),!0)).toLowerCase()}function gN(e){const t={proxyUrl:e.proxyUrl,urlPrefix:qk(e.urlPrefix)},r=vu.proxyRules,s=t.urlPrefix;let i=r.length;for(let n=0;n<r.length;n++){const a=r[n].urlPrefix;if(s.indexOf(a)===0){if(s.length===a.length)return-1;i=n;break}a.indexOf(s)===0&&(i=n+1)}return r.splice(i,0,t),i}function tp(e){const t=vu.proxyRules,r=qk(e);for(let s=0;s<t.length;s++)if(r.indexOf(t[s].urlPrefix)===0)return t[s]}function Bk(e,t){return e=BS(e),t=BS(t),Vf(e)===Vf(t)}function BS(e){const t=(e=Ss(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function Hk(e){const t=s=>s==null||s instanceof RegExp&&s.test(e)||typeof s=="string"&&e.startsWith(s),r=vu.interceptors;if(r){for(const s of r)if(Array.isArray(s.urls)){if(s.urls.some(t))return s}else if(t(s.urls))return s}return null}function $d(e,t,r=!1){const s=X0(e),i=X0(t);return!(!r&&s.scheme!==i.scheme)&&s.host!=null&&i.host!=null&&s.host.toLowerCase()===i.host.toLowerCase()&&s.port===i.port}function K1(e){if(typeof e=="string"){if(!Ur(e))return!0;e=X0(e)}if($d(e,Sr))return!0;const t=vu.trustedServers||[];for(let r=0;r<t.length;r++){const s=vN(t[r]);for(let i=0;i<s.length;i++)if($d(e,s[i]))return!0}return!1}function vN(e){return Ap[e]||(Z1(e)||mn(e)?Ap[e]=[new ba(ws(e))]:Ap[e]=[new ba(`http://${e}`),new ba(`https://${e}`)]),Ap[e]}function ws(e,t=G1,r){return mn(e)?r&&r.preserveProtocolRelative?e:Sr.scheme==="http"&&Sr.authority===Da(e).slice(2)?`http:${e}`:`https:${e}`:Z1(e)?e:Ca(e[0]==="/"?MN(t):t,e)}function Fy(e,t=G1,r){if(!Ur(e))return e;const s=Ss(e),i=s.toLowerCase(),n=Ss(t).toLowerCase().replace(/\/+$/,""),a=r?Ss(r).toLowerCase().replace(/\/+$/,""):null;if(a&&n.indexOf(a)!==0)return e;const l=(y,v,b)=>(b=y.indexOf(v,b))===-1?y.length:b;let d=l(i,"/",i.indexOf("//")+2),h=-1;for(;i.slice(0,d+1)===n.slice(0,d)+"/"&&(h=d+1,d!==i.length);)d=l(i,"/",d+1);if(h===-1||a&&h<a.length)return e;e=s.slice(h);const f=n.slice(h-1).replace(/[^/]+/g,"").length;if(f>0)for(let y=0;y<f;y++)e=`../${e}`;else e=`./${e}`;return e}function Ss(e){return e=AN(e=CN(e=jN(e=ws(e=e.trim()))))}function Ca(...e){const t=e.filter(H);if(!t||!t.length)return;const r=[];if(Ur(t[0])){const i=t[0],n=i.indexOf("//");n!==-1&&(r.push(i.slice(0,n+1)),TN(t[0])&&(r[0]+="/"),t[0]=i.slice(n+2))}else t[0][0]==="/"&&r.push("");const s=t.reduce((i,n)=>n?i.concat(n.split("/")):i,[]);for(let i=0;i<s.length;i++){const n=s[i];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&i===s.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function Da(e,t=!1){if(rp(e)||bo(e))return null;let r=e.indexOf("://");if(r===-1&&mn(e))r=2;else{if(r===-1)return null;r+=3}const s=e.indexOf("/",r);return s!==-1&&(e=e.slice(0,s)),t&&(e=Vf(e,!0)),e}function Ur(e){return mn(e)||Z1(e)}function rp(e){return e!=null&&e.slice(0,5)==="blob:"}function bo(e){return e.slice(0,5)==="data:"}function bN(e){const t=Q1(e);if(!t||!t.isBase64)return null;const r=atob(t.data),s=new Uint8Array(r.length);for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return s.buffer}function wN(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const _N=/^data:(.*?)(;base64)?,(.*)$/;function Q1(e){const t=e.match(_N);if(!t)return null;const[,r,s,i]=t;return{mediaType:r,isBase64:!!s,data:i}}function Gk(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function SN(e,t){$N(e,t)||xN(e,t)}function $N(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const s=URL.createObjectURL(e);return r.download=t,r.href=s,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),!0}function xN(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function mn(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function Z1(e){return zk.test(e)}function Wk(e){return nN.test(e)||Sr.scheme==="https"&&mn(e)}function EN(e){return Vk.test(e)||Sr.scheme==="http"&&mn(e)}function TN(e){return oN.test(e)}function Ny(e){return mn(e)?`https:${e}`:e.replace(Vk,"https:")}function kN(){return Sr.scheme==="http"}function Z0(){return Sr.scheme==="https"}function Vf(e,t=!1){return mn(e)?e.slice(2):(e=e.replace(zk,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function MN(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Jk(e){let t=0;if(Ur(e)){const s=e.indexOf("//");s!==-1&&(t=s+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function IN(e,t){if(!e)return"";const r=Gr(e).path.replace(/\/+$/,""),s=r.substring(r.lastIndexOf("/")+1);if(t==null||!t.length)return s;const i=new RegExp(`.(${t.join("|")})$`,"ig");return s.replace(i,"")}function ON(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function Y1(e){return e.replace(/\/+$/,"")}function jN(e){if(/^https?:\/\//i.test(e)){const t=J1(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function CN(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function AN(e){const t=vu.httpsDomains;if(!EN(e))return e;const r=e.indexOf("/",7);let s;if(s=r===-1?e:e.slice(0,r),s=s.toLowerCase().slice(7),aN.test(s)){if(!s.endsWith(":80"))return e;s=s.slice(0,-3),e=e.replace(":80","")}return kN()&&s===Sr.authority&&!lN.test(e)||(Z0()&&s===Sr.authority||t&&t.some(i=>s===i||s.endsWith(`.${i}`))||Z0()&&!tp(e))&&(e=Ny(e)),e}function Y0(e,t,r){if(!(t&&r&&e&&Ur(e)))return e;const s=e.indexOf("//"),i=e.indexOf("/",s+2),n=e.indexOf(":",s+2),a=Math.min(i<0?e.length:i,n<0?e.length:n);return e.slice(s+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,s+2)}${r}${e.slice(a)}`}function X0(e){return typeof e=="string"?new ba(ws(e)):(e.scheme||(e.scheme=Sr.scheme),e)}function Kk(e,t){const r=Gr(e),s=Object.keys(r.query||{});return s.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${s.join(", ")}.`),r.path}function Qk(e,t,r){const s=Gr(e),i=s.query||{};return i[t]=String(r),`${s.path}?${su(i)}`}function ev(e,t){const r=Gr(e),s=r.query||{};for(const n in t)s[n]=t[n];const i=su(s);return i?`${r.path}?${i}`:r.path}function RN(e){if(be(e))return null;const t=e.match(PN);return t?t[1]:null}const PN=/.*?\.([^\/]*)$/;function za(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=ws(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=Fy(e,t.portalItem.itemUrl);FN.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return tv(e,t&&t.portal)}function bu(e,t,r=iu.YES){if(!e)return e;!Ur(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=ws(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const n=tv(i,t.portal);s=Fy(tv(s,t.portal),n,n),s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=NN(s,t&&t.portal),Ur(s)&&(s=Ss(s)),t!=null&&t.resources&&t!=null&&t.portalItem&&!Ur(s)&&!bo(s)&&r===iu.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s)}),s}function Dy(e,t,r){return za(e,r)}function yo(e,t,r,s){const i=bu(e,s);i!==void 0&&(t[r]=i)}const LN=/\/items\/([^\/]+)\/resources\//,FN=/^\.\/resources\//;function Zk(e){const t=H(e)?e.match(LN):null;return H(t)?t[1]:null}function NN(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Y0(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function tv(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=Uk();return $d(s,`${s.scheme}://${r}`)?Y0(e,t.portalHostname,r):Y0(e,r,t.portalHostname)}var iu;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(iu||(iu={}));const DN=Object.freeze({__proto__:null,fromJSON:za,toJSON:bu,read:Dy,write:yo,itemIdFromResourceUrl:Zk,get MarkKeep(){return iu}});var rv;const zN=ir()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Fo=rv=class extends ee{constructor(e){super(e)}readHref(e,t,r){return e?za(e,r):t.dataURI}writeHref(e,t,r,s){e&&(bo(e)?t.dataURI=e:(t.href=bu(e,s),Ur(t.href)&&(t.href=Ss(t.href))))}clone(){return new rv({href:this.href,primitive:this.primitive})}};o([c({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Fo.prototype,"href",void 0),o([ue("href")],Fo.prototype,"readHref",null),o([he("href",{href:{type:String},dataURI:{type:String}})],Fo.prototype,"writeHref",null),o([Ee(zN)],Fo.prototype,"primitive",void 0),Fo=rv=o([k("esri.symbols.support.IconSymbol3DLayerResource")],Fo);var sv;let $l=sv=class extends vt{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new sv({x:this.x,y:this.y})}};o([c({type:Number})],$l.prototype,"x",void 0),o([c({type:Number})],$l.prototype,"y",void 0),$l=sv=o([k("esri.symbols.support.Symbol3DAnchorPosition2D")],$l);var iv;let cc=iv=class extends ee{constructor(e){super(e),this.color=new We([0,0,0,1]),this.size=dn(1)}clone(){const e={color:H(this.color)?this.color.clone():null,size:this.size};return new iv(e)}};o([c(vo)],cc.prototype,"color",void 0),o([c(ki)],cc.prototype,"size",void 0),cc=iv=o([k("esri.symbols.support.Symbol3DIconOutline")],cc);var sl;const VN=pe.getLogger("esri.symbols.IconSymbol3DLayer");let ci=sl=class extends Ii{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new sl({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:H(this.material)?this.material.clone():null,outline:H(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Jc,r=HS(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Jc).clone()}:null;return new sl({size:e.size,resource:{primitive:qN(e.style)},material:{color:t},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||jF(e.color)?Jc:e.color,r=HS(e);return new sl({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new sl({resource:{href:Gk({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function HS(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,s=GS(e.xoffset),i=GS(e.yoffset);return(s||i)&&t&&r?{x:-s/t,y:i/r}:null}function GS(e){return isFinite(e)?e:0}o([c({type:_s,json:{write:!0}})],ci.prototype,"material",void 0),o([c({type:Fo,json:{write:!0}})],ci.prototype,"resource",void 0),o([Ee({Icon:"icon"},{readOnly:!0})],ci.prototype,"type",void 0),o([c(ki)],ci.prototype,"size",void 0),o([Ee({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),c({json:{default:"center"}})],ci.prototype,"anchor",void 0),o([c({type:$l,json:{type:[Number],read:{reader:e=>new $l({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ci.prototype,"anchorPosition",void 0),o([c({type:cc,json:{write:!0}})],ci.prototype,"outline",void 0),ci=sl=o([k("esri.symbols.IconSymbol3DLayer")],ci);const UN={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function qN(e){return UN[e]||(VN.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const eo=ci;function Yk(e,t,r=ft){return t||(t=new r),t===e||(t.removeAll(),BN(e)?t.addMany(e):e&&t.add(e)),t}function Xk(e){return e}function BN(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}const eM="20220404",tM="ecb69ff5e08a61c162de0ddc0b1f397ed5d4071b",X1="4.23",HN={async request(e,t){var r;const{default:s}=await Promise.resolve().then(function(){return nM}),i=e.options,n=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":["blob","json","text"].includes(n)&&(r=Hk(e.url))!=null&&r.after?n:"array-buffer";const a=await s(e.url,i),l={data:a.data,ssl:a.ssl};switch(a.requestOptions.responseType){case"native-request-init":return delete l.data.signal,l;case"blob":l.data=await l.data.arrayBuffer();break;case"json":l.data=new TextEncoder().encode(JSON.stringify(l.data)).buffer;break;case"text":l.data=new TextEncoder().encode(l.data).buffer}return{result:l,transferList:[l.data]}}};let jt;function GN(e){jt=e}function WN(e){const t=jt&&jt.findCredential(e);return t&&t.token?Qk(e,"token",t.token):e}X("host-webworker")||(X("edge")||X("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const JN=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function e_(e){const t=Da(e,!0);return t&&t.endsWith(".arcgis.com")&&!JN.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function rM(e,t,r=!1,s){return new Promise((i,n)=>{if(po(s))return void n(WS());let a=()=>{h(),n(new Error(`Unable to load ${t}`))},l=()=>{const f=e;h(),i(f)},d=()=>{if(!e)return;const f=e;h(),f.src="",n(WS())};const h=()=>{X("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",l)),a=null,l=null,e=null,H(s)&&s.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};H(s)&&s.addEventListener("abort",d),X("esri-image-decode")?e.decode().then(l,a):(e.addEventListener("error",a),e.addEventListener("load",l))})}function WS(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function Tt(e,t){var r;const s=bo(e),i=rp(e);i||s||(e=Ss(e));const n={url:e,requestOptions:V({},t)};let a=Hk(e);if(a){const f=await rD(a,n);if(f!=null)return{data:f,getHeader:t_,requestOptions:n.requestOptions,url:n.url};a.after||a.error||(a=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"){if(X("host-webworker")||X("host-node"))throw Js("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n)}else if(s)throw Js("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),n);if(t.method==="head"){if(t.body)throw Js("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(s||i)throw Js("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await XN(),Uf)return Uf.execute(e,t);const l=new AbortController;cn(t,()=>l.abort());const d={controller:l,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:Zi.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},h=await iD(d);return(r=a)==null||r.after==null||r.after(h),h}let Uf;const Zi=it.request,sM="FormData"in globalThis,KN=[499,498,403,401],QN=["COM_0056","COM_0057","SB_0008"],ZN=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],t_=()=>null,nv=Symbol();function YN(e){const t=Da(e);t&&!Tt._corsServers.includes(t)&&Tt._corsServers.push(t)}function JS(e){const t=Da(e);return!t||t.endsWith(".arcgis.com")||Tt._corsServers.includes(t)||K1(t)}function Js(e,t,r,s){let i="Error";const n={url:r.url,requestOptions:r.requestOptions,getHeader:t_,ssl:!1};if(t instanceof Y)return t.details?(t.details=D(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const a=s&&(h=>s.headers.get(h)),l=s&&s.status,d=t.message;d&&(i=d),a&&(n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=nv in t?t[nv]:t}return ei(t)?hr():new Y(e,i,n)}async function XN(){X("host-webworker")?Uf||(Uf=await Fe(()=>import("./request.e257e50d.js"),[],import.meta.url)):Tt._abortableFetch||(Tt._abortableFetch=globalThis.fetch.bind(globalThis))}async function ov(){jt||await Fe(()=>import("./IdentityManager.b22118f2.js"),[],import.meta.url)}async function eD(e){const t=e.params.url,r=e.params.requestOptions,s=e.controller.signal,i=r.body;let n=null,a=null,l=null;if(sM&&"HTMLFormElement"in globalThis&&(i instanceof FormData?n=i:i instanceof HTMLFormElement&&(a=i,n=new FormData(a))),typeof i=="string"&&(l=i),e.fetchOptions={cache:r.cacheBust&&!Tt._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",redirect:"follow",signal:s},(n||l)&&(e.fetchOptions.body=n||l),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||n&&n.get&&n.get("token")||a&&a.elements.token),!e.hasToken&&it.apiKey&&e_(t)&&(r.query||(r.query={}),r.query.token=it.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!iM(t)&&!po(s)){let d;r.authMode==="immediate"?(await ov(),d=await jt.getCredential(t,{signal:s}),e.credential=d):r.authMode==="no-prompt"?(await ov(),d=await jt.getCredential(t,{prompt:!1,signal:s}).catch(()=>{}),e.credential=d):jt&&(d=jt.findCredential(t)),d&&(e.credentialToken=d.token,e.useSSL=!!d.ssl)}}function iM(e){return ZN.some(t=>t.test(e))}async function tD(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions,i=rp(t)||bo(t),n=r.responseType||"json",a=i?0:r.timeout!=null?r.timeout:Zi.timeout;let l=!1;if(!i){e.useSSL&&(t=Ny(t)),r.cacheBust&&s.cache==="default"&&(t=Qk(t,"request.preventCache",Date.now()));let v=V({},r.query);e.credentialToken&&(v.token=e.credentialToken);let b=su(v);X("esri-url-encodes-apostrophe")&&(b=b.replace(/'/g,"%27"));const x=t.length+1+b.length;let I;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||x>Zi.maxUrlLength;const A=r.useProxy||!!tp(t);if(A){const q=yN(t);I=q.path,!l&&I.length+1+x>Zi.maxUrlLength&&(l=!0),q.query&&(v=V(V({},q.query),v))}if(s.method==="HEAD"&&(l||A)){if(l)throw x>Zi.maxUrlLength?Js("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):Js("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(A)throw Js("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=ev(t,v):(s.body=su(v),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=ev(t,v),A&&(e.useProxy=!0,t=`${I}?${t}`),v.token&&sM&&s.body instanceof FormData){const q=s.body;q.set?q.set("token",v.token):q.append("token",v.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!$d(t,Uk())){if(K1(t))e.withCredentials=!0;else if(jt){const q=jt.findServerInfo(t);q&&q.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(s.credentials="include")}let d,h,f=0,y=!1;a>0&&(f=setTimeout(()=>{y=!0,e.controller.abort()},a));try{if(r.responseType==="native-request-init")h=s,h.url=t;else if(r.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||l||sD(r.headers)||!i&&!e.useProxy&&Zi.proxyUrl&&!JS(t)){if(d=await Tt._abortableFetch(t,s),e.useProxy||YN(t),r.responseType==="native")h=d;else if(s.method!=="HEAD")if(d.ok){switch(n){case"array-buffer":h=await d.arrayBuffer();break;case"blob":case"image":h=await d.blob();break;default:h=await d.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(h)switch(n){case"json":h=JSON.parse(h);break;case"xml":h=KS(h,"application/xml");break;case"document":h=KS(h,"text/html")}else h=null;if(h){if(n==="array-buffer"||n==="blob"){const v=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(v)&&h[n==="blob"?"size":"byteLength"]<=750)try{const b=await new Response(h).json();b.error&&(h=b)}catch{}}n==="image"&&h instanceof Blob&&(h=await QS(URL.createObjectURL(h),e,!0))}}else h=await d.text()}else h=await QS(t,e)}catch(v){if(v.name==="AbortError")throw y?new Error("Timeout exceeded"):hr("Request canceled");if(!(!d&&v instanceof TypeError&&Zi.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||JS(t))throw v;e.redoRequest=!0,gN({proxyUrl:Zi.proxyUrl,urlPrefix:Da(t)})}finally{f&&clearTimeout(f)}return[d,h]}async function rD(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers=V(V({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=V(V({},t.requestOptions.query),e.query)),e.before){let r,s;try{s=await e.before(t)}catch(i){r=Js("request:interceptor",i,t)}if((s instanceof Error||s instanceof Y)&&(r=Js("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}function sD(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function KS(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function iD(e){var t,r;let s,i;await eD(e);try{do[s,i]=await tD(e);while(!await nD(e,s,i))}catch(l){const d=Js("request:server",l,e.params,s);throw d.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(d),d}const n=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)&&!e.hasToken&&!e.credentialToken&&(t=i)!=null&&(r=t.user)!=null&&r.username&&!K1(n)){const l=Da(n,!0);l&&Zi.trustedServers.push(l)}const a=e.credential;if(a&&jt){const l=jt.findServerInfo(a.server);let d=l&&l.owningSystemUrl;if(d){d=d.replace(/\/?$/,"/sharing");const h=jt.findCredential(d,a.userId);h&&jt._getIdenticalSvcIdx(d,h)===-1&&h.resources.unshift(d)}}return{data:i,getHeader:s?l=>s.headers.get(l):t_,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function nD(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||s.responseType==="native"||s.responseType==="native-request-init")return!0;let i,n,a,l;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[nv]=r,i;r!=null&&r.error&&(i=r.error),i&&(n=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,l=i.messageCode,l=l&&l.toUpperCase());const d=s.authMode;if(n===403&&(a===4||i.message&&i.message.toLowerCase().indexOf("ssl")>-1&&i.message.toLowerCase().indexOf("permission")===-1)){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(d!=="no-prompt"||n===498)&&KN.indexOf(n)!==-1&&!iM(e.params.url)&&(n!==403||QN.indexOf(l)===-1&&(a==null||a===2&&e.credentialToken))){await ov();try{const h=await jt.getCredential(e.params.url,{error:Js("request:server",i,e.params),prompt:d!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=h,e.credentialToken=h.token,e.useSSL=e.useSSL||h.ssl,!1}catch(h){if(d==="no-prompt")return e.credential=null,e.credentialToken=null,!1;i=h}}if(i)throw i;return!0}function QS(e,t,r=!1){const s=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,rM(i,e,r,s)}Tt._abortableFetch=null,Tt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var nM=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),Jn;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Jn||(Jn={}));class oD{constructor(t){this.instance=t,this._resolver=xa(),this._status=Jn.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Jn.RESOLVED,this._cleanUp()},()=>{this._status=Jn.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Jn.RESOLVED}isRejected(){return this._status===Jn.REJECTED}isFulfilled(){return this._status!==Jn.PENDING}abort(){this._resolver.reject(hr())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=xa(),r=[...this._resolvingPromises,t.promise],s=this._allPromise=Promise.all(r);s.then(()=>{this.isFulfilled()||this._allPromise!==s||this._resolver.resolve(this.instance)},i=>{this.isFulfilled()||this._allPromise!==s||ei(i)||this._resolver.reject(i)}),t.resolve()}}const zy=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new oD(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,s){return new Promise((i,n)=>{this._promiseProps.when(i,n)}).then(r,s)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=o([k("esri.core.Promise")],t),t};let av=class extends zy(vt){};av=o([k("esri.core.Promise")],av);const aD="not-loaded",lD="loading",uD="failed",ZS="loaded",oM=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(s=>{const i=this.load.bind(this);this.load=n=>{const a=new Promise((l,d)=>{const h=$y(n,d);this.destroyed&&d(new Y("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(l,d).finally(()=>{h&&h.remove()})});if(this.loadStatus===aD){this._set("loadStatus",lD);const l=this._loadController=new AbortController;i({signal:l.signal}),cn(l.signal,()=>{this._promiseProps.abort()})}return s(),a}})),this.when(()=>{this._set("loadStatus",ZS),this._loadController=null},s=>{this._set("loadStatus",uD),this._set("loadError",s),this._loadController=null})}get loaded(){return this.loadStatus===ZS}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new Y("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return o([c({readOnly:!0})],t.prototype,"loaded",null),o([c({readOnly:!0})],t.prototype,"loadError",void 0),o([c({clonable:!1})],t.prototype,"loadStatus",void 0),o([c({type:[Hr],readOnly:!0})],t.prototype,"loadWarnings",null),t=o([k("esri.core.Loadable")],t),t};let dc=class extends oM(av){};dc=o([k("esri.core.Loadable")],dc),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=oM,e.isLoadable=t}(dc||(dc={}));const sp=dc;var lv;const cD=new Ce({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let cs=lv=class extends vt{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new lv({categories:this.categories?D(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,s;if(this.categories&&(r=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a)),this.extent){const a=m1(this.extent,Ue.WGS84);H(a)&&(s=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const n={categories:r,bbox:s,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(a=>cD.toJSON(a.trim())).join(","),n.sortOrder=this.sortOrder),{query:V(V({},t),n)}}};o([c()],cs.prototype,"categories",void 0),o([c()],cs.prototype,"disableExtraQuery",void 0),o([c({type:Nt})],cs.prototype,"extent",void 0),o([c()],cs.prototype,"filter",void 0),o([c()],cs.prototype,"num",void 0),o([c()],cs.prototype,"query",void 0),o([c()],cs.prototype,"sortField",void 0),o([c()],cs.prototype,"sortOrder",null),o([c()],cs.prototype,"start",void 0),cs=lv=o([k("esri.portal.PortalQueryParams")],cs);const tn=cs;let No=class extends vt{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};o([c()],No.prototype,"nextQueryParams",void 0),o([c()],No.prototype,"queryParams",void 0),o([c()],No.prototype,"results",void 0),o([c()],No.prototype,"total",void 0),No=o([k("esri.portal.PortalQueryResult")],No);const dD=No;let zi=class extends ee{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new Y("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};o([c({type:Date})],zi.prototype,"created",void 0),o([c()],zi.prototype,"id",void 0),o([c()],zi.prototype,"portal",void 0),o([c()],zi.prototype,"title",void 0),o([c({readOnly:!0})],zi.prototype,"url",null),o([c()],zi.prototype,"username",void 0),zi=o([k("esri.portal.PortalFolder")],zi);const pD=zi;let Zt=class extends ee{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(s=>s.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new Y("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=lt(tn,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new tn,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new tn,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const i=new tn;return i.disableExtraQuery=!0,i.num=1,i.query=s,this.portal.queryGroups(i,t)}throw new Y("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],i=new tn;return i.num=1,i.query=`typekeywords:"${e}"`,s.queryItems(i,t)}throw new Y("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const i=s&&s.categorySchema;return i&&i.length?i:[]}):[])}};o([c()],Zt.prototype,"access",void 0),o([c({type:Date})],Zt.prototype,"created",void 0),o([c()],Zt.prototype,"description",void 0),o([c()],Zt.prototype,"id",void 0),o([c()],Zt.prototype,"isInvitationOnly",void 0),o([c({type:Date})],Zt.prototype,"modified",void 0),o([c()],Zt.prototype,"owner",void 0),o([c()],Zt.prototype,"portal",void 0),o([c()],Zt.prototype,"snippet",void 0),o([c()],Zt.prototype,"sortField",void 0),o([c()],Zt.prototype,"sortOrder",void 0),o([c()],Zt.prototype,"tags",void 0),o([c()],Zt.prototype,"thumbnail",void 0),o([c({readOnly:!0})],Zt.prototype,"thumbnailUrl",null),o([c()],Zt.prototype,"title",void 0),o([c({readOnly:!0})],Zt.prototype,"url",null),Zt=o([k("esri.portal.PortalGroup")],Zt);const uv=Zt;var hD=Object.freeze(Object.defineProperty({__proto__:null,default:uv},Symbol.toStringTag,{value:"Module"})),cv;let mt=cv=class extends ee{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,s=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let n=this.userContentUrl;return s&&(n+="/"+(typeof s=="string"?s:s.id)),this.portal._request(n+"/addItem",i).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal._request(t,s).then(()=>{e.forEach(i=>{i.id=null,i.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let r;return r=t&&t.folders?t.folders.map(s=>{const i=pD.fromJSON(s);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const s=uv.fromJSON(r);return s.portal=this.portal,s}):[],t})}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),Promise.resolve().then(function(){return iI}).then(({default:s})=>{t=s;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:i})}).then(s=>{let i;return s&&s.items?(i=s.items.map(n=>{const a=t.fromJSON(n);return a.portal=this.portal,a}),Promise.all(i.map(n=>n.load())).catch(n=>n).then(()=>({items:i,nextStart:s.nextStart,total:s.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new uv({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new Y("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new Y("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new cv;return t.sourceJSON=e,t.read(e),t}};o([c()],mt.prototype,"access",void 0),o([c({type:Date})],mt.prototype,"created",void 0),o([c()],mt.prototype,"culture",void 0),o([c()],mt.prototype,"description",void 0),o([c()],mt.prototype,"email",void 0),o([c()],mt.prototype,"favGroupId",void 0),o([c()],mt.prototype,"fullName",void 0),o([c({type:Date})],mt.prototype,"modified",void 0),o([c()],mt.prototype,"orgId",void 0),o([c()],mt.prototype,"portal",void 0),o([c()],mt.prototype,"preferredView",void 0),o([c()],mt.prototype,"privileges",void 0),o([c()],mt.prototype,"region",void 0),o([c()],mt.prototype,"role",void 0),o([c()],mt.prototype,"roleId",void 0),o([c()],mt.prototype,"sourceJSON",void 0),o([c()],mt.prototype,"thumbnail",void 0),o([c({readOnly:!0})],mt.prototype,"thumbnailUrl",null),o([c()],mt.prototype,"units",void 0),o([c({readOnly:!0})],mt.prototype,"userContentUrl",null),o([c({readOnly:!0})],mt.prototype,"url",null),o([c()],mt.prototype,"username",void 0),o([c()],mt.prototype,"userType",void 0),mt=cv=o([k("esri.portal.PortalUser")],mt);const r_=mt;var fD=Object.freeze(Object.defineProperty({__proto__:null,default:r_},Symbol.toStringTag,{value:"Module"})),Kr;let Wm;const YS={PortalGroup:()=>Promise.resolve().then(function(){return hD}),PortalItem:()=>Promise.resolve().then(function(){return iI}),PortalUser:()=>Promise.resolve().then(function(){return fD})};let ae=Kr=class extends Iy(sp){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=it.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)it.request.trustedServers.indexOf(t)===-1&&it.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return ud(pe.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=r_.fromJSON(e),t.portal=this),t}load(e){const t=Fe(()=>import("./Basemap.4f2e1bf3.js"),["./Basemap.4f2e1bf3.js","./loadAll.390aee50.js","./writeUtils.4f82d14e.js"],import.meta.url).then(({default:r})=>{Xs(e),Wm=r}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(r=>{if(jt){const s=jt;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==Kr.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=s.on("credential-create",()=>{s.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){Ya(pe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(await Fe(()=>import("./ClosestFacilityTask.02d642ee.js"),["./ClosestFacilityTask.02d642ee.js","./NAMessage.dc2027bc.js","./GPMessage.936894d6.js","./normalizeUtils.f1406d05.js","./DirectionsFeatureSet.a7472915.js"],import.meta.url)).default(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Fe(()=>import("./ElevationLayer.088737d2.js"),["./ElevationLayer.088737d2.js","./ArcGISCachedService.0490fc0b.js","./TilemapCache.d56391a8.js","./TileInfo.f3323275.js","./aaBoundingRect.6a4b2723.js","./byteSizeEstimations.4dc27031.js"],import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async createGeometryService(){Ya(pe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(await Fe(()=>import("./GeometryService.2272d902.js"),[],import.meta.url)).default({url:e})}async createPrintTask(){Ya(pe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(await Fe(()=>import("./PrintTask.85e7c17b.js"),["./PrintTask.85e7c17b.js","./normalizeUtils.f1406d05.js","./GPMessage.936894d6.js","./floorFilterUtils.69d5f98f.js"],import.meta.url)).default(e)}async createRouteTask(){Ya(pe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(await Fe(()=>import("./RouteTask.9a4cf372.js"),["./RouteTask.9a4cf372.js","./route.a5c4f9a6.js","./NAMessage.dc2027bc.js","./GPMessage.936894d6.js","./normalizeUtils.f1406d05.js","./DirectionsFeatureSet.a7472915.js"],import.meta.url)).default(e)}async createServiceAreaTask(){Ya(pe.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(await Fe(()=>import("./ServiceAreaTask.df02af11.js"),["./ServiceAreaTask.df02af11.js","./NAMessage.dc2027bc.js","./GPMessage.936894d6.js","./normalizeUtils.f1406d05.js"],import.meta.url)).default(e)}fetchBasemaps(e,t){const r=new tn;return r.query=e||(it.apiKey&&e_(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(s=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',s.total){const i=s.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,t)}return null}).then(s=>{let i;return i=s&&s.total?s.results.filter(n=>n.type==="Web Map").map(n=>new Wm({portalItem:n})):[],i})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):po(e)?Promise.reject(hr()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new tn;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const i of t)s.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return po(e)?Promise.reject(hr()):Promise.resolve([])}fetchRegions(e){var t;const r=((t=this.user)==null?void 0:t.culture)||this.culture||Ys();return this._request(this.restUrl+"/portals/regions",Ie(V({},e),{query:{culture:r}}))}fetchSettings(e){var t;const r=((t=this.user)==null?void 0:t.culture)||this.culture||Ys();return this._request(this.restUrl+"/portals/self/settings",Ie(V({},e),{query:{culture:r}}))}static getDefault(){return Kr._default&&!Kr._default.destroyed||(Kr._default=new Kr),Kr._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new Y("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Kr({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new Y("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new Y("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i=V({authMode:e,query:{culture:Ys().toLowerCase()}},r);return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(s,i)}_queryPortal(e,t,r,s){const i=lt(tn,t),n=a=>this._request(this.restUrl+e,V(V({},i.toRequestOptions(this)),s)).then(l=>{const d=i.clone();return d.start=l.nextStart,new dD({nextQueryParams:d,queryParams:i,total:l.total,results:Kr._resultsToTypedArray(a,{portal:this},l,s)})}).then(l=>Promise.all(l.results.map(d=>typeof d.when=="function"?d.when():l)).then(()=>l,d=>(hu(d),l)));return r&&YS[r]?YS[r]().then(({default:a})=>(Xs(s),n(a))):n()}_signIn(){if(this.authMode===Kr.AUTH_MODE_ANONYMOUS)return Promise.reject(new Y("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return jt?jt.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then(s=>{const i=Kr._resultsToTypedArray(r,{portal:this},s);return Promise.all(i.map(n=>typeof n.when=="function"?n.when():s)).then(()=>i,()=>i)})}_readBasemap(e){if(e){const t=Wm.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r=V({f:"json"},t.query),{authMode:s=this.authMode===Kr.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:i=null,cacheBust:n=!1,method:a="auto",responseType:l="json",signal:d}=t,h={authMode:s,body:i,cacheBust:n,method:a,query:r,responseType:l,timeout:0,signal:d};return Tt(this._normalizeSSL(e),h).then(f=>f.data)}static _resultsToTypedArray(e,t,r,s){let i;if(r){const n=H(s)?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,t);return typeof l.load=="function"&&l.load(n),l}))}else i=[];return i}};ae.AUTH_MODE_ANONYMOUS="anonymous",ae.AUTH_MODE_AUTO="auto",ae.AUTH_MODE_IMMEDIATE="immediate",o([c()],ae.prototype,"access",void 0),o([c()],ae.prototype,"allSSL",void 0),o([c()],ae.prototype,"authMode",void 0),o([c()],ae.prototype,"authorizedCrossOriginDomains",void 0),o([ue("authorizedCrossOriginDomains")],ae.prototype,"readAuthorizedCrossOriginDomains",null),o([c()],ae.prototype,"basemapGalleryGroupQuery",void 0),o([c()],ae.prototype,"bingKey",void 0),o([c()],ae.prototype,"canListApps",void 0),o([c()],ae.prototype,"canListData",void 0),o([c()],ae.prototype,"canListPreProvisionedItems",void 0),o([c()],ae.prototype,"canProvisionDirectPurchase",void 0),o([c()],ae.prototype,"canSearchPublic",void 0),o([c()],ae.prototype,"canShareBingPublic",void 0),o([c()],ae.prototype,"canSharePublic",void 0),o([c()],ae.prototype,"canSignInArcGIS",void 0),o([c()],ae.prototype,"canSignInIDP",void 0),o([c()],ae.prototype,"colorSetsGroupQuery",void 0),o([c()],ae.prototype,"commentsEnabled",void 0),o([c({type:Date})],ae.prototype,"created",void 0),o([c()],ae.prototype,"credential",void 0),o([c()],ae.prototype,"culture",void 0),o([c()],ae.prototype,"currentVersion",void 0),o([c()],ae.prototype,"customBaseUrl",void 0),o([c()],ae.prototype,"defaultBasemap",void 0),o([ue("defaultBasemap")],ae.prototype,"readDefaultBasemap",null),o([c()],ae.prototype,"defaultDevBasemap",void 0),o([ue("defaultDevBasemap")],ae.prototype,"readDefaultDevBasemap",null),o([c({type:Nt})],ae.prototype,"defaultExtent",void 0),o([c()],ae.prototype,"defaultVectorBasemap",void 0),o([ue("defaultVectorBasemap")],ae.prototype,"readDefaultVectorBasemap",null),o([c()],ae.prototype,"description",void 0),o([c()],ae.prototype,"devBasemapGalleryGroupQuery",void 0),o([c()],ae.prototype,"eueiEnabled",void 0),o([c({readOnly:!0})],ae.prototype,"extraQuery",null),o([c()],ae.prototype,"featuredGroups",void 0),o([c()],ae.prototype,"featuredItemsGroupQuery",void 0),o([c()],ae.prototype,"galleryTemplatesGroupQuery",void 0),o([c()],ae.prototype,"livingAtlasGroupQuery",void 0),o([c()],ae.prototype,"hasCategorySchema",void 0),o([c()],ae.prototype,"helpBase",void 0),o([c()],ae.prototype,"helperServices",void 0),o([c()],ae.prototype,"helpMap",void 0),o([c()],ae.prototype,"homePageFeaturedContent",void 0),o([c()],ae.prototype,"homePageFeaturedContentCount",void 0),o([c()],ae.prototype,"httpPort",void 0),o([c()],ae.prototype,"httpsPort",void 0),o([c()],ae.prototype,"id",void 0),o([c()],ae.prototype,"ipCntryCode",void 0),o([c({readOnly:!0})],ae.prototype,"isOrganization",null),o([c()],ae.prototype,"isPortal",void 0),o([c()],ae.prototype,"isReadOnly",void 0),o([c()],ae.prototype,"layerTemplatesGroupQuery",void 0),o([c()],ae.prototype,"maxTokenExpirationMinutes",void 0),o([c({type:Date})],ae.prototype,"modified",void 0),o([c()],ae.prototype,"name",void 0),o([c()],ae.prototype,"portalHostname",void 0),o([c()],ae.prototype,"portalMode",void 0),o([c()],ae.prototype,"portalProperties",void 0),o([c()],ae.prototype,"region",void 0),o([c({readOnly:!0})],ae.prototype,"restUrl",null),o([c()],ae.prototype,"rotatorPanels",void 0),o([c()],ae.prototype,"showHomePageDescription",void 0),o([c()],ae.prototype,"sourceJSON",void 0),o([c()],ae.prototype,"staticImagesUrl",void 0),o([c({readOnly:!0,json:{read:!1}})],ae.prototype,"stylesGroupQuery",null),o([c({json:{name:"2DStylesGroupQuery"}})],ae.prototype,"stylesGroupQuery2d",void 0),o([c({json:{name:"stylesGroupQuery"}})],ae.prototype,"stylesGroupQuery3d",void 0),o([c()],ae.prototype,"supportsHostedServices",void 0),o([c()],ae.prototype,"symbolSetsGroupQuery",void 0),o([c()],ae.prototype,"templatesGroupQuery",void 0),o([c()],ae.prototype,"thumbnail",void 0),o([c({readOnly:!0})],ae.prototype,"thumbnailUrl",null),o([c()],ae.prototype,"units",void 0),o([c()],ae.prototype,"url",void 0),o([c()],ae.prototype,"urlKey",void 0),o([ue("urlKey")],ae.prototype,"readUrlKey",null),o([c()],ae.prototype,"user",void 0),o([ue("user")],ae.prototype,"readUser",null),o([c()],ae.prototype,"useStandardizedQuery",void 0),o([c()],ae.prototype,"useVectorBasemaps",void 0),o([c()],ae.prototype,"vectorBasemapGalleryGroupQuery",void 0),ae=Kr=o([k("esri.portal.Portal")],ae);const jr=ae;pe.getLogger("esri.core.Clonable");const gn=e=>{let t=class extends e{clone(){const r=EE($r(this),"unable to clone instance of non-accessor class"),s=r.metadatas,i=r.store,n={},a=new Map;for(const h in s){const f=s[h],y=i==null?void 0:i.originOf(h),v=f.clonable;if(f.readOnly||v===!1||y!==Ve.USER&&y!==Ve.DEFAULTS&&y!==Ve.WEB_MAP&&y!==Ve.WEB_SCENE)continue;const b=this[h];let x=null;x=typeof v=="function"?v(b):v==="reference"?b:Gg(b),b!=null&&x==null||(y===Ve.DEFAULTS?a.set(h,x):n[h]=x)}const l=new(Object.getPrototypeOf(this)).constructor(n);if(a.size){var d;const h=(d=$r(l))==null?void 0:d.store;if(h)for(const[f,y]of a)h.set(f,y,Ve.DEFAULTS)}return l}};return t=o([k("esri.core.Clonable")],t),t};let XS=class extends gn(vt){};XS=o([k("esri.core.Clonable")],XS);let Do=class extends gn(ee){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return H(e)&&e.placement===this.placement&&e.style===this.style&&(be(this.color)&&be(e.color)||H(this.color)&&H(e.color)&&this.color.toJSON()===e.color.toJSON())}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Do.prototype,"type",void 0),o([c({type:xF,json:{default:"begin-end",write:!0}})],Do.prototype,"placement",void 0),o([c({type:Ok,json:{default:"arrow",write:!0}})],Do.prototype,"style",void 0),o([c({type:We,json:{type:[Bt],default:null,write:!0}})],Do.prototype,"color",void 0),Do=o([k("esri.symbols.LineStyleMarker3D")],Do);const dv=Do;var Mh;let di=Mh=class extends Ii{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=dn(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:H(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:H(this.pattern)?this.pattern.clone():null,marker:H(this.marker)?this.marker.clone():null};return new Mh(e)}static fromSimpleLineSymbol(e){var t,r,s;const i={enabled:!0,size:(t=e.width)!=null?t:dn(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new q1({style:e.style}):null,material:new _s({color:(e.color||Jc).clone()}),marker:e.marker?new dv({placement:e.marker.placement,style:e.marker.style,color:(r=(s=e.marker.color)==null?void 0:s.clone())!=null?r:null}):null};return new Mh(i)}};o([c({type:_s,json:{write:!0}})],di.prototype,"material",void 0),o([Ee({Line:"line"},{readOnly:!0})],di.prototype,"type",void 0),o([c({type:Fk,json:{write:!0,default:"miter"}})],di.prototype,"join",void 0),o([c({type:H1,json:{write:!0,default:"butt"}})],di.prototype,"cap",void 0),o([c(ki)],di.prototype,"size",void 0),o([c(Pk)],di.prototype,"pattern",void 0),o([c({types:{key:"type",base:dv,typeMap:{style:dv}},json:{write:!0}})],di.prototype,"marker",void 0),di=Mh=o([k("esri.symbols.LineSymbol3DLayer")],di);const wu=di;var pv;const yD=ir()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let pc=pv=class extends ee{clone(){return new pv({href:this.href,primitive:this.primitive})}};o([c({type:String,json:{read:Dy,write:yo}})],pc.prototype,"href",void 0),o([Ee(yD)],pc.prototype,"primitive",void 0),pc=pv=o([k("esri.symbols.support.ObjectSymbol3DLayerResource")],pc);var hv;let aa=hv=class extends vt{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new hv({x:this.x,y:this.y,z:this.z})}};o([c({type:Number})],aa.prototype,"x",void 0),o([c({type:Number})],aa.prototype,"y",void 0),o([c({type:Number})],aa.prototype,"z",void 0),aa=hv=o([k("esri.symbols.support.Symbol3DAnchorPosition3D")],aa);var fv;let gr=fv=class extends Ii{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new fv({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:H(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};o([c({type:_s,json:{write:!0}})],gr.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],gr.prototype,"castShadows",void 0),o([c({type:pc,json:{write:!0}})],gr.prototype,"resource",void 0),o([Ee({Object:"object"},{readOnly:!0})],gr.prototype,"type",void 0),o([c({type:Number,json:{write:!0}})],gr.prototype,"width",void 0),o([c({type:Number,json:{write:!0}})],gr.prototype,"height",void 0),o([c({type:Number,json:{write:!0}})],gr.prototype,"depth",void 0),o([Ee({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),c({json:{default:"origin"}})],gr.prototype,"anchor",void 0),o([c({type:aa,json:{type:[Number],read:{reader:e=>new aa({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],gr.prototype,"anchorPosition",void 0),o([c({type:Number,json:{write:!0}})],gr.prototype,"heading",void 0),o([c({type:Number,json:{write:!0}})],gr.prototype,"tilt",void 0),o([c({type:Number,json:{write:!0}})],gr.prototype,"roll",void 0),o([c({readOnly:!0})],gr.prototype,"isPrimitive",null),gr=fv=o([k("esri.symbols.ObjectSymbol3DLayer")],gr);const Vy=gr;var yv;let kr=yv=class extends Ii{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new yv({enabled:this.enabled,material:H(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};o([c({type:_s,json:{write:!0}})],kr.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],kr.prototype,"castShadows",void 0),o([Ee({Path:"path"},{readOnly:!0})],kr.prototype,"type",void 0),o([c({type:["circle","quad"],json:{write:!0,default:"circle"}})],kr.prototype,"profile",void 0),o([c({type:Fk,json:{write:!0,default:"miter"}})],kr.prototype,"join",void 0),o([c({type:KF,json:{write:!0,default:"butt"}})],kr.prototype,"cap",void 0),o([c({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],kr.prototype,"width",void 0),o([ue("width",["width","size","height"])],kr.prototype,"readWidth",null),o([c({type:Number,json:{write:!0}})],kr.prototype,"height",void 0),o([ue("height",["height","size","width"])],kr.prototype,"readHeight",null),o([c({type:["center","bottom","top"],json:{write:!0,default:"center"}})],kr.prototype,"anchor",void 0),o([c({type:["heading","all"],json:{write:!0,default:"all"}})],kr.prototype,"profileRotation",void 0),kr=yv=o([k("esri.symbols.PathSymbol3DLayer")],kr);const s_=kr;var mv;let xl=mv=class extends ee{constructor(){super(...arguments),this.color=new We([0,0,0,1]),this.size=0}clone(){const e={color:D(this.color),size:this.size};return new mv(e)}};o([c(vo)],xl.prototype,"color",void 0),o([c(ki)],xl.prototype,"size",void 0),xl=mv=o([k("esri.symbols.support.Symbol3DHalo")],xl);let Qc=class extends gn(ee){constructor(e){super(e),this.color=null}};o([c(vo)],Qc.prototype,"color",void 0),Qc=o([k("esri.symbols.support.Symbol3DTextBackground")],Qc);var Ih;let Pr=Ih=class extends Ii{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){H(e)&&H(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,s){const i=Ie(V({},s),{textSymbol3D:!0});t.font=e.write({},i),delete t.font.size}get size(){return H(this._userSize)?this._userSize:H(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,H(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Ih({enabled:this.enabled,font:this.font&&D(this.font),halo:this.halo&&D(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:H(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:D(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Ih({font:H(e.font)?e.font.clone():new Ly,halo:mD(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new _s({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Qc({color:e.backgroundColor.clone()}):null})}};function mD(e,t){return e&&t>0?new xl({color:D(e),size:t}):null}o([c({type:Ly,json:{write:!0}})],Pr.prototype,"font",null),o([he("font")],Pr.prototype,"writeFont",null),o([c({type:xl,json:{write:!0}})],Pr.prototype,"halo",void 0),o([c(Ie(V({},sN),{json:{default:"center",write:!0}}))],Pr.prototype,"horizontalAlignment",void 0),o([c(Ie(V({},Nk),{json:{default:1,write:!0}}))],Pr.prototype,"lineHeight",void 0),o([c({type:_s,json:{write:!0}})],Pr.prototype,"material",void 0),o([c({type:Qc,json:{write:!0}})],Pr.prototype,"background",void 0),o([c(ki)],Pr.prototype,"size",null),o([c({type:String,json:{write:!0}})],Pr.prototype,"text",void 0),o([Ee({Text:"text"},{readOnly:!0})],Pr.prototype,"type",void 0),o([c(Ie(V({},Dk),{json:{default:"baseline",write:!0}}))],Pr.prototype,"verticalAlignment",void 0),Pr=Ih=o([k("esri.symbols.TextSymbol3DLayer")],Pr);const _u=Pr;var gv;let On=gv=class extends Ii{constructor(e){super(e),this.color=vv.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new gv({color:D(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};o([c({type:We,nonNullable:!0,json:{type:[Bt],write:(e,t,r)=>t[r]=e.toArray(We.AlphaMode.UNLESS_OPAQUE),default:()=>vv.clone(),defaultEquals:e=>e.toCss(!0)===vv.toCss(!0)}})],On.prototype,"color",void 0),o([Ee({Water:"water"},{readOnly:!0})],On.prototype,"type",void 0),o([c({type:["small","medium","large"],json:{write:!0,default:"medium"}})],On.prototype,"waterbodySize",void 0),o([c({type:Number,json:{write:!0,default:null}})],On.prototype,"waveDirection",void 0),o([c({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],On.prototype,"waveStrength",void 0),On=gv=o([k("esri.symbols.WaterSymbol3DLayer")],On);const vv=new We([0,119,190]),i_=On;var bv;let zo=bv=class extends vt{constructor(){super(...arguments),this.portal=null}clone(){return new bv({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};o([c({type:String})],zo.prototype,"name",void 0),o([c({type:String})],zo.prototype,"styleUrl",void 0),o([c({type:String})],zo.prototype,"styleName",void 0),o([c({type:jr})],zo.prototype,"portal",void 0),zo=bv=o([k("esri.symbols.support.StyleOrigin")],zo);const qf=zo;var wv;let Ul=wv=class extends vt{clone(){return new wv({url:this.url})}};o([c({type:String})],Ul.prototype,"url",void 0),Ul=wv=o([k("esri.symbols.support.Thumbnail")],Ul);const aM={icon:eo,object:Vy,line:wu,path:s_,fill:ep,extrude:U1,text:_u,water:i_},gD=ft.ofType({base:Ii,key:"type",typeMap:aM,errorContext:"symbol-layer"}),vD=pe.getLogger("esri.symbols.Symbol3D");let pi=class extends Cr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||ft;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.initialized&&vD.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Yk(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const s=za(e.styleUrl,r);return new qf({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new qf({portal:r&&r.portal||jr.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new Hr("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,s){if(e.styleUrl&&e.name){let i=bu(e.styleUrl,s);Ur(i)&&(i=Ss(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&s&&s.portal&&!Bk(e.portal.restUrl,s.portal.restUrl)?s&&s.messages&&s.messages.push(new Hr("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Ii||e&&aM[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};o([c({json:{read:!1,write:!1}})],pi.prototype,"color",null),o([c({type:gD,nonNullable:!0,json:{write:!0}}),Ct(Xk)],pi.prototype,"symbolLayers",null),o([c({type:qf})],pi.prototype,"styleOrigin",void 0),o([ue("styleOrigin")],pi.prototype,"readStyleOrigin",null),o([he("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],pi.prototype,"writeStyleOrigin",null),o([c({type:Ul,json:{read:!1}})],pi.prototype,"thumbnail",void 0),o([c({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],pi.prototype,"type",void 0),pi=o([k("esri.symbols.Symbol3D")],pi);const Su=pi;let hc=class extends ee{constructor(e){super(e),this.visible=!0}clone(){}};o([c({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],hc.prototype,"type",void 0),o([c({readOnly:!0})],hc.prototype,"visible",void 0),hc=o([k("esri.symbols.callouts.Callout3D")],hc);const lM=hc;var _v;let Oh=_v=class extends ee{constructor(){super(...arguments),this.color=new We("white")}clone(){return new _v({color:D(this.color)})}};o([c(vo)],Oh.prototype,"color",void 0),Oh=_v=o([k("esri.symbols.callouts.LineCallout3DBorder")],Oh);const bD=Oh;var Sv;let jn=Sv=class extends lM{constructor(e){super(e),this.type="line",this.color=new We([0,0,0,1]),this.size=dn(1),this.border=null}get visible(){return this.size>0&&H(this.color)&&this.color.a>0}clone(){return new Sv({color:D(this.color),size:this.size,border:D(this.border)})}};o([Ee({line:"line"},{readOnly:!0})],jn.prototype,"type",void 0),o([c(vo)],jn.prototype,"color",void 0),o([c(ki)],jn.prototype,"size",void 0),o([c({type:bD,json:{write:!0}})],jn.prototype,"border",void 0),o([c({readOnly:!0})],jn.prototype,"visible",null),jn=Sv=o([k("esri.symbols.callouts.LineCallout3D")],jn);const wD=jn;function n_(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function uM(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!n_(e)}const cM={types:{key:"type",base:lM,typeMap:{line:wD}},json:{write:!0}};var $v;let la=$v=class extends ee{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new $v({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};o([c(ki)],la.prototype,"screenLength",void 0),o([c({type:Number,json:{write:!0,default:0}})],la.prototype,"minWorldLength",void 0),o([c({type:Number,json:{write:!0}})],la.prototype,"maxWorldLength",void 0),la=$v=o([k("esri.symbols.support.Symbol3DVerticalOffset")],la);var jh;const dM=ft.ofType({base:null,key:"type",typeMap:{text:_u}});let Cn=jh=class extends Su{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new dM,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return uM(this)}hasVisibleVerticalOffset(){return n_(this)}clone(){return new jh({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail),callout:D(this.callout),verticalOffset:D(this.verticalOffset)})}static fromTextSymbol(e){return new jh({symbolLayers:[_u.fromTextSymbol(e)]})}};o([c({type:la,json:{write:!0}})],Cn.prototype,"verticalOffset",void 0),o([c(cM)],Cn.prototype,"callout",void 0),o([c({json:{read:!1,write:!1}})],Cn.prototype,"styleOrigin",void 0),o([c({type:dM})],Cn.prototype,"symbolLayers",void 0),o([Ee({LabelSymbol3D:"label-3d"},{readOnly:!0})],Cn.prototype,"type",void 0),Cn=jh=o([k("esri.symbols.LabelSymbol3D")],Cn);const Uy=Cn;var Ch;const pM=ft.ofType({base:null,key:"type",typeMap:{line:wu,path:s_}}),_D=ft.ofType({base:null,key:"type",typeMap:{line:wu,path:s_}});let fc=Ch=class extends Su{constructor(e){super(e),this.symbolLayers=new pM,this.type="line-3d"}clone(){return new Ch({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Ch({symbolLayers:[wu.fromSimpleLineSymbol(e)]})}};o([c({type:pM,json:{type:_D}})],fc.prototype,"symbolLayers",void 0),o([Ee({LineSymbol3D:"line-3d"},{readOnly:!0})],fc.prototype,"type",void 0),fc=Ch=o([k("esri.symbols.LineSymbol3D")],fc);const qy=fc;let An=class extends Cr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};o([c({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],An.prototype,"angle",void 0),o([c({type:["simple-marker","picture-marker"],readOnly:!0})],An.prototype,"type",void 0),o([c({type:Number,cast:et,json:{write:!0}})],An.prototype,"xoffset",void 0),o([c({type:Number,cast:et,json:{write:!0}})],An.prototype,"yoffset",void 0),o([c({type:Number,cast:e=>e==="auto"?e:et(e),json:{write:!0}})],An.prototype,"size",void 0),An=o([k("esri.symbols.MarkerSymbol")],An);const hM=An;var xv;const fM=ft.ofType({base:null,key:"type",typeMap:{fill:ep}});let yc=xv=class extends Su{constructor(e){super(e),this.symbolLayers=new fM,this.type="mesh-3d"}clone(){return new xv({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}};o([c({type:fM})],yc.prototype,"symbolLayers",void 0),o([Ee({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],yc.prototype,"type",void 0),yc=xv=o([k("esri.symbols.MeshSymbol3D")],yc);const o_=yc;function SD(e,t,r){return t.imageData?Gk({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):yM(t.url,r)}function yM(e,t){return xD(t)&&!Ur(e)&&t.layer.parsedUrl?Ca(t.layer.parsedUrl.path,"images",e):za(e,t)}function $D(e,t,r,s){if(bo(e)){const i=Q1(e);t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&yo(r.url,t,"url",s)}else yo(e,t,"url",s)}const mM={json:{read:{source:["imageData","url"],reader:SD},write:{writer(e,t,r,s){$D(e,t,this.source,s)}}}},gM={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const s={};return t.imageData&&(s.imageData=t.imageData),t.contentType&&(s.contentType=t.contentType),t.url&&(s.url=yM(t.url,r)),s}}}};function xD(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var Ev;let ds=Ev=class extends jk{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=et(r)),s!=null&&(i.height=et(s)),i}clone(){const e=new Ev({color:D(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",D(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};o([Ee({esriPFS:"picture-fill"},{readOnly:!0})],ds.prototype,"type",void 0),o([c(mM)],ds.prototype,"url",void 0),o([c({type:Number,json:{write:!0}})],ds.prototype,"xscale",void 0),o([c({type:Number,json:{write:!0}})],ds.prototype,"yscale",void 0),o([c({type:Number,cast:et,json:{write:!0}})],ds.prototype,"width",void 0),o([c({type:Number,cast:et,json:{write:!0}})],ds.prototype,"height",void 0),o([c({type:Number,cast:et,json:{write:!0}})],ds.prototype,"xoffset",void 0),o([c({type:Number,cast:et,json:{write:!0}})],ds.prototype,"yoffset",void 0),o([c(gM)],ds.prototype,"source",void 0),ds=Ev=o([k("esri.symbols.PictureFillSymbol")],ds);const vM=ds;var Tv;let Os=Tv=class extends hM{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t!=null&&(s.width=et(t)),r!=null&&(s.height=et(r)),s}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Tv({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",D(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};o([c({json:{write:!1}})],Os.prototype,"color",void 0),o([Ee({esriPMS:"picture-marker"},{readOnly:!0})],Os.prototype,"type",void 0),o([c(mM)],Os.prototype,"url",void 0),o([c(gM)],Os.prototype,"source",void 0),o([c({type:Number,cast:et,json:{write:!0}})],Os.prototype,"height",void 0),o([ue("height",["height","size"])],Os.prototype,"readHeight",null),o([c({type:Number,cast:et,json:{write:!0}})],Os.prototype,"width",void 0),o([c({json:{write:!1}})],Os.prototype,"size",void 0),Os=Tv=o([k("esri.symbols.PictureMarkerSymbol")],Os);const $u=Os;var Rn;const bM=ft.ofType({base:null,key:"type",typeMap:{icon:eo,object:Vy,text:_u}});let Vo=Rn=class extends Su{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new bM,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return uM(this)}hasVisibleVerticalOffset(){return n_(this)}clone(){return new Rn({verticalOffset:D(this.verticalOffset),callout:D(this.callout),styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Rn({symbolLayers:[eo.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new Rn({symbolLayers:[eo.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var t,r;return((t=e.data)==null||(r=t.symbol)==null?void 0:r.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new Rn({symbolLayers:[eo.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new Rn({symbolLayers:[eo.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new Rn({symbolLayers:[_u.fromTextSymbol(e)]})}};o([c({type:la,json:{write:!0}})],Vo.prototype,"verticalOffset",void 0),o([c(cM)],Vo.prototype,"callout",void 0),o([c({type:bM,json:{origins:{"web-scene":{write:!0}}}})],Vo.prototype,"symbolLayers",void 0),o([Ee({PointSymbol3D:"point-3d"},{readOnly:!0})],Vo.prototype,"type",void 0),Vo=Rn=o([k("esri.symbols.PointSymbol3D")],Vo);const ha=Vo;var mc;const wM=ft.ofType({base:null,key:"type",typeMap:{extrude:U1,fill:ep,icon:eo,line:wu,object:Vy,text:_u,water:i_}}),ED=ft.ofType({base:null,key:"type",typeMap:{extrude:U1,fill:ep,icon:eo,line:wu,object:Vy,water:i_}});let il=mc=class extends Su{constructor(e){super(e),this.symbolLayers=new wM,this.type="polygon-3d"}writeSymbolLayers(e,t,r,s){const i=e.filter(n=>n.type!=="text");if(s&&s.messages&&i.length<e.length){const n=e.find(a=>a.type==="text");s.messages.push(new Y("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:n}))}t[r]=i.map(n=>n.write({},s)).toArray()}clone(){return new mc({styleOrigin:D(this.styleOrigin),symbolLayers:D(this.symbolLayers),thumbnail:D(this.thumbnail)})}static fromJSON(e){const t=new mc;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),s=t.symbolLayers.getItemAt(1);!s.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:H(s.material)?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new mc({symbolLayers:[ep.fromSimpleFillSymbol(e)]})}};o([c({type:wM,json:{type:ED}})],il.prototype,"symbolLayers",void 0),o([he("web-scene","symbolLayers")],il.prototype,"writeSymbolLayers",null),o([Ee({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],il.prototype,"type",void 0),il=mc=o([k("esri.symbols.PolygonSymbol3D")],il);const ip=il;var kv;const Jm=new Ce({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Uo=kv=class extends jk{constructor(...e){super(...e),this.color=new We([0,0,0,.25]),this.outline=new is,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t&&(s.outline=t),r&&(s.color=r),s}clone(){return new kv({color:D(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};o([c()],Uo.prototype,"color",void 0),o([c()],Uo.prototype,"outline",void 0),o([Ee({esriSFS:"simple-fill"},{readOnly:!0})],Uo.prototype,"type",void 0),o([c({type:Jm.apiValues,json:{read:Jm.read,write:Jm.write}})],Uo.prototype,"style",void 0),Uo=kv=o([k("esri.symbols.SimpleFillSymbol")],Uo);const wo=Uo;var Mv;const Km=new Ce({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let hi=Mv=class extends hM{constructor(...e){super(...e),this.color=new We([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new is}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=et(t)),r&&(i.outline=r),s&&(i.color=s),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Mv({angle:this.angle,color:D(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};o([c()],hi.prototype,"color",void 0),o([he("color")],hi.prototype,"writeColor",null),o([Ee({esriSMS:"simple-marker"},{readOnly:!0})],hi.prototype,"type",void 0),o([c()],hi.prototype,"size",void 0),o([c({type:Km.apiValues,json:{read:Km.read,write:Km.write}})],hi.prototype,"style",void 0),o([c({type:String,json:{write:!0}})],hi.prototype,"path",null),o([c({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":is}},json:{default:null,write:!0}})],hi.prototype,"outline",void 0),hi=Mv=o([k("esri.symbols.SimpleMarkerSymbol")],hi);const Va=hi;var Iv;let St=Iv=class extends Cr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Ly,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.text=e),t&&(s.font=t),r&&(s.color=r),s}writeLineWidth(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}castLineWidth(e){return et(e)}writeLineHeight(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}clone(){return new Iv({angle:this.angle,backgroundColor:D(this.backgroundColor),borderLineColor:D(this.borderLineColor),borderLineSize:this.borderLineSize,color:D(this.color),font:this.font&&this.font.clone(),haloColor:D(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};o([c({type:We,json:{write:!0}})],St.prototype,"backgroundColor",void 0),o([c({type:We,json:{write:!0}})],St.prototype,"borderLineColor",void 0),o([c({type:Number,json:{write:!0}})],St.prototype,"borderLineSize",void 0),o([c({type:Ly,json:{write:!0}})],St.prototype,"font",void 0),o([c(Ie(V({},rN),{json:{write:!0}}))],St.prototype,"horizontalAlignment",void 0),o([c({type:Boolean,json:{write:!0}})],St.prototype,"kerning",void 0),o([c({type:We,json:{write:!0}})],St.prototype,"haloColor",void 0),o([c({type:Number,cast:et,json:{write:!0}})],St.prototype,"haloSize",void 0),o([c({type:Boolean,json:{write:!0}})],St.prototype,"rightToLeft",void 0),o([c({type:Boolean,json:{write:!0}})],St.prototype,"rotated",void 0),o([c({type:String,json:{write:!0}})],St.prototype,"text",void 0),o([Ee({esriTS:"text"},{readOnly:!0})],St.prototype,"type",void 0),o([c(Ie(V({},Dk),{json:{write:!0}}))],St.prototype,"verticalAlignment",void 0),o([c({type:Number,cast:et,json:{write:!0}})],St.prototype,"xoffset",void 0),o([c({type:Number,cast:et,json:{write:!0}})],St.prototype,"yoffset",void 0),o([c({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],St.prototype,"angle",void 0),o([c({type:Number,json:{write:!0}})],St.prototype,"width",void 0),o([c({type:Number})],St.prototype,"lineWidth",void 0),o([he("lineWidth")],St.prototype,"writeLineWidth",null),o([Ct("lineWidth")],St.prototype,"castLineWidth",null),o([c(Nk)],St.prototype,"lineHeight",void 0),o([he("lineHeight")],St.prototype,"writeLineHeight",null),St=Iv=o([k("esri.symbols.TextSymbol")],St);const _o=St;var Ov;const TD=pe.getLogger("esri.symbols.WebStyleSymbol");let fi=Ov=class extends Cr{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new Ov({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=await kD();Xs(t);const s=r.resolveWebStyleSymbol(this,{portal:this.portal},e,t);return s.catch(i=>{TD.error("#fetchSymbol()","Failed to create symbol from style",i)}),s}};function kD(){return Fe(()=>import("./webStyleSymbolUtils.3482a342.js"),["./webStyleSymbolUtils.3482a342.js","./devEnvironmentUtils.592c8a7b.js"],import.meta.url)}o([c({json:{write:!1}})],fi.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],fi.prototype,"styleName",void 0),o([c({type:jr,json:{write:!1}})],fi.prototype,"portal",void 0),o([c({type:String,json:{read:Dy,write:yo}})],fi.prototype,"styleUrl",void 0),o([c({type:Ul,json:{read:!1}})],fi.prototype,"thumbnail",void 0),o([c({type:String,json:{write:!0}})],fi.prototype,"name",void 0),o([Ee({styleSymbolReference:"web-style"},{readOnly:!0})],fi.prototype,"type",void 0),fi=Ov=o([k("esri.symbols.WebStyleSymbol")],fi);const Ua=fi;function MD(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function jv(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const ao={base:Cr,key:"type",typeMap:{"simple-fill":wo,"picture-fill":vM,"picture-marker":$u,"simple-line":is,"simple-marker":Va,text:_o,"label-3d":Uy,"line-3d":qy,"mesh-3d":o_,"point-3d":ha,"polygon-3d":ip,"web-style":Ua,cim:Xd},errorContext:"symbol"},ID={base:Cr,key:"type",typeMap:{"picture-marker":$u,"simple-marker":Va,text:_o,"web-style":Ua,cim:Xd},errorContext:"symbol"},OD=Ra({types:ao}),a_={base:Cr,key:"type",typeMap:{"simple-fill":wo,"picture-fill":vM,"picture-marker":$u,"simple-line":is,"simple-marker":Va,text:_o,"line-3d":qy,"mesh-3d":o_,"point-3d":ha,"polygon-3d":ip,"web-style":Ua,cim:Xd},errorContext:"symbol"},jD={base:Cr,key:"type",typeMap:{text:_o,"label-3d":Uy},errorContext:"symbol"},e8={base:Cr,key:"type",typeMap:{"line-3d":qy,"mesh-3d":o_,"point-3d":ha,"polygon-3d":ip,"web-style":Ua,cim:Xd},errorContext:"symbol"},CD={base:Cr,key:"type",typeMap:{"label-3d":Uy},errorContext:"symbol"},_M=Ti(ao);var Cv;let gc=Cv=class extends ee{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new Cv({minValue:this.minValue,maxValue:this.maxValue})}};o([c({type:Number,json:{write:!0}})],gc.prototype,"minValue",void 0),o([c({type:Number,json:{write:!0}})],gc.prototype,"maxValue",void 0),gc=Cv=o([k("esri.renderer.support.AuthoringInfoClassBreakInfo")],gc);const AD=gc;var Av;let qo=Av=class extends ee{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new Av({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:D(this.classBreakInfos)})}};o([c({type:String,json:{write:!0}})],qo.prototype,"field",void 0),o([c({type:String,json:{write:!0}})],qo.prototype,"normalizationField",void 0),o([c({type:String,json:{write:!0}})],qo.prototype,"label",void 0),o([c({type:[AD],json:{write:!0}})],qo.prototype,"classBreakInfos",void 0),qo=Av=o([k("esri.renderers.support.AuthoringInfoFieldInfo")],qo);const t8=qo;var Rv;const Rp=new Ce({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),Pp=new Ce({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),r8={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},s8=["high-to-low","above-and-below","centered-on","extremes"],i8=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],n8=["seconds","minutes","hours","days","months","years"];let Lr=Rv=class extends ee{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new Rv({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};o([c({types:r8,json:{write:!0}})],Lr.prototype,"endTime",void 0),o([Ct("endTime")],Lr.prototype,"castEndTime",null),o([c({type:String,json:{write:!0}})],Lr.prototype,"field",void 0),o([c({type:Number,json:{write:!0}})],Lr.prototype,"maxSliderValue",void 0),o([c({type:Number,json:{write:!0}})],Lr.prototype,"minSliderValue",void 0),o([c({types:r8,json:{write:!0}})],Lr.prototype,"startTime",void 0),o([Ct("startTime")],Lr.prototype,"castStartTime",null),o([c({type:Rp.apiValues,value:null,json:{type:Rp.jsonValues,read:Rp.read,write:Rp.write}})],Lr.prototype,"style",null),o([c({type:i8,value:null,json:{type:i8,origins:{"web-scene":{type:s8,write:{writer:(e,t)=>{s8.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],Lr.prototype,"theme",null),o([c({type:Pp.apiValues,json:{type:Pp.jsonValues,read:Pp.read,write:Pp.write}})],Lr.prototype,"type",void 0),o([c({type:n8,json:{type:n8,write:!0}})],Lr.prototype,"units",void 0),Lr=Rv=o([k("esri.renderers.support.AuthoringInfoVisualVariable")],Lr);const RD=Lr;let Ah=class extends ee{constructor(e){super(e),this.type=null}};o([c({readOnly:!0,json:{read:!1,write:!0}})],Ah.prototype,"type",void 0),Ah=o([k("esri.rest.support.ColorRamp")],Ah);const l_=Ah;var Pv;let Bo=Pv=class extends l_{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new Pv({fromColor:D(this.fromColor),toColor:D(this.toColor),algorithm:this.algorithm})}};o([Ee({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Bo.prototype,"algorithm",void 0),o([c({type:We,json:{type:[Bt],write:!0}})],Bo.prototype,"fromColor",void 0),o([c({type:We,json:{type:[Bt],write:!0}})],Bo.prototype,"toColor",void 0),o([c({type:["algorithmic"]})],Bo.prototype,"type",void 0),Bo=Pv=o([k("esri.rest.support.AlgorithmicColorRamp")],Bo);const u_=Bo;var Lv;let vc=Lv=class extends l_{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new Lv({colorRamps:D(this.colorRamps)})}};o([c({type:[u_],json:{write:!0}})],vc.prototype,"colorRamps",void 0),o([c({type:["multipart"]})],vc.prototype,"type",void 0),vc=Lv=o([k("esri.rest.support.MultipartColorRamp")],vc);const c_=vc,SM={key:"type",base:l_,typeMap:{algorithmic:u_,multipart:c_}};function $M(e){return e&&e.type?e.type==="algorithmic"?u_.fromJSON(e):e.type==="multipart"?c_.fromJSON(e):null:null}var Fv;const To=new Ce({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),Lp=new Ce({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),o8=new Ce({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),a8=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],PD=["high-to-low","above-and-below","above","below","90-10"],LD=["flow-line","wave-front"],FD=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Vt=Fv=class extends ee{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return $M(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new Fv({classificationMethod:this.classificationMethod,colorRamp:D(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:D(this.field1),field2:D(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};o([c({type:To.apiValues,value:null,json:{type:To.jsonValues,read:To.read,write:To.write,origins:{"web-document":{default:"manual",type:To.jsonValues,read:To.read,write:To.write}}}})],Vt.prototype,"classificationMethod",null),o([c({types:SM,json:{write:!0}})],Vt.prototype,"colorRamp",void 0),o([ue("colorRamp")],Vt.prototype,"readColorRamp",null),o([c({type:[String],value:null,json:{write:!0}})],Vt.prototype,"fields",null),o([c({type:t8,value:null,json:{write:!0}})],Vt.prototype,"field1",null),o([c({type:t8,value:null,json:{write:!0}})],Vt.prototype,"field2",null),o([c({type:LD,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vt.prototype,"flowTheme",null),o([c({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Vt.prototype,"focus",null),o([c({type:Number,value:null,json:{type:Bt,write:!0}})],Vt.prototype,"numClasses",null),o([c({type:a8,json:{type:a8,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Vt.prototype,"lengthUnit",void 0),o([c({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vt.prototype,"maxSliderValue",void 0),o([c({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vt.prototype,"minSliderValue",void 0),o([c({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vt.prototype,"statistics",null),o([c({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Vt.prototype,"standardDeviationInterval",null),o([c({type:Lp.apiValues,value:null,json:{type:Lp.jsonValues,read:Lp.read,write:Lp.write,origins:{"web-scene":{type:o8.jsonValues,write:{writer:o8.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Vt.prototype,"type",null),o([c({type:[RD],json:{write:!0}})],Vt.prototype,"visualVariables",void 0),o([c({type:FD,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vt.prototype,"univariateSymbolStyle",null),o([c({type:PD,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vt.prototype,"univariateTheme",null),Vt=Fv=o([k("esri.renderers.support.AuthoringInfo")],Vt);const xM=Vt,Qm=new Ce({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let bc=class extends ee{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};o([c({type:xM,json:{write:!0}})],bc.prototype,"authoringInfo",void 0),o([c({type:Qm.apiValues,readOnly:!0,json:{type:Qm.jsonValues,read:!1,write:{writer:Qm.write,ignoreOrigin:!0}}})],bc.prototype,"type",void 0),bc=o([k("esri.renderers.Renderer")],bc);const So=bc;var Nv;let Rh=Nv=class extends ee{constructor(){super(...arguments),this.title=null}clone(){return new Nv({title:this.title})}};o([c({type:String,json:{write:!0}})],Rh.prototype,"title",void 0),Rh=Nv=o([k("esri.renderers.support.LegendOptions")],Rh);const By=Rh;var Dv;let Ph=Dv=class extends By{constructor(){super(...arguments),this.showLegend=null}clone(){return new Dv({title:this.title,showLegend:this.showLegend})}};o([c({type:Boolean,json:{write:!0}})],Ph.prototype,"showLegend",void 0),Ph=Dv=o([k("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Ph);const EM=Ph,ND=pe.getLogger("esri.renderers.visualVariables.VisualVariable"),Zm=new Ce({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let js=class extends ee{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(ND.error(".field: field must be a string value"),null):Gd(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};o([c()],js.prototype,"index",void 0),o([c({type:Zm.apiValues,readOnly:!0,json:{read:Zm.read,write:Zm.write}})],js.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],js.prototype,"field",void 0),o([Ct("field")],js.prototype,"castField",null),o([c({type:String,json:{write:!0}})],js.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],js.prototype,"valueExpressionTitle",void 0),o([c({readOnly:!0})],js.prototype,"arcadeRequired",null),o([c({type:EM,json:{write:!0}})],js.prototype,"legendOptions",void 0),js=o([k("esri.renderers.visualVariables.VisualVariable")],js);const np=js;var zv;let Ho=zv=class extends ee{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new zv({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};o([c({type:We,json:{type:[Bt],write:!0}})],Ho.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],Ho.prototype,"label",void 0),o([c({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Ho.prototype,"value",void 0),o([he("value")],Ho.prototype,"writeValue",null),Ho=zv=o([k("esri.renderers.visualVariables.support.ColorStop")],Ho);const TM=Ho;var Vv;let Go=Vv=class extends np{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new Vv({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],Go.prototype,"cache",null),o([c({type:["color"],json:{type:["colorInfo"]}})],Go.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Go.prototype,"normalizationField",void 0),o([c({type:[TM],json:{write:!0}})],Go.prototype,"stops",null),Go=Vv=o([k("esri.renderers.visualVariables.ColorVariable")],Go);const kM=Go;var Uv;let Pn=Uv=class extends ee{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Sd(t.transparency)}writeOpacity(e,t,r){t[r]=Ik(e)}clone(){return new Uv({label:this.label,opacity:this.opacity,value:this.value})}};o([c({type:String,json:{write:!0}})],Pn.prototype,"label",void 0),o([c({type:Number,json:{type:Bt,write:{target:"transparency"}}})],Pn.prototype,"opacity",void 0),o([ue("opacity",["transparency"])],Pn.prototype,"readOpacity",null),o([he("opacity")],Pn.prototype,"writeOpacity",null),o([c({type:Number,json:{write:!0}})],Pn.prototype,"value",void 0),Pn=Uv=o([k("esri.renderers.visualVariables.support.OpacityStop")],Pn);const DD=Pn;var qv;let Wo=qv=class extends np{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new qv({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],Wo.prototype,"cache",null),o([c({type:["opacity"],json:{type:["transparencyInfo"]}})],Wo.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Wo.prototype,"normalizationField",void 0),o([c({type:[DD],json:{write:!0}})],Wo.prototype,"stops",null),Wo=qv=o([k("esri.renderers.visualVariables.OpacityVariable")],Wo);const MM=Wo;var Bv;let Vi=Bv=class extends np{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,s){if(s&&s.messages){const i=`visualVariables[${this.index}]`;s.messages.push(new Y("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:s}))}}clone(){return new Bv({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};o([c({readOnly:!0})],Vi.prototype,"cache",null),o([c({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Vi.prototype,"axis",void 0),o([c({type:["rotation"],json:{type:["rotationInfo"]}})],Vi.prototype,"type",void 0),o([c({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Vi.prototype,"rotationType",void 0),o([c({type:String,json:{write:!0}})],Vi.prototype,"valueExpressionTitle",void 0),o([he("web-scene","valueExpressionTitle")],Vi.prototype,"writeValueExpressionTitleWebScene",null),Vi=Bv=o([k("esri.renderers.visualVariables.RotationVariable")],Vi);const d_=Vi;var Hv;let nl=Hv=class extends ee{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new Hv({label:this.label,size:this.size,value:this.value})}};o([c({type:String,json:{write:!0}})],nl.prototype,"label",void 0),o([c({type:Number,cast:et,json:{write:!0}})],nl.prototype,"size",void 0),o([c({type:Number,json:{write:!0}})],nl.prototype,"value",void 0),nl=Hv=o([k("esri.renderers.visualVariables.support.SizeStop")],nl);const zD=nl;var Gv;let Lh=Gv=class extends EM{constructor(){super(...arguments),this.customValues=null}clone(){return new Gv({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};o([c({type:[Number],json:{write:!0}})],Lh.prototype,"customValues",void 0),Lh=Gv=o([k("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],Lh);const VD=Lh;var on,Xt;function fa(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function xd(e){return e!=null&&!isNaN(e)&&isFinite(e)}function IM(e){return e.valueExpression?on.Expression:e.field&&typeof e.field=="string"?on.Field:on.Unknown}function UD(e,t){const r=t||IM(e),s=e.valueUnit||"unknown";return r===on.Unknown?Xt.Constant:e.stops?Xt.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Xt.ClampedLinear:s==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Xt.Proportional:Xt.Additive:Xt.Identity:Xt.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(on||(on={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Xt||(Xt={}));function qD(e){if(!e)return null;const t={};for(const r in e){const s=ss(e[r]);s&&(t[r]=s)}return Object.keys(t).length!==0?t:null}function BD(e){if(!H(e))return null;const t={};for(const r in e){const s=e[r];s&&(t[r]=s.toJSON())}return Object.keys(t).length!==0?t:null}let Fr=class extends gn(ee){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Ll(),configurable:!0})}normalizeCtorArgs(e,t,r,s){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:s}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&H(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:BD(this.aggregateGeometries),geometry:H(this.geometry)?this.geometry.toJSON():null,symbol:H(this.symbol)?this.symbol.toJSON():null,attributes:V({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){H(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,r,s){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="attributes"&&(i.attributeName=s),this.layer.graphicChanged(i)}};o([c({value:null,json:{read:qD}})],Fr.prototype,"aggregateGeometries",null),o([c({value:null})],Fr.prototype,"attributes",null),o([c({value:null,types:La,json:{read:ss}})],Fr.prototype,"geometry",null),o([c({type:Boolean})],Fr.prototype,"isAggregate",void 0),o([c({clonable:"reference"})],Fr.prototype,"layer",void 0),o([c({type:Na})],Fr.prototype,"popupTemplate",void 0),o([c({clonable:"reference"})],Fr.prototype,"sourceLayer",void 0),o([c({value:null,types:ao})],Fr.prototype,"symbol",null),o([c({type:Boolean,value:!0})],Fr.prototype,"visible",null),Fr=o([k("esri.Graphic")],Fr),function(e){e.generateUID=Ll}(Fr||(Fr={}));const pn=Fr;function HD(e){}function p_(e){return new Ue({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const OM=p_(rs),Bf=p_(Kd),Hf=p_(Qd),GD=new Ue({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${rs.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function WD(e){return e&&(Oy(e)||e===Bf)?Bf:e&&(jy(e)||e===Hf)?Hf:OM}function JD(e){return e&&(Oy(e)||e===Bf)?Kd:e&&(jy(e)||e===Hf)?Qd:rs}function KD(e){return h1(e)?Kd:f1(e)?Qd:rs}const jM=39.37,QD=rs.radius*Math.PI/200,CM=/UNIT\[([^\]]+)\]\]$/i,wa=w,AM=/UNIT\[([^\]]+)\]/i,ZD=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),YD=ir()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),ni=e=>e*e,En=e=>e*e*e,Ed={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ni(.001)},"square-centimeters":{inBaseUnits:ni(.01)},"square-decimeters":{inBaseUnits:ni(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ni(1e3)},"square-inches":{inBaseUnits:ni(.0254)},"square-feet":{inBaseUnits:ni(.3048)},"square-yards":{inBaseUnits:ni(.9144)},"square-miles":{inBaseUnits:ni(1609.344)},"square-us-feet":{inBaseUnits:ni(1200/3937)},acres:{inBaseUnits:.0015625*ni(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*En(.001)},"cubic-centimeters":{inBaseUnits:1e3*En(.01)},"cubic-decimeters":{inBaseUnits:1e3*En(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*En(1e3)},"cubic-inches":{inBaseUnits:1e3*En(.0254)},"cubic-feet":{inBaseUnits:1e3*En(.3048)},"cubic-yards":{inBaseUnits:1e3*En(.9144)},"cubic-miles":{inBaseUnits:1e3*En(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},XD=function(){const e={};for(const t in Ed)for(const r in Ed[t].units)e[r]=t;return e}();function ez(e,t,r){return e*Ed[r].units[t].inBaseUnits}function tz(e,t,r){return e/Ed[r].units[t].inBaseUnits}function Wv(e){const t=XD[e];if(t)return t;throw new Error("unknown type")}function l8(e,t=null){return t=t||Wv(e),Ed[t].baseUnit===e}function Xr(e,t,r){if(t===r)return e;const s=Wv(t);if(s!==Wv(r))throw new Error("incompatible units");const i=l8(t,s)?e:ez(e,t,s);return l8(r,s)?i:tz(i,r,s)}function rz(e,t,r){return Xr(e,t,"meters")/(r*Math.PI/180)}function RM(e){return YD.fromJSON(e.toLowerCase())||null}function Td(e){if(e&&typeof e=="object"&&!L9(e))return 1;const t=xu(e);return t>1e5?1:t}function sz(e){return xu(e)>=(e instanceof Ue?JD(e).metersPerDegree:1e5)?"meters":FM(e)}function xu(e,t=rs.metersPerDegree){return PM(e,!0)||t}function PM(e,t=!1){let r,s,i=null;if(e!=null&&(typeof e=="object"?(r=e.wkid,s=e.wkt):typeof e=="number"?r=e:typeof e=="string"&&(s=e)),r){if(h1(r))return Kd.metersPerDegree;if(f1(r))return Qd.metersPerDegree;i=wa.values[wa[r]],!i&&t&&ZD.has(r)&&(i=QD)}else s&&(DM(s)?i=u8(CM.exec(s),i):NM(s)&&(i=u8(AM.exec(s),i)));return i}function u8(e,t){return e&&e[1]?LM(e[1]):t}function LM(e){return parseFloat(e.split(",")[1])}function FM(e){let t,r,s=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,r=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(r=e)),t)s=wa.units[wa[t]];else if(r){const i=DM(r)?CM:NM(r)?AM:null;if(i){const n=i.exec(r);n&&n[1]&&(s=nz(n[1]))}}return H(s)?RM(s):null}function NM(e){return/^GEOCCS/i.test(e)}function DM(e){return/^PROJCS/i.test(e)}const iz=1e-7;function nz(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||wa.units.indexOf(r)===-1){const s=LM(e);r=null;const i=wa.values;for(let n=0;n<i.length;++n)if(Math.abs(s-i[n])<iz){r=wa.units[n];break}}return r}const zM={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},VM={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},oz=ir()(zM),az=ir()(VM);ir()(V(V({},zM),VM));const UM={inches:Xr(1,"meters","inches"),feet:Xr(1,"meters","feet"),"us-feet":Xr(1,"meters","us-feet"),yards:Xr(1,"meters","yards"),miles:Xr(1,"meters","miles"),"nautical-miles":Xr(1,"meters","nautical-miles"),millimeters:Xr(1,"meters","millimeters"),centimeters:Xr(1,"meters","centimeters"),decimeters:Xr(1,"meters","decimeters"),meters:Xr(1,"meters","meters"),kilometers:Xr(1,"meters","kilometers"),"decimal-degrees":1/rz(1,"meters",rs.radius)},mo=pe.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),c8=new pn,Fh=Math.PI,lz=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function uz(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(x=>x.type==="color"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void mo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const i=typeof t=="number",n=i?null:t,a=n&&n.attributes;let l=i?t:null;const d=s.field,{ipData:h,hasExpression:f}=s.cache;let y=s.cache.compiledFunc;if(!d&&!f){const x=s.stops;return x&&x[0]&&x[0].color}if(typeof l!="number")if(f){if(!H(r)||!H(r.arcade))return void mo.error("Use of arcade expressions requires an arcade context");const x={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},I=r.arcade.arcadeUtils,A=I.getViewInfo(x),q=I.createExecContext(n,A);if(!y){const G=I.createSyntaxTree(s.valueExpression);y=I.createFunction(G),s.cache.compiledFunc=y}l=I.executeFunction(y,q)}else a&&(l=a[d]);const v=s.normalizationField,b=a?parseFloat(a[v]):void 0;if(l!=null&&(!v||i||!isNaN(b)&&b!==0)){isNaN(b)||i||(l/=b);const x=f_(l,h);if(x){const I=x[0],A=x[1],q=I===A?s.stops[I].color:We.blendColors(s.stops[I].color,s.stops[A].color,x[2],H(r)?r.color:void 0);return new We(q)}}}function cz(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(x=>x.type==="opacity"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void mo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const i=typeof t=="number",n=i?null:t,a=n&&n.attributes;let l=i?t:null;const d=s.field,{ipData:h,hasExpression:f}=s.cache;let y=s.cache.compiledFunc;if(!d&&!f){const x=s.stops;return x&&x[0]&&x[0].opacity}if(typeof l!="number")if(f){if(be(r)||be(r.arcade))return void mo.error("Use of arcade expressions requires an arcade context");const x={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},I=r.arcade.arcadeUtils,A=I.getViewInfo(x),q=I.createExecContext(n,A);if(!y){const G=I.createSyntaxTree(s.valueExpression);y=I.createFunction(G),s.cache.compiledFunc=y}l=I.executeFunction(y,q)}else a&&(l=a[d]);const v=s.normalizationField,b=a?parseFloat(a[v]):void 0;if(l!=null&&(!v||i||!isNaN(b)&&b!==0)){isNaN(b)||i||(l/=b);const x=f_(l,h);if(x){const I=x[0],A=x[1];if(I===A)return s.stops[I].opacity;{const q=s.stops[I].opacity;return q+(s.stops[A].opacity-q)*x[2]}}}}function dz(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="rotation"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void mo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const i=s.axis||"heading",n=i==="heading"&&s.rotationType==="arithmetic"?90:0,a=i==="heading"&&s.rotationType==="arithmetic"?-1:1,l=typeof t=="number"?null:t,d=l&&l.attributes,h=s.field,{hasExpression:f}=s.cache;let y=s.cache.compiledFunc,v=0;if(!h&&!f)return v;if(f){if(be(r)||be(r.arcade))return void mo.error("Use of arcade expressions requires an arcade context");const b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},x=r.arcade.arcadeUtils,I=x.getViewInfo(b),A=x.createExecContext(l,I);if(!y){const q=x.createSyntaxTree(s.valueExpression);y=x.createFunction(q),s.cache.compiledFunc=y}v=x.executeFunction(y,A)}else d&&(v=d[h]||0);return v=typeof v!="number"||isNaN(v)?null:n+a*v,v}function pz(e,t,r){const s=typeof t=="number",i=s?null:t,n=i&&i.attributes;let a=s?t:null;const{isScaleDriven:l}=e.cache;let d=e.cache.compiledFunc;if(l){const f=H(r)?r.scale:void 0,y=H(r)?r.view:void 0;a=f==null||y==="3d"?hz(e):f}else if(!s)switch(e.inputValueType){case on.Expression:{if(be(r)||be(r.arcade))return void mo.error("Use of arcade expressions requires an arcade context");const f={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(f),b=y.createExecContext(i,v);if(!d){const x=y.createSyntaxTree(e.valueExpression);d=y.createFunction(x),e.cache.compiledFunc=d}a=y.executeFunction(d,b);break}case on.Field:n&&(a=n[e.field]);break;case on.Unknown:a=null}if(!xd(a))return null;if(s||!e.normalizationField)return a;const h=n?parseFloat(n[e.normalizationField]):null;return xd(h)&&h!==0?a/h:null}function hz(e){let t=null,r=null;const s=e.stops;return s?(t=s[0].value,r=s[s.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function h_(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(n=>n.type==="size"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void mo.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const i=wz(pz(s,t,r),s,t,r,s.cache.ipData);return i==null||isNaN(i)?0:i}function ts(e,t,r){return e==null?null:fa(e)?h_(e,t,r):xd(e)?e:null}function qM(e,t,r){return xd(r)&&e>r?r:xd(t)&&e<t?t:e}function fz(e,t,r,s){return e+(ts(t.minSize,r,s)||t.minDataValue)}function yz(e,t,r){const s=e.stops;let i=s&&s.length&&s[0].size;return i==null&&(i=e.minSize),ts(i,t,r)}function mz(e,t,r,s){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=ts(t.minSize,r,s),a=ts(t.maxSize,r,s),l=H(s)?s.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return a;if(t.scaleBy==="area"&&l){const d=l==="circle",h=d?Fh*(n/2)**2:n*n,f=h+i*((d?Fh*(a/2)**2:a*a)-h);return d?2*Math.sqrt(f/Fh):Math.sqrt(f)}return n+i*(a-n)}function gz(e,t,r,s){const i=H(s)?s.shape:void 0,n=e/t.minDataValue,a=ts(t.minSize,r,s),l=ts(t.maxSize,r,s);let d=null;return d=i==="circle"?2*Math.sqrt(n*(a/2)**2):i==="square"||i==="diamond"||i==="image"?Math.sqrt(n*a**2):n*a,qM(d,a,l)}function vz(e,t,r,s,i){const[n,a,l]=f_(e,i);if(n===a)return ts(t.stops[n].size,r,s);{const d=ts(t.stops[n].size,r,s);return d+(ts(t.stops[a].size,r,s)-d)*l}}function bz(e,t,r,s){const i=(H(s)&&s.resolution?s.resolution:1)*UM[t.valueUnit],n=ts(t.minSize,r,s),a=ts(t.maxSize,r,s),{valueRepresentation:l}=t;let d=null;return d=l==="area"?2*Math.sqrt(e/Fh)/i:l==="radius"||l==="distance"?2*e/i:e/i,qM(d,n,a)}function wz(e,t,r,s,i){switch(t.transformationType){case Xt.Additive:return fz(e,t,r,s);case Xt.Constant:return yz(t,r,s);case Xt.ClampedLinear:return mz(e,t,r,s);case Xt.Proportional:return gz(e,t,r,s);case Xt.Stops:return vz(e,t,r,s,i);case Xt.RealWorldSize:return bz(e,t,r,s);case Xt.Identity:return e;case Xt.Unknown:return null}}function _z(e,t,r){const{isScaleDriven:s}=e.cache;if(!(s&&r==="3d"||t))return null;const i={scale:t,view:r};let n=ts(e.minSize,c8,i),a=ts(e.maxSize,c8,i);if(n!=null||a!=null){if(n>a){const l=a;a=n,n=l}return{minSize:n,maxSize:a}}}function f_(e,t){if(!t)return;let r=0,s=t.length-1;return t.some((i,n)=>e<i?(s=n,!0):(r=n,!1)),[r,s,(e-t[r])/(t[s]-t[r])]}function Sz(e,t,r){const s=["proportional","proportional","proportional"];for(const i of e){const n=i.useSymbolValue?"symbol-value":h_(i,t,r);switch(i.axis){case"width":s[0]=n;break;case"depth":s[1]=n;break;case"height":s[2]=n;break;case"width-and-depth":s[0]=n,s[1]=n;break;case"all":case void 0:case null:s[0]=n,s[1]=n,s[2]=n;break;default:i.axis}}return s}var Jv;const Za=pe.getLogger("esri.renderers.visualVariables.SizeVariable"),Fp=new Ce({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),Kv=new Ce({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function d8(e){if(e!=null)return typeof e=="string"||typeof e=="number"?et(e):e.type==="size"?fa(e)?e:(delete(e=V({},e)).type,new Ye(e)):void 0}function p8(e,t,r){if(typeof e!="object")return e;const s=new Ye;return s.read(e,r),s}let Ye=Jv=class extends np{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:lz.test(this.valueExpression)}}set expression(e){Za.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){fa(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),fa(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return IM(this)}set maxDataValue(e){e&&this.stops&&(Za.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Za.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return d8(e)}readMaxSize(e,t,r){return p8(e,t,r)}set minDataValue(e){e&&this.stops&&(Za.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Za.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return d8(e)}readMinSize(e,t,r){return p8(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(Za.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return UD(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,s){if(e==="$view.scale"){if(s&&s.messages){const i=this.index,n=typeof i=="string"?i:`visualVariables[${i}]`;s.messages.push(new Y("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:s}))}}else t[r]=e}readValueUnit(e){return e?Kv.read(e):null}clone(){return new Jv({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:fa(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:fa(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===Xt.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Xt.Stops){const e=this.stops,t=e.map(s=>s.size).reverse(),r=e.length;for(let s=0;s<r;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],Ye.prototype,"cache",null),o([c({type:Fp.apiValues,json:{type:Fp.jsonValues,origins:{"web-map":{read:!1}},read:Fp.read,write:Fp.write}})],Ye.prototype,"axis",void 0),o([c({type:String,value:null,json:{read:!1}})],Ye.prototype,"expression",null),o([c()],Ye.prototype,"index",null),o([c({type:String,readOnly:!0})],Ye.prototype,"inputValueType",null),o([c({type:VD,json:{write:!0}})],Ye.prototype,"legendOptions",void 0),o([c({type:Number,value:null,json:{write:!0}})],Ye.prototype,"maxDataValue",null),o([c({type:Number,value:null,json:{write:!0}})],Ye.prototype,"maxSize",null),o([Ct("maxSize")],Ye.prototype,"castMaxSize",null),o([ue("maxSize")],Ye.prototype,"readMaxSize",null),o([c({type:Number,value:null,json:{write:!0}})],Ye.prototype,"minDataValue",null),o([c({type:Number,value:null,json:{write:!0}})],Ye.prototype,"minSize",null),o([Ct("minSize")],Ye.prototype,"castMinSize",null),o([ue("minSize")],Ye.prototype,"readMinSize",null),o([c({type:String,json:{write:!0}})],Ye.prototype,"normalizationField",void 0),o([c({readOnly:!0})],Ye.prototype,"arcadeRequired",null),o([c({type:String})],Ye.prototype,"scaleBy",void 0),o([c({type:[zD],value:null,json:{write:!0}})],Ye.prototype,"stops",null),o([c({type:["outline"],json:{write:!0}})],Ye.prototype,"target",void 0),o([c({type:String,readOnly:!0})],Ye.prototype,"transformationType",null),o([c({type:["size"],json:{type:["sizeInfo"]}})],Ye.prototype,"type",void 0),o([c({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Ye.prototype,"useSymbolValue",void 0),o([c({type:String,json:{write:!0}})],Ye.prototype,"valueExpression",void 0),o([ue("valueExpression",["valueExpression","expression"])],Ye.prototype,"readValueExpression",null),o([he("web-scene","valueExpression")],Ye.prototype,"writeValueExpressionWebScene",null),o([c({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Ye.prototype,"valueRepresentation",void 0),o([c({type:Kv.apiValues,json:{write:Kv.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Ye.prototype,"valueUnit",void 0),o([ue("valueUnit")],Ye.prototype,"readValueUnit",null),Ye=Jv=o([k("esri.renderers.visualVariables.SizeVariable")],Ye);const y_=Ye,$z=pe.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),xz={color:kM,size:y_,opacity:MM,rotation:d_},Ez=new Ce({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Tz=/^\[([^\]]+)\]$/i;let Nh=class extends vt{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,r)=>{let s=null;return s=t.target===r.target?0:t.target?1:-1,s});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:s,rotationType:i}=t,n=s&&s.match(Tz),a=n&&n[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:a})),e)return e.map(l=>{const d=Ez.read(l.type),h=xz[d];h||($z.warn(`Unknown variable type: ${d}`),r&&r.messages&&r.messages.push(new Hr("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:l,context:r})));const f=new h;return f.read(l,r),f})}writeVariables(e,t){const r=[];for(const s of e){const i=s.toJSON(t);i&&r.push(i)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};o([c()],Nh.prototype,"visualVariables",null),Nh=o([k("esri.renderers.visualVariables.VisualVariableFactory")],Nh);const kz=Nh,Mz={base:np,key:"type",typeMap:{opacity:MM,color:kM,rotation:d_,size:y_}},Eu=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new kz}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,s,i){return this._vvFactory.readVariables(r,s,i)}writeVisualVariables(r,s,i,n){s[i]=this._vvFactory.writeVariables(r,n)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,s){return r?this.getVisualVariablesForType(r,s).length>0:this.getVisualVariablesForType("size",s).length>0||this.getVisualVariablesForType("color",s).length>0||this.getVisualVariablesForType("opacity",s).length>0||this.getVisualVariablesForType("rotation",s).length>0}getVisualVariablesForType(r,s){const i=this.visualVariables;return i?i.filter(n=>n.type===r&&(typeof s=="string"?n.target===s:s!==!1||!n.target)):[]}async collectVVRequiredFields(r,s){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const n of i)n&&(n.field&&Zs(r,s,n.field),n.normalizationField&&Zs(r,s,n.normalizationField),n.valueExpression&&await yn(r,s,n.valueExpression))}};return o([c({types:[Mz],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),o([ue("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),o([he("visualVariables")],t.prototype,"writeVisualVariables",null),t=o([k("esri.renderers.mixins.VisualVariablesMixin")],t),t},Vu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Iz(e,t=Vu){if(!e)return{symbol:null};const{retainId:r=Vu.retainId,ignoreDrivers:s=Vu.ignoreDrivers,hasLabelingContext:i=Vu.hasLabelingContext,retainCIM:n=Vu.retainCIM}=t;let a;if(jv(e)||e instanceof Ua)a=e.clone();else if(e.type==="cim"){var l,d;const h=(l=e.data)==null||(d=l.symbol)==null?void 0:d.type;if(h!=="CIMPointSymbol")return{error:new Y("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${h||"unknown"}' is unsupported in 3D`,{symbol:e})};a=n?e.clone():ha.fromCIMSymbol(e)}else if(e instanceof is)a=qy.fromSimpleLineSymbol(e);else if(e instanceof Va)a=ha.fromSimpleMarkerSymbol(e);else if(e instanceof $u)a=ha.fromPictureMarkerSymbol(e);else if(e instanceof wo)a=ip.fromSimpleFillSymbol(e);else{if(!(e instanceof _o))return{error:new Y("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?Uy.fromTextSymbol(e):ha.fromTextSymbol(e)}if(r&&a.type!=="cim"&&(a.id=e.id),s&&jv(a))for(let h=0;h<a.symbolLayers.length;++h)a.symbolLayers.getItemAt(h)._ignoreDrivers=!0;return{symbol:a}}function Gf(e,t,r,s){const i=BM(e,{},{context:s,isLabelSymbol:!1});H(i)&&(t[r]=i)}function h8(e,t,r,s){const i=BM(e,{},{context:s,isLabelSymbol:!0});H(i)&&(t[r]=i)}function BM(e,t,r){if(be(e))return null;const{context:s,isLabelSymbol:i}=r;if(s&&s.origin==="web-scene"&&!(e instanceof Su)&&!(e instanceof Ua)){const n=Iz(e,{retainCIM:!0,hasLabelingContext:i});return H(n.symbol)?n.symbol.write(t,s):(s.messages&&s.messages.push(new Y("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:s,error:n.error})),null)}return s&&s.origin==="web-map"&&e.type==="web-style"?(s.messages&&s.messages.push(new Y("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:s})),null):e.write(t,s)}function Oz(e,t){return OD(e,null,t)}const op={types:a_,json:{write:{writer:Gf},origins:{"web-scene":{types:e8,write:{writer:Gf},read:{reader:Ra({types:e8})}}}}},HM={types:{base:Cr,key:"type",typeMap:{"simple-fill":ao.typeMap["simple-fill"],"picture-fill":ao.typeMap["picture-fill"],"polygon-3d":ao.typeMap["polygon-3d"]}},json:{write:{writer:Gf},origins:{"web-scene":{type:ip,write:{writer:Gf}}}}};var Qv;let Ln=Qv=class extends ee{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new Qv({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};o([c({type:String,json:{write:!0}})],Ln.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Ln.prototype,"label",void 0),o([c({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Ln.prototype,"minValue",void 0),o([c({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Ln.prototype,"maxValue",void 0),o([c(op)],Ln.prototype,"symbol",void 0),Ln=Qv=o([k("esri.renderers.support.ClassBreakInfo")],Ln);const kd=Ln;var Zv;const Np=pe.getLogger("esri.renderers.ClassBreaksRenderer"),GM="log",Dh="percent-of-total",zh="field",Dp=new Ce({esriNormalizeByLog:GM,esriNormalizeByPercentOfTotal:Dh,esriNormalizeByField:zh}),jz=lt(kd);let Gt=Zv=class extends Eu(So){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let s=t.minValue;return e.map(i=>{const n=new kd;return n.read(i,r),n.minValue==null&&(n.minValue=s),n.maxValue==null&&(n.maxValue=n.minValue),s=n.maxValue,n})}writeClassBreakInfos(e,t,r,s){const i=e.map(n=>n.write({},s));this._areClassBreaksConsecutive()&&i.forEach(n=>delete n.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(Np.error(".field: field must be a string value"),null):Gd(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&zh||r&&Dh||null,t&&r&&Np.warn("warning: both normalizationField and normalizationTotal are set!")):e!==zh&&e!==Dh||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let s=null;s=typeof e=="number"?new kd({minValue:e,maxValue:t,symbol:_M(r)}):jz(D(e)),this.classBreakInfos.push(s),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let s=0;s<r;s++){const i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(s,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(be(t)||be(t.arcade))&&Np.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(be(t)||be(t.arcade))&&(r=Ie(V({},r),{arcade:await fo()}));const s=this.getBreakIndex(e,r);return s!==-1?this.classBreakInfos[s]:null}getSymbol(e,t){if(this.valueExpression&&(be(t)||be(t.arcade)))return void Np.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(be(t)||be(t.arcade))){const i=await fo(),{arcadeUtils:n}=i;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r=Ie(V({},r),{arcade:i})}const s=this.getBreakIndex(e,r);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((s,i)=>s+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new Zv({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:D(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(s=>s.collectRequiredFields(e,t)),yn(e,t,this.valueExpression)];Zs(e,t,this.field),Zs(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:n}=Zw(t,{});let a=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const l=n.arcadeUtils;if(!a){const h=l.createSyntaxTree(this.valueExpression);a=l.createFunction(h),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=this.valueExpression;const d=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._getBreakIndexfromInfos(d)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,s=this.normalizationType;let i=parseFloat(r[t]);if(s){const n=this.normalizationTotal,a=parseFloat(r[this.normalizationField]);if(s===GM)i=Math.log(i)*Math.LOG10E;else if(s!==Dh||isNaN(n)){if(s===zh&&!isNaN(a)){if(isNaN(i)||isNaN(a))return-1;i/=a}}else i=i/n*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]<=e&&(t?e<=s[1]:e<s[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};o([c(HM)],Gt.prototype,"backgroundFillSymbol",void 0),o([c({type:[kd]})],Gt.prototype,"classBreakInfos",void 0),o([ue("classBreakInfos")],Gt.prototype,"readClassBreakInfos",null),o([he("classBreakInfos")],Gt.prototype,"writeClassBreakInfos",null),o([c({type:String,json:{write:!0}})],Gt.prototype,"defaultLabel",void 0),o([c(op)],Gt.prototype,"defaultSymbol",void 0),o([c({type:String,json:{write:!0}})],Gt.prototype,"field",void 0),o([Ct("field")],Gt.prototype,"castField",null),o([c({type:Boolean})],Gt.prototype,"isMaxInclusive",void 0),o([c({type:By,json:{write:!0}})],Gt.prototype,"legendOptions",void 0),o([c({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Gt.prototype,"minValue",null),o([c({type:String,json:{write:!0}})],Gt.prototype,"normalizationField",void 0),o([c({type:Number,cast:e=>Wd(e),json:{write:!0}})],Gt.prototype,"normalizationTotal",void 0),o([c({type:Dp.apiValues,value:null,json:{type:Dp.jsonValues,read:Dp.read,write:Dp.write}})],Gt.prototype,"normalizationType",null),o([Ee({classBreaks:"class-breaks"})],Gt.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Gt.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Gt.prototype,"valueExpressionTitle",void 0),Gt=Zv=o([k("esri.renderers.ClassBreaksRenderer")],Gt);const m_=Gt,Ym=-3;var Kn;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Kn||(Kn={}));class Cz{constructor(t,r,s){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,s,i=0){this._storage.put(this._namespace+t,r,s,i)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,s){this._storage.updateSize(this._namespace+t,r,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class WM{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new pd,this._users=new pd}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,s,i){const n=this._db.get(t);if(n&&(this._size-=n.size,this._db.delete(t),n.entry!==r&&this._notifyRemove(t,n.entry,Kn.ALL)),s>this._maxSize)return void this._notifyRemove(t,r,Kn.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return void console.warn("Refusing to cache entry with invalid size "+s);const a=1+Math.max(i,Ym)-Ym;this._db.set(t,{entry:r,size:s,lifetime:a,lives:a}),this._size+=s,this._checkSizeLimit()}updateSize(t,r,s){const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size;s>this._maxSize;){const n=this._notifyRemove(t,r,Kn.SOME);if(!(H(n)&&n>0))return void this._db.delete(t);s=n}i.size=s,this._size+=s,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},s=new Array;this._db.forEach((a,l)=>{const d=a.lifetime;s[d]=(s[d]||0)+a.size,this._users.forAll(h=>{const f=h.namespace;if(l.startsWith(f)){const y=r[f]||0;r[f]=y+a.size}})});const i={};this._users.forAll(a=>{const l=a.namespace;if(!isNaN(a.hitRate)&&a.hitRate>0){const d=r[l]||0;r[l]=d,i[l]=Math.round(100*a.hitRate)+"%"}else i[l]="0%"});const n=Object.keys(r);n.sort((a,l)=>r[l]-r[a]),n.forEach(a=>t[a]=Math.round(r[a]/2**20)+"MB / "+i[a]);for(let a=s.length-1;a>=0;--a){const l=s[a];l&&(t["Priority "+(a+Ym-1)]=Math.round(l/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,s)=>{s.startsWith(t)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,Kn.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,Kn.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,s){let i;return this._removeFuncs.some(n=>{if(t.startsWith(n[0])){const a=n[1](r,s);return typeof a=="number"&&(i=a),!0}return!1}),i}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const s=this._notifyRemove(t,r.entry,Kn.SOME);H(s)&&s>0&&(this._size+=s,r.lives=r.lifetime,r.size=s,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}}class JM{constructor(t,r){this._storage=new WM,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,s){this._storage.put(t,r,s,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const f8=pe.getLogger("esri.renderers.support.DictionaryLoader"),Az={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class g_{constructor(t,r,s){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new JM(100),this.url=t,this.config=r,this.fieldMap=s}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let s;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{s=await this._dictionaryPromise}catch(b){if(ei(b))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const b of this._symbolFields){const x=this.fieldMap[b];if(x&&t.attributes[x]!=null){const I=""+t.attributes[x];i[b]=I}else i[b]=""}const n=s(i,r);if(!n||typeof n!="string")return null;const a=vy(n).toString(),l=this._symbolCache.get(a);if(l)return l.catch(()=>{this._symbolCache.pop(a)}),l;const d=n.split(";"),h=[],f=[];for(const b of d)if(b)if(b.includes("po:")){const x=b.substr(3).split("|");if(x.length===3){const I=x[0],A=x[1];let q=x[2];if(A==="DashTemplate")q=q.split(" ").map(G=>Number(G));else if(A==="Color"){const G=new We(q).toRgba();q=[G[0],G[1],G[2],255*G[3]]}else q=Number(q);f.push({primitiveName:I,propertyName:A,value:q})}}else if(b.includes("|")){for(const x of b.split("|"))if(this._itemNames.has(x)){h.push(x);break}}else this._itemNames.has(b)&&h.push(b);const y=!H(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",v=this._cimPartsToCIMSymbol(h,f,y,r);return this._symbolCache.put(a,v,1),v}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void f8.error("no valid URL!");const r=H(t)?t.abortOptions:null,s=Tt(this.url+"/resources/styles/dictionary-info.json",V({responseType:"json",query:{f:"json"}},r)),[{data:i}]=await Promise.all([s,fo()]);if(!i)throw this._dictionaryPromise=null,new Y("esri.renderers.DictionaryRenderer","Bad dictionary data!");const n=i.expression,a=i.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=a.symbol;const l={};if(this.config){const h=this.config;for(const f in h)l[f]=h[f]}if(a.configuration)for(const h of a.configuration)l.hasOwnProperty(h.name)||(l[h.name]=h.value);const d=[];if(H(t)&&t.fields&&this.fieldMap)for(const h of this._symbolFields){const f=this.fieldMap[h],y=t.fields.filter(v=>v.name===f);y.length>0&&d.push(Ie(V({},y[0]),{name:h}))}return this._dictionaryPromise=ML(n,H(t)?t.spatialReference:null,d,l).then(h=>{const f={scale:0};return(y,v)=>{const b=h.repurposeFeature({geometry:null,attributes:y});return f.scale=H(v)?v.scale:void 0,h.evaluate({$feature:b,$view:f})}}).catch(h=>(f8.error("Creating dictinoary expression failed:",h),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,r,s,i){const n=new Array(t.length);for(let d=0;d<t.length;d++)n[d]=this._getSymbolPart(t[d],i);const a=await Promise.all(n),l=this.fieldMap;for(const d of a)KM(d,l);return new Xd({data:this._combineSymbolParts(a,r,s)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(n=>n.data);const s=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=Tt(s,V({responseType:"json",query:{f:"json"}},r));this._ongoingRequests.set(t,i);try{return(await i).data}catch(n){return this._ongoingRequests.delete(t),Promise.reject(n)}}_combineSymbolParts(t,r,s){if(!t||t.length===0)return null;const i=V({},t[0]);if(t.length>1){i.symbolLayers=[];for(const n of t){const a=n;i.symbolLayers.unshift(...a.symbolLayers)}}return s&&(i.callout=Az),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:r}}}function KM(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let s=r.length;for(;s--;){const i=r[s];i&&i.enable!==!1&&i.type==="CIMVectorMarker"&&Rz(i,t)}}function Rz(e,t){const r=e.markerGraphics;if(r)for(const s of r){if(!s)continue;const i=s.symbol;if(i)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":KM(i,t);break;case"CIMTextSymbol":i.fieldMap=t}}}var Pz=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:g_},Symbol.toStringTag,{value:"Module"})),Yv;let Cs=Yv=class extends Eu(So){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new g_(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,s){s!=null&&s.origin||super.writeVisualVariables(e,t,r,s)}clone(){return new Yv({config:D(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:D(this.fieldMap),url:D(this.url),visualVariables:D(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await yn(e,t,this.scaleExpression);for(const r in this.fieldMap){const s=this.fieldMap[r];t.has(s)&&e.add(s)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};o([c({type:g_})],Cs.prototype,"_loader",null),o([c({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Cs.prototype,"config",void 0),o([c({type:Object,json:{write:!0}})],Cs.prototype,"fieldMap",void 0),o([c({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Cs.prototype,"scaleExpression",void 0),o([he("scaleExpression")],Cs.prototype,"writeData",null),o([c({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Cs.prototype,"scaleExpressionTitle",void 0),o([c({type:String,json:{write:!0}})],Cs.prototype,"url",void 0),o([he("visualVariables")],Cs.prototype,"writeVisualVariables",null),Cs=Yv=o([k("esri.renderers.DictionaryRenderer")],Cs);const Lz=Cs;function ot(e,t){const r=t?Ie(V({},t),{source:e}):e;return c({aliasOf:r})}var Xv;const Fz=pe.getLogger("esri.renderers.support.AttributeColorInfo");let Ui=Xv=class extends ee{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(Fz.error(".field: field must be a string value"),null):Gd(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new Xv({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};o([c({type:We,json:{type:[Number],write:!0}})],Ui.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],Ui.prototype,"field",void 0),o([Ct("field")],Ui.prototype,"castField",null),o([c({type:String,json:{write:!0}})],Ui.prototype,"label",void 0),o([c({type:String,json:{write:!0}})],Ui.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Ui.prototype,"valueExpressionTitle",void 0),Ui=Xv=o([k("esri.renderers.support.AttributeColorInfo")],Ui);const Nz=Ui;var eb;let Vh=eb=class extends ee{constructor(){super(...arguments),this.unit=null}clone(){return new eb({unit:this.unit})}};o([c({type:String,json:{write:!0}})],Vh.prototype,"unit",void 0),Vh=eb=o([k("esri.renderers.support.DotDensityLegendOptions")],Vh);const Dz=Vh;var tb;let vr=tb=class extends Eu(So){constructor(e){super(e),this.attributes=null,this.backgroundColor=new We([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new is,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new wo({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new tb({attributes:D(this.attributes),backgroundColor:D(this.backgroundColor),dotBlendingEnabled:D(this.dotBlendingEnabled),dotShape:D(this.dotShape),dotSize:D(this.dotSize),dotValue:D(this.dotValue),legendOptions:D(this.legendOptions),outline:D(this.outline),referenceScale:D(this.referenceScale),visualVariables:D(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await yn(e,t,r.valueExpression),r.field&&e.add(r.field)}};o([c({type:[Nz],json:{write:!0}})],vr.prototype,"attributes",void 0),o([c({type:We,json:{write:!0}})],vr.prototype,"backgroundColor",void 0),o([c({type:Boolean}),ot("dotBlendingEnabled")],vr.prototype,"blendDots",void 0),o([c({type:Boolean,json:{write:!0}})],vr.prototype,"dotBlendingEnabled",void 0),o([c({type:String,json:{write:!1}})],vr.prototype,"dotShape",void 0),o([c({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],vr.prototype,"dotSize",void 0),o([c({type:Dz,json:{write:!0}})],vr.prototype,"legendOptions",void 0),o([c({type:is,json:{default:null,write:!0}})],vr.prototype,"outline",void 0),o([c({type:Number,json:{write:!0}})],vr.prototype,"dotValue",void 0),o([c({type:Number}),ot("dotValue")],vr.prototype,"referenceDotValue",void 0),o([c({type:Number,json:{write:!0}})],vr.prototype,"referenceScale",void 0),o([c({type:Number,json:{write:!0}})],vr.prototype,"seed",void 0),o([Ee({dotDensity:"dot-density"})],vr.prototype,"type",void 0),vr=tb=o([k("esri.renderers.DotDensityRenderer")],vr);const zz=vr;var rb;let wc=rb=class extends ee{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new rb({color:this.color,ratio:this.ratio})}};o([c({type:We,json:{write:!0}})],wc.prototype,"color",void 0),o([c({type:Number,json:{write:!0}})],wc.prototype,"ratio",void 0),wc=rb=o([k("esri.renderers.support.HeatmapColorStop")],wc);const Uh=wc;var sb;let As=sb=class extends So{constructor(e){super(e),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new Uh({ratio:0,color:new We("rgba(255, 140, 0, 0)")}),new Uh({ratio:.75,color:new We("rgba(255, 140, 0, 1)")}),new Uh({ratio:.9,color:new We("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const r=this.field;r&&typeof r=="string"&&Zs(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new sb({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:D(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};o([c({type:Number,json:{write:!0}})],As.prototype,"blurRadius",void 0),o([c({type:Number})],As.prototype,"referenceScale",void 0),o([c({type:[Uh],json:{write:!0}})],As.prototype,"colorStops",void 0),o([c({type:String,json:{write:!0}})],As.prototype,"field",void 0),o([c({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})}}})],As.prototype,"fieldOffset",void 0),o([c({type:Number,json:{write:!0}})],As.prototype,"maxPixelIntensity",void 0),o([c({type:Number,json:{write:!0}})],As.prototype,"minPixelIntensity",void 0),o([Ee({heatmap:"heatmap"})],As.prototype,"type",void 0),As=sb=o([k("esri.renderers.HeatmapRenderer")],As);const Vz=As;var ib;let Jo=ib=class extends Eu(So){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new ib({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:D(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};o([c({type:String,json:{write:!0}})],Jo.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Jo.prototype,"label",void 0),o([c(op)],Jo.prototype,"symbol",void 0),o([Ee({simple:"simple"})],Jo.prototype,"type",void 0),Jo=ib=o([k("esri.renderers.SimpleRenderer")],Jo);const Hy=Jo,Uz=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function nb(e){return e instanceof vt}function y8(e){return e instanceof ft?Object.keys(e.items):nb(e)?$r(e).keys():e?Object.keys(e):[]}function zp(e,t){return e instanceof ft?e.items[t]:e[t]}function qz(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Zc(e){return e?e.declaredClass:null}function QM(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const s=y8(e),i=y8(t);if(s.length===0&&i.length===0)return;if(!s.length||!i.length||qz(e,t))return{type:"complete",oldValue:e,newValue:t};const n=i.filter(y=>s.indexOf(y)===-1),a=s.filter(y=>i.indexOf(y)===-1),l=s.filter(y=>i.indexOf(y)>-1&&zp(e,y)!==zp(t,y)).concat(n,a).sort(),d=Zc(e);if(d&&Uz.indexOf(d)>-1&&l.length)return{type:"complete",oldValue:e,newValue:t};let h;const f=nb(e)&&nb(t);for(const y of l){const v=zp(e,y),b=zp(t,y);let x;(f||typeof v!="function"&&typeof b!="function")&&v!==b&&(v==null&&b==null||(x=r&&r[y]&&typeof r[y]=="function"?r[y](v,b):typeof v=="object"&&typeof b=="object"&&Zc(v)===Zc(b)?QM(v,b):{type:"complete",oldValue:v,newValue:b},H(x)&&(H(h)?h.diff[y]=x:h={type:"partial",diff:{[y]:x}})))}return h}function ZM(e,t){if(be(e))return!1;const r=t.split(".");let s=e;for(const i of r){if(s.type==="complete")return!0;if(s.type!=="partial")return!1;{const n=s.diff[i];if(!n)return!1;s=n}}return!0}function Bz(e,t){for(const r of t)if(ZM(e,r))return!0;return!1}function YM(e,t){if(!(typeof e=="function"||typeof t=="function"||be(e)&&be(t)))return be(e)||be(t)||typeof e=="object"&&typeof t=="object"&&Zc(e)!==Zc(t)?{type:"complete",oldValue:e,newValue:t}:QM(e,t)}var ob;let Fn=ob=class extends ee{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new ob({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};o([c({type:String,json:{write:!0}})],Fn.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Fn.prototype,"label",void 0),o([c(op)],Fn.prototype,"symbol",void 0),o([c({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],Fn.prototype,"value",void 0),o([Ct("value")],Fn.prototype,"castValue",null),Fn=ob=o([k("esri.renderers.support.UniqueValueInfo")],Fn);const Md=Fn,Hz=()=>!!X("enable-feature:force-wosr"),Xm={};async function Gz(e,t){try{return{data:(await e6(e,t)).data,baseUrl:Jk(e),styleUrl:e}}catch(r){return hu(r),null}}function Wz(e,t,r){const s=t&&t.portal||jr.getDefault();let i;const n=`${s.url} - ${s.user&&s.user.username} - ${e}`;return Xm[n]||(Xm[n]=Jz(e,s,r).then(a=>(i=a,a.fetchData())).then(a=>({data:a,baseUrl:i.itemUrl,styleName:e}))),Xm[n]}function Jz(e,t,r){return t.load(r).then(()=>{const s=new tn({disableExtraQuery:!0,query:`owner:${m8} AND type:${g8} AND typekeywords:"${e}"`});return t.queryItems(s,r)}).then(({results:s})=>{let i=null;const n=e.toLowerCase();if(s&&Array.isArray(s)){for(const a of s)if(a.typeKeywords.some(l=>l.toLowerCase()===n)&&a.type===g8&&a.owner===m8){i=a;break}}if(!i)throw new Y("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function XM(e,t,r){return e.styleUrl?Gz(e.styleUrl,r):e.styleName?Wz(e.styleName,t,r):Promise.reject(new Y("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function Kz(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function Qz(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!Hz()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function e6(e,t){const r=V({responseType:"json",query:{f:"json"}},t);return Tt(Ss(e),r)}const m8="esri_en",g8="Style",Zz="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var _c;const ko=pe.getLogger("esri.renderers.UniqueValueRenderer"),Yz=lt(Md);let Mt=_c=class extends Eu(So){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let s=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<r.length;n++){const a=t.find(l=>l.value===r[n].value);a?YM(a,r[n])?(i.changed.push({type:"complete",oldValue:a,newValue:r[n]}),s=!0):i.unchanged.push({oldValue:a,newValue:r[n]}):(i.added.push(r[n]),s=!0)}for(let n=0;n<t.length;n++)r.find(a=>a.value===t[n].value)||(i.removed.push(t[n]),s=!0);return s?i:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:Gd(e)}writeField(e,t,r,s){typeof e=="string"?t[r]=e:s&&s.messages?s.messages.push(new Y("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):ko.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||jr.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const s=za(t.styleUrl,r);return Object.freeze({styleUrl:s})}}writeStyleOrigin(e,t,r,s){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=bu(e.styleUrl,s))}set uniqueValueInfos(e){this.styleOrigin?ko.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void ko.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?Yz(e):new Md({value:e,symbol:_M(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)ko.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(be(t)||be(t.arcade))&&(r=Ie(V({},r),{arcade:await fo()})),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(be(t)||be(t.arcade)))return void ko.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(be(r)||be(r.arcade))){const i=await fo(),{arcadeUtils:n}=i;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r=Ie(V({},r),{arcade:i})}const s=this._getUniqueValueInfo(e,r);return s&&s.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new _c({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:D(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:D(this.visualVariables),legendOptions:D(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:D(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=D(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(D(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(s=>s.collectRequiredFields(e,t)),yn(e,t,this.valueExpression)];Zs(e,t,this.field),Zs(e,t,this.field2),Zs(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return XM(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const s=new Ua({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const i=new Md({value:r.name,symbol:s});t.push(i),this._valueInfoMap[r.name]=i}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:n}=Zw(t,{});let a=this._cache.compiledFunc;const l=n.arcadeUtils;if(!a){const h=l.createSyntaxTree(this.valueExpression);a=l.createFunction(h),this._cache.compiledFunc=a}const d=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._valueInfoMap[d+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let s;if(typeof t!="function"&&this.field2){const i=this.field2,n=this.field3,a=[];t&&a.push(r[t]),i&&a.push(r[i]),n&&a.push(r[n]),s=a.join(this.fieldDelimiter||"")}else typeof t=="function"?s=t(e):t&&(s=r[t]);return this._valueInfoMap[s+""]}static fromPortalStyle(e,t){const r=new _c(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||jr.getDefault());const s=r.populateFromStyle();return s.catch(i=>{ko.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),s}static fromStyleUrl(e,t){const r=new _c(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const s=r.populateFromStyle();return s.catch(i=>{ko.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),s}};o([c({readOnly:!0})],Mt.prototype,"_cache",null),o([Ee({uniqueValue:"unique-value"})],Mt.prototype,"type",void 0),o([c(HM)],Mt.prototype,"backgroundFillSymbol",void 0),o([c({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Mt.prototype,"field",void 0),o([Ct("field")],Mt.prototype,"castField",null),o([he("field")],Mt.prototype,"writeField",null),o([c({type:String,json:{write:!0}})],Mt.prototype,"field2",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"field3",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"valueExpressionTitle",void 0),o([c({type:By,json:{write:!0}})],Mt.prototype,"legendOptions",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"defaultLabel",void 0),o([c(NE(V({},op),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Mt.prototype,"defaultSymbol",null),o([c({type:String,json:{write:!0}})],Mt.prototype,"fieldDelimiter",void 0),o([c({type:jr,readOnly:!0})],Mt.prototype,"portal",void 0),o([ue("portal",["styleName"])],Mt.prototype,"readPortal",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Mt.prototype,"styleOrigin",void 0),o([ue("styleOrigin",["styleName","styleUrl"])],Mt.prototype,"readStyleOrigin",null),o([he("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Mt.prototype,"writeStyleOrigin",null),o([c({type:[Md],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Mt.prototype,"uniqueValueInfos",null),Mt=_c=o([k("esri.renderers.UniqueValueRenderer")],Mt);const Gy=Mt,v_={key:"type",base:So,typeMap:{heatmap:Vz,simple:Hy,"unique-value":Gy,"class-breaks":m_,"dot-density":zz,dictionary:Lz},errorContext:"renderer"},t6={key:"type",base:So,typeMap:{simple:Hy,"unique-value":Gy,"class-breaks":m_},errorContext:"renderer"},Xz=Ra({types:v_});function r6(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new Hr("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):Xz(e,t,r):null}let qh=class extends vt{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!ft.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||ft.isCollection(e)?e.forEach(s=>this._isHandle(s)&&r.push(s)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||ft.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};o([c({readOnly:!0})],qh.prototype,"size",null),qh=o([k("esri.core.Handles")],qh);const qa=qh;class b_{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(Wg),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new b_,s=this._originStores[Ve.DEFAULTS];s&&s.forEach((i,n)=>{r.set(n,D(i),Ve.DEFAULTS)});for(let i=Ve.SERVICE;i<Wg;i++){const n=this._originStores[i];n&&n.forEach((a,l)=>{t&&t.has(l)||r.set(l,D(a),i)})}return r}get(t,r){const s=r===void 0?this._values:this._originStores[r];return s?s.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,s=Ve.USER){let i=this._originStores[s];if(i||(i=new Map,this._originStores[s]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=s){const n=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),n!==r}return!1}delete(t,r=Ve.USER){const s=this._originStores[r];if(!s)return;const i=s.get(t);if(s.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let n=r-1;n>=0;n--){const a=this._originStores[n];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,n);break}}}return i}has(t,r){const s=r===void 0?this._values:this._originStores[r];return!!s&&s.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const s=this._originStores[r],i=s&&s.get(t),n=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),n!==i}originOf(t){return this._propertyOriginMap.get(t)||Ve.DEFAULTS}forEach(t){this._values.forEach(t)}}const s6=e=>{let t=class extends e{constructor(...r){super(...r);const s=$r(this),i=s.store,n=new b_;s.store=n,MT(s,i,n)}read(r,s){OT(this,r,s)}getAtOrigin(r,s){const i=eg(this),n=sn(s);if(typeof r=="string")return i.get(r,n);const a={};return r.forEach(l=>{a[l]=i.get(l,n)}),a}originOf(r){return cd(this.originIdOf(r))}originIdOf(r){return eg(this).originOf(r)}revert(r,s){const i=eg(this),n=sn(s),a=$r(this);let l;l=typeof r=="string"?r==="*"?i.keys(n):[r]:r,l.forEach(d=>{a.invalidate(d),i.revert(d,n),a.commit(d)})}};return t=o([k("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function eg(e){return $r(e).store}let v8=class extends s6(vt){};v8=o([k("esri.core.ReadOnlyMultiOriginJSONSupport")],v8);const e2=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,s="user"){return tg(this).delete(r,sn(s))}write(r={},s){return AT(this,r=r||{},s),r}setAtOrigin(r,s,i){$r(this).setAtOrigin(r,s,sn(i))}removeOrigin(r){const s=tg(this),i=sn(r),n=s.keys(i);for(const a of n)s.originOf(a)===i&&s.set(a,s.get(a,i),Ve.USER)}updateOrigin(r,s){const i=tg(this),n=sn(s),a=this.get(r);for(let l=n+1;l<Wg;++l)i.delete(r,l);i.set(r,a,n)}toJSON(r){return this.write({},r)}};return t=o([k("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function tg(e){return $r(e).store}const w_=e=>{let t=class extends e2(s6(e)){constructor(...r){super(...r)}};return t=o([k("esri.core.MultiOriginJSONSupport")],t),t};let ab=class extends w_(vt){};ab=o([k("esri.core.MultiOriginJSONSupport")],ab);async function t2(e,t){const{WhereClause:r}=await Fe(()=>import("./WhereClause.5a06219b.js"),[],import.meta.url);return r.create(e,t)}var lb;let Ko=lb=class extends ee{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new lb({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};o([c({type:String,json:{write:!0}})],Ko.prototype,"expression",void 0),o([c({type:String,json:{write:!0}})],Ko.prototype,"name",void 0),o([c({type:["boolean","date","number","string"],json:{write:!0}})],Ko.prototype,"returnType",void 0),o([c({type:String,json:{write:!0}})],Ko.prototype,"title",void 0),Ko=lb=o([k("esri.form.ExpressionInfo")],Ko);const r2=Ko;let Qo=class extends ee{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};o([c({type:String,json:{write:!0}})],Qo.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Qo.prototype,"label",void 0),o([c()],Qo.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Qo.prototype,"visibilityExpression",void 0),Qo=o([k("esri.form.elements.Element")],Qo);const nu=Qo;var ub;let Bh=ub=class extends ee{constructor(e){super(e),this.type=null}clone(){return new ub({type:this.type})}};o([c({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Bh.prototype,"type",void 0),Bh=ub=o([k("esri.form.elements.inputs.AttachmentInput")],Bh);const s2=Bh;var cb;let Zo=cb=class extends nu{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new cb({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};o([c({type:String,json:{write:!0}})],Zo.prototype,"attachmentKeyword",void 0),o([c({type:Boolean,json:{write:!0}})],Zo.prototype,"editable",void 0),o([c({type:s2,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Zo.prototype,"input",void 0),o([c({type:["attachment"],json:{read:!1,write:!0}})],Zo.prototype,"type",void 0),Zo=cb=o([k("esri.form.elements.AttachmentElement")],Zo);const b8=Zo;let Hh=class extends ee{constructor(e){super(e),this.type=null}};o([c()],Hh.prototype,"type",void 0),Hh=o([k("esri.form.elements.inputs.Input")],Hh);const Tu=Hh;let Sc=class extends Tu{constructor(e){super(e),this.maxLength=null,this.minLength=0}};o([c({type:Number,json:{write:!0}})],Sc.prototype,"maxLength",void 0),o([c({type:Number,json:{write:!0}})],Sc.prototype,"minLength",void 0),Sc=o([k("esri.form.elements.inputs.TextInput")],Sc);const __=Sc;var db;let Gh=db=class extends __{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new db({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["barcode-scanner"],json:{read:!1,write:!0}})],Gh.prototype,"type",void 0),Gh=db=o([k("esri.form.elements.inputs.BarcodeScannerInput")],Gh);const i2=Gh;var pb;let ol=pb=class extends Tu{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new pb({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};o([c({type:String,json:{write:!0}})],ol.prototype,"noValueOptionLabel",void 0),o([c({type:Boolean,json:{write:!0}})],ol.prototype,"showNoValueOption",void 0),o([c({type:["combo-box"],json:{read:!1,write:!0}})],ol.prototype,"type",void 0),ol=pb=o([k("esri.form.elements.inputs.ComboBoxInput")],ol);const n2=ol;var hb;function w8(e){return e!=null?new Date(e):null}function _8(e){return e?e.getTime():null}let Rs=hb=class extends Tu{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return w8(t.max)}writeMax(e,t){t.max=_8(e)}readMin(e,t){return w8(t.min)}writeMin(e,t){t.min=_8(e)}clone(){return new hb({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};o([c({type:Boolean,json:{write:!0}})],Rs.prototype,"includeTime",void 0),o([c({type:Date,json:{type:Number,write:!0}})],Rs.prototype,"max",void 0),o([ue("max")],Rs.prototype,"readMax",null),o([he("max")],Rs.prototype,"writeMax",null),o([c({type:Date,json:{type:Number,write:!0}})],Rs.prototype,"min",void 0),o([ue("min")],Rs.prototype,"readMin",null),o([he("min")],Rs.prototype,"writeMin",null),o([c({type:["datetime-picker"],json:{read:!1,write:!0}})],Rs.prototype,"type",void 0),Rs=hb=o([k("esri.form.elements.inputs.DateTimePickerInput")],Rs);const o2=Rs;var fb;let al=fb=class extends Tu{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new fb({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};o([c({type:String,json:{write:!0}})],al.prototype,"noValueOptionLabel",void 0),o([c({type:Boolean,json:{write:!0}})],al.prototype,"showNoValueOption",void 0),o([c({type:["radio-buttons"],json:{read:!1,write:!0}})],al.prototype,"type",void 0),al=fb=o([k("esri.form.elements.inputs.RadioButtonsInput")],al);const a2=al;var yb;let ll=yb=class extends Tu{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new yb({offValue:this.offValue,onValue:this.onValue})}};o([c({type:[String,Number],json:{write:!0}})],ll.prototype,"offValue",void 0),o([c({type:[String,Number],json:{write:!0}})],ll.prototype,"onValue",void 0),o([c({type:["switch"],json:{read:!1,write:!0}})],ll.prototype,"type",void 0),ll=yb=o([k("esri.form.elements.inputs.SwitchInput")],ll);const l2=ll;var mb;let Wh=mb=class extends __{constructor(e){super(e),this.type="text-area"}clone(){return new mb({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["text-area"],json:{read:!1,write:!0}})],Wh.prototype,"type",void 0),Wh=mb=o([k("esri.form.elements.inputs.TextAreaInput")],Wh);const u2=Wh;var gb;let Jh=gb=class extends __{constructor(e){super(e),this.type="text-box"}clone(){return new gb({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["text-box"],json:{read:!1,write:!0}})],Jh.prototype,"type",void 0),Jh=gb=o([k("esri.form.elements.inputs.TextBoxInput")],Jh);const c2=Jh,d2={base:Tu,key:"type",typeMap:{"barcode-scanner":i2,"combo-box":n2,"datetime-picker":o2,"radio-buttons":a2,switch:l2,"text-area":u2,"text-box":c2}};var vb;let $c=vb=class extends ee{constructor(e){super(e),this.name=null,this.code=null}clone(){return new vb({name:this.name,code:this.code})}};o([c({type:String,json:{write:!0}})],$c.prototype,"name",void 0),o([c({type:[String,Number],json:{write:!0}})],$c.prototype,"code",void 0),$c=vb=o([k("esri.layers.support.CodedValue")],$c);const p2=$c,h2=new Ce({inherited:"inherited",codedValue:"coded-value",range:"range"});let xc=class extends ee{constructor(e){super(e),this.name=null,this.type=null}};o([c({type:String,json:{write:!0}})],xc.prototype,"name",void 0),o([Ee(h2)],xc.prototype,"type",void 0),xc=o([k("esri.layers.support.Domain")],xc);const Wy=xc;var bb;let Ec=bb=class extends Wy{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(s=>(String(s.code)===r&&(t=s.name),!!t))}return t}clone(){return new bb({codedValues:D(this.codedValues),name:this.name})}};o([c({type:[p2],json:{write:!0}})],Ec.prototype,"codedValues",void 0),o([Ee({codedValue:"coded-value"})],Ec.prototype,"type",void 0),Ec=bb=o([k("esri.layers.support.CodedValueDomain")],Ec);const i6=Ec;var wb;let Kh=wb=class extends Wy{constructor(e){super(e),this.type="inherited"}clone(){return new wb}};o([Ee({inherited:"inherited"})],Kh.prototype,"type",void 0),Kh=wb=o([k("esri.layers.support.InheritedDomain")],Kh);const n6=Kh;var _b;let ul=_b=class extends Wy{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new _b({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};o([c({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],ul.prototype,"maxValue",void 0),o([c({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],ul.prototype,"minValue",void 0),o([Ee({range:"range"})],ul.prototype,"type",void 0),ul=_b=o([k("esri.layers.support.RangeDomain")],ul);const o6=ul,a6={key:"type",base:Wy,typeMap:{range:o6,"coded-value":i6,inherited:n6}};function S_(e){if(!e||!e.type)return null;switch(e.type){case"range":return o6.fromJSON(e);case"codedValue":return i6.fromJSON(e);case"inherited":return n6.fromJSON(e)}return null}var Sb;let ps=Sb=class extends nu{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Sb({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};o([c({types:a6,json:{read:{reader:S_},write:!0}})],ps.prototype,"domain",void 0),o([c({type:Boolean,json:{write:!0}})],ps.prototype,"editable",void 0),o([c({type:String,json:{write:!0}})],ps.prototype,"editableExpression",void 0),o([c({type:String,json:{write:!0}})],ps.prototype,"fieldName",void 0),o([c({type:String,json:{write:!0}})],ps.prototype,"hint",void 0),o([c({types:d2,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ps.prototype,"input",void 0),o([c({type:String,json:{write:!0}})],ps.prototype,"requiredExpression",void 0),o([c({type:String,json:{read:!1,write:!0}})],ps.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],ps.prototype,"valueExpression",void 0),ps=Sb=o([k("esri.form.elements.FieldElement")],ps);const S8=ps;var $b;let qi=$b=class extends nu{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new $b({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:D(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};o([c({type:Number,json:{write:!0}})],qi.prototype,"displayCount",void 0),o([c({type:["list"],json:{write:!0}})],qi.prototype,"displayType",void 0),o([c({type:Boolean,json:{write:!0}})],qi.prototype,"editable",void 0),o([c({type:[_k],json:{write:!0}})],qi.prototype,"orderByFields",void 0),o([c({type:Number,json:{write:!0}})],qi.prototype,"relationshipId",void 0),o([c({type:["relationship"],json:{read:!1,write:!0}})],qi.prototype,"type",void 0),qi=$b=o([k("esri.form.elements.RelationshipElement")],qi);const $8=qi;function l6(e){return{typesWithGroup:{base:nu,key:"type",typeMap:{attachment:b8,field:S8,group:e,relationship:$8}},typesWithoutGroup:{base:nu,key:"type",typeMap:{attachment:b8,field:S8,relationship:$8}}}}function u6(e,t,r=!0){if(!e)return null;const s=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>s[i.type]).map(i=>s[i.type].fromJSON(i))}function c6(e,t,r=!0){if(!e)return null;const s=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>s[i.type]).map(i=>i.toJSON())}function d6(e,t,r=!0){return e?e.map(s=>Ti(r?t.typesWithGroup:t.typesWithoutGroup,s)):null}var xb;let bi=xb=class extends nu{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return d6(e,rg,!1)}readElements(e,t){return u6(t.formElements,rg,!1)}writeElements(e,t){t.formElements=c6(e,rg,!1)}clone(){return new xb({description:this.description,elements:D(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};o([c({json:{write:!0}})],bi.prototype,"elements",void 0),o([Ct("elements")],bi.prototype,"castElements",null),o([ue("elements",["formElements"])],bi.prototype,"readElements",null),o([he("elements")],bi.prototype,"writeElements",null),o([c({type:["collapsed","expanded"],json:{write:!0}})],bi.prototype,"initialState",void 0),o([c({type:String,json:{read:!1,write:!0}})],bi.prototype,"type",void 0),bi=xb=o([k("esri.form.elements.GroupElement")],bi);const rg=l6(bi),f2=bi;var Eb;const sg=l6(f2);let yi=Eb=class extends ee{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return d6(e,sg)}readElements(e,t){return u6(t.formElements,sg)}writeElements(e,t){t.formElements=c6(e,sg)}clone(){return new Eb({description:this.description,expressionInfos:D(this.expressionInfos),elements:D(this.elements),title:this.title})}};o([c({type:String,json:{write:!0}})],yi.prototype,"description",void 0),o([c({json:{write:!0}})],yi.prototype,"elements",void 0),o([Ct("elements")],yi.prototype,"castElements",null),o([ue("elements",["formElements"])],yi.prototype,"readElements",null),o([he("elements")],yi.prototype,"writeElements",null),o([c({type:[r2],json:{write:!0}})],yi.prototype,"expressionInfos",void 0),o([c({type:String,json:{write:!0}})],yi.prototype,"title",void 0),yi=Eb=o([k("esri.form.FormTemplate")],yi);const y2=yi;var Tc;const Wf=ir()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),p6=Wf.jsonValues.slice();ME(p6,"orthometric");const Yc=ir()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ps=Tc=class extends ee{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return Wf.write(e,t,r)}readHeightModel(e,t,r){return Wf.read(e)||(r&&r.messages&&r.messages.push(m2(e,{context:r})),null)}readHeightUnit(e,t,r){return Yc.read(e)||(r&&r.messages&&r.messages.push(x8(e,{context:r})),null)}readHeightUnitService(e,t,r){return RM(e)||Yc.read(e)||(r&&r.messages&&r.messages.push(x8(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Tc({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=sz(t);return new Tc({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t=V({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Tc;return t.read(e,{origin:"web-scene"}),t}};function x8(e,t){return new Hr("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function m2(e,t){return new Hr("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}o([c({type:Wf.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:p6,default:"ellipsoidal"}}}})],Ps.prototype,"heightModel",void 0),o([he("web-scene","heightModel")],Ps.prototype,"writeHeightModel",null),o([ue(["web-scene","service"],"heightModel")],Ps.prototype,"readHeightModel",null),o([c({type:Yc.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Yc.jsonValues,write:Yc.write}}}})],Ps.prototype,"heightUnit",void 0),o([ue("web-scene","heightUnit")],Ps.prototype,"readHeightUnit",null),o([ue("service","heightUnit")],Ps.prototype,"readHeightUnitService",null),o([c({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ps.prototype,"vertCRS",void 0),o([ue("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ps.prototype,"readVertCRS",null),Ps=Tc=o([k("esri.geometry.HeightModelInfo")],Ps);const h6=Ps;let g2=0;const E8=pe.getLogger("esri.layers.Layer");let Yt=class extends Jd.EventedMixin(Zd(sp)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Nt(-180,-90,180,90,Ue.WGS84),this.id=Date.now().toString(16)+"-layer-"+g2++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ue.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e,r=await Fe(()=>import("./arcgisLayers.0ab79383.js"),["./arcgisLayers.0ab79383.js","./lazyLayerLoader.b91f3137.js"],import.meta.url);try{return await r.fromUrl(t)}catch(s){throw E8.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",s),s}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},r=await Fe(()=>import("./portalLayers.f4bb3fe3.js"),["./portalLayers.f4bb3fe3.js","./lazyLayerLoader.b91f3137.js","./layersLoader.ff04054c.js","./jsonContext.3812ec14.js"],import.meta.url);try{return await r.fromItem(t)}catch(s){const i=t&&t.portalItem,n=i&&i.id||"unset",a=i&&i.portal&&i.portal.url||it.portalUrl;throw E8.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+n+"')",s),s}}initialize(){this.when().catch(e=>{var t,r;ei(e)||pe.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(r=this.id)!=null?r:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?Gr(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Tt(e,{query:{f:"json"},responseType:"json"})).data;throw new Y("layer:no-attribution-data","Layer does not have attribution data")}};o([c({type:String})],Yt.prototype,"attributionDataUrl",void 0),o([c({type:Nt})],Yt.prototype,"fullExtent",void 0),o([c({readOnly:!0})],Yt.prototype,"hasAttributionData",null),o([c({type:String,clonable:!1})],Yt.prototype,"id",void 0),o([c({type:Boolean,nonNullable:!0})],Yt.prototype,"legendEnabled",void 0),o([c({type:["show","hide","hide-children"]})],Yt.prototype,"listMode",void 0),o([c({type:Number,range:{min:0,max:1},nonNullable:!0})],Yt.prototype,"opacity",void 0),o([c({clonable:!1})],Yt.prototype,"parent",void 0),o([c({readOnly:!0})],Yt.prototype,"parsedUrl",null),o([c({type:Boolean})],Yt.prototype,"popupEnabled",void 0),o([c({type:Boolean})],Yt.prototype,"attributionVisible",void 0),o([c({type:Ue})],Yt.prototype,"spatialReference",void 0),o([c({type:String})],Yt.prototype,"title",void 0),o([c({type:String,readOnly:!0,json:{read:!1}})],Yt.prototype,"type",void 0),o([c()],Yt.prototype,"url",void 0),o([c({type:Boolean,nonNullable:!0})],Yt.prototype,"visible",void 0),Yt=o([k("esri.layers.Layer")],Yt);const f6=Yt;function ou(e,t,r={}){return x_(e,t,r,y6)}function $_(e,t,r={}){return x_(e,t,r,m6)}function x_(e,t,r={},s){let i=null;const n=r.once?(a,l)=>{s(a)&&(Nd(i),t(a,l))}:(a,l)=>{s(a)&&t(a,l)};if(i=FP(e,n,r.sync,r.equals),r.initial){const a=e();n(a,a)}return i}function Tb(e,t,r,s={}){let i=null,n=null,a=null;function l(){i&&n&&(n.remove(),s.onListenerRemove==null||s.onListenerRemove(i),i=null,n=null)}function d(f){s.once&&s.once&&Nd(a),r(f)}const h=ou(e,(f,y)=>{l(),_y(f)&&(i=f,n=Hd(f,t,d),s.onListenerAdd==null||s.onListenerAdd(f))},{sync:s.sync,initial:!0});return a=Vd(()=>{h.remove(),l()}),a}function kb(e,t){return v2(e,m6,t)}function v2(e,t,r){if(po(r))return Promise.reject(hr());const s=e();if(t!=null&&t(s))return Promise.resolve(s);let i=null;function n(){i=Nd(i)}return new Promise((a,l)=>{i=by([cn(r,()=>{n(),l(hr())}),x_(e,d=>{n(),a(d)},{sync:!1,once:!0},t??y6)])})}function y6(e){return!0}function m6(e){return!!e}const g6={sync:!0},v6={initial:!0},b2={sync:!0,initial:!0};let Xc=class extends vt{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new qa,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,ou)}addWhen(e,t,r={}){return this._installWatch(e,t,r,$_)}addOnCollectionChange(e,t,{initial:r=!1}={}){const s=++this.handleId;return this.handles.add([Tb(e,"after-changes",this._createSyncUpdatingCallback(),g6),Tb(e,"change",t,{onListenerAdd:r?i=>t({added:i.toArray(),removed:[]}):void 0})],s),{remove:()=>this.handles.remove(s)}}addPromise(e){if(be(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(Vp)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},s){const i=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,i);const n=s(e,t,r);return this.handles.add(n,i),{remove:()=>this.handles.remove(i)}}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),s=ou(e,r,{sync:!0,equals:()=>!1});return this.handles.add(s,t),s}_createSyncUpdatingCallback(){return()=>{this.handles.remove(Vp),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(xy(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(Vp))}),Vp)}}};o([c({readOnly:!0})],Xc.prototype,"updating",void 0),Xc=o([k("esri.views.support.WatchUpdatingTracking")],Xc);const Vp=-42;var T8;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(T8||(T8={}));const E_=e=>{let t=class extends e{destroy(){var r,s;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(s=this._get("updatingHandles"))==null||s.destroy())}get handles(){return this._get("handles")||new qa}get updatingHandles(){return this._get("updatingHandles")||new Xc}};return o([c({readOnly:!0})],t.prototype,"handles",null),o([c({readOnly:!0})],t.prototype,"updatingHandles",null),t=o([k("esri.core.HandleOwner")],t),t};let Mb=class extends E_(vt){};Mb=o([k("esri.core.HandleOwner")],Mb);var Or;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Or||(Or={}));let w2=0;function b6(){return w2++}function _2(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function Jf(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function w6(e,t,r,s){if(t.type===Or.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Or.INVOKE&&t.type!==Or.RESPONSE)return void e.postMessage(t);let i;_2(r)?(i=k8(r.transferList),t.data=r.result):(i=k8(s),t.data=r),i?e.postMessage(t,i):e.postMessage(t)}function Id(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function k8(e){if(!e||!e.length)return null;if(X("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!S2(r));return t.length?t:null}function S2(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const $2={statsWorker:()=>Fe(()=>import("./statsWorker.034f82e2.js"),["./statsWorker.034f82e2.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js"],import.meta.url),geometryEngineWorker:()=>Fe(()=>import("./geometryEngineWorker.6db57512.js"),["./geometryEngineWorker.6db57512.js","./geometryEngineJSON.374b7c2b.js","./geometryEngineBase.00185eb7.js","./json.48e3ea08.js"],import.meta.url),CSVSourceWorker:()=>Fe(()=>import("./CSVSourceWorker.92e38f41.js"),["./CSVSourceWorker.92e38f41.js","./number.4f9f8c16.js","./projection.b5b0482a.js","./json.48e3ea08.js","./OptimizedGeometry.3220611a.js","./FeatureStore.dd05c6e8.js","./aaBoundingRect.6a4b2723.js","./featureConversionUtils.6d559b11.js","./OptimizedFeatureSet.1d1ac4b9.js","./PooledRBush.9cdcc5f8.js","./quickselect.322ec8e1.js","./QueryEngine.a997303e.js","./normalizeUtils.f1406d05.js","./ItemCache.cf96c9c3.js","./WhereClause.5a06219b.js","./QueryEngineCapabilities.5c978644.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js","./clientSideDefaults.e3a40a4b.js"],import.meta.url),EdgeProcessingWorker:()=>Fe(()=>import("./EdgeProcessingWorker.e8e920ff.js"),["./EdgeProcessingWorker.e8e920ff.js","./deduplicate.98a605b2.js","./BufferView.1315c973.js","./vec2.70118006.js","./enums.ad15c731.js","./VertexElementDescriptor.b51b5c8c.js","./InterleavedLayout.e77ae48f.js","./types.373a6e47.js","./VertexAttribute.90c6b2b6.js"],import.meta.url),ElevationSamplerWorker:()=>Fe(()=>import("./ElevationSamplerWorker.16a4e893.js"),["./ElevationSamplerWorker.16a4e893.js","./PooledRBush.9cdcc5f8.js","./quickselect.322ec8e1.js","./georeference.68a48f8f.js","./quat.18905577.js","./vec33.63845cde.js","./projection.b5b0482a.js","./BufferView.1315c973.js","./vec2.70118006.js"],import.meta.url),FeatureServiceSnappingSourceWorker:()=>Fe(()=>import("./FeatureServiceSnappingSourceWorker.faea9798.js"),["./FeatureServiceSnappingSourceWorker.faea9798.js","./FeatureStore.dd05c6e8.js","./aaBoundingRect.6a4b2723.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./PooledRBush.9cdcc5f8.js","./quickselect.322ec8e1.js","./QueryEngine.a997303e.js","./normalizeUtils.f1406d05.js","./ItemCache.cf96c9c3.js","./WhereClause.5a06219b.js","./projection.b5b0482a.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js","./TileInfo.f3323275.js","./pbfQueryUtils.3b47961f.js","./pbf.0d5b92a0.js","./query.b5e0e04d.js","./byteSizeEstimations.4dc27031.js"],import.meta.url),GeoJSONSourceWorker:()=>Fe(()=>import("./GeoJSONSourceWorker.163cd458.js"),["./GeoJSONSourceWorker.163cd458.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./FeatureStore.dd05c6e8.js","./aaBoundingRect.6a4b2723.js","./PooledRBush.9cdcc5f8.js","./quickselect.322ec8e1.js","./QueryEngine.a997303e.js","./normalizeUtils.f1406d05.js","./ItemCache.cf96c9c3.js","./WhereClause.5a06219b.js","./projection.b5b0482a.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js","./geojson.36f4ed9e.js","./clientSideDefaults.e3a40a4b.js","./sourceUtils.24a0899f.js"],import.meta.url),LercWorker:()=>Fe(()=>import("./LercWorker.1087d30b.js"),[],import.meta.url),MemorySourceWorker:()=>Fe(()=>import("./MemorySourceWorker.c4c8a8f2.js"),["./MemorySourceWorker.c4c8a8f2.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./objectIdUtils.b29c2bc0.js","./FeatureStore.dd05c6e8.js","./aaBoundingRect.6a4b2723.js","./PooledRBush.9cdcc5f8.js","./quickselect.322ec8e1.js","./QueryEngine.a997303e.js","./normalizeUtils.f1406d05.js","./ItemCache.cf96c9c3.js","./WhereClause.5a06219b.js","./projection.b5b0482a.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js","./clientSideDefaults.e3a40a4b.js","./sourceUtils.24a0899f.js"],import.meta.url),PBFDecoderWorker:()=>Fe(()=>import("./PBFDecoderWorker.55504269.js"),["./PBFDecoderWorker.55504269.js","./byteSizeEstimations.4dc27031.js","./aaBoundingRect.6a4b2723.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./pbfQueryUtils.3b47961f.js","./pbf.0d5b92a0.js"],import.meta.url),Pipeline:()=>Fe(()=>import("./Pipeline.8f01029d.js"),["./Pipeline.8f01029d.js","./TileInfo.f3323275.js","./aaBoundingRect.6a4b2723.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./QueryEngine.a997303e.js","./normalizeUtils.f1406d05.js","./ItemCache.cf96c9c3.js","./WhereClause.5a06219b.js","./projection.b5b0482a.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js","./quickselect.322ec8e1.js","./ogcFeatureUtils.6caa1ac9.js","./geojson.36f4ed9e.js","./clientSideDefaults.e3a40a4b.js","./query.b5e0e04d.js","./pbfQueryUtils.3b47961f.js","./pbf.0d5b92a0.js","./enums2.2149e694.js","./enums.ad15c731.js","./Texture.b587b9f4.js","./context-util.460ae5d0.js","./TileKey.41e5db14.js"],import.meta.url).then(function(e){return e.P}),PointCloudWorker:()=>Fe(()=>import("./PointCloudWorker.f07cace3.js"),["./PointCloudWorker.f07cace3.js","./quat.18905577.js","./vec3f32.a99d9267.js","./projection.b5b0482a.js","./PointCloudUniqueValueRenderer.ede8de43.js","./VertexAttribute.90c6b2b6.js"],import.meta.url),RasterWorker:()=>Fe(()=>import("./RasterWorker.cf4548a0.js"),["./RasterWorker.cf4548a0.js","./projection.b5b0482a.js","./dataUtils.ceee447f.js","./colorUtils.0c057879.js","./utils2.4646396a.js"],import.meta.url),SceneLayerWorker:()=>Fe(()=>import("./SceneLayerWorker.bbb5f611.js"),[],import.meta.url),WFSSourceWorker:()=>Fe(()=>import("./WFSSourceWorker.a2f5cf3c.js"),["./WFSSourceWorker.a2f5cf3c.js","./featureConversionUtils.6d559b11.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./FeatureStore.dd05c6e8.js","./aaBoundingRect.6a4b2723.js","./PooledRBush.9cdcc5f8.js","./quickselect.322ec8e1.js","./QueryEngine.a997303e.js","./normalizeUtils.f1406d05.js","./ItemCache.cf96c9c3.js","./WhereClause.5a06219b.js","./projection.b5b0482a.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.1b981ed6.js","./ClassBreaksDefinition.95e31cb6.js","./geojson.36f4ed9e.js","./sourceUtils.24a0899f.js","./wfsUtils.fa56227d.js","./xmlUtils.9250d79f.js"],import.meta.url),WorkerTileHandler:()=>Fe(()=>import("./WorkerTileHandler.2ac0bfe0.js"),["./WorkerTileHandler.2ac0bfe0.js","./StyleRepository.f596ebac.js","./enums2.2149e694.js","./enums.ad15c731.js","./VertexElementDescriptor.b51b5c8c.js","./colorUtils.0c057879.js","./Geometry.daada628.js","./TileClipper.9bae3fe2.js","./pbf.0d5b92a0.js","./earcut.d72b7070.js"],import.meta.url)},{CLOSE:M8,ABORT:I8,INVOKE:O8,RESPONSE:Uu,OPEN_PORT:j8,ON:x2}=Or;class E2{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Or.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class zr{constructor(t,r){this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new E2(s=>this._onInvokeMessage(s)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const r=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const i=new zr(r.port1,{channel:r,client:s});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=i),zr.clients.set(i,s),r.port2}static loadWorker(t){const r=$2[t];return r?r():Promise.resolve(null)}close(){this._post({type:M8}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,s){const i=s&&s.signal,n=s&&s.transferList;if(!this._port)return Promise.reject(new Y("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const a=b6();return new Promise((l,d)=>{const h=$y(i,()=>{var y;const v=this._outJobs.get(a);v&&(this._outJobs.delete(a),(y=v.abortHandle)==null||y.remove(),this._post({type:I8,jobId:a}),d(hr()))}),f={resolve:l,reject:d,abortHandle:h,debugInfo:t};this._outJobs.set(a,f),this._post({type:O8,jobId:a,methodName:t,abortable:i!=null},r,n)})}on(t,r){const s=new MessageChannel;function i(n){r(n.data)}return this._port.postMessage({type:Or.ON,eventType:t,port:s.port2},[s.port2]),s.port1.addEventListener("message",i),s.port1.start(),{remove(){s.port1.postMessage({type:Or.CLOSE}),s.port1.close(),s.port1.removeEventListener("message",i)}}}openPort(){const t=new MessageChannel;return this._post({type:j8,port:t.port2}),t.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{var r;(r=t.abortHandle)==null||r.remove(),t.reject(hr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){H(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=Id(t);if(r)switch(r.type){case Uu:this._onResponseMessage(r);break;case O8:this._invokeQueue.push(r);break;case I8:this._onAbortMessage(r);break;case M8:this._onCloseMessage();break;case j8:this._onOpenPortMessage(r);break;case x2:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,s=t.jobId,i=r.get(s);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(s))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&zr.clients.get(this)===t&&t.destroy(),zr.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:s,data:i,abortable:n}=t,a=n?new AbortController:null,l=this._inJobs;let d,h=this._client,f=h[r];try{if(!f&&r&&r.indexOf(".")!==-1){const y=r.split(".");for(let v=0;v<y.length-1;v++)h=h[y[v]],f=h[y[v+1]]}if(typeof f!="function")throw new TypeError(`${r} is not a function`);d=f.call(h,i,{client:this,signal:a?a.signal:null})}catch(y){return void this._post({type:Uu,jobId:s,error:Jf(y)})}fu(d)?(l.set(s,{controller:a,promise:d}),d.then(y=>{l.has(s)&&(l.delete(s),this._post({type:Uu,jobId:s},y))},y=>{l.has(s)&&(l.delete(s),ei(y)||this._post({type:Uu,jobId:s,error:Jf(y||{message:`Error encountered at method ${r}`})}))})):this._post({type:Uu,jobId:s},d)}_onOpenPortMessage(t){new zr(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,s=this._client.on(t.eventType,n=>{r.postMessage(n)}),i=Hd(t.port,"message",n=>{Id(n).type===Or.CLOSE&&(i.remove(),s.remove(),r.close())})}_onResponseMessage(t){var r;const{jobId:s,error:i,data:n}=t,a=this._outJobs;if(!a.has(s))return;const l=a.get(s);a.delete(s),(r=l.abortHandle)==null||r.remove(),i?l.reject(Y.fromJSON(JSON.parse(i))):l.resolve(n)}_post(t,r,s){return w6(this._port,t,r,s)}}zr.kernelInfo={revision:tM,version:X1,buildDate:eM},zr.clients=new Map;const T2=pe.getLogger("esri.core.workers.Connection");class _6{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((s,i)=>{let n=!0;const a=l=>{Xs(r.signal),n&&(n=!1,l())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let l=0;l<t.length;++l){const d=t[l];fu(d)?this._clientPromises[l]=d.then(h=>(this._clients[l]=new zr(h,r),a(s),this._clients[l]),()=>(a(i),null)):(this._clients[l]=new zr(d,r),this._clientPromises[l]=Promise.resolve(this._clients[l]),a(s))}})}broadcast(t,r,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const a=this._clientPromises[n];i[n]=a.then(l=>l.invoke(t,r,s))}return i}close(){for(const t of this._clientPromises)t.then(r=>r.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let r=0;r<this._clients.length;++r){const s=this._clients[r];if(s){if(!s.isBusy())return Promise.resolve(s)}else t=t||[],t.push(this._clientPromises[r])}return t?Promise.race(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(t,r,s){let i=null;return Array.isArray(s)?(T2.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:s}):i=s,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(n=>n.invoke(t,r,i))}on(t,r){return Promise.all(this._clientPromises).then(()=>by(this._clients.map(s=>s.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let s=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(n=>{r[i]=n.openPort(),--s==0&&t(r)})})}get test(){return{numClients:this._clients.length}}}const k2=pe.getLogger("esri.assets");function ku(e){if(!it.assetsPath)throw k2.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Y("assets:path-not-set","config.assetsPath is not set");return Ca(it.assetsPath,e)}const S6=pe.getLogger("esri.intl");function T_(e,t,r={}){const{format:s={}}=r;return zd(e,i=>M2(i,t,s))}function M2(e,t,r){let s,i;const n=e.indexOf(":");if(n===-1?s=e.trim():(s=e.slice(0,n).trim(),i=e.slice(n+1).trim()),!s)return"";const a=Dd(s,t);if(a==null)return"";const l=r[i]||r[s];return l?I2(a,l):i?O2(a,i):k_(a)}function I2(e,t){switch(t.type){case"date":return ja(e,t.intlOptions);case"number":return ru(e,t.intlOptions);default:return S6.warn("missing format descriptor for key {key}"),k_(e)}}function O2(e,t){switch(t.toLowerCase()){case"dateformat":return ja(e);case"numberformat":return ru(e);default:return S6.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?ja(e):/^numberformat/i.test(t)?ru(e):k_(e)}}function k_(e){switch(typeof e){case"string":return e;case"number":return ru(e);case"boolean":return""+e;default:return e instanceof Date?ja(e):""}}const C8=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,j2={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function A8(e){var t;return(t=j2[e])!=null&&t}const kc=[],ql=new Map;function R8(e){for(const t of ql.keys())$6(e.pattern,t)&&ql.delete(t)}function C2(e){return kc.includes(e)||(R8(e),kc.unshift(e)),{remove(){const t=kc.indexOf(e);t>-1&&(kc.splice(t,1),R8(e))}}}async function M_(e){const t=Ys();ql.has(e)||ql.set(e,R2(e,t));const r=ql.get(e);return await P2.add(r),r}function A2(e){if(!C8.test(e))return null;const[,t,r]=C8.exec(e),s=t+(r?"-"+r.toUpperCase():"");return A8(s)?s:A8(t)?t:null}async function R2(e,t){const r=[];for(const s of kc)if($6(s.pattern,e))try{return await s.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new Y("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new Y("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function $6(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}j1(()=>{ql.clear()});const P2=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=xa())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function L2(e,t,r,s){const i=t.exec(r);if(!i)throw new Y("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const n=i[1]?`${i[1]}/`:"",a=i[2],l=A2(s),d=`${n}${a}.json`,h=l?`${n}${a}_${l}.json`:d;let f;try{f=await P8(e(h))}catch(y){if(h===d)throw new Y("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y});try{f=await P8(e(d))}catch(v){throw new Y("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:v})}}return f}async function P8(e){if(H(L8.fetchBundleAsset))return L8.fetchBundleAsset(e);const t=await Tt(e,{responseType:"text"});return JSON.parse(t.data)}class F2{constructor({base:t="",pattern:r,location:s=new URL(window.location.href)}){let i;i=typeof s=="string"?n=>new URL(n,new URL(s,window.location.href)).href:s instanceof URL?n=>new URL(n,s).href:s,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return L2(this.getAssetUrl,this.matcher,t,r)}}function N2(e){return new F2(e)}const L8={};C2(N2({pattern:"esri/",location:ku}));const F8={};function D2(e,t){for(const r of e)if(r.name===t.name)return;e.push(t)}function z2(e){var t;const r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:V({},e.has),map:V({},e.map),packages:e.packages&&e.packages.concat()||[],paths:V({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=F8.baseUrl),(t=F8.packages)==null||t.forEach(s=>{D2(r.packages,s)}),r}class V2{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...s)=>t[r](...s)})}}class Qh{constructor(){this._dispatcher=new V2,this._workerPostMessage({type:Or.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){dd(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,s){this._dispatcher.addEventListener(t,r,s)}removeEventListener(t,r,s){this._dispatcher.removeEventListener(t,r,s)}_workerPostMessage(t){dd(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=Id(t);if(r&&r.type===Or.OPEN){const{modulePath:s,jobId:i}=r;let n=await zr.loadWorker(s);n||(n=await Fe(()=>import(s),[],import.meta.url));const a=zr.connect(n);this._workerPostMessage({type:Or.OPENED,jobId:i,data:a})}}}const Ib=pe.getLogger("esri.core.workers"),{HANDSHAKE:U2}=Or,q2='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Up,qp;const N8="Failed to create Worker. Fallback to execute module in main thread";async function B2(){if(!X("esri-workers")||(X("mozilla"),0))return D8(new Qh);if(!Up&&!qp)try{const t=q2.replace('"{CONFIGURATION}"',`'${H2()}'`);Up=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){qp=t||{}}let e;if(Up)try{e=new Worker(Up,{name:"esri-worker-"+G2++})}catch{Ib.warn(N8,qp),e=new Qh}else Ib.warn(N8,qp),e=new Qh;return D8(e)}async function D8(e){return new Promise(t=>{function r(i){const n=Id(i);n&&n.type===U2&&(e.removeEventListener("message",r),e.removeEventListener("error",s),t(e))}function s(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",s),Ib.warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new Qh).addEventListener("message",r),e.addEventListener("error",s)}e.addEventListener("message",r),e.addEventListener("error",s)})}function H2(){let e;if(it.default!=null){const i=V({},it);delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(it));e.assetsPath=ws(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Ys(),e.has={"esri-csp-restrictions":X("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":X("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":X("esri-2d-query-centroid-enabled"),"featurelayer-pbf":X("featurelayer-pbf"),"featurelayer-simplify-thresholds":X("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":X("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":X("featurelayer-simplify-mobile-factor"),"esri-atomics":X("esri-atomics"),"esri-shared-array-buffer":X("esri-shared-array-buffer"),"esri-tiles-debug":X("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":X("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":X("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=ws(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=ws(e.workers.workerPath):e.workers.workerPath=ws(ku("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=it.workers.loaderConfig,r=z2({baseUrl:t==null?void 0:t.baseUrl,locale:Ys(),has:V({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},t==null?void 0:t.has),map:V({},t==null?void 0:t.map),paths:V({},t==null?void 0:t.paths),packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{version:X1,buildDate:eM,revision:tM}})}let G2=0;const W2=pe.getLogger("esri.core.workers"),{ABORT:z8,INVOKE:J2,OPEN:K2,OPENED:Q2,RESPONSE:qu}=Or;class I_{constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",s=>{s.preventDefault(),W2.error(s)})}static async create(t){const r=await B2();return new I_(r,t)}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:s}=r,i=b6();return new Promise((n,a)=>{const l={resolve:n,reject:a,abortHandle:$y(s,()=>{this._outJobs.delete(i),this._post({type:z8,jobId:i})})};this._outJobs.set(i,l),this._post({type:K2,jobId:i,modulePath:t})})}_onMessage(t){const r=Id(t);if(r)switch(r.type){case Q2:this._onOpenedMessage(r);break;case qu:this._onResponseMessage(r);break;case z8:this._onAbortMessage(r);break;case J2:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,s=t.jobId,i=r.get(s);i&&(i.controller&&i.controller.abort(),r.delete(s))}_onInvokeMessage(t){const{methodName:r,jobId:s,data:i,abortable:n}=t,a=n?new AbortController:null,l=this._inJobs,d=HN[r];let h;try{if(typeof d!="function")throw new TypeError(`${r} is not a function`);h=d.call(null,i,{signal:a?a.signal:null})}catch(f){return void this._post({type:qu,jobId:s,error:Jf(f)})}fu(h)?(l.set(s,{controller:a,promise:h}),h.then(f=>{l.has(s)&&(l.delete(s),this._post({type:qu,jobId:s},f))},f=>{l.has(s)&&(l.delete(s),f||(f={message:"Error encountered at method"+r}),ei(f)||this._post({type:qu,jobId:s,error:Jf(f||{message:`Error encountered at method ${r}`})}))})):this._post({type:qu,jobId:s},h)}_onOpenedMessage(t){var r;const{jobId:s,data:i}=t,n=this._outJobs.get(s);n&&(this._outJobs.delete(s),(r=n.abortHandle)==null||r.remove(),n.resolve(i))}_onResponseMessage(t){var r;const{jobId:s,error:i,data:n}=t,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),(r=a.abortHandle)==null||r.remove(),i?a.reject(Y.fromJSON(JSON.parse(i))):a.resolve(n))}_post(t,r,s){return w6(this.worker,t,r,s)}}let ya=X("esri-workers-debug")?1:X("host-browser")?navigator.hardwareConcurrency-1:0;ya||(ya=X("safari")&&X("mac")||X("trident")?7:2);let V8=0;const Zh=[];async function Bp(e,t){const r=new _6;return await r.open(e,t),r}async function x6(e,t={}){if(typeof e!="string")throw new Y("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(X("host-webworker")&&!X("esri-workers")&&(r="local"),r==="local"){let s=await zr.loadWorker(e);s||(s=await Fe(()=>import(e),[],import.meta.url)),Xs(t.signal);const i=t.client||s;return Bp([zr.connect(s)],Ie(V({},t),{client:i}))}if(await Z2(),Xs(t.signal),r==="dedicated"){const s=V8++%ya;return Bp([await Zh[s].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const s=Math.min(t.maxNumWorkers,ya);if(s<ya){const i=new Array(s);for(let n=0;n<s;++n){const a=V8++%ya;i[n]=Zh[a].open(e,t)}return Bp(i,t)}}return Bp(Zh.map(s=>s.open(e,t)),t)}let Hp=null;async function Z2(){if(Hp)return Hp;new AbortController;const e=[];for(let t=0;t<ya;t++){const r=I_.create(t).then(s=>(Zh[t]=s,s));e.push(r)}return Hp=Promise.all(e),Hp}function U8(e,t,r){if(e.hasM==null||e.hasZ)for(const s of t)for(const i of s)i.length>2&&(i[2]*=r)}function E6(e,t,r){if(!e&&!t||!r)return;const s=Td(r);q8(e,r,s),q8(t,r,s)}function q8(e,t,r){if(e)for(const s of e)Y2(s.geometry,t,r)}function Y2(e,t,r){if(be(e)||!e.spatialReference||yu(e.spatialReference,t))return;const s=Td(e.spatialReference)/r;if(s!==1){if("x"in e)e.z!=null&&(e.z*=s);else if("rings"in e)U8(e,e.rings,s);else if("paths"in e)U8(e,e.paths,s);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=s)}}function T6(e,t,r){if(be(t)||be(r)||r.vcsWkid||yu(t,r))return null;const s=Td(t)/Td(r);if(s===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>X2(i,s);case"polyline":case"esriGeometryPolyline":return i=>tV(i,s);case"polygon":case"esriGeometryPolygon":return i=>eV(i,s);case"multipoint":case"esriGeometryMultipoint":return i=>rV(i,s);case"extent":case"esriGeometryExtent":return i=>sV(i,s);default:return null}}function X2(e,t){e&&e.z!=null&&(e.z*=t)}function eV(e,t){if(e)for(const r of e.rings)for(const s of r)s.length>2&&(s[2]*=t)}function tV(e,t){if(e)for(const r of e.paths)for(const s of r)s.length>2&&(s[2]*=t)}function rV(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function sV(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function Ob(e,t,r){if(!r||!r.features||!r.hasZ)return;const s=T6(r.geometryType,t,e.outSpatialReference);if(!be(s))for(const i of r.features)s(i.geometry)}const k6=new Ce({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var jb;const iV=new Ce({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Mr=jb=class extends ee{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?iV.fromJSON(r.fieldValueType):null}clone(){return new jb({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};o([c({type:String,json:{write:!0}})],Mr.prototype,"alias",void 0),o([c({type:[String,Number],json:{write:{allowNull:!0}}})],Mr.prototype,"defaultValue",void 0),o([c()],Mr.prototype,"description",void 0),o([ue("description")],Mr.prototype,"readDescription",null),o([c({types:a6,json:{read:{reader:S_},write:!0}})],Mr.prototype,"domain",void 0),o([c({type:Boolean,json:{write:!0}})],Mr.prototype,"editable",void 0),o([c({type:Bt,json:{write:!0}})],Mr.prototype,"length",void 0),o([c({type:String,json:{write:!0}})],Mr.prototype,"name",void 0),o([c({type:Boolean,json:{write:!0}})],Mr.prototype,"nullable",void 0),o([Ee(k6)],Mr.prototype,"type",void 0),o([c()],Mr.prototype,"valueType",void 0),o([ue("valueType",["description"])],Mr.prototype,"readValueType",null),Mr=jb=o([k("esri.layers.support.Field")],Mr);const Jy=Mr;var Cb;const Ab=new Ce({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let rr=Cb=class extends ee{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=Ue.fromJSON(t.spatialReference),s=[];for(let i=0;i<e.length;i++){const n=e[i],a=pn.fromJSON(n),l=n.geometry&&n.geometry.spatialReference;H(a.geometry)&&!l&&(a.geometry.spatialReference=r);const d=n.aggregateGeometries,h=a.aggregateGeometries;if(d&&H(h))for(const f in h){const y=h[f],v=d[f],b=v==null?void 0:v.spatialReference;H(y)&&!b&&(y.spatialReference=r)}s.push(a)}return s}writeGeometryType(e,t,r,s){if(e)return void Ab.write(e,t,r,s);const{features:i}=this;if(i){for(const n of i)if(n&&H(n.geometry))return void Ab.write(n.geometry.type,t,r,s)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,s=ss(e);return!r&&t.spatialReference&&(s.spatialReference=Ue.fromJSON(t.spatialReference)),s}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const s of r)if(s&&H(s.geometry)&&s.geometry.spatialReference)return void(t.spatialReference=s.geometry.spatialReference.toJSON())}}clone(){return new Cb(this.cloneProperties())}cloneProperties(){return D({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const s=t.features[r];if(s.geometry){const i=e&&e[r];s.geometry=i&&i.toJSON()||s.geometry}}return t}quantize(e){const{scale:[t,r],translate:[s,i]}=e,n=h=>Math.round((h-s)/t),a=h=>Math.round((i-h)/r),l=this.features,d=this._getQuantizationFunction(this.geometryType,n,a);for(let h=0,f=l.length;h<f;h++)d(l[h].geometry)||(l.splice(h,1),h--,f--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[s,i],scale:[n,a]}=r,l=f=>f*n+s,d=f=>i-f*a,h=this._getHydrationFunction(e,l,d);for(const{geometry:f}of t)H(f)&&h(f);return this.transform=null,this}_quantizePoints(e,t,r){let s,i;const n=[];for(let a=0,l=e.length;a<l;a++){const d=e[a];if(a>0){const h=t(d[0]),f=r(d[1]);h===s&&f===i||(n.push([h-s,f-i]),s=h,i=f)}else s=t(d[0]),i=r(d[1]),n.push([s,i])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return e==="point"?s=>(s.x=t(s.x),s.y=r(s.y),s):e==="polyline"||e==="polygon"?s=>{const i=Vl(s)?s.rings:s.paths,n=[];for(let a=0,l=i.length;a<l;a++){const d=i[a],h=this._quantizePoints(d,t,r);h&&n.push(h)}return n.length>0?(Vl(s)?s.rings=n:s.paths=n,s):null}:e==="multipoint"?s=>{const i=this._quantizePoints(s.points,t,r);return i.length>0?(s.points=i,s):null}:e==="extent"?s=>s:null}_getHydrationFunction(e,t,r){return e==="point"?s=>{s.x=t(s.x),s.y=r(s.y)}:e==="polyline"||e==="polygon"?s=>{const i=Vl(s)?s.rings:s.paths;let n,a;for(let l=0,d=i.length;l<d;l++){const h=i[l];for(let f=0,y=h.length;f<y;f++){const v=h[f];f>0?(n+=v[0],a+=v[1]):(n=v[0],a=v[1]),v[0]=t(n),v[1]=r(a)}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=r(s.ymin),s.xmax=t(s.xmax),s.ymax=r(s.ymax)}:e==="multipoint"?s=>{const i=s.points;let n,a;for(let l=0,d=i.length;l<d;l++){const h=i[l];l>0?(n+=h[0],a+=h[1]):(n=h[0],a=h[1]),h[0]=t(n),h[1]=r(a)}}:void 0}};o([c({type:String,json:{write:!0}})],rr.prototype,"displayFieldName",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],rr.prototype,"exceededTransferLimit",void 0),o([c({type:[pn],json:{write:!0}})],rr.prototype,"features",void 0),o([ue("features")],rr.prototype,"readFeatures",null),o([c({type:[Jy],json:{write:!0}})],rr.prototype,"fields",void 0),o([c({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:Ab.read}}})],rr.prototype,"geometryType",void 0),o([he("geometryType")],rr.prototype,"writeGeometryType",null),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],rr.prototype,"hasM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],rr.prototype,"hasZ",void 0),o([c({types:La,json:{write:!0}})],rr.prototype,"queryGeometry",void 0),o([ue("queryGeometry")],rr.prototype,"readQueryGeometry",null),o([c({type:Ue,json:{write:!0}})],rr.prototype,"spatialReference",void 0),o([he("spatialReference")],rr.prototype,"writeSpatialReference",null),o([c({json:{write:!0}})],rr.prototype,"transform",void 0),rr=Cb=o([k("esri.rest.support.FeatureSet")],rr),rr.prototype.toJSON.isDefaultToJSON=!0;const Ky=rr;var nV=Object.freeze(Object.defineProperty({__proto__:null,default:Ky},Symbol.toStringTag,{value:"Module"}));let oV=0;const ig=pe.getLogger("esri.layers.graphics.sources.MemorySource");let Nn=class extends sp.LoadableMixin(zy(E_(ft))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=H(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var e;const t=(e=this.layer)==null?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);Ob(e,this.layer.spatialReference,r);const s=Ky.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const i=this.layer.objectIdField;for(const n of s.features){const a=n.attributes[i],l=this._idToClientGraphic.get(a);l&&(n.geometry=l.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new Y("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return Ob(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:Nt.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new Y("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const s=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const n=h=>"objectId"in h&&h.objectId!=null?h.objectId:"attributes"in h&&h.attributes[t]!=null?h.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const h of e.deleteFeatures){const f=n(h);f!=null&&s.push(f)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const h of e.updateFeatures)if(i.push(this._serializeFeature(h)),a){const f=n(h);f!=null&&a.set(f,h)}}E6(r?r.features:null,i,this.layer.spatialReference);const{fullExtent:l,featureEditResults:d}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:i,deletes:s});return this.fullExtent=l,r&&r.finish(d.uidToObjectId),this._updateClientGraphicIds(a,d),this._createEditsResult(d)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||be(e))return;const r=[];for(const{geometry:s}of e)!H(s)||s.type!=="mesh"||s.hasExtent||s.loaded||r.push(s.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const s=e.get(r.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const r of t.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new Y("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let s=null;for(let n=0;n<e.length;n++){const a=e[n],l=this._serializeFeature(a);!s&&H(a.geometry)&&(s=a.geometry.type),r[n]=l,t.set(`${l.uid}`,a)}const i=this;return{features:r,inferredGeometryType:s,finish(n){const a=i.sourceJSON.objectIdField;for(const l in n){const d=n[l],h=t.get(l);h&&(h.attributes||(h.attributes={}),d===-1?delete h.attributes[a]:h.attributes[a]=d,i._addIdToClientGraphic(h))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];r!=null&&this._idToClientGraphic.set(r,e)}get layerOrSourceGeometryType(){var e,t,r;return(e=(t=this.layer)==null?void 0:t.geometryType)!=null?e:(r=this.sourceJSON)==null?void 0:r.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),s=(oV++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:t}:{uid:s,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return be(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Pa.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await x6("MemorySourceWorker",{strategy:X("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,objectIdField:s,hasM:i,hasZ:n,timeInfo:a}=this.layer,l=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const d=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",v=>{ig.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),v.preventDefault()}));const h={features:d.features,fields:t&&t.map(v=>v.toJSON()),geometryType:c0.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&i,hasZ:this.layerOrSourceGeometryType==="mesh"||n,objectIdField:s,spatialReference:l?null:r&&r.toJSON(),timeInfo:a?a.toJSON():null},f=await this._connection.invoke("load",h,{signal:e});for(const v of f.warnings)ig.warn(v.message,{layer:this.layer,warning:v});f.featureErrors.length&&ig.warn(`Encountered ${f.featureErrors.length} validation errors while loading features`,f.featureErrors);const y=f.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(y.geometryType=c0.toJSON(d.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),d.finish(f.assignedObjectIds)}};o([d1({Type:pn,ensureType:lt(pn)})],Nn.prototype,"itemType",void 0),o([c()],Nn.prototype,"type",void 0),o([c({constructOnly:!0})],Nn.prototype,"layer",void 0),o([c({readOnly:!0})],Nn.prototype,"workerGeometryType",null),o([c()],Nn.prototype,"sourceJSON",void 0),Nn=o([k("esri.layers.graphics.sources.MemorySource")],Nn);const B8=Nn;function aV(e){return"portalItem"in e}const M6=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):aV(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return o([c({type:String})],t.prototype,"apiKey",null),t=o([k("esri.layers.mixins.APIKeyMixin")],t),t},I6={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},O6=Object.values(I6),j6=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${O6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),lV=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${O6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),uV=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function cV(e){return!!j6.test(e)}function ap(e){const t=Gr(e),r=t.path.match(j6)||t.path.match(lV);if(!r)return null;const[,s,i,n,a]=r,l=i.indexOf("/");return{title:Qy(l!==-1?i.slice(l+1):i),serverType:I6[n.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:s}}}function C6(e){const t=Gr(e).path.match(uV);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function Qy(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function A6(e,t){const r=[];if(e){const s=ap(e);H(s)&&s.title&&r.push(s.title)}if(t){const s=Qy(t);r.push(s)}if(r.length===2){if(r[0].toLowerCase().indexOf(r[1].toLowerCase())!==-1)return r[0];if(r[1].toLowerCase().indexOf(r[0].toLowerCase())!==-1)return r[1]}return r.join(" - ")}function O_(e){if(!e)return!1;const t=".arcgis.com/",r="//services",s="//tiles",i="//features",n=(e=e.toLowerCase()).indexOf(t)!==-1,a=e.indexOf(r)!==-1||e.indexOf(s)!==-1||e.indexOf(i)!==-1;return n&&a}function R6(e,t){return e&&Y1(Kk(e,t))}function P6(e){let{url:t}=e;if(!t)return{url:t};t=Kk(t,e.logger);const r=Gr(t),s=ap(r.path);let i;if(H(s))s.sublayer!=null&&e.layer.layerId==null&&(i=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){const n=C6(r.path);H(n)&&(t=n.serviceUrl,i=n.sublayerId)}return{url:Y1(t),layerId:i}}function L6(e,t,r,s,i){yo(t,s,"url",i),s.url&&e.layerId!=null&&(s.url=Ca(s.url,r,e.layerId.toString()))}function dV(e){if(!e)return!1;const t=e.toLowerCase(),r=t.indexOf("/services/")!==-1,s=t.indexOf("/mapserver/wmsserver")!==-1,i=t.indexOf("/imageserver/wmsserver")!==-1,n=t.indexOf("/wmsserver")!==-1;return r&&(s||i||n)}const F6=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=ap(this.url);if(H(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",R6(r,pe.getLogger(this.declaredClass)))}};return o([c()],t.prototype,"title",null),o([c({type:String})],t.prototype,"url",null),t=o([k("esri.layers.mixins.ArcGISService")],t),t};function Zy(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}Zy();function Ba(e,t,r,s,i,n,a,l,d,h,f,y,v,b,x,I,A){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=l,e[7]=d,e[8]=h,e[9]=f,e[10]=y,e[11]=v,e[12]=b,e[13]=x,e[14]=I,e[15]=A,e}function pV(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function $o(e,t){if(e===t){const r=t[1],s=t[2],i=t[3],n=t[6],a=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=n,e[11]=t[14],e[12]=i,e[13]=a,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function hV(e,t){const r=t[0],s=t[1],i=t[2],n=t[3],a=t[4],l=t[5],d=t[6],h=t[7],f=t[8],y=t[9],v=t[10],b=t[11],x=t[12],I=t[13],A=t[14],q=t[15],G=r*l-s*a,C=r*d-i*a,p=r*h-n*a,m=s*d-i*l,g=s*h-n*l,_=i*h-n*d,$=f*I-y*x,T=f*A-v*x,S=f*q-b*x,O=y*A-v*I,W=y*q-b*I,U=v*q-b*A;let F=G*U-C*W+p*O+m*S-g*T+_*$;return F?(F=1/F,e[0]=(l*U-d*W+h*O)*F,e[1]=(i*W-s*U-n*O)*F,e[2]=(I*_-A*g+q*m)*F,e[3]=(v*g-y*_-b*m)*F,e[4]=(d*S-a*U-h*T)*F,e[5]=(r*U-i*S+n*T)*F,e[6]=(A*p-x*_-q*C)*F,e[7]=(f*_-v*p+b*C)*F,e[8]=(a*W-l*S+h*$)*F,e[9]=(s*S-r*W-n*$)*F,e[10]=(x*g-I*p+q*G)*F,e[11]=(y*p-f*g-b*G)*F,e[12]=(l*T-a*O-d*$)*F,e[13]=(r*O-s*T+i*$)*F,e[14]=(I*C-x*m-A*G)*F,e[15]=(f*m-y*C+v*G)*F,e):null}function fV(e,t,r){const s=t[0],i=t[1],n=t[2],a=t[3],l=t[4],d=t[5],h=t[6],f=t[7],y=t[8],v=t[9],b=t[10],x=t[11],I=t[12],A=t[13],q=t[14],G=t[15];let C=r[0],p=r[1],m=r[2],g=r[3];return e[0]=C*s+p*l+m*y+g*I,e[1]=C*i+p*d+m*v+g*A,e[2]=C*n+p*h+m*b+g*q,e[3]=C*a+p*f+m*x+g*G,C=r[4],p=r[5],m=r[6],g=r[7],e[4]=C*s+p*l+m*y+g*I,e[5]=C*i+p*d+m*v+g*A,e[6]=C*n+p*h+m*b+g*q,e[7]=C*a+p*f+m*x+g*G,C=r[8],p=r[9],m=r[10],g=r[11],e[8]=C*s+p*l+m*y+g*I,e[9]=C*i+p*d+m*v+g*A,e[10]=C*n+p*h+m*b+g*q,e[11]=C*a+p*f+m*x+g*G,C=r[12],p=r[13],m=r[14],g=r[15],e[12]=C*s+p*l+m*y+g*I,e[13]=C*i+p*d+m*v+g*A,e[14]=C*n+p*h+m*b+g*q,e[15]=C*a+p*f+m*x+g*G,e}function yV(e,t,r){const s=r[0],i=r[1],n=r[2];let a,l,d,h,f,y,v,b,x,I,A,q;return t===e?(e[12]=t[0]*s+t[4]*i+t[8]*n+t[12],e[13]=t[1]*s+t[5]*i+t[9]*n+t[13],e[14]=t[2]*s+t[6]*i+t[10]*n+t[14],e[15]=t[3]*s+t[7]*i+t[11]*n+t[15]):(a=t[0],l=t[1],d=t[2],h=t[3],f=t[4],y=t[5],v=t[6],b=t[7],x=t[8],I=t[9],A=t[10],q=t[11],e[0]=a,e[1]=l,e[2]=d,e[3]=h,e[4]=f,e[5]=y,e[6]=v,e[7]=b,e[8]=x,e[9]=I,e[10]=A,e[11]=q,e[12]=a*s+f*i+x*n+t[12],e[13]=l*s+y*i+I*n+t[13],e[14]=d*s+v*i+A*n+t[14],e[15]=h*s+b*i+q*n+t[15]),e}function mV(e,t,r){const s=r[0],i=r[1],n=r[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function gV(e,t,r,s){let i,n,a,l,d,h,f,y,v,b,x,I,A,q,G,C,p,m,g,_,$,T,S,O,W=s[0],U=s[1],F=s[2],J=Math.sqrt(W*W+U*U+F*F);return J<Et?null:(J=1/J,W*=J,U*=J,F*=J,i=Math.sin(r),n=Math.cos(r),a=1-n,l=t[0],d=t[1],h=t[2],f=t[3],y=t[4],v=t[5],b=t[6],x=t[7],I=t[8],A=t[9],q=t[10],G=t[11],C=W*W*a+n,p=U*W*a+F*i,m=F*W*a-U*i,g=W*U*a-F*i,_=U*U*a+n,$=F*U*a+W*i,T=W*F*a+U*i,S=U*F*a-W*i,O=F*F*a+n,e[0]=l*C+y*p+I*m,e[1]=d*C+v*p+A*m,e[2]=h*C+b*p+q*m,e[3]=f*C+x*p+G*m,e[4]=l*g+y*_+I*$,e[5]=d*g+v*_+A*$,e[6]=h*g+b*_+q*$,e[7]=f*g+x*_+G*$,e[8]=l*T+y*S+I*O,e[9]=d*T+v*S+A*O,e[10]=h*T+b*S+q*O,e[11]=f*T+x*S+G*O,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function vV(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function bV(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function wV(e,t,r){let s,i,n,a=r[0],l=r[1],d=r[2],h=Math.sqrt(a*a+l*l+d*d);return h<Et?null:(h=1/h,a*=h,l*=h,d*=h,s=Math.sin(t),i=Math.cos(t),n=1-i,e[0]=a*a*n+i,e[1]=l*a*n+d*s,e[2]=d*a*n-l*s,e[3]=0,e[4]=a*l*n-d*s,e[5]=l*l*n+i,e[6]=d*l*n+a*s,e[7]=0,e[8]=a*d*n+l*s,e[9]=l*d*n-a*s,e[10]=d*d*n+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function _V(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function SV(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function $V(e,t){if(e===t)return!0;const r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=e[8],y=e[9],v=e[10],b=e[11],x=e[12],I=e[13],A=e[14],q=e[15],G=t[0],C=t[1],p=t[2],m=t[3],g=t[4],_=t[5],$=t[6],T=t[7],S=t[8],O=t[9],W=t[10],U=t[11],F=t[12],J=t[13],E=t[14],z=t[15];return Math.abs(r-G)<=Et*Math.max(1,Math.abs(r),Math.abs(G))&&Math.abs(s-C)<=Et*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(i-p)<=Et*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(n-m)<=Et*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(a-g)<=Et*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-_)<=Et*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(d-$)<=Et*Math.max(1,Math.abs(d),Math.abs($))&&Math.abs(h-T)<=Et*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(f-S)<=Et*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(y-O)<=Et*Math.max(1,Math.abs(y),Math.abs(O))&&Math.abs(v-W)<=Et*Math.max(1,Math.abs(v),Math.abs(W))&&Math.abs(b-U)<=Et*Math.max(1,Math.abs(b),Math.abs(U))&&Math.abs(x-F)<=Et*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(I-J)<=Et*Math.max(1,Math.abs(I),Math.abs(J))&&Math.abs(A-E)<=Et*Math.max(1,Math.abs(A),Math.abs(E))&&Math.abs(q-z)<=Et*Math.max(1,Math.abs(q),Math.abs(z))}function xV(e){const t=Et,r=e[0],s=e[1],i=e[2],n=e[4],a=e[5],l=e[6],d=e[8],h=e[9],f=e[10];return Math.abs(1-(r*r+n*n+d*d))<=t&&Math.abs(1-(s*s+a*a+h*h))<=t&&Math.abs(1-(i*i+l*l+f*f))<=t}const EV=(e,t)=>{const r=Ba(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return $o(r,r)},TV=(e,t)=>{const r=Ba(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return $o(r,r)},kV=(e,t)=>{const r=1-t,s=Ba(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return $o(s,s)},MV=(e,t)=>{const r=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180),i=Ba(e,.213+.787*s-.213*r,.715-.715*s-.715*r,.072-.072*s+.928*r,0,.213-.213*s+.143*r,.715+.285*s+.14*r,.072-.072*s-.283*r,0,.213-.213*s-.787*r,.715-.715*s+.715*r,.072+.928*s+.072*r,0,0,0,0,1);return $o(i,i)},IV=(e,t)=>{const r=1-2*t,s=Ba(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return $o(s,s)},OV=(e,t)=>{const r=Ba(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return $o(r,r)},jV=(e,t)=>{const r=1-t,s=Ba(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return $o(s,s)};class Yy{constructor(t,r,s){this.strength=t,this.radius=r,this.threshold=s,this.type="bloom"}interpolate(t,r,s){this.strength=Dr(t.strength,r.strength,s),this.radius=Dr(t.radius,r.radius,s),this.threshold=Dr(t.threshold,r.threshold,s)}clone(){return new Yy(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:ed(this.radius),strength:this.strength,threshold:this.threshold}}}class Xy{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,s){this.radius=Math.round(Dr(t.radius,r.radius,s))}clone(){return new Xy(this.radius)}toJSON(){return{type:"blur",radius:ed(this.radius)}}}class Od{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,s){this.amount=Dr(t.amount,r.amount,s),this._updateMatrix()}clone(){return new Od(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||Zy();switch(this.type){case"brightness":this._colorMatrix=EV(t,this.amount);break;case"contrast":this._colorMatrix=TV(t,this.amount);break;case"grayscale":this._colorMatrix=kV(t,this.amount);break;case"invert":this._colorMatrix=IV(t,this.amount);break;case"saturate":this._colorMatrix=OV(t,this.amount);break;case"sepia":this._colorMatrix=jV(t,this.amount)}}}class em{constructor(t,r,s,i){this.offsetX=t,this.offsetY=r,this.blurRadius=s,this.color=i,this.type="drop-shadow"}interpolate(t,r,s){this.offsetX=Dr(t.offsetX,r.offsetX,s),this.offsetY=Dr(t.offsetY,r.offsetY,s),this.blurRadius=Dr(t.blurRadius,r.blurRadius,s),this.color[0]=Math.round(Dr(t.color[0],r.color[0],s)),this.color[1]=Math.round(Dr(t.color[1],r.color[1],s)),this.color[2]=Math.round(Dr(t.color[2],r.color[2],s)),this.color[3]=Dr(t.color[3],r.color[3],s)}clone(){return new em(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:ed(this.offsetX),yoffset:ed(this.offsetY),blurRadius:ed(this.blurRadius),color:t}}}class tm{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,s){this.angle=Dr(t.angle,r.angle,s),this._updateMatrix()}clone(){return new tm(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||Zy();this._colorMatrix=MV(t,this.angle)}}class rm{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,s){this.amount=Dr(t.amount,r.amount,s)}clone(){return new rm(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Dr(e,t,r){return e+(t-e)*r}function ed(e){return Math.round(1e3*dn(e))/1e3}function CV(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new Od(e.type,0);case"saturate":case"brightness":case"contrast":return new Od(e.type,1);case"opacity":return new rm(1);case"hue-rotate":return new tm(0);case"blur":return new Xy(0);case"drop-shadow":return new em(0,0,0,[...L1("transparent")]);case"bloom":return new Yy(0,0,1)}}function AV(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((s,i)=>s.type===r[i].type)}function RV(e,t){const r=e.length>t.length?e:t,s=e.length>t.length?t:e;for(let i=s.length;i<r.length;i++)s.push(CV(r[i]))}function PV(e){const t=e[0];return!!t&&"type"in t}var H8,G8,N6={exports:{}};function D6(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=W8(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new Y("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:W8(r.value)}});t.sort((r,s)=>s.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!AV(t[r].effects,t[r+1].effects))throw new Y("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});RV(t[r].effects,t[r+1].effects)}return t.sort((r,s)=>s.scale-r.scale),t}function W8(e){let t;if(!e)return[];try{t=N6.exports.parse(e)}catch(r){throw new Y("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>LV(r))}function LV(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return FV(e);case"opacity":return NV(e);case"hue-rotate":return DV(e);case"blur":return zV(e);case"drop-shadow":return VV(e);case"bloom":return UV(e)}}catch(t){throw t.details.filter=e,t}throw new Y("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function FV(e){let t=1;return Mu(e.parameters,1),e.parameters.length===1&&(t=Us(e.parameters[0])),new Od(e.name,t)}function NV(e){let t=1;return Mu(e.parameters,1),e.parameters.length===1&&(t=Us(e.parameters[0])),new rm(t)}function DV(e){let t=0;return Mu(e.parameters,1),e.parameters.length===1&&(t=JV(e.parameters[0])),new tm(t)}function zV(e){let t=0;return Mu(e.parameters,1),e.parameters.length===1&&(t=A_(e.parameters[0]),lp(t,e.parameters[0])),new Xy(t)}function VV(e){const t=[];let r=null;for(const s of e.parameters)if(s.type==="color"){if(t.length&&Object.freeze(t),r)throw new Y("effect:type-error","Accepts only one color",{});r=KV(s)}else{const i=A_(s);if(Object.isFrozen(t))throw new Y("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&lp(i,s)}if(t.length<2||t.length>3)throw new Y("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new em(t[0],t[1],t[2]||0,r||z6("black"))}function UV(e){let t=1,r=0,s=0;return Mu(e.parameters,3),e.parameters[0]&&(t=Us(e.parameters[0])),e.parameters[1]&&(r=A_(e.parameters[1]),lp(r,e.parameters[1])),e.parameters[2]&&(s=Us(e.parameters[2])),new Yy(t,r,s)}function Mu(e,t){if(e.length>t)throw new Y("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function sm(e){if(e.type==="color")return"<color>";if(e.unit){if(C_[e.unit])return"<length>";if(j_[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function lp(e,t){if(e<0)throw new Y("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function qV(e){if(e.type!=="quantity"||e.unit!==null)throw new Y("effect:type-error",`Expected <double>, Actual: ${sm(e)}`,{term:e})}function BV(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new Y("effect:type-error",`Expected <double> or <percentage>, Actual: ${sm(e)}`,{term:e})}G8=function(){function e(i,n){function a(){this.constructor=i}a.prototype=n.prototype,i.prototype=new a}function t(i,n,a,l){var d=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(d,t.prototype),d.expected=n,d.found=a,d.location=l,d.name="SyntaxError",d}function r(i,n,a){return a=a||" ",i.length>n?i:(n-=i.length,i+(a+=a.repeat(n)).slice(0,n))}function s(i,n){var a,l={},d=(n=n!==void 0?n:{}).grammarSource,h={start:Ge},f=Ge,y="none",v=")",b=",",x="(",I="%",A="px",q="cm",G="mm",C="in",p="pt",m="pc",g="deg",_="rad",$="grad",T="turn",S="#",O=".",W="e",U=/^[ \t\n\r]/,F=/^[a-z\-]/,J=/^[0-9a-fA-F]/,E=/^[+\-]/,z=/^[0-9]/,K=pt("none"),fe=ve("none",!1),Me=ve(")",!1),me=ve(",",!1),Qe=pt("whitespace"),xt=Je([" ","	",`
`,"\r"],!1,!1),Kt=pt("function"),bt=ve("(",!1),st=pt("identifier"),wt=Je([["a","z"],"-"],!1,!1),Dt=pt("percentage"),xr=ve("%",!1),fr=pt("length"),ti=ve("px",!1),j=ve("cm",!1),R=ve("mm",!1),Q=ve("in",!1),B=ve("pt",!1),te=ve("pc",!1),le=pt("angle"),de=ve("deg",!1),oe=ve("rad",!1),ce=ve("grad",!1),se=ve("turn",!1),Se=pt("number"),ge=pt("color"),xe=ve("#",!1),we=Je([["0","9"],["a","f"],["A","F"]],!1,!1),Ne=Je(["+","-"],!1,!1),Be=Je([["0","9"]],!1,!1),Ze=ve(".",!1),_t=ve("e",!1),yr=function(){return[]},ri=function(M,Z){return{type:"function",name:M,parameters:Z||[]}},Ga=function(M,Z){return Z.length>0?QO(M,Z,3):[M]},ji=function(M){return{type:"quantity",value:M.value,unit:M.unit}},Wa=function(M){return{type:"color",colorType:M.type,value:M.value}},nr=function(M){return M},Ar=function(){return ne()},xo=function(M){return{value:M,unit:"%"}},fm=function(M){return{value:M,unit:"px"}},ym=function(M){return{value:M,unit:"cm"}},Cu=function(M){return{value:M,unit:"mm"}},mm=function(M){return{value:M,unit:"in"}},Au=function(M){return{value:M,unit:"pt"}},Ja=function(M){return{value:M,unit:"pc"}},up=function(M){return{value:M,unit:"deg"}},cp=function(M){return{value:M,unit:"rad"}},$s=function(M){return{value:M,unit:"grad"}},Ci=function(M){return{value:M,unit:"turn"}},dp=function(M){return{value:M,unit:null}},gm=function(){return{type:"hex",value:ne()}},Ai=function(M){return{type:"function",value:M}},pp=function(){return{type:"named",value:ne()}},hp=function(){return parseFloat(ne())},N=0,He=0,Ka=[{line:1,column:1}],Wr=0,L=[],P=0;if("startRule"in n){if(!(n.startRule in h))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');f=h[n.startRule]}function ne(){return i.substring(He,N)}function ve(M,Z){return{type:"literal",text:M,ignoreCase:Z}}function Je(M,Z,re){return{type:"class",parts:M,inverted:Z,ignoreCase:re}}function Rt(){return{type:"end"}}function pt(M){return{type:"other",description:M}}function zt(M){var Z,re=Ka[M];if(re)return re;for(Z=M-1;!Ka[Z];)Z--;for(re={line:(re=Ka[Z]).line,column:re.column};Z<M;)i.charCodeAt(Z)===10?(re.line++,re.column=1):re.column++,Z++;return Ka[M]=re,re}function ut(M,Z){var re=zt(M),ze=zt(Z);return{source:d,start:{offset:M,line:re.line,column:re.column},end:{offset:Z,line:ze.line,column:ze.column}}}function ye(M){N<Wr||(N>Wr&&(Wr=N,L=[]),L.push(M))}function ht(M,Z,re){return new t(t.buildMessage(M,Z),M,Z,re)}function Ge(){var M;return(M=Rr())===l&&(M=Jr()),M}function Rr(){var M,Z;return P++,M=N,er(),i.substr(N,4)===y?(Z=y,N+=4):(Z=l,P===0&&ye(fe)),Z!==l?(er(),He=M,M=yr()):(N=M,M=l),P--,M===l&&P===0&&ye(K),M}function Jr(){var M,Z;if(M=[],(Z=si())!==l)for(;Z!==l;)M.push(Z),Z=si();else M=l;return M}function si(){var M,Z,re,ze;return M=N,er(),(Z=qO())!==l?(er(),(re=vm())===l&&(re=null),er(),i.charCodeAt(N)===41?(ze=v,N++):(ze=l,P===0&&ye(Me)),ze!==l?(er(),He=M,M=ri(Z,re)):(N=M,M=l)):(N=M,M=l),M}function vm(){var M,Z,re,ze,or,kt,os,fp;if(M=N,(Z=bm())!==l){for(re=[],ze=N,or=er(),i.charCodeAt(N)===44?(kt=b,N++):(kt=l,P===0&&ye(me)),kt===l&&(kt=null),os=er(),(fp=bm())!==l?ze=or=[or,kt,os,fp]:(N=ze,ze=l);ze!==l;)re.push(ze),ze=N,or=er(),i.charCodeAt(N)===44?(kt=b,N++):(kt=l,P===0&&ye(me)),kt===l&&(kt=null),os=er(),(fp=bm())!==l?ze=or=[or,kt,os,fp]:(N=ze,ze=l);He=M,M=Ga(Z,re)}else N=M,M=l;return M}function bm(){var M,Z;return M=N,(Z=BO())===l&&(Z=HO())===l&&(Z=GO())===l&&(Z=WO()),Z!==l&&(He=M,Z=ji(Z)),(M=Z)===l&&(M=N,(Z=JO())!==l&&(He=M,Z=Wa(Z)),M=Z),M}function er(){var M,Z;for(P++,M=[],U.test(i.charAt(N))?(Z=i.charAt(N),N++):(Z=l,P===0&&ye(xt));Z!==l;)M.push(Z),U.test(i.charAt(N))?(Z=i.charAt(N),N++):(Z=l,P===0&&ye(xt));return P--,Z=l,P===0&&ye(Qe),M}function qO(){var M,Z,re;return P++,M=N,(Z=t3())!==l?(i.charCodeAt(N)===40?(re=x,N++):(re=l,P===0&&ye(bt)),re!==l?(He=M,M=nr(Z)):(N=M,M=l)):(N=M,M=l),P--,M===l&&(Z=l,P===0&&ye(Kt)),M}function t3(){var M,Z,re;if(P++,M=N,Z=[],F.test(i.charAt(N))?(re=i.charAt(N),N++):(re=l,P===0&&ye(wt)),re!==l)for(;re!==l;)Z.push(re),F.test(i.charAt(N))?(re=i.charAt(N),N++):(re=l,P===0&&ye(wt));else Z=l;return Z!==l&&(He=M,Z=Ar()),P--,(M=Z)===l&&(Z=l,P===0&&ye(st)),M}function BO(){var M,Z,re;return P++,M=N,er(),(Z=ns())!==l?(i.charCodeAt(N)===37?(re=I,N++):(re=l,P===0&&ye(xr)),re!==l?(He=M,M=xo(Z)):(N=M,M=l)):(N=M,M=l),P--,M===l&&P===0&&ye(Dt),M}function HO(){var M,Z,re;return P++,M=N,er(),(Z=ns())!==l?(i.substr(N,2)===A?(re=A,N+=2):(re=l,P===0&&ye(ti)),re!==l?(He=M,M=fm(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,er(),(Z=ns())!==l?(i.substr(N,2)===q?(re=q,N+=2):(re=l,P===0&&ye(j)),re!==l?(He=M,M=ym(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,er(),(Z=ns())!==l?(i.substr(N,2)===G?(re=G,N+=2):(re=l,P===0&&ye(R)),re!==l?(He=M,M=Cu(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,er(),(Z=ns())!==l?(i.substr(N,2)===C?(re=C,N+=2):(re=l,P===0&&ye(Q)),re!==l?(He=M,M=mm(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,er(),(Z=ns())!==l?(i.substr(N,2)===p?(re=p,N+=2):(re=l,P===0&&ye(B)),re!==l?(He=M,M=Au(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,er(),(Z=ns())!==l?(i.substr(N,2)===m?(re=m,N+=2):(re=l,P===0&&ye(te)),re!==l?(He=M,M=Ja(Z)):(N=M,M=l)):(N=M,M=l)))))),P--,M===l&&P===0&&ye(fr),M}function GO(){var M,Z,re;return P++,M=N,(Z=ns())!==l?(i.substr(N,3)===g?(re=g,N+=3):(re=l,P===0&&ye(de)),re!==l?(He=M,M=up(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,(Z=ns())!==l?(i.substr(N,3)===_?(re=_,N+=3):(re=l,P===0&&ye(oe)),re!==l?(He=M,M=cp(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,(Z=ns())!==l?(i.substr(N,4)===$?(re=$,N+=4):(re=l,P===0&&ye(ce)),re!==l?(He=M,M=$s(Z)):(N=M,M=l)):(N=M,M=l),M===l&&(M=N,(Z=ns())!==l?(i.substr(N,4)===T?(re=T,N+=4):(re=l,P===0&&ye(se)),re!==l?(He=M,M=Ci(Z)):(N=M,M=l)):(N=M,M=l)))),P--,M===l&&(Z=l,P===0&&ye(le)),M}function WO(){var M,Z;return P++,M=N,er(),(Z=ns())!==l?(He=M,M=dp(Z)):(N=M,M=l),P--,M===l&&P===0&&ye(Se),M}function JO(){var M,Z,re,ze;if(P++,M=N,i.charCodeAt(N)===35?(Z=S,N++):(Z=l,P===0&&ye(xe)),Z!==l){if(re=[],J.test(i.charAt(N))?(ze=i.charAt(N),N++):(ze=l,P===0&&ye(we)),ze!==l)for(;ze!==l;)re.push(ze),J.test(i.charAt(N))?(ze=i.charAt(N),N++):(ze=l,P===0&&ye(we));else re=l;re!==l?(He=M,M=gm()):(N=M,M=l)}else N=M,M=l;return M===l&&(M=N,(Z=si())!==l&&(He=M,Z=Ai(Z)),(M=Z)===l&&(M=N,(Z=t3())!==l&&(He=M,Z=pp()),M=Z)),P--,M===l&&(Z=l,P===0&&ye(ge)),M}function ns(){var M,Z,re,ze,or,kt,os;for(M=N,E.test(i.charAt(N))?(i.charAt(N),N++):P===0&&ye(Ne),Z=N,re=[],z.test(i.charAt(N))?(ze=i.charAt(N),N++):(ze=l,P===0&&ye(Be));ze!==l;)re.push(ze),z.test(i.charAt(N))?(ze=i.charAt(N),N++):(ze=l,P===0&&ye(Be));if(i.charCodeAt(N)===46?(ze=O,N++):(ze=l,P===0&&ye(Ze)),ze!==l){if(or=[],z.test(i.charAt(N))?(kt=i.charAt(N),N++):(kt=l,P===0&&ye(Be)),kt!==l)for(;kt!==l;)or.push(kt),z.test(i.charAt(N))?(kt=i.charAt(N),N++):(kt=l,P===0&&ye(Be));else or=l;or!==l?Z=re=[re,ze,or]:(N=Z,Z=l)}else N=Z,Z=l;if(Z===l)if(Z=[],z.test(i.charAt(N))?(re=i.charAt(N),N++):(re=l,P===0&&ye(Be)),re!==l)for(;re!==l;)Z.push(re),z.test(i.charAt(N))?(re=i.charAt(N),N++):(re=l,P===0&&ye(Be));else Z=l;if(Z!==l){if(re=N,i.charCodeAt(N)===101?(ze=W,N++):(ze=l,P===0&&ye(_t)),ze!==l){if(E.test(i.charAt(N))?(or=i.charAt(N),N++):(or=l,P===0&&ye(Ne)),or===l&&(or=null),kt=[],z.test(i.charAt(N))?(os=i.charAt(N),N++):(os=l,P===0&&ye(Be)),os!==l)for(;os!==l;)kt.push(os),z.test(i.charAt(N))?(os=i.charAt(N),N++):(os=l,P===0&&ye(Be));else kt=l;kt!==l?re=ze=[ze,or,kt]:(N=re,re=l)}else N=re,re=l;re===l&&(re=null),He=M,M=hp()}else N=M,M=l;return M}function KO(M,Z){return M.map(function(re){return re[Z]})}function QO(M,Z,re){return[M].concat(KO(Z,re))}if((a=f())!==l&&N===i.length)return a;throw a!==l&&N<i.length&&ye(Rt()),ht(L,Wr<i.length?i.charAt(Wr):null,Wr<i.length?ut(Wr,Wr+1):ut(Wr,Wr))}return e(t,Error),t.prototype.format=function(i){var n="Error: "+this.message;if(this.location){var a,l=null;for(a=0;a<i.length;a++)if(i[a].source===this.location.source){l=i[a].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,h=this.location.source+":"+d.line+":"+d.column;if(l){var f=this.location.end,y=r("",d.line.toString().length),v=l[d.line-1],b=d.line===f.line?f.column:v.length+1;n+=`
 --> `+h+`
`+y+` |
`+d.line+" | "+v+`
`+y+" | "+r("",d.column-1)+r("",b-d.column,"^")}else n+=`
 at `+h}return n},t.buildMessage=function(i,n){var a={literal:function(b){return'"'+d(b.text)+'"'},class:function(b){var x=b.parts.map(function(I){return Array.isArray(I)?h(I[0])+"-"+h(I[1]):h(I)});return"["+(b.inverted?"^":"")+x+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function l(b){return b.charCodeAt(0).toString(16).toUpperCase()}function d(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(x){return"\\x0"+l(x)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(x){return"\\x"+l(x)})}function h(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(x){return"\\x0"+l(x)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(x){return"\\x"+l(x)})}function f(b){return a[b.type](b)}function y(b){var x,I,A=b.map(f);if(A.sort(),A.length>0){for(x=1,I=1;x<A.length;x++)A[x-1]!==A[x]&&(A[I]=A[x],I++);A.length=I}switch(A.length){case 1:return A[0];case 2:return A[0]+" or "+A[1];default:return A.slice(0,-1).join(", ")+", or "+A[A.length-1]}}function v(b){return b?'"'+d(b)+'"':"end of input"}return"Expected "+y(i)+" but "+v(n)+" found."},{SyntaxError:t,parse:s}},(H8=N6).exports&&(H8.exports=G8());const j_={deg:1,grad:.9,rad:180/Math.PI,turn:360};function HV(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&j_[e.unit]!=null))throw new Y("effect:type-error",`Expected <angle>, Actual: ${sm(e)}`,{term:e})}const C_={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function GV(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&C_[e.unit]!=null))throw new Y("effect:type-error",`Expected <length>, Actual: ${sm(e)}`,{term:e})}function Us(e){BV(e);const t=e.value;return lp(t,e),e.unit==="%"?.01*t:t}function WV(e){return qV(e),lp(e.value,e),e.value}function JV(e){return HV(e),e.value*j_[e.unit]||0}function A_(e){return GV(e),e.value*C_[e.unit]||0}function KV(e){switch(e.colorType){case"hex":return _7(e.value);case"named":return z6(e.value);case"function":return YV(e.value)}}function z6(e){if(!$k(e))throw new Y("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return w7(e)}const QV=/^rgba?/i,ZV=/^hsla?/i;function YV(e){if(Mu(e.parameters,4),QV.test(e.name))return[Us(e.parameters[0]),Us(e.parameters[1]),Us(e.parameters[2]),e.parameters[3]?Us(e.parameters[3]):1];if(ZV.test(e.name))return xk(WV(e.parameters[0]),Us(e.parameters[1]),Us(e.parameters[2]),e.parameters[3]?Us(e.parameters[3]):1);throw new Y("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Rb(e,t,r){try{return eU(e)}catch(i){var s;r==null||(s=r.messages)==null||s.push(i)}return null}function Pb(e,t,r,s){try{const i=XV(e);Br(r,i,t)}catch(i){s.messages&&s.messages.push(i)}}function XV(e){const t=D6(e);return t?PV(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:s})=>({scale:r,value:s.map(i=>i.toJSON())})):null}function eU(e){if(!e||e.length===0)return null;if(tU(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:J8(r.value)});return t}return J8(e)}function tU(e){const t=e[0];return!!t&&"scale"in t}function J8(e){if(!e||!e.length)return"";const t=[];for(const r of e){let s=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":s=[Ri(r,"amount")];break;case"blur":s=[Ri(r,"radius","pt")];break;case"hue-rotate":s=[Ri(r,"angle","deg")];break;case"drop-shadow":s=[Ri(r,"xoffset","pt"),Ri(r,"yoffset","pt"),Ri(r,"blurRadius","pt"),rU(r,"color")];break;case"bloom":s=[Ri(r,"strength"),Ri(r,"radius","pt"),Ri(r,"threshold")]}const i=`${r.type}(${s.filter(Boolean).join(" ")})`;D6(i),t.push(i)}return t.join(" ")}function Ri(e,t,r){if(e[t]==null)throw new Y("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function rU(e,t){if(e[t]==null)throw new Y("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const V6=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return o([c({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),o([c({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:Rb},write:{allowNull:!0,writer:Pb}}}}})],t.prototype,"effect",void 0),t=o([k("esri.layers.mixins.BlendLayer")],t),t},U6=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return o([c({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=o([k("esri.layers.mixins.CustomParametersMixin")],t),t},K8={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},sU={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function iU(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function _a(e,t,r){const s=new Date(e.getTime());if(t&&r){const i=sU[r],{getter:n,setter:a,multiplier:l}=i;if(r==="months"){const d=iU(s.getFullYear(),s.getMonth()+t);s.getDate()>d&&s.setDate(d)}s[a](s[n]()+t*l)}return s}function Q8(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function nU(e,t,r){return e===0?0:e*K8[t]/K8[r]}var Ls;let es=Ls=class extends ee{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return Z8}static get empty(){return oU}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(Ls.allTime)}get isEmpty(){return this.equals(Ls.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new Ls({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=H(this.start)?this.start.getTime():this.start,r=H(this.end)?this.end.getTime():this.end,s=H(e.start)?e.start.getTime():e.start,i=H(e.end)?e.end.getTime():e.end;return t===s&&r===i}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=Sf(this.start,s=>Q8(s,e)),r=Sf(this.end,s=>_a(Q8(s,e),1,e));return new Ls({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Ls.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=Sl(this.start,-1/0,l=>l.getTime()),r=Sl(this.end,1/0,l=>l.getTime()),s=Sl(e.start,-1/0,l=>l.getTime()),i=Sl(e.end,1/0,l=>l.getTime());let n,a;if(s>=t&&s<=r?n=s:t>=s&&t<=i&&(n=t),r>=s&&r<=i?a=r:i>=t&&i<=r&&(a=i),!isNaN(n)&&!isNaN(a)){const l=new Ls;return l.start=n===-1/0?null:new Date(n),l.end=a===1/0?null:new Date(a),l}return Ls.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new Ls,{start:s,end:i}=this;return H(s)&&(r.start=_a(s,e,t)),H(i)&&(r.end=_a(i,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return Z8.clone();const t=H(this.start)&&H(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=H(this.end)&&H(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Ls({start:t,end:r})}};o([c({type:Date,json:{write:{allowNull:!0}}})],es.prototype,"end",void 0),o([ue("end")],es.prototype,"readEnd",null),o([he("end")],es.prototype,"writeEnd",null),o([c({readOnly:!0,json:{read:!1}})],es.prototype,"isAllTime",null),o([c({readOnly:!0,json:{read:!1}})],es.prototype,"isEmpty",null),o([c({type:Date,json:{write:{allowNull:!0}}})],es.prototype,"start",void 0),o([ue("start")],es.prototype,"readStart",null),o([he("start")],es.prototype,"writeStart",null),es=Ls=o([k("esri.TimeExtent")],es);const Z8=new es,oU=new es({start:void 0,end:void 0}),Oi=es;var Lb;let ua=Lb=class extends ee{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new Lb({mapLayerId:e,gdbVersion:t})}};o([Ee({mapLayer:"map-layer"})],ua.prototype,"type",void 0),o([c({type:Bt,json:{write:!0}})],ua.prototype,"mapLayerId",void 0),o([c({type:String,json:{write:!0}})],ua.prototype,"gdbVersion",void 0),ua=Lb=o([k("esri.layers.support.source.MapLayerSource")],ua);var Fb;let Bi=Fb=class extends ee{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:r,oidFields:s,spatialReference:i,geometryType:n}=this,a={workspaceId:t,query:r,oidFields:s,spatialReference:(e=i==null?void 0:i.clone())!=null?e:void 0,geometryType:n};return new Fb(a)}};o([Ee({queryTable:"query-table"})],Bi.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Bi.prototype,"workspaceId",void 0),o([c({type:String,json:{write:!0}})],Bi.prototype,"query",void 0),o([c({type:String,json:{write:!0}})],Bi.prototype,"oidFields",void 0),o([c({type:Ue,json:{write:!0}})],Bi.prototype,"spatialReference",void 0),o([Ee(rk)],Bi.prototype,"geometryType",void 0),Bi=Fb=o([k("esri.layers.support.source.QueryTableDataSource")],Bi);var Nb;let cl=Nb=class extends ee{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new Nb({workspaceId:e,dataSourceName:t})}};o([Ee({raster:"raster"})],cl.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],cl.prototype,"dataSourceName",void 0),o([c({type:String,json:{write:!0}})],cl.prototype,"workspaceId",void 0),cl=Nb=o([k("esri.layers.support.source.RasterDataSource")],cl);var Db;let Yo=Db=class extends ee{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new Db({workspaceId:e,gdbVersion:t,dataSourceName:r})}};o([Ee({table:"table"})],Yo.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Yo.prototype,"workspaceId",void 0),o([c({type:String,json:{write:!0}})],Yo.prototype,"gdbVersion",void 0),o([c({type:String,json:{write:!0}})],Yo.prototype,"dataSourceName",void 0),Yo=Db=o([k("esri.layers.support.source.TableDataSource")],Yo);var zb,Vb;const aU=ir()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Qr=zb=class extends ee{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return Y8()(e,t,r)}castLeftTableSource(e){return Ti(Ub(),e)}readRightTableSource(e,t,r){return Y8()(e,t,r)}castRightTableSource(e){return Ti(Ub(),e)}clone(){var e,t;const{leftTableKey:r,rightTableKey:s,leftTableSource:i,rightTableSource:n,joinType:a}=this,l={leftTableKey:r,rightTableKey:s,leftTableSource:(e=i==null?void 0:i.clone())!=null?e:void 0,rightTableSource:(t=n==null?void 0:n.clone())!=null?t:void 0,joinType:a};return new zb(l)}};o([Ee({joinTable:"join-table"})],Qr.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Qr.prototype,"leftTableKey",void 0),o([c({type:String,json:{write:!0}})],Qr.prototype,"rightTableKey",void 0),o([c({json:{write:!0}})],Qr.prototype,"leftTableSource",void 0),o([ue("leftTableSource")],Qr.prototype,"readLeftTableSource",null),o([Ct("leftTableSource")],Qr.prototype,"castLeftTableSource",null),o([c({json:{write:!0}})],Qr.prototype,"rightTableSource",void 0),o([ue("rightTableSource")],Qr.prototype,"readRightTableSource",null),o([Ct("rightTableSource")],Qr.prototype,"castRightTableSource",null),o([Ee(aU)],Qr.prototype,"joinType",void 0),Qr=zb=o([k("esri.layers.support.source.JoinTableDataSource")],Qr);let ng=null;function Y8(){return ng||(ng=Ra({types:Ub()})),ng}let og=null;function Ub(){return og||(og={key:"type",base:null,typeMap:{"data-layer":ys,"map-layer":ua}}),og}const lU={key:"type",base:null,typeMap:{"join-table":Qr,"query-table":Bi,raster:cl,table:Yo}};let ys=Vb=class extends ee{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new Vb({fields:e,dataSource:t})}};o([Ee({dataLayer:"data-layer"})],ys.prototype,"type",void 0),o([c({type:[Jy],json:{write:!0}})],ys.prototype,"fields",void 0),o([c({types:lU,json:{write:!0}})],ys.prototype,"dataSource",void 0),ys=Vb=o([k("esri.layers.support.source.DataLayerSource")],ys),ys.from=lt(ys);var qb;const X8=new Ce({upperLeft:"upper-left",lowerLeft:"lower-left"});let Xo=qb=class extends ee{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new qb(D({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};o([c({type:Nt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Xo.prototype,"extent",void 0),o([c({type:["view","edit"],json:{write:!0}})],Xo.prototype,"mode",void 0),o([c({type:String,json:{read:X8.read,write:X8.write}})],Xo.prototype,"originPosition",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Xo.prototype,"tolerance",void 0),Xo=qb=o([k("esri.rest.support.QuantizationParameters")],Xo);const q6=Xo;var Bb;const e$=new Ce({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Fs=Bb=class extends ee{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=D(e))}clone(){return new Bb({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:D(this.statisticParameters)})}};o([c({type:Number,json:{write:!0}})],Fs.prototype,"maxPointCount",void 0),o([c({type:Number,json:{write:!0}})],Fs.prototype,"maxRecordCount",void 0),o([c({type:Number,json:{write:!0}})],Fs.prototype,"maxVertexCount",void 0),o([c({type:String,json:{write:!0}})],Fs.prototype,"onStatisticField",void 0),o([c({type:String,json:{write:!0}})],Fs.prototype,"outStatisticFieldName",void 0),o([c({type:String,json:{read:{source:"statisticType",reader:e$.read},write:{target:"statisticType",writer:e$.write}}})],Fs.prototype,"statisticType",void 0),o([c({type:Object})],Fs.prototype,"statisticParameters",void 0),o([he("statisticParameters")],Fs.prototype,"writeStatisticParameters",null),Fs=Bb=o([k("esri.rest.support.StatisticDefinition")],Fs);const B6=Fs;var Bl;const uU=new Ce({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),cU=new Ce({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Te=Bl=class extends ee{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return ky(Bl,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const s in e){const i=e[s];Array.isArray(i)?r[s]=i.map(n=>n instanceof Date?n.getTime():n):i instanceof Date?r[s]=i.getTime():r[s]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Bl(D({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:H(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};Te.MAX_MAX_RECORD_COUNT_FACTOR=5,o([c({json:{write:!0}})],Te.prototype,"aggregateIds",void 0),o([c({type:Boolean,json:{write:!0}})],Te.prototype,"cacheHint",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"compactGeometryEnabled",void 0),o([c({json:{write:!0}})],Te.prototype,"datumTransformation",void 0),o([Ct("datumTransformation")],Te.prototype,"castDatumTransformation",null),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"defaultSpatialReferenceEnabled",void 0),o([c({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Te.prototype,"distance",void 0),o([c({type:ys,json:{write:!0}})],Te.prototype,"dynamicDataSource",void 0),o([c({type:String,json:{write:!0}})],Te.prototype,"formatOf3DObjects",void 0),o([c({type:String,json:{write:!0}})],Te.prototype,"gdbVersion",void 0),o([c({types:La,json:{read:ss,write:!0}})],Te.prototype,"geometry",void 0),o([c({type:Number,json:{write:!0}})],Te.prototype,"geometryPrecision",void 0),o([c({type:[String],json:{write:!0}})],Te.prototype,"groupByFieldsForStatistics",void 0),o([c({type:String,json:{write:!0}})],Te.prototype,"having",void 0),o([c({type:Date})],Te.prototype,"historicMoment",void 0),o([he("historicMoment")],Te.prototype,"writeHistoricMoment",null),o([c({type:Number,json:{write:!0}})],Te.prototype,"maxAllowableOffset",void 0),o([c({type:Number,cast:e=>e<1?1:e>Bl.MAX_MAX_RECORD_COUNT_FACTOR?Bl.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],Te.prototype,"maxRecordCountFactor",void 0),o([c({type:["xyFootprint"],json:{write:!0}})],Te.prototype,"multipatchOption",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],Te.prototype,"num",void 0),o([c({json:{write:!0}})],Te.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],Te.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],Te.prototype,"outFields",void 0),o([c({type:Ue,json:{name:"outSR",write:!0}})],Te.prototype,"outSpatialReference",void 0),o([c({type:[B6],json:{write:{enabled:!0,overridePolicy(){return{enabled:H(this.outStatistics)&&this.outStatistics.length>0}}}}})],Te.prototype,"outStatistics",void 0),o([c({json:{write:!0}})],Te.prototype,"parameterValues",void 0),o([he("parameterValues")],Te.prototype,"writeParameterValues",null),o([c({type:dt,json:{write:!0}})],Te.prototype,"pixelSize",void 0),o([c({type:q6,json:{write:!0}})],Te.prototype,"quantizationParameters",void 0),o([c({type:[Object],json:{write:!0}})],Te.prototype,"rangeValues",void 0),o([c({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Te.prototype,"relationParameter",void 0),o([c({type:String,json:{write:!0}})],Te.prototype,"resultType",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"returnCentroid",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"returnDistinctValues",void 0),o([c({type:Boolean,json:{default:!0,write:!0}})],Te.prototype,"returnExceededLimitFeatures",void 0),o([c({type:Boolean,json:{write:!0}})],Te.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"returnQueryGeometry",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Te.prototype,"returnZ",void 0),o([c({type:Ue,json:{write:!0}})],Te.prototype,"sourceSpatialReference",void 0),o([Ee(uU,{ignoreUnknown:!1,name:"spatialRel"})],Te.prototype,"spatialRelationship",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],Te.prototype,"start",void 0),o([he("start"),he("num")],Te.prototype,"writeStart",null),o([c({type:String,json:{write:!0}})],Te.prototype,"sqlFormat",void 0),o([c({type:String,json:{write:!0}})],Te.prototype,"text",void 0),o([c({type:Oi,json:{write:!0}})],Te.prototype,"timeExtent",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],Te.prototype,"timeReferenceUnknownClient",void 0),o([Ee(cU,{ignoreUnknown:!1}),c({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],Te.prototype,"units",void 0),o([c({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],Te.prototype,"where",void 0),o([he("where")],Te.prototype,"writeWhere",null),Te=Bl=o([k("esri.rest.support.Query")],Te);const ca=Te;var Hb;const ag=new Ce({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),lg=new Ce({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let mi=Hb=class extends ee{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:s,timeExtent:i,objectIds:n,units:a,distance:l}=this;return new ca(V({geometry:D(r),objectIds:D(n),spatialRelationship:s,timeExtent:D(i),where:t,units:a,distance:l},e))}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:s,objectIds:i,units:n,distance:a}=this;return new Hb({geometry:D(t),objectIds:D(i),spatialRelationship:r,timeExtent:D(s),where:e,units:n,distance:a})}};o([c({type:String,json:{write:!0}})],mi.prototype,"where",void 0),o([c({types:La,json:{write:!0}})],mi.prototype,"geometry",void 0),o([c({type:ag.apiValues,json:{name:"spatialRel",read:{reader:ag.read},write:{allowNull:!1,writer:ag.write,overridePolicy(){return{enabled:H(this.geometry)}}}}})],mi.prototype,"spatialRelationship",void 0),o([c({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],mi.prototype,"distance",void 0),o([c({type:[Number],json:{write:!0}})],mi.prototype,"objectIds",void 0),o([c({type:lg.apiValues,json:{read:lg.read,write:{writer:lg.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],mi.prototype,"units",void 0),o([c({type:Oi,json:{write:!0}})],mi.prototype,"timeExtent",void 0),mi=Hb=o([k("esri.layers.support.FeatureFilter")],mi);const dU=mi;var Gb;let ea=Gb=class extends ee{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const n=Object.keys(r.filter);var s;if(n.length>1||n[0]!=="where")return(s=t.messages)==null||s.push(new Y("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}var i;if("showExcludedLabels"in r)return(i=t.messages)==null||i.push(new Y("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new Gb({filter:H(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};o([c({type:dU,json:{write:{allowNull:!0,writer(e,t,r,s){const i=e==null?void 0:e.write({},s);i&&Object.keys(i).length!==0?Br(r,i,t):Br(r,null,t)}}}})],ea.prototype,"filter",void 0),o([c({json:{write:!0,origins:{"web-map":{read:{reader:Rb},write:{writer:Pb,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}}}}})],ea.prototype,"includedEffect",void 0),o([c({json:{write:!0,origins:{"web-map":{read:{reader:Rb},write:{writer:Pb,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}}}}})],ea.prototype,"excludedEffect",void 0),o([c({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],ea.prototype,"excludedLabelsVisible",void 0),ea=Gb=o([k("esri.layers.support.FeatureEffect")],ea);const pU=ea,H6=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return o([c({type:pU,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],t.prototype,"featureEffect",void 0),t=o([k("esri.layers.mixins.FeatureEffectLayer")],t),t},hU={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function fU(e){if(!e)return e;const{start:t,end:r}=e;return new Oi({start:H(t)?_a(t,-t.getTimezoneOffset(),"minutes"):t,end:H(r)?_a(r,-r.getTimezoneOffset(),"minutes"):r})}function yU(e){if(!e)return e;const{start:t,end:r}=e;return new Oi({start:H(t)?_a(t,t.getTimezoneOffset(),"minutes"):t,end:H(r)?_a(r,r.getTimezoneOffset(),"minutes"):r})}var Wb;let Mc=Wb=class extends ee{async collectRequiredFields(e,t){return yn(e,t,this.expression)}clone(){return new Wb({expression:this.expression,title:this.title})}};o([c({type:String,json:{write:!0}})],Mc.prototype,"expression",void 0),o([c({type:String,json:{write:!0}})],Mc.prototype,"title",void 0),Mc=Wb=o([k("esri.layers.support.FeatureExpressionInfo")],Mc);const t$=Mc;function mU(){const e=Object.keys(UM);return e.sort(),e}const gU=mU();var Jb;const Gp=ir()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),r$=new Ce({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Hi=Jb=class extends ee{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,s){t[r]=e.write({},s),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):H(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new Jb({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};o([c({type:t$,json:{write:!0}})],Hi.prototype,"featureExpressionInfo",void 0),o([ue("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Hi.prototype,"readFeatureExpressionInfo",null),o([he("featureExpressionInfo",{featureExpressionInfo:{type:t$},"featureExpression.value":{type:[0]}})],Hi.prototype,"writeFeatureExpressionInfo",null),o([c({type:Gp.apiValues,nonNullable:!0,json:{type:Gp.jsonValues,read:Gp.read,write:{writer:Gp.write,isRequired:!0}}})],Hi.prototype,"mode",null),o([c({type:Number,json:{write:!0}})],Hi.prototype,"offset",void 0),o([c({type:gU,json:{type:String,read:r$.read,write:r$.write}})],Hi.prototype,"unit",null),Hi=Jb=o([k("esri.layers.support.ElevationInfo")],Hi);const G6=Hi,W6={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},R_={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},P_={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},J6={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:yo}}},K6={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},Q6={value:null,type:G6,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function vU(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const td={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},Z6=Ie(V({},td),{json:Ie(V({},td.json),{origins:{"web-document":Ie(V({},td.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Sd(t.layerDefinition.drawingInfo.transparency):void 0:Sd(t.drawingInfo.transparency)}})}),bU={type:Oi,readOnly:!0,get(){var e,t;if((e=this.layer)==null||!e.timeInfo)return null;const{datesInUnknownTimezone:r,timeOffset:s,useViewTime:i}=this.layer,n=(t=this.view)==null?void 0:t.timeExtent;let a=this.layer.timeExtent;r&&(a=yU(a));let l=i?n&&a?n.intersection(a):n||a:a;if(!l||l.isEmpty||l.isAllTime)return l;s&&(l=l.offset(-s.value,s.unit)),r&&(l=fU(l));const d=this._get("timeExtent");return l.equals(d)?d:l}},wU={type:Nt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Nt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=Ue.fromJSON(t.spatialReference)),r}}}},read:!1}},Y6={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},X6={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},eI={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},tI=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,s,i,n){(n&&n.layerContainerType==="ground"||r&&CT(this,i,{},n))&&(s[i]=r)}writeOperationalLayerType(r,s,i,n){!r||n&&n.layerContainerType==="tables"||(s.layerType=r)}writeTitle(r,s){s.title=r||"Layer"}read(r,s){s&&(s.layer=this),x9(this,r,i=>super.read(r,i),s)}write(r,s){if(s!=null&&s.origin){const d=`${s.origin}/${s.layerContainerType||"operational-layers"}`,h=hU[d];let f=h&&h[this.operationalLayerType];var i;if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(f=!1),!f)return(i=s.messages)==null||i.push(new Y("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const n=super.write(r,Ie(V({},s),{layer:this})),a=!!s&&!!s.messages&&!!s.messages.filter(d=>d instanceof Y&&d.name==="web-document-write:property-required").length;var l;return rp(n==null?void 0:n.url)?(s==null||(l=s.messages)==null||l.push(new Y("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&a?null:n}beforeSave(){}};return o([c({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),o([c({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),o([he("listMode")],t.prototype,"writeListMode",null),o([c({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),o([he("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),o([c(td)],t.prototype,"opacity",void 0),o([c({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),o([he("title")],t.prototype,"writeTitle",null),o([c({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=o([k("esri.layers.mixins.OperationalLayer")],t),t};var Kb;const ug=new Ce({asc:"ascending",desc:"descending"});let dl=Kb=class extends ee{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new Kb({field:this.field,valueExpression:this.valueExpression,order:this.order})}};o([c({type:String,json:{write:!0}})],dl.prototype,"field",void 0),o([c({type:String,json:{write:!0}})],dl.prototype,"valueExpression",void 0),o([c({type:ug.apiValues,json:{read:ug.read,write:ug.write}})],dl.prototype,"order",void 0),dl=Kb=o([k("esri.layers.support.OrderByInfo")],dl);const rI=dl;function _U(e,t,r){if(!e)return null;const s=e.find(n=>!!n.field);if(!s)return null;const i=new rI;return i.read(s,r),[i]}function SU(e,t,r,s){const i=e.find(n=>!!n.field);i&&Br(r,[i.toJSON()],t)}const sI=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return o([c({type:[rI],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:_U},write:{target:"layerDefinition.orderBy",writer:SU}}})],t.prototype,"orderBy",void 0),t=o([k("esri.layers.mixins.OrderedLayer")],t),t};function $U(e,t,r){return $i(e.map((s,i)=>t.apply(r,[s,i])))}function xU(e,t,r){return $i(e.map((s,i)=>t.apply(r,[s,i]))).then(s=>s.map(i=>i.value))}function L_(e){return be(e)?rT():e.then(t=>({ok:!0,value:t})).catch(t=>({ok:!1,error:t}))}function EU(e){return e.then(t=>({ok:!0,value:t})).catch(t=>(hu(t),{ok:!1,error:t}))}const TU=pe.getLogger("esri.portal.PortalItemResource");let Dn=class extends vt{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?Ie(V({},e),{path:this._normalizePath(e.path,e.portalItem)}):e}set path(e){H(e)&&Ur(e)?TU.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(be(r))throw new Y("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:TE(t,"signal")})}async update(e,t){return(await Fe(()=>import("./resourceUtils.95b48ba9.js"),[],import.meta.url)).addOrUpdateResource(this,"update",e,t)}hasPath(){return H(this.path)}_normalizePath(e,t){return be(e)?e:(e=e.replace(/^\/+/,""),H(t)&&Ur(e)&&(e=Fy(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};o([c()],Dn.prototype,"portalItem",void 0),o([c({type:String,value:null})],Dn.prototype,"path",null),o([Ct("path")],Dn.prototype,"_castPath",null),o([c({type:String,readOnly:!0})],Dn.prototype,"url",null),o([c({type:String,readOnly:!0})],Dn.prototype,"itemRelativeUrl",null),Dn=o([k("esri.portal.PortalItemResource")],Dn);const kU=Dn;let Ic=class extends vt{constructor(e){super(e),this.created=null,this.rating=null}};o([c()],Ic.prototype,"created",void 0),o([c()],Ic.prototype,"rating",void 0),Ic=o([k("esri.portal.PortalRating")],Ic);const cg=Ic;var pl;let De=pl=class extends Iy(sp){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return ky(pl,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":e==="Image Service"?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Media Service"?r="Media Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.indexOf("Spatiotemporal")===-1&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&t.indexOf("Relational")===-1?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.indexOf("configurableApp")>-1&&(r="Instant App"),r}readExtent(e){return e&&e.length?new Nt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",s="16";let i,n=!1,a=!1,l=!1,d=!1,h=!1,f=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(n=t.indexOf("Hosted Service")>-1,e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.indexOf("Table")>-1,l=t.indexOf("Route Layer")>-1,d=t.indexOf("Markup")>-1,h=t.indexOf("Spatiotemporal")!==-1,f=t.indexOf("UtilityNetwork")!==-1,i=h&&a?"spatiotemporaltable":a?"table":l?"routelayer":d?"markup":h?"spatiotemporal":n?"featureshosted":f?"utilitynetwork":"features"):i=e==="map service"||e==="wms"||e==="wmts"?n||t.indexOf("Tiled")>-1||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="media service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):i=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.indexOf("configurableApp")>-1?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.indexOf("ArcGIS Pro")>-1||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":"maps",i?ku(r+i+s+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=jr.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:H(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof cg&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new cg({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:D(this.applicationProxies),avgRating:this.avgRating,categories:D(this.categories),created:D(this.created),culture:this.culture,description:this.description,extent:D(this.extent),groupCategories:D(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:D(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:D(this.screenshots),size:this.size,snippet:this.snippet,tags:D(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:D(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new pl({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",Ie(V({responseType:e},t),{query:{token:this.apiKey}}))}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",V({query:{token:this.apiKey}},e)).then(t=>t.rating!=null?(t.created=new Date(t.created),new cg(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",V({query:Ie(V({},e),{token:this.apiKey})},t),pl)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const s in r.query)r.query[s]===null&&(r.query[s]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new Y("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if(typeof t=="string")bo(t)?s.query={data:t}:s.query={url:ws(t)},H(r)&&(s.query.filename=r);else{const i=new FormData;H(r)?i.append("file",t,r):i.append("file",t),s.body=i}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,s).then(()=>this.reload())}):Promise.reject(new Y("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await Fe(()=>import("./resourceUtils.95b48ba9.js"),[],import.meta.url)).fetchResources(this,e,t)}async addResource(e,t,r){const s=await Fe(()=>import("./resourceUtils.95b48ba9.js"),[],import.meta.url);return e.portalItem=this,s.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await Fe(()=>import("./resourceUtils.95b48ba9.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new Y("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await Fe(()=>import("./resourceUtils.95b48ba9.js"),[],import.meta.url)).removeAllResources(this,e)}resourceFromPath(e){return new kU({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return t1(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new pl({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};o([c({type:["private","shared","org","public"]})],De.prototype,"access",void 0),o([c()],De.prototype,"accessInformation",void 0),o([c({type:String})],De.prototype,"apiKey",void 0),o([c({json:{read:{source:"appProxies"}}})],De.prototype,"applicationProxies",void 0),o([c()],De.prototype,"avgRating",void 0),o([c()],De.prototype,"categories",void 0),o([c({type:Date})],De.prototype,"created",void 0),o([c()],De.prototype,"culture",void 0),o([c()],De.prototype,"description",void 0),o([c({readOnly:!0})],De.prototype,"displayName",null),o([c({type:Nt})],De.prototype,"extent",void 0),o([ue("extent")],De.prototype,"readExtent",null),o([c()],De.prototype,"groupCategories",void 0),o([c({readOnly:!0})],De.prototype,"iconUrl",null),o([c()],De.prototype,"id",void 0),o([c({readOnly:!0})],De.prototype,"isLayer",null),o([c()],De.prototype,"itemControl",void 0),o([c({readOnly:!0})],De.prototype,"itemUrl",null),o([c()],De.prototype,"licenseInfo",void 0),o([c({type:Date})],De.prototype,"modified",void 0),o([c()],De.prototype,"name",void 0),o([c()],De.prototype,"numComments",void 0),o([c()],De.prototype,"numRatings",void 0),o([c()],De.prototype,"numViews",void 0),o([c()],De.prototype,"owner",void 0),o([c()],De.prototype,"ownerFolder",void 0),o([c({type:jr})],De.prototype,"portal",void 0),o([c()],De.prototype,"screenshots",void 0),o([c()],De.prototype,"size",void 0),o([c()],De.prototype,"snippet",void 0),o([c()],De.prototype,"sourceJSON",void 0),o([c()],De.prototype,"tags",void 0),o([c()],De.prototype,"thumbnail",void 0),o([c({readOnly:!0})],De.prototype,"thumbnailUrl",null),o([c()],De.prototype,"title",void 0),o([c()],De.prototype,"type",void 0),o([c()],De.prototype,"typeKeywords",void 0),o([c()],De.prototype,"url",void 0),o([c({readOnly:!0})],De.prototype,"userItemUrl",null),De=pl=o([k("esri.portal.PortalItem")],De);const Kf=De;var iI=Object.freeze(Object.defineProperty({__proto__:null,default:Kf},Symbol.toStringTag,{value:"Module"}));const MU=pe.getLogger("esri.layers.mixins.PortalLayer"),nI=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var r;(r=this.portalItem)==null||r.destroy(),this.portalItem=null}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,s,i){if(s.itemId)return new Kf({id:s.itemId,portal:i&&i.portal})}writePortalItem(r,s){r&&r.id&&(s.itemId=r.id)}async loadFromPortal(r,s){if(this.portalItem&&this.portalItem.id)try{const i=await Fe(()=>import("./layersLoader.ff04054c.js"),["./layersLoader.ff04054c.js","./lazyLayerLoader.b91f3137.js","./jsonContext.3812ec14.js"],import.meta.url).then(function(n){return n.l});return Xs(s),await i.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData},s)}catch(i){throw ei(i)||MU.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(s=>(hu(s),!0)))}async _fetchUserHasEditingPrivileges(r){const s=this.url?jt==null?void 0:jt.findCredential(this.url):null;if(!s)return!0;const i=Wp.credential===s?Wp.user:await this._fetchEditingUser(r);return Wp.credential=s,Wp.user=i,be(i)||i.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var s,i;const n=(s=this.portalItem)==null||(i=s.portal)==null?void 0:i.user;if(n)return n;const a=jt.findServerInfo(this.url);if(a==null||!a.owningSystemUrl)return null;const l=`${a.owningSystemUrl}/sharing/rest`,d=jr.getDefault();if(d&&d.loaded&&Ss(d.restUrl)===Ss(l))return d.user;const h=`${l}/community/self`,f=H(r)?r.signal:null,y=await L_(Tt(h,{authMode:"no-prompt",query:{f:"json"},signal:f}));return y.ok?r_.fromJSON(y.value.data):null}read(r,s){s&&(s.layer=this),super.read(r,s)}write(r,s){const i=s&&s.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||jr.getDefault());return i&&n&&!Bk(n.restUrl,i.restUrl)?(s.messages&&s.messages.push(new Y("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,Ie(V({},s),{layer:this}))}};return o([c({type:Kf})],t.prototype,"portalItem",null),o([ue("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),o([he("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),o([c({clonable:!1})],t.prototype,"resourceReferences",void 0),o([c({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=o([k("esri.layers.mixins.PortalLayer")],t),t},Wp={credential:null,user:null},jd=new ft,rd=new WeakMap;function IU(e){oI(e)&&jd.push(e)}function OU(e){oI(e)&&jd.includes(e)&&jd.remove(e)}function oI(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function aI(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:aI(t,e%t):0}let dg=0,Jp=0;function jU(){const e=Date.now();for(const r of jd)if(r.refreshInterval){var t;e-((t=rd.get(r))!=null?t:0)+5>=6e4*r.refreshInterval&&(rd.set(r,e),r.refresh(e))}}lT(()=>{const e=Date.now();let t=0;for(const r of jd)t=aI(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?rd.get(r)||rd.set(r,e):rd.delete(r);if(t!==Jp){if(Jp=t,clearInterval(dg),Jp===0)return void(dg=0);dg=setInterval(jU,Jp)}});const lI=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=o1(()=>this.hasDataChanged()),this.when().then(()=>{IU(this)},()=>{})}destroy(){OU(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){tT(this._debounceHasDataChanged()).then(s=>{s&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:s})},s=>{pe.getLogger(this.declaredClass).error(s),this.emit("refresh",{dataChanged:!1,error:s})})}async hasDataChanged(){return!0}};return o([c({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),o([c({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),o([c()],t.prototype,"refreshParameters",null),t=o([k("esri.layers.mixins.RefreshableLayer")],t),t},uI=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},s=this.parent;s&&"effectiveScaleRange"in s&&CU(r,s.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return o([c({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),o([c({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),o([c({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=o([k("esri.layers.mixins.ScaleRangeLayer")],t),t};function CU(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const ma=ir()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var Qb;let Oc=Qb=class extends ee{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return nU(this.value,this.unit,"milliseconds")}clone(){return new Qb({value:this.value,unit:this.unit})}};o([c({type:Number,json:{write:!0},nonNullable:!0})],Oc.prototype,"value",void 0),o([c({type:ma.apiValues,json:{type:ma.jsonValues,read:ma.read,write:ma.write},nonNullable:!0})],Oc.prototype,"unit",void 0),Oc=Qb=o([k("esri.TimeInterval")],Oc);const Cd=Oc;var Zb;let hl=Zb=class extends ee{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new Zb({respectsDaylightSaving:e,timezone:t})}};o([c({type:Boolean,json:{write:!0}})],hl.prototype,"respectsDaylightSaving",void 0),o([ue("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],hl.prototype,"readRespectsDaylightSaving",null),o([c({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],hl.prototype,"timezone",void 0),hl=Zb=o([k("esri.layers.support.TimeReference")],hl);const AU=hl;var Yb;let br=Yb=class extends ee{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const r=new Date(t.timeExtent[0]),s=new Date(t.timeExtent[1]);return new Oi({start:r,end:s})}writeFullTimeExtent(e,t){e&&H(e.start)&&H(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new Cd({value:t.timeInterval,unit:ma.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new Cd({value:t.defaultTimeInterval,unit:ma.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:s,startField:i,timeReference:n,fullTimeExtent:a,trackIdField:l,useTime:d}=this;return new Yb({cumulative:e,endField:t,hasLiveData:r,interval:s,startField:i,timeReference:D(n),fullTimeExtent:D(a),trackIdField:l,useTime:d})}};o([c({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],br.prototype,"cumulative",void 0),o([c({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],br.prototype,"endField",void 0),o([c({type:Oi,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"fullTimeExtent",void 0),o([ue("fullTimeExtent",["timeExtent"])],br.prototype,"readFullTimeExtent",null),o([he("fullTimeExtent")],br.prototype,"writeFullTimeExtent",null),o([c({type:Boolean,json:{write:!0}})],br.prototype,"hasLiveData",void 0),o([c({type:Cd,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"interval",void 0),o([ue("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],br.prototype,"readInterval",null),o([he("interval")],br.prototype,"writeInterval",null),o([c({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],br.prototype,"startField",void 0),o([c({type:AU,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"timeReference",void 0),o([c({type:String,json:{write:{enabled:!0,allowNull:!0}}})],br.prototype,"trackIdField",void 0),o([c({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],br.prototype,"useTime",void 0),br=Yb=o([k("esri.layers.support.TimeInfo")],br);const F_=br,cI=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,s){const i=s.timeInfo.exportOptions;if(!i)return null;const n=i.timeOffset,a=ma.fromJSON(i.timeOffsetUnits);return n&&a?new Cd({value:n,unit:a}):null}set timeInfo(r){T1(r,this.fieldsIndex),this._set("timeInfo",r)}};return o([c({type:Oi,json:{write:!1}})],t.prototype,"timeExtent",void 0),o([c({type:Cd})],t.prototype,"timeOffset",void 0),o([ue("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),o([c({value:null,type:F_,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),o([c({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=o([k("esri.layers.mixins.TemporalLayer")],t),t};var Xb;let Yi=Xb=class extends ee{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:r,isUnique:s,description:i}=this;return new Xb({name:e,fields:t,isAscending:r,isUnique:s,description:i})}};o([c({constructOnly:!0})],Yi.prototype,"name",void 0),o([c({constructOnly:!0})],Yi.prototype,"fields",void 0),o([c({constructOnly:!0})],Yi.prototype,"isAscending",void 0),o([c({constructOnly:!0})],Yi.prototype,"isUnique",void 0),o([c({constructOnly:!0})],Yi.prototype,"description",void 0),Yi=Xb=o([k("esri.layers.support.FeatureIndex")],Yi);let Yh=class extends ee{constructor(){super(...arguments),this.type=null}};o([c({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],Yh.prototype,"type",void 0),Yh=o([k("esri.layers.support.FeatureReduction")],Yh);const sd=Yh;var ew;let fl=ew=class extends ee{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new ew({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};o([c({type:String,json:{write:!0}})],fl.prototype,"statisticType",void 0),o([c({type:String,json:{write:!0}})],fl.prototype,"onStatisticField",void 0),o([c({type:String,json:{write:!0}})],fl.prototype,"onStatisticValueExpression",void 0),fl=ew=o([k("esri.layers.support.OutStatistic")],fl);const RU=fl;var tw;let jc=tw=class extends ee{constructor(){super(...arguments),this.name=null}clone(){return new tw({name:this.name,outStatistic:this.outStatistic.clone()})}};o([c({type:String,json:{write:!0}})],jc.prototype,"name",void 0),o([c({type:RU,json:{write:!0}})],jc.prototype,"outStatistic",void 0),jc=tw=o([k("esri.layers.support.AggregateField")],jc);const PU=jc,N_="__begin__",D_="__end__",LU=new RegExp(N_,"ig"),FU=new RegExp(D_,"ig"),s$=new RegExp("^"+N_,"i"),i$=new RegExp(D_+"$","i"),Qf='"',NU=Qf+" + ",DU=" + "+Qf;function zU(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function VU(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function im(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=zU(e.labelExpression),t.type="conventional"),t}function UU(e){const t=im(e);if(!t)return null;switch(t.type){case"conventional":return rw(t.expression);case"arcade":return t.expression}return null}function qU(e){const t=im(e);if(!t)return null;switch(t.type){case"conventional":return HU(t.expression);case"arcade":return z_(t.expression)}return null}function rw(e){let t;return e?(t=zd(e,r=>N_+'$feature["'+r+'"]'+D_),t=s$.test(t)?t.replace(s$,""):Qf+t,t=i$.test(t)?t.replace(i$,""):t+Qf,t=t.replace(LU,NU).replace(FU,DU)):t='""',t}const BU=/^\s*\{([^}]+)\}\s*$/i;function HU(e){const t=e.match(BU);return t&&t[1].trim()||null}const GU=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,WU=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,JU=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function z_(e){if(!e)return null;let t=GU.exec(e)||WU.exec(e);return t?t[1]||t[3]:(t=JU.exec(e),t?t[2]:null)}var sw;let zn=sw=class extends ee{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?rw(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=rw(this.value)),e!=null&&(t[r]=e)}clone(){return new sw({expression:this.expression,title:this.title,value:this.value})}};o([c({type:String,json:{write:{writerEnsuresNonNull:!0}}})],zn.prototype,"expression",void 0),o([ue("expression",["expression","value"])],zn.prototype,"readExpression",null),o([he("expression")],zn.prototype,"writeExpression",null),o([c({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],zn.prototype,"title",void 0),o([c({json:{read:!1,write:!1}})],zn.prototype,"value",void 0),zn=sw=o([k("esri.layers.support.LabelExpressionInfo")],zn);const dI=zn,pI=[252,146,31,255],hI={type:"esriSMS",style:"esriSMSCircle",size:6,color:pI,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},fI={type:"esriSLS",style:"esriSLSSolid",width:.75,color:pI},yI={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},KU={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},mI={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},gI={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},vI={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};Va.fromJSON(hI);is.fromJSON(fI);wo.fromJSON(yI);const QU=_o.fromJSON(KU);Va.fromJSON(mI);is.fromJSON(gI);wo.fromJSON(vI);var iw;const Kp=new Ce({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function bI(e){return!e||e.origin!=="service"&&!wI(e.layer)}function wI(e){return(e==null?void 0:e.type)==="map-image"}function _I(e){var t,r;return!!wI(e)&&!((t=e.capabilities)==null||(r=t.exportMap)==null||!r.supportsArcadeExpressionForLabeling)}function ZU(e){return bI(e)||_I(e.layer)}let Lt=iw=class extends ee{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=QU,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(s,i,n){switch(i){case"=":return s==n;case"<>":return s!=n;case">":return s>n;case">=":return s>=n;case"<":return s<n;case"<=":return s<=n}return!1};try{if(e==null)return!0;const s=e.split(" ");if(s.length===3)return r(t[s[0]],s[1],s[2]);if(s.length===7){const i=r(t[s[0]],s[1],s[2]),n=s[3],a=r(t[s[4]],s[5],s[6]);switch(n){case"AND":return i&&a;case"OR":return i||a}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=VU(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const s=z_(this.labelExpressionInfo.expression);s&&(e="["+s+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,s){if(e==null&&this.labelExpression!=null&&bI(s))e=new dI({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(s);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return im(this)}getLabelExpressionArcade(){return UU(this)}getLabelExpressionSingleField(){return qU(this)}hash(){return JSON.stringify(this)}clone(){return new iw({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:D(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:D(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};o([c({type:String,json:{write:!0}})],Lt.prototype,"name",void 0),o([c({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"allowOverrun",void 0),o([c({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],Lt.prototype,"deconflictionStrategy",void 0),o([c({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&_I(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Lt.prototype,"labelExpression",void 0),o([ue("labelExpression")],Lt.prototype,"readLabelExpression",null),o([he("labelExpression")],Lt.prototype,"writeLabelExpression",null),o([c({type:dI,json:{write:{overridePolicy:(e,t,r)=>ZU(r)?{allowNull:!0}:{enabled:!1}}}})],Lt.prototype,"labelExpressionInfo",void 0),o([he("labelExpressionInfo")],Lt.prototype,"writeLabelExpressionInfo",null),o([c({type:Kp.apiValues,json:{type:Kp.jsonValues,read:Kp.read,write:Kp.write}})],Lt.prototype,"labelPlacement",void 0),o([c({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Lt.prototype,"labelPosition",void 0),o([c({type:Number})],Lt.prototype,"maxScale",void 0),o([he("maxScale")],Lt.prototype,"writeMaxScale",null),o([c({type:Number})],Lt.prototype,"minScale",void 0),o([he("minScale")],Lt.prototype,"writeMinScale",null),o([c({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],Lt.prototype,"repeatLabel",void 0),o([c({type:Number,cast:et,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Lt.prototype,"repeatLabelDistance",void 0),o([c({types:jD,json:{origins:{"web-scene":{types:CD,write:h8,default:null}},write:h8,default:null}})],Lt.prototype,"symbol",void 0),o([c({type:Boolean,json:{write:!0}})],Lt.prototype,"useCodedValues",void 0),o([c({type:String,json:{write:!0}})],Lt.prototype,"where",void 0),Lt=iw=o([k("esri.layers.support.LabelClass")],Lt);const nm=Lt;var nw;let Zr=nw=class extends ee{constructor(e){super(e),this.type="cluster",this.clusterRadius=et("80px"),this.clusterMinSize=et("12px"),this.clusterMaxSize=et("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new nw({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:D(this.labelingInfo),labelsVisible:this.labelsVisible,fields:D(this.fields),popupEnabled:this.popupEnabled,popupTemplate:D(this.popupTemplate)})}};o([c({type:["cluster"],readOnly:!0,json:{write:!0}})],Zr.prototype,"type",void 0),o([c({type:Number,cast:e=>e==="auto"?e:et(e),json:{write:!0}})],Zr.prototype,"clusterRadius",void 0),o([c({type:Number,cast:et,json:{write:!0}})],Zr.prototype,"clusterMinSize",void 0),o([c({type:Number,cast:et,json:{write:!0}})],Zr.prototype,"clusterMaxSize",void 0),o([c(R_)],Zr.prototype,"popupEnabled",void 0),o([c({type:Na,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Zr.prototype,"popupTemplate",void 0),o([c({types:ID})],Zr.prototype,"symbol",void 0),o([c({type:[nm],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Zr.prototype,"labelingInfo",void 0),o([c(P_)],Zr.prototype,"labelsVisible",void 0),o([c({type:[PU],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Zr.prototype,"fields",void 0),Zr=nw=o([k("esri.layers.support.FeatureReductionCluster")],Zr);const n$=Zr;var ow;let Xh=ow=class extends sd{constructor(e){super(e),this.type="selection"}clone(){return new ow}};o([c({type:["selection"]})],Xh.prototype,"type",void 0),Xh=ow=o([k("esri.layers.support.FeatureReductionSelection")],Xh);const aw=Xh,SI={types:{key:"type",base:sd,typeMap:{selection:aw,cluster:n$}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:sd,typeMap:{selection:n$}}},"web-scene":{types:{key:"type",base:sd,typeMap:{selection:aw}}}}}},o$=new Ce({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Vn=class extends gn(ee){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};o([c({json:{write:!0}})],Vn.prototype,"name",void 0),o([c({json:{write:!0}})],Vn.prototype,"description",void 0),o([c({json:{read:o$.read,write:o$.write}})],Vn.prototype,"drawingTool",void 0),o([c({json:{write:!0}})],Vn.prototype,"prototype",void 0),o([c({json:{write:!0}})],Vn.prototype,"thumbnail",void 0),Vn=o([k("esri.layers.support.FeatureTemplate")],Vn);const om=Vn;let Gi=class extends gn(ee){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=S_(e[r]);return t}writeDomains(e,t){const r={};for(const i of Object.keys(e)){var s;e[i]&&(r[i]=(s=e[i])==null?void 0:s.toJSON())}t.domains=r}};o([c({json:{write:!0}})],Gi.prototype,"id",void 0),o([c({json:{write:!0}})],Gi.prototype,"name",void 0),o([c({json:{write:!0}})],Gi.prototype,"domains",void 0),o([ue("domains")],Gi.prototype,"readDomains",null),o([he("domains")],Gi.prototype,"writeDomains",null),o([c({type:[om],json:{write:!0}})],Gi.prototype,"templates",void 0),Gi=o([k("esri.layers.support.FeatureType")],Gi);const V_=Gi;function YU(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function a$(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function l$(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class $I{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const r=[];for(const s of t){const i=s&&s.name;if(i){const n=u$(i);this._fieldsMap.set(i,s),this._fieldsMap.set(n,s),r.push(n),YU(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):I1(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),a$(s)||l$(s)||(s.editable=s.editable==null||!!s.editable,s.nullable=s.nullable==null||!!s.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)a$(t)||l$(t)||t.nullable||ik(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(u$(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name}}function u$(e){return e.toLowerCase().trim()}const XU=pe.getLogger("esri.layers.support.fieldProperties");function xI(){return{fields:{type:[Jy],value:null},fieldsIndex:{readOnly:!0,get(){return new $I(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||XU.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return jL(this.fieldsIndex,e)}}}}let yl=class extends gn(ee){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};o([c({type:String,json:{read:{source:"shapeAreaFieldName"}}})],yl.prototype,"shapeAreaField",void 0),o([c({type:String,json:{read:{source:"shapeLengthFieldName"}}})],yl.prototype,"shapeLengthField",void 0),o([c({type:String,json:{read:e=>oz.read(e)||az.read(e)}})],yl.prototype,"units",void 0),yl=o([k("esri.layers.support.GeometryFieldsInfo")],yl);const eq=yl,tq=/\[([^\[\]]+)\]/gi;function lw(e,t,r){return e?e.map(s=>{const i=new nm;if(i.read(s,r),i.labelExpression){const n=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replace(tq,(a,l)=>`[${rq(l,n)}]`)}return i}):null}function rq(e,t){if(!t)return e;const r=e.toLowerCase();for(let s=0;s<t.length;s++){const i=t[s].name;if(i.toLowerCase()===r)return i}return e}var uw;let ml=uw=class extends ee{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new ft}clone(){return new uw({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};o([c({type:String,json:{write:!0}})],ml.prototype,"floorField",void 0),o([c({json:{read:!1,write:!1}})],ml.prototype,"viewAllMode",void 0),o([c({json:{read:!1,write:!1}})],ml.prototype,"viewAllLevelIds",void 0),ml=uw=o([k("esri.layers.support.LayerFloorInfo")],ml);const EI=ml,c$=new Ce({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),d$=new Ce({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let hs=class extends gn(ee){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};o([c({json:{read:c$.read,write:c$.write}})],hs.prototype,"cardinality",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"composite",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"id",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"keyField",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"keyFieldInRelationshipTable",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"name",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"relatedTableId",void 0),o([c({json:{read:!0,write:!0}})],hs.prototype,"relationshipTableId",void 0),o([c({json:{read:d$.read,write:d$.write}})],hs.prototype,"role",void 0),hs=o([k("esri.layers.support.Relationship")],hs);const sq=hs,Ns=[];function TI(e,t){if(O_(e.url))return!0;const{wkid:r}=t;for(const s of Ns){if(e.version>=s[0])return!0;if(typeof s[1]=="function"&&(s[1]=s[1]()),s[1].has(r))return!1}return!0}Ns.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102960;t++)e.add(t);return e}]),Ns.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Ns.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Ns.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Ns.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),Ns.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Ns.push([10.61,()=>new Set([102497])]),Ns.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Ns.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Ns.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function kI(e,t,r){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(s&&s.type==="unique-value"&&s.styleOrigin){const i=await L_(s.populateFromStyle());if(Xs(r),i.ok===!1){const n=i.error;t&&t.messages&&t.messages.push(new Hr("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t.origin)}}}var cw;let ar=cw=class extends ee{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new cw(D({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};o([c({type:[String],json:{write:!0}})],ar.prototype,"attachmentTypes",void 0),o([c({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],ar.prototype,"attachmentsWhere",void 0),o([c({type:[String],json:{write:!0}})],ar.prototype,"keywords",void 0),o([c({type:[Number],json:{write:!0}})],ar.prototype,"globalIds",void 0),o([c({json:{write:!0}})],ar.prototype,"name",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],ar.prototype,"num",void 0),o([c({type:[Number],json:{write:!0}})],ar.prototype,"objectIds",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],ar.prototype,"returnMetadata",void 0),o([c({type:[Number],json:{write:!0}})],ar.prototype,"size",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],ar.prototype,"start",void 0),o([he("start"),he("num")],ar.prototype,"writeStart",null),o([c({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ar.prototype,"where",void 0),ar=cw=o([k("esri.rest.support.AttachmentQuery")],ar),ar.from=lt(ar);const MI=ar;var dw;let It=dw=class extends ee{constructor(e){super(e),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new dw(D({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};o([c({type:ys,json:{write:!0}})],It.prototype,"dynamicDataSource",void 0),o([c({type:String,json:{write:!0}})],It.prototype,"gdbVersion",void 0),o([c({type:Number,json:{write:!0}})],It.prototype,"geometryPrecision",void 0),o([c({type:Date})],It.prototype,"historicMoment",void 0),o([he("historicMoment")],It.prototype,"_writeHistoricMoment",null),o([c({type:Number,json:{write:!0}})],It.prototype,"maxAllowableOffset",void 0),o([c({type:[Number],json:{write:!0}})],It.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],It.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],It.prototype,"outFields",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],It.prototype,"outSpatialReference",void 0),o([c({json:{write:!0}})],It.prototype,"relationshipId",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],It.prototype,"start",void 0),o([he("start"),he("num")],It.prototype,"writeStart",null),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],It.prototype,"num",void 0),o([c({json:{write:!0}})],It.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],It.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],It.prototype,"returnZ",void 0),o([c({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],It.prototype,"where",void 0),It=dw=o([k("esri.rest.support.RelationshipQuery")],It),It.from=lt(It);const pw=It;var hw;let gl=hw=class extends ee{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new hw({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};o([c({type:[String],json:{write:!0}})],gl.prototype,"groupByFields",void 0),o([c({type:Number,json:{write:!0}})],gl.prototype,"topCount",void 0),o([c({type:[String],json:{write:!0}})],gl.prototype,"orderByFields",void 0),gl=hw=o([k("esri.rest.support.TopFilter")],gl);const iq=gl;var fw;const p$=new Ce({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),h$=new Ce({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let gt=fw=class extends ee{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new fw(D({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};o([c({type:Boolean,json:{write:!0}})],gt.prototype,"cacheHint",void 0),o([c({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],gt.prototype,"distance",void 0),o([c({types:La,json:{read:ss,write:!0}})],gt.prototype,"geometry",void 0),o([c({type:Number,json:{write:!0}})],gt.prototype,"geometryPrecision",void 0),o([c({type:Number,json:{write:!0}})],gt.prototype,"maxAllowableOffset",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],gt.prototype,"num",void 0),o([c({json:{write:!0}})],gt.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],gt.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],gt.prototype,"outFields",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],gt.prototype,"outSpatialReference",void 0),o([c({type:String,json:{write:!0}})],gt.prototype,"resultType",void 0),o([c({json:{write:!0}})],gt.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],gt.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],gt.prototype,"returnZ",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],gt.prototype,"start",void 0),o([he("start"),he("num")],gt.prototype,"writeStart",null),o([c({type:String,json:{read:{source:"spatialRel",reader:p$.read},write:{target:"spatialRel",writer:p$.write}}})],gt.prototype,"spatialRelationship",void 0),o([c({type:Oi,json:{write:!0}})],gt.prototype,"timeExtent",void 0),o([c({type:iq,json:{write:!0}})],gt.prototype,"topFilter",void 0),o([c({type:String,json:{read:h$.read,write:{writer:h$.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],gt.prototype,"units",void 0),o([c({type:String,json:{write:!0}})],gt.prototype,"where",void 0),gt=fw=o([k("esri.rest.support.TopFeaturesQuery")],gt),gt.from=lt(gt);const Cc=gt,nq=["oid","global-id"],oq=["oid","global-id","guid"];function II({displayField:e,editFieldsInfo:t,fields:r,objectIdField:s,title:i},n){if(!r)return null;const a=pq({editFieldsInfo:t,fields:r,objectIdField:s},n);if(!a.length)return null;const l=yq({titleBase:i,fields:r,displayField:e}),d=fq();return new Na({title:l,content:d,fieldInfos:a})}const aq=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],lq=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:s})=>s?s.has(e.name):!OI(e.name,t)&&(!r||e.name!==r)&&!(nq.indexOf(e.type)>-1)&&!aq.some(i=>i.test(e.name));function uq(e,t){const r=e;return t&&(e=e.filter(s=>t.indexOf(s.type)===-1)),e===r&&(e=e.slice()),e.sort(cq),e}function cq(e,t){return e.type==="oid"?-1:t.type==="oid"?1:f$(e)?-1:f$(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function OI(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:s,editDateField:i,editorField:n}=t;return[r&&r.toLowerCase(),s&&s.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())!==-1}function dq(e,t){return e.editable&&oq.indexOf(e.type)===-1&&!OI(e.name,t)}function pq({editFieldsInfo:e,fields:t,objectIdField:r},s){return uq(t,(s==null?void 0:s.ignoreFieldTypes)||mq).map(i=>new A1({fieldName:i.name,isEditable:dq(i,e),label:i.alias,format:hq(i),visible:lq(i,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:s==null?void 0:s.visibleFieldNames})}))}function hq(e){switch(e.type){case"small-integer":case"integer":case"single":return new gh({digitSeparator:!0,places:0});case"double":return new gh({digitSeparator:!0,places:2});case"date":return new gh({dateFormat:"long-month-day-year"});default:return null}}function fq(){return[new _d,new vd]}function yq(e){const t=AL(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}function f$(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const mq=["geometry","blob","raster","guid","xml"],pg=new Ce({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),gq={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Pt="FeatureLayer",y$=pe.getLogger("esri.layers.FeatureLayer");function m$(e){return e&&e instanceof ft}function je(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function Qp(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function vq(e){var t;const r=e==null||(t=e.supportedSpatialAggregationStatistics)==null?void 0:t.map(s=>s.toLowerCase());return{envelope:!(r==null||!r.includes("envelopeaggregate")),centroid:!(r==null||!r.includes("centroidaggregate")),convexHull:!(r==null||!r.includes("convexhullaggregate"))}}const hg=xI();function fg(e,t,r){const s=!(r==null||!r.writeLayerSchema);return{enabled:s,ignoreOrigin:s}}let ie=class extends H6(V6(sI(cI(uI(lI(F6(tI(nI(w_(U6(M6(gn(f6))))))))))))){constructor(...e){super(...e),this._handles=new qa,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=Ue.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(ft.ofType(Yi)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=$f(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?V({url:e},t):e}load(e){const t=H(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this._initLayerProperties(s)));const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(hu).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new Y("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,s){this._writeEditingEnabled(e,t,!0,s)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,s){s!=null&&s.writeLayerSchema&&Br(r,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeGlobalID")return r.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeOID")return r.name}}get parsedUrl(){const e=this.url?Gr(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=Ca(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Ca(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){d0(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){const s=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(s){const i=r6(s,t,r)||void 0;return i||y$.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new Gy({defaultSymbol:yg(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(i=>({id:i.id,symbol:yg(i.symbol,i,r)}))}):new Hy({symbol:yg(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&(m$(t)&&this._resetMemorySource(t),m$(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof ft?new B8({layer:this,items:e}):e:null}readSource(e,t){const r=Ky.fromJSON(t.featureSet);return new B8({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,s=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map(n=>om.fromJSON(n)),this._fixTemplates(e,s),this._fixTemplates(e,i),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,s=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const i=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?A6(this.url,r):r;let n=r;if(!n&&this.url){const a=ap(this.url);H(a)&&(n=a.title)}return n?(this.sublayerTitleMode==="item-title-and-service-name"&&i&&i!==n&&(n=i+" - "+n),Qy(n)):void 0}if(this.sublayerTitleMode==="item-title"&&s)return s}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const s=t.fields.find(i=>i.name.toLowerCase()===r);s&&(r=s.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,s=r&&r.creatorField,i=r&&r.editorField;return e&&e.map(n=>(n=V_.fromJSON(n),this._fixTemplates(n.templates,s),this._fixTemplates(n.templates,i),n))}set url(e){const t=P6({layer:this,url:e,nonStandardUrlAllowed:!0,logger:y$});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,r,s){L6(this,e,null,t,s)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new Y(Pt,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,r){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new Y(Pt,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,r)})}async applyEdits(e,t){const r=await Fe(()=>import("./editingSupport.d911bf89.js"),["./editingSupport.d911bf89.js","./normalizeUtils.f1406d05.js"],import.meta.url);return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return II(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await eT(Fe(()=>import("./FeatureLayerSource.0d6cf336.js"),["./FeatureLayerSource.0d6cf336.js","./clientSideDefaults.e3a40a4b.js","./QueryEngineCapabilities.5c978644.js","./query.b5e0e04d.js","./normalizeUtils.f1406d05.js","./pbfQueryUtils.3b47961f.js","./pbf.0d5b92a0.js","./OptimizedGeometry.3220611a.js","./OptimizedFeatureSet.1d1ac4b9.js","./executeQueryJSON.a411eb98.js","./featureConversionUtils.6d559b11.js"],import.meta.url),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new ca,t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:s,timeExtent:i}=this;return e.timeExtent=s!=null&&i!=null?i.offset(-s.value,s.unit):i||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new Y(Pt,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new Y(Pt,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const s=e.attributes?e.attributes[t]:void 0;if(s==null)return null;let i=null;return r.some(n=>{const{id:a}=n;return a!=null&&(a.toString()===s.toString()&&(i=n),!!i)}),i}getFieldDomain(e,t){const r=t&&t.feature,s=this.getFeatureType(r);if(s){const i=s.domains&&s.domains[e];if(i&&i.type!=="inherited")return i}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=MI.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new Y(Pt,"this layer doesn't support attachments");const{attachmentTypes:r,objectIds:s,globalIds:i,num:n,size:a,start:l,where:d}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const h=s&&s.length>1,f=r&&r.length,y=i&&i.length,v=a&&a.length;if(h||f||y||v||n||l||d)throw new Y(Pt,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(s&&s.length||d))throw new Y(Pt,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new Y(Pt,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(ca.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(ca.from(e)||this.createQuery(),t);throw new Y(Pt,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(ca.from(e)||this.createQuery(),t);throw new Y(Pt,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(ca.from(e)||this.createQuery(),t);throw new Y(Pt,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(pw.from(e),t);throw new Y(Pt,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(pw.from(e),t);throw new Y(Pt,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Cc.from(e),t).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this;return r});throw new Y(Pt,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Cc.from(e),t);throw new Y(Pt,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Cc.from(e),t);throw new Y(Pt,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Cc.from(e),t);throw new Y(Pt,"Layer source does not support queryFeatureCount capability")})}read(e,t){const r=e.featureCollection;if(r){const s=r.layers;s&&s.length===1&&(super.read(s[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var r,s;const i=(t=Ie(V({},t),{writeLayerSchema:(r=(s=t)==null?void 0:s.writeLayerSchema)!=null?r:this._hasMemorySource()})).origin,n=t.layerContainerType,a=t.messages;if(this.isTable){if(i==="web-scene"||i==="web-map"&&n!=="tables")return a&&a.push(new Y("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return a&&a.push(new Y("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&i==="web-map"&&n==="tables")return a&&a.push(new Y("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new Y(Pt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||TI(this,e))}_readEditingEnabled(e,t,r){var s;let i=(s=e.layerDefinition)==null?void 0:s.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,s){if(!e){var i,n;const a=(i=this.capabilities)!=null&&(n=i.operations)!=null&&n.supportsSync?"Query,Sync":"Query";Br("layerDefinition.capabilities",a,t),!r||s!=null&&s.writeLayerSchema||(t.capabilities=a)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new Y(Pt,`feature is missing the identifying attribute ${r}`)):Promise.reject(new Y(Pt,"'attributes' are required on a feature to query attachments")):Promise.reject(new Y(Pt,"A feature is required to add/delete/update attachments")):Promise.reject(new Y(Pt,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Tt(this.url,{query:Ie(V({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),d0(this.renderer,this.fieldsIndex),T1(this.timeInfo,this.fieldsIndex),kI(this,{origin:"service"})}async hasDataChanged(){var e;if((e=this.source)!=null&&e.refresh)try{var t;const{dataChanged:r,updates:s}=await((t=this.source)==null?void 0:t.refresh());if(H(s)&&(this.sourceJSON=V(V({},this.sourceJSON),s),this.read(s,{origin:"service",url:this.parsedUrl})),r)return!0}catch{}if(this.definitionExpression)try{return(await t2(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields&&this.fields.some(function(t){return t.type==="geometry"})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const s=r.prototype&&r.prototype.attributes;s&&t&&delete s[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new Y("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new Y("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(e){const t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach(r=>{const s=gq[r.name];s&&(t[s]=!!r.isEnabled)}),t}_readDataCapabilities(e){return{isVersioned:je(e,"isDataVersioned",!1),supportsAttachment:je(e,"hasAttachments",!1),supportsM:je(e,"hasM",!1),supportsZ:je(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:je(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(",").map(d=>d.trim()):[],s=r.includes("editing")&&!t.datesInUnknownTimezone;let i=s&&r.includes("create"),n=s&&r.includes("delete"),a=s&&r.includes("update");const l=r.includes("changetracking");return s&&!(i||n||a)&&(i=n=a=!0),{supportsCalculate:je(t,"supportsCalculate",!1),supportsTruncate:je(t,"supportsTruncate",!1),supportsValidateSql:je(t,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:n,supportsEditing:s,supportsChangeTracking:l,supportsQuery:r.includes("query"),supportsQueryAttachments:je(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:je(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:a,supportsExceedsLimitStatistics:je(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var t;const r=e.advancedQueryCapabilities,s=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,n=(t=this.url)==null?void 0:t.includes("MapServer"),a=!X("mapserver-pbf-enabled")&&n&&this.version<10.81,l=O_(this.url),d=(e.supportedQueryFormats||"").split(",").reduce((h,f)=>{const y=f.toLowerCase().trim();return y&&h.add(y),h},new Set);return{supportsStatistics:je(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:je(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:je(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:vq(r),supportsCentroid:je(r,"supportsReturningGeometryCentroid",!1),supportsDistance:je(r,"supportsQueryWithDistance",!1),supportsDistinct:je(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:je(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:je(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:je(r,"supportsHavingClause",!1),supportsOrderBy:je(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:je(r,"supportsPagination",!1),supportsQuantization:je(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:je(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:je(e,"supportsReturningQueryGeometry",!1),supportsResultType:je(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:je(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:je(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:je(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:je(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:je(s,"allowOthersToQuery",!0),supportsHistoricMoment:je(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!a&&d.has("pbf"),supportsDisjointSpatialRelationship:je(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:je(r,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:je(r,"supportsDefaultSR",!1),supportsCompactGeometry:l,maxRecordCountFactor:Qp(e,"maxRecordCountFactor",void 0),maxRecordCount:Qp(e,"maxRecordCount",void 0),standardMaxRecordCount:Qp(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:Qp(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=je(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:je(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:je(e,"allowGeometryUpdates",!0),supportsGlobalId:je(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:je(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:je(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:je(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:je(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:je(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:je(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:je(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:je(t,"allowOthersToUpdate",!0)}}};o([c({readOnly:!0,json:{read:!1}})],ie.prototype,"capabilities",void 0),o([ue("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],ie.prototype,"readCapabilities",null),o([c({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ie.prototype,"charts",void 0),o([c({readOnly:!0})],ie.prototype,"createQueryVersion",null),o([c({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],ie.prototype,"copyright",void 0),o([c({type:Boolean})],ie.prototype,"datesInUnknownTimezone",void 0),o([c({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],ie.prototype,"displayField",void 0),o([c({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ie.prototype,"definitionExpression",void 0),o([c({types:ao,readOnly:!0})],ie.prototype,"defaultSymbol",void 0),o([c({type:ys})],ie.prototype,"dynamicDataSource",void 0),o([c({readOnly:!0})],ie.prototype,"editFieldsInfo",void 0),o([c({type:Boolean})],ie.prototype,"editingEnabled",null),o([ue(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ie.prototype,"readEditingEnabled",null),o([ue("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ie.prototype,"readEditingEnabledFromWebMap",null),o([he(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ie.prototype,"writeEditingEnabled",null),o([he("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ie.prototype,"writeEditingEnabledToWebMap",null),o([c({readOnly:!0})],ie.prototype,"editingInfo",void 0),o([ue("editingInfo")],ie.prototype,"readEditingInfo",null),o([c(Q6)],ie.prototype,"elevationInfo",void 0),o([c(SI)],ie.prototype,"featureReduction",void 0),o([c(Ie(V({},hg.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:fg}}}}}))],ie.prototype,"fields",void 0),o([c(hg.fieldsIndex)],ie.prototype,"fieldsIndex",void 0),o([c({type:EI,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],ie.prototype,"floorInfo",void 0),o([c({type:y2,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ie.prototype,"formTemplate",void 0),o([c({type:Nt,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],ie.prototype,"fullExtent",void 0),o([c()],ie.prototype,"gdbVersion",void 0),o([c({readOnly:!0,type:eq,json:{read:{source:"geometryProperties"}}})],ie.prototype,"geometryFieldsInfo",void 0),o([c({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:pg.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:fg,writer(e,t,r){const s=e?pg.toJSON(e):null;s&&Br(r,s,t)}}}},read:{source:"layerDefinition.geometryType",reader:pg.read}}})],ie.prototype,"geometryType",void 0),o([c({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],ie.prototype,"hasM",void 0),o([c({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],ie.prototype,"hasZ",void 0),o([c({readOnly:!0,type:h6})],ie.prototype,"heightModelInfo",void 0),o([c({type:Date})],ie.prototype,"historicMoment",void 0),o([c(Y6)],ie.prototype,"id",void 0),o([c({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ie.prototype,"infoFor3D",void 0),o([c({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ie.prototype,"isTable",void 0),o([ue("service","isTable",["type","geometryType"]),ue("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ie.prototype,"readIsTable",null),o([he("web-map","isTable")],ie.prototype,"writeIsTable",null),o([c(P_)],ie.prototype,"labelsVisible",void 0),o([c({type:[nm],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:lw},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:lw},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],ie.prototype,"labelingInfo",void 0),o([c(Z6)],ie.prototype,"opacity",void 0),o([c({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],ie.prototype,"layerId",void 0),o([c(K6)],ie.prototype,"legendEnabled",void 0),o([c({type:["show","hide"]})],ie.prototype,"listMode",void 0),o([c(X6)],ie.prototype,"minScale",void 0),o([ue("service","minScale",["minScale","effectiveMinScale"])],ie.prototype,"readMinScale",null),o([c(eI)],ie.prototype,"maxScale",void 0),o([ue("service","maxScale",["maxScale","effectiveMaxScale"])],ie.prototype,"readMaxScale",null),o([c({type:String})],ie.prototype,"globalIdField",void 0),o([ue("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),ue("service","globalIdField",["globalIdField","fields"])],ie.prototype,"readGlobalIdFieldFromService",null),o([c({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:fg}}}}})],ie.prototype,"objectIdField",void 0),o([ue("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),ue("service","objectIdField",["objectIdField","fields"])],ie.prototype,"readObjectIdFieldFromService",null),o([c({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],ie.prototype,"operationalLayerType",void 0),o([c(hg.outFields)],ie.prototype,"outFields",void 0),o([c({readOnly:!0})],ie.prototype,"parsedUrl",null),o([c({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ie.prototype,"path",void 0),o([c(R_)],ie.prototype,"popupEnabled",void 0),o([c({type:Na,json:{name:"popupInfo",write:!0}})],ie.prototype,"popupTemplate",void 0),o([c({readOnly:!0})],ie.prototype,"defaultPopupTemplate",null),o([c({type:[sq],readOnly:!0})],ie.prototype,"relationships",void 0),o([c({types:v_,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:t6,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],ie.prototype,"renderer",null),o([ue("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ue("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ie.prototype,"readRenderer",null),o([c()],ie.prototype,"sourceJSON",void 0),o([c({type:Boolean})],ie.prototype,"returnM",void 0),o([c({type:Boolean})],ie.prototype,"returnZ",void 0),o([c(W6)],ie.prototype,"screenSizePerspectiveEnabled",void 0),o([c({clonable:!1})],ie.prototype,"source",null),o([Ct("source")],ie.prototype,"castSource",null),o([ue("portal-item","source",["featureSet"]),ue("web-map","source",["featureSet"])],ie.prototype,"readSource",null),o([c({readOnly:!0})],ie.prototype,"serviceDefinitionExpression",void 0),o([ue("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ie.prototype,"readServiceDefinitionExpression",null),o([c({type:Ue,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],ie.prototype,"spatialReference",void 0),o([c({type:Number})],ie.prototype,"subtypeCode",void 0),o([c({type:[om]})],ie.prototype,"templates",void 0),o([ue("templates",["editFieldsInfo","creatorField","editorField","templates"])],ie.prototype,"readTemplates",null),o([c({type:F_})],ie.prototype,"timeInfo",void 0),o([c()],ie.prototype,"title",void 0),o([ue("service","title",["name"]),ue("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ie.prototype,"readTitle",null),o([ue("web-map","title",["layerDefinition.name","title"])],ie.prototype,"readTitleFromWebMap",null),o([c({type:String})],ie.prototype,"sublayerTitleMode",void 0),o([c({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ie.prototype,"trackIdField",void 0),o([c({json:{read:!1}})],ie.prototype,"type",void 0),o([c({type:String})],ie.prototype,"typeIdField",void 0),o([ue("service","typeIdField"),ue("typeIdField",["layerDefinition.typeIdField"])],ie.prototype,"readTypeIdField",null),o([c({type:[V_]})],ie.prototype,"types",void 0),o([ue("service","types",["types"]),ue("types",["layerDefinition.types"])],ie.prototype,"readTypes",null),o([c({readOnly:!0,json:{write:!1}})],ie.prototype,"serverGens",void 0),o([c({type:ft.ofType(Yi),readOnly:!0})],ie.prototype,"indexes",void 0),o([c(J6)],ie.prototype,"url",null),o([he("url")],ie.prototype,"writeUrl",null),o([c({readOnly:!0})],ie.prototype,"userIsAdmin",void 0),o([c({json:{origins:{service:{read:!0}},read:!1}})],ie.prototype,"version",void 0),o([ue("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ie.prototype,"readVersion",null),o([c({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ie.prototype,"visible",void 0),o([ue("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ie.prototype,"readVisible",null),ie=o([k("esri.layers.FeatureLayer")],ie);const yg=Ra({types:a_}),am=ie;var bq=Object.freeze(Object.defineProperty({__proto__:null,default:am},Symbol.toStringTag,{value:"Module"}));const wq=/\?(\.|$)/g;function Zf(e,t,r,s){const i=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],n=yw(e,t,r,s);for(const a of i){const l=a.trim().replace(wq,"$1"),d=e.get(l);r.call(e,d,d,l,e)}return n}function yw(e,t,r,s){return e.watch(t,r,s)}function _q(e,t,r,s){return xq(e,t,Eq,r,s)}function Sq(e,t,r,s,i,n,a){const l={};function d(f){const y=l[f];y&&(n&&n(y.target,f,e,r),y.handle.remove(),delete l[f])}const h=Zf(e,t,(f,y,v)=>{d(v),_y(f)&&(l[v]={handle:Hd(f,r,s),target:f},i&&i(f,v,e,r))},a);return{remove(){h.remove();for(const f in l)d(f)}}}function $q(e,t,r,s,i){const n=e.watch(t,(a,l,d,h)=>{r&&!r(a)||s==null||s.call(e,a,l,d,h)},i);if(Array.isArray(t))for(const a of t){const l=e.get(a);r&&r(l)&&(s==null||s.call(e,l,l,t,e))}else{const a=e.get(t);r&&r(a)&&(s==null||s.call(e,a,a,t,e))}return n}function xq(e,t,r,s,i){const n=typeof s=="function"?s:null,a=typeof s=="object"?s:null;typeof s=="boolean"&&(i=s);let l,d=!1;function h(){l&&(l.remove(),l=null)}const f=xa();cn(a,()=>{h(),f.reject(hr())});const y={then:f.promise.then.bind(f.promise),catch:f.promise.catch.bind(f.promise),remove:h};return Object.freeze(y),l=$q(e,t,r,(v,b,x,I)=>{d=!0,h(),n&&n.call(e,v,b,x,I),f.resolve({value:v,oldValue:b,propertyName:x,target:I})},i),d&&h(),y}function Eq(e){return!e}function Tq(e){return typeof e=="string"?document.getElementById(e):e}function jI(){const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var kq="[object Object]";function Mq(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Iq(e,t){return function(r){return e(t(r))}}var Oq=Function.prototype,CI=Object.prototype,AI=Oq.toString,jq=CI.hasOwnProperty,Cq=AI.call(Object),Aq=CI.toString,Rq=Iq(Object.getPrototypeOf,Object);function Pq(e){return!!e&&typeof e=="object"}function Lq(e){if(!Pq(e)||Aq.call(e)!=kq||Mq(e))return!1;var t=Rq(e);if(t===null)return!0;var r=jq.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&AI.call(r)==Cq}var Fq=Lq,El={exports:{}},At={},Ad={exports:{}},Ha={};function RI(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Nq(e,t,r){}function Dq(e,t,r){}var zq=/javascript\s*\:/img;function Vq(e,t){return zq.test(t)?"":t}Ha.whiteList=RI();Ha.getDefaultWhiteList=RI;Ha.onAttr=Nq;Ha.onIgnoreAttr=Dq;Ha.safeAttrValue=Vq;var Uq={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Bu=Uq;function qq(e,t){e=Bu.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,s=!1,i=0,n=0,a="";function l(){if(!s){var f=Bu.trim(e.slice(i,n)),y=f.indexOf(":");if(y!==-1){var v=Bu.trim(f.slice(0,y)),b=Bu.trim(f.slice(y+1));if(v){var x=t(i,a.length,v,b,f);x&&(a+=x+"; ")}}}i=n+1}for(;n<r;n++){var d=e[n];if(d==="/"&&e[n+1]==="*"){var h=e.indexOf("*/",n+2);if(h===-1)break;n=h+1,i=n+1,s=!1}else d==="("?s=!0:d===")"?s=!1:d===";"?s||l():d===`
`&&l()}return Bu.trim(a)}var Bq=qq,Zp=Ha,Hq=Bq;function g$(e){return e==null}function Gq(e){var t={};for(var r in e)t[r]=e[r];return t}function PI(e){e=Gq(e||{}),e.whiteList=e.whiteList||Zp.whiteList,e.onAttr=e.onAttr||Zp.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Zp.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Zp.safeAttrValue,this.options=e}PI.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onAttr,n=r.onIgnoreAttr,a=r.safeAttrValue,l=Hq(e,function(d,h,f,y,v){var b=s[f],x=!1;if(b===!0?x=b:typeof b=="function"?x=b(y):b instanceof RegExp&&(x=b.test(y)),x!==!0&&(x=!1),y=a(f,y),!!y){var I={position:h,sourcePosition:d,source:v,isWhite:x};if(x){var A=i(f,y,I);return g$(A)?f+":"+y:A}else{var A=n(f,y,I);if(!g$(A))return A}}});return l};var Wq=PI;(function(e,t){var r=Ha,s=Wq;function i(a,l){var d=new s(l);return d.process(a)}t=e.exports=i,t.FilterCSS=s;for(var n in r)t[n]=r[n]})(Ad,Ad.exports);var U_={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Jq=Ad.exports.FilterCSS,Kq=Ad.exports.getDefaultWhiteList,Yf=U_;function LI(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var FI=new Jq;function Qq(e,t,r){}function Zq(e,t,r){}function Yq(e,t,r){}function Xq(e,t,r){}function NI(e){return e.replace(tB,"&lt;").replace(rB,"&gt;")}function eB(e,t,r,s){if(r=BI(r),t==="href"||t==="src"){if(r=Yf.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(Yp.lastIndex=0,Yp.test(r))return""}else if(t==="style"){if(v$.lastIndex=0,v$.test(r)||(b$.lastIndex=0,b$.test(r)&&(Yp.lastIndex=0,Yp.test(r))))return"";s!==!1&&(s=s||FI,r=s.process(r))}return r=HI(r),r}var tB=/</g,rB=/>/g,sB=/"/g,iB=/&quot;/g,nB=/&#([a-zA-Z0-9]*);?/gim,oB=/&colon;?/gim,aB=/&newline;?/gim,Yp=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,v$=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b$=/u\s*r\s*l\s*\(.*/gi;function DI(e){return e.replace(sB,"&quot;")}function zI(e){return e.replace(iB,'"')}function VI(e){return e.replace(nB,function(r,s){return s[0]==="x"||s[0]==="X"?String.fromCharCode(parseInt(s.substr(1),16)):String.fromCharCode(parseInt(s,10))})}function UI(e){return e.replace(oB,":").replace(aB," ")}function qI(e){for(var t="",r=0,s=e.length;r<s;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return Yf.trim(t)}function BI(e){return e=zI(e),e=VI(e),e=UI(e),e=qI(e),e}function HI(e){return e=DI(e),e=NI(e),e}function lB(){return""}function uB(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function s(a){return r?!0:Yf.indexOf(e,a)!==-1}var i=[],n=!1;return{onIgnoreTag:function(a,l,d){if(s(a))if(d.isClosing){var h="[/removed]",f=d.position+h.length;return i.push([n!==!1?n:d.position,f]),n=!1,h}else return n||(n=d.position),"[removed]";else return t(a,l,d)},remove:function(a){var l="",d=0;return Yf.forEach(i,function(h){l+=a.slice(d,h[0]),d=h[1]}),l+=a.slice(d),l}}}function cB(e){for(var t="",r=0;r<e.length;){var s=e.indexOf("<!--",r);if(s===-1){t+=e.slice(r);break}t+=e.slice(r,s);var i=e.indexOf("-->",s);if(i===-1)break;r=i+3}return t}function dB(e){var t=e.split("");return t=t.filter(function(r){var s=r.charCodeAt(0);return s===127?!1:s<=31?s===10||s===13:!0}),t.join("")}At.whiteList=LI();At.getDefaultWhiteList=LI;At.onTag=Qq;At.onIgnoreTag=Zq;At.onTagAttr=Yq;At.onIgnoreTagAttr=Xq;At.safeAttrValue=eB;At.escapeHtml=NI;At.escapeQuote=DI;At.unescapeQuote=zI;At.escapeHtmlEntities=VI;At.escapeDangerHtml5Entities=UI;At.clearNonPrintableCharacter=qI;At.friendlyAttrValue=BI;At.escapeAttrValue=HI;At.onIgnoreTagStripAll=lB;At.StripTagBody=uB;At.stripCommentTag=cB;At.stripBlankChar=dB;At.cssFilter=FI;At.getDefaultCSSWhiteList=Kq;var lm={},Qn=U_;function pB(e){var t=Qn.spaceIndex(e);if(t===-1)var r=e.slice(1,-1);else var r=e.slice(1,t+1);return r=Qn.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function hB(e){return e.slice(0,2)==="</"}function fB(e,t,r){var s="",i=0,n=!1,a=!1,l=0,d=e.length,h="",f="";e:for(l=0;l<d;l++){var y=e.charAt(l);if(n===!1){if(y==="<"){n=l;continue}}else if(a===!1){if(y==="<"){s+=r(e.slice(i,l)),n=l,i=l;continue}if(y===">"){s+=r(e.slice(i,n)),f=e.slice(n,l+1),h=pB(f),s+=t(n,s.length,h,f,hB(f)),i=l+1,n=!1;continue}if(y==='"'||y==="'")for(var v=1,b=e.charAt(l-v);b.trim()===""||b==="=";){if(b==="="){a=y;continue e}b=e.charAt(l-++v)}}else if(y===a){a=!1;continue}}return i<e.length&&(s+=r(e.substr(i))),s}var yB=/[^a-zA-Z0-9_:\.\-]/gim;function mB(e,t){var r=0,s=[],i=!1,n=e.length;function a(y,v){if(y=Qn.trim(y),y=y.replace(yB,"").toLowerCase(),!(y.length<1)){var b=t(y,v||"");b&&s.push(b)}}for(var l=0;l<n;l++){var d=e.charAt(l),h,f;if(i===!1&&d==="="){i=e.slice(r,l),r=l+1;continue}if(i!==!1&&l===r&&(d==='"'||d==="'")&&e.charAt(l-1)==="="){if(f=e.indexOf(d,l+1),f===-1)break;h=Qn.trim(e.slice(r+1,f)),a(i,h),i=!1,l=f,r=l+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(f=gB(e,l),f===-1){h=Qn.trim(e.slice(r,l)),a(h),i=!1,r=l+1;continue}else{l=f-1;continue}else if(f=vB(e,l-1),f===-1){h=Qn.trim(e.slice(r,l)),h=w$(h),a(i,h),i=!1,r=l+1;continue}else continue}return r<e.length&&(i===!1?a(e.slice(r)):a(i,w$(Qn.trim(e.slice(r))))),Qn.trim(s.join(" "))}function gB(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function vB(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function bB(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function w$(e){return bB(e)?e.substr(1,e.length-2):e}lm.parseTag=fB;lm.parseAttr=mB;var wB=Ad.exports.FilterCSS,Vs=At,GI=lm,_B=GI.parseTag,SB=GI.parseAttr,ef=U_;function Xp(e){return e==null}function $B(e){var t=ef.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=ef.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=ef.trim(e.slice(0,-1))),{html:e,closing:r}}function xB(e){var t={};for(var r in e)t[r]=e[r];return t}function WI(e){e=xB(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Vs.onIgnoreTagStripAll),e.whiteList=e.whiteList||Vs.whiteList,e.onTag=e.onTag||Vs.onTag,e.onTagAttr=e.onTagAttr||Vs.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Vs.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Vs.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Vs.safeAttrValue,e.escapeHtml=e.escapeHtml||Vs.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new wB(e.css))}WI.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onTag,n=r.onIgnoreTag,a=r.onTagAttr,l=r.onIgnoreTagAttr,d=r.safeAttrValue,h=r.escapeHtml,f=t.cssFilter;r.stripBlankChar&&(e=Vs.stripBlankChar(e)),r.allowCommentTag||(e=Vs.stripCommentTag(e));var y=!1;if(r.stripIgnoreTagBody){var y=Vs.StripTagBody(r.stripIgnoreTagBody,n);n=y.onIgnoreTag}var v=_B(e,function(b,x,I,A,q){var G={sourcePosition:b,position:x,isClosing:q,isWhite:s.hasOwnProperty(I)},C=i(I,A,G);if(!Xp(C))return C;if(G.isWhite){if(G.isClosing)return"</"+I+">";var p=$B(A),m=s[I],g=SB(p.html,function($,T){var S=ef.indexOf(m,$)!==-1,O=a(I,$,T,S);if(!Xp(O))return O;if(S)return T=d(I,$,T,f),T?$+'="'+T+'"':$;var O=l(I,$,T,S);return Xp(O)?void 0:O}),A="<"+I;return g&&(A+=" "+g),p.closing&&(A+=" /"),A+=">",A}else{var C=n(I,A,G);return Xp(C)?h(A):C}},h);return y&&(v=y.remove(v)),v};var EB=WI;(function(e,t){var r=At,s=lm,i=EB;function n(d,h){var f=new i(h);return f.process(d)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=i;for(var a in r)t[a]=r[a];for(var a in s)t[a]=s[a];function l(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}l()&&(self.filterXSS=e.exports)})(El,El.exports);var TB=function(){function e(t,r){var s=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,a,l,d){return n==="a"&&a==="href"||(n==="img"||n==="source")&&a==="src"?s.sanitizeUrl(l):El.exports.safeAttrValue(n,a,l,d)}};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(n){n==="whiteList"?i.whiteList=s._extendObjectOfArrays([s.arcgisWhiteList,t.whiteList||{}]):i[n]=t[n]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new El.exports.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t){var r=this._trim(t.substring(0,t.indexOf(":")));return t==="/"||t==="#"||t[0]==="#"||this.allowedProtocols.indexOf(r.toLowerCase())>-1?El.exports.escapeAttrValue(t):""},e.prototype.sanitizeHTMLAttribute=function(t,r,s,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,s,i):El.exports.safeAttrValue(t,r,s,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var s=this.sanitize(t,r);return{isValid:t===s,sanitized:s}},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(s){Object.keys(s).forEach(function(i){Array.isArray(s[i])&&Array.isArray(r[i])?r[i]=r[i].concat(s[i]):r[i]=s[i]})}),r},e.prototype._iterateOverObject=function(t,r){var s=this;r===void 0&&(r={});try{var i=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(l,d){var h=s.validate(d,r);return h.isValid?l.concat([d]):(i=!0,l.concat([h.sanitized]))},[]);else if(Fq(t)){var a=Object.keys(t);n=a.reduce(function(l,d){var h=t[d],f=s.validate(h,r);return f.isValid?l[d]=h:(i=!0,l[d]=f.sanitized),l},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const um=new Map;function JI(){um.clear()}function kB(e){return um.get(e)}function MB(e,t){um.set(e,t)}function mg(e){um.delete(e)}const IB=pe.getLogger("esri.widgets.support.widgetUtils");function OB(e){const t=Bs.acquire();for(let s=0;s<arguments.length;s++){const i=arguments[s],n=typeof i;if(n==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(n==="object")for(const a in i)i[a]&&t.push(a)}const r=t.join(" ");return Bs.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{JI();for(const s of r)e.get(s.target)(s)});return(r,s,i)=>(e.has(r)&&IB.error("Already observing element",r),e.set(r,s),t.observe(r,i),Vd(()=>{t.unobserve(r),e.delete(r)}))})();function Ac(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const jB=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],CB=jB.reduce((e,t)=>(e[t]=[],e),{}),AB=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],KI=new TB({whiteList:CB,onTagAttr:(e,t,r)=>{const s=`${t}="${r}"`;if(AB.includes(t))return s},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function RB(e,t){const r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=r.top+r.height,n=s.top+s.height,a=r.top,l=s.top;(i>n||a<l)&&e.scrollIntoView({block:"end"})}function QI(e){return e==="Enter"||e===" "}const ZI="http://www.w3.org/",cm=`${ZI}2000/svg`,YI=`${ZI}1999/xlink`;let Xf,_$=[],q_=(e,t)=>{let r={};return Object.keys(e).forEach(s=>{r[s]=e[s]}),t&&Object.keys(t).forEach(s=>{r[s]=t[s]}),r},B_=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),XI=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},PB=(e,t,r)=>{if(t.vnodeSelector!==""){for(let s=r;s<e.length;s++)if(B_(e[s],t))return s}return-1},gg=(e,t,r,s)=>{let i=e[t];if(i.vnodeSelector==="")return;let n=i.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let a=0;a<e.length;a++)if(a!==t){let l=e[a];if(B_(l,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${s==="added"?s:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},LB=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},mw=[],gw=!1,eO=e=>{(e.children||[]).forEach(eO),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},S$=()=>{gw=!1,mw.forEach(eO),mw.length=0},$$=e=>{mw.push(e),gw||(gw=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(S$,{timeout:16}):setTimeout(S$,16))},x$=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),$$(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),$$(e))},FB=(e,t,r)=>{if(!t)return;let s=r.eventHandlerInterceptor,i=Object.keys(t),n=i.length;for(let a=0;a<n;a++){let l=i[a],d=t[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")vw(e,d,!0);else if(l==="classes"){let h=Object.keys(d),f=h.length;for(let y=0;y<f;y++){let v=h[y];d[v]&&e.classList.add(v)}}else if(l==="styles"){let h=Object.keys(d),f=h.length;for(let y=0;y<f;y++){let v=h[y],b=d[v];b&&(XI(b),r.styleApplyer(e,v,b))}}else if(l!=="key"&&d!=null){let h=typeof d;h==="function"?(l.lastIndexOf("on",0)===0&&(s&&(d=s(l,d,e,t)),l==="oninput"&&function(){let f=d;d=function(y){f.apply(this,[y]),y.target["oninput-value"]=y.target.value}}()),e[l]=d):r.namespace===cm?l==="href"?e.setAttributeNS(YI,l,d):e.setAttribute(l,d):h==="string"&&l!=="value"?l==="innerHTML"?e[l]=KI.sanitize(d):e.setAttribute(l,d):e[l]=d}}},NB=(e,t,r)=>{if(t)for(let s of t)Tl(s,e,void 0,r)},tO=(e,t,r)=>{NB(e,t.children,r),t.text&&(e.textContent=t.text),FB(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},Tl=(e,t,r,s)=>{let i,n=0,a=e.vnodeSelector,l=t.ownerDocument;if(a==="")i=e.domNode=l.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let d=0;d<=a.length;++d){let h=a.charAt(d);if(d===a.length||h==="."||h==="#"){let f=a.charAt(n-1),y=a.slice(n,d);f==="."?i.classList.add(y):f==="#"?i.id=y:(y==="svg"&&(s=q_(s,{namespace:cm})),s.namespace!==void 0?i=e.domNode=l.createElementNS(s.namespace,y):(i=e.domNode=e.domNode||l.createElement(y),y==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),n=d+1}}tO(i,e,s)}},vw=(e,t,r)=>{t&&t.split(" ").forEach(s=>{s&&e.classList.toggle(s,r)})},DB=(e,t,r,s)=>{if(!r)return;let i=!1,n=Object.keys(r),a=n.length;for(let l=0;l<a;l++){let d=n[l],h=r[d],f=t[d];if(d==="class")f!==h&&(vw(e,f,!1),vw(e,h,!0));else if(d==="classes"){let y=e.classList,v=Object.keys(h),b=v.length;for(let x=0;x<b;x++){let I=v[x],A=!!h[I];A!==!!f[I]&&(i=!0,A?y.add(I):y.remove(I))}}else if(d==="styles"){let y=Object.keys(h),v=y.length;for(let b=0;b<v;b++){let x=y[b],I=h[x];I!==f[x]&&(i=!0,I?(XI(I),s.styleApplyer(e,x,I)):s.styleApplyer(e,x,""))}}else if(h||typeof f!="string"||(h=""),d==="value"){let y=e[d];y!==h&&(e["oninput-value"]?y===e["oninput-value"]:h!==f)&&(e[d]=h,e["oninput-value"]=void 0),h!==f&&(i=!0)}else if(h!==f){let y=typeof h;y==="function"&&s.eventHandlerInterceptor||(s.namespace===cm?d==="href"?e.setAttributeNS(YI,d,h):e.setAttribute(d,h):y==="string"?d==="innerHTML"?e[d]=KI.sanitize(h):d==="role"&&h===""?e.removeAttribute(d):e.setAttribute(d,h):e[d]!==h&&(e[d]=h),i=!0)}}return i},zB=(e,t,r,s,i)=>{if(r===s)return!1;s=s||_$;let n,a=(r=r||_$).length,l=s.length,d=0,h=0,f=!1;for(;h<l;){let y=d<a?r[d]:void 0,v=s[h];if(y!==void 0&&B_(y,v))f=Xf(y,v,i)||f,d++;else{let b=PB(r,v,d+1);if(b>=0){for(n=d;n<b;n++)x$(r[n]),gg(r,n,e,"removed");f=Xf(r[b],v,i)||f,d=b+1}else Tl(v,t,d<a?r[d].domNode:void 0,i),LB(v),gg(s,h,e,"added")}h++}if(a>d)for(n=d;n<a;n++)x$(r[n]),gg(r,n,e,"removed");return f};Xf=(e,t,r)=>{let s=e.domNode,i=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=s.ownerDocument.createTextNode(t.text);return s.parentNode.replaceChild(a,s),t.domNode=a,i=!0,i}t.domNode=s}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=q_(r,{namespace:cm})),e.text!==t.text&&(n=!0,t.text===void 0?s.removeChild(s.firstChild):s.textContent=t.text),t.domNode=s,n=zB(t,s,e.children,t.children,r)||n,n=DB(s,e.properties,t.properties,r)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[s,r,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(s,t.properties,e.properties),i};let Hu=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let s=e;e=r,Xf(s,r,t)},domNode:e.domNode});const VB={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Gu=e=>q_(VB,e),eh={create:(e,t)=>(t=Gu(t),Tl(e,document.createElement("div"),void 0,t),Hu(e,t)),append:(e,t,r)=>(r=Gu(r),Tl(t,e,void 0,r),Hu(t,r)),insertBefore:(e,t,r)=>(r=Gu(r),Tl(t,e.parentNode,e,r),Hu(t,r)),merge:(e,t,r)=>(r=Gu(r),t.domNode=e,tO(e,t,r),Hu(t,r)),replace:(e,t,r)=>(r=Gu(r),Tl(t,e.parentNode,e,r),e.parentNode.removeChild(e),Hu(t,r))};const UB={handleInterceptedEvent:(e,t,r,s)=>(e.scheduleRender(),t.properties[`on${s.type}`].apply(t.properties.bind||r,[s]))},qB={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},BB=e=>V(V({},qB),e),HB=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},GB=(e,t)=>e.find(t),E$=(e,t,r=!1)=>{let s=e;return t.forEach((i,n)=>{var a;const l=(a=s)!=null&&a.children?GB(s.children,d=>d.domNode===i):void 0;r&&!l&&n!==t.length-1||(s=l)}),s},WB=e=>{let t;const r=V(V({},UB),e),s=BB(r),i=s.performanceLogger;let n,a=!0,l=!1;const d=[],h=[],f=(v,b,x)=>{let I;s.eventHandlerInterceptor=(q,G,C,p)=>function(m){let g;i("domEvent",m);const _=HB(m.currentTarget,I.domNode),$=_.some(S=>{var O;return customElements.get(S==null||(O=S.tagName)==null?void 0:O.toLowerCase())});if(m.eventPhase===Event.CAPTURING_PHASE||!$)_.reverse(),g=E$(I.getLastRender(),_);else{const S=m.composedPath(),O=S.slice(S.indexOf(m.currentTarget),S.indexOf(I.domNode)).filter(W=>W.getRootNode()===W.ownerDocument).reverse();g=E$(I.getLastRender(),O,!0)}let T;return g&&(T=r.handleInterceptedEvent(t,g,this,m)),i("domEventProcessed",m),T},r.postProcessProjectionOptions==null||r.postProcessProjectionOptions(s);const A=x();I=v(b,A,s),d.push(I),h.push(x),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(I,A)};let y=()=>{if(n=void 0,a){a=!1,i("renderStart",void 0);for(let v=0;v<d.length;v++){const b=h[v]();i("rendered",void 0),d[v].update(b),i("patched",void 0)}i("renderDone",void 0),a=!0}};return r.modifyDoRenderImplementation&&(y=r.modifyDoRenderImplementation(y,d,h)),t={renderNow:y,scheduleRender:()=>{n||l||(n=requestAnimationFrame(y))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(v,b)=>{f(eh.append,v,b)},insertBefore:(v,b)=>{f(eh.insertBefore,v,b)},merge:(v,b)=>{f(eh.merge,v,b)},replace:(v,b)=>{f(eh.replace,v,b)},detach:v=>{for(let b=0;b<h.length;b++)if(h[b]===v)return h.splice(b,1),d.splice(b,1)[0];throw new Error("renderFunction was not found")}},t},JB=e=>e;let rO;function KB(){JB(ws(ku(rO)))}rO="components/assets";const sO=Symbol("widget"),QB=[],ZB={},ey=new WeakMap;function iO(e,t){let r=t.children;if(r&&r.length)for(let i=0;i<r.length;++i)r[i]=iO(e,r[i]);else r=QB;const s=t.vnodeSelector;if(H_(s)){const i=t.properties||ZB,n=i.key||s;return{vnodeSelector:"div",properties:{key:n,afterCreate:YB,afterUpdate:XB,afterRemoved:nO,parentWidget:e,widgetConstructor:s,widgetProperties:Ie(V({},i),{key:n,children:r})},children:void 0,text:void 0,domNode:null}}return t}function YB(e,t,r,{parentWidget:s,widgetConstructor:i,widgetProperties:n}){const a=new i(n);a.container=e,ey.set(e,a),a.afterCreate==null||a.afterCreate(a,e),s._internalHandles.add(Vd(()=>nO(e)))}function XB(e,t,r,{widgetProperties:s}){const i=ey.get(e);i&&(i.set(s),i.afterUpdate==null||i.afterUpdate(i,e))}function nO(e){const t=ey.get(e);t&&(t.destroy(),ey.delete(e))}function H_(e){return typeof e=="function"&&e[sO]}function eH(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}const oO="esri.widgets.Widget",T$=pe.getLogger(oO);let tH=0;const rH={widgetIcon:"esri-icon-checkbox-unchecked"};function aO(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?aO(e[r],t[r]):e[r]=t[r]);return e}const sH=WB({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(s,i,n,a)=>{const l=t(s,i,n,a),d=r.test(s);if(!((s=s.replace(r,"")).toLowerCase()in n)||d){const h=s[2].toLowerCase()+s.slice(3),f=b=>l.call(n,b);n.addEventListener(h,f,d);const y=()=>n.removeEventListener(h,f,d),v=a.afterRemoved;a.afterRemoved=b=>{v==null||v(b),y()}}return l}},handleInterceptedEvent(e,t,r,s){const{eventPhase:i,type:n}=s,a=i===Event.CAPTURING_PHASE;let l=`on${n}${a?"capture":""}`;const d=t.properties;(l in d||(l=`on${n[0].toUpperCase()}${n.slice(1)}${a?"Capture":""}`,l in d))&&(JI(),e.scheduleRender(),d[l].call(d.bind||r,s))}});let vg=!1,Wt=class extends zy(Jd.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new qa,this._projector=sH,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=rH.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=o1(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const l=await $i(this._messageBundleProps.map(async({bundlePath:d,propertyName:h})=>{let f=await M_(d);this.uiStrings&&Object.keys(this.uiStrings)&&(f=aO(D(f),this.uiStrings)),this[h]=f}));for(const d of l)d.error&&T$.error("widget-intl:locale-error",this.declaredClass,d.error)}await this.loadLocale()}),KB();const r=["light","dark"],s=eH()||"light";r.includes(s)||my(T$,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const i="esri-widget-uid-"+jI(),n=this.render.bind(this);this._trackingTarget=new Ey(()=>this.scheduleRender());const a=()=>{var l;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:i,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const d=n();let{properties:h}=d;h||(d.properties=h={});let{key:f,styles:y}=h;f||(h.key=i),y||(h.styles=y={}),y.display||(y.display="");let v=0;return(l=d.children)==null||l.forEach(b=>{if(H_(b.vnodeSelector))return;let{properties:x}=b;x||(b.properties=x={}),x.key||(x.key=`${this.id}--${v++}`)}),iO(this,d)};this.render=()=>{if(vg)return a();let l=kB(this);if(l)return l;this._trackingTarget.clear(),vg=!0;try{l=un(this._trackingTarget,a)}finally{vg=!1}return MB(this,l),l},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(e,t){const r=V({},e);return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(Kg)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=$f(this._trackingTarget),this.viewModel=$f(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,mg(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Tq(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+tH++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(mg(this),this._projector.scheduleRender())}classes(...e){return OB.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){mg(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),(e=this._delegatedEventNames)!=null&&e.length&&this._internalHandles.add(ou(()=>this.viewModel,(r,s)=>{s&&this._internalHandles.remove("delegated-events"),r&&this._internalHandles.add(this._delegatedEventNames.map(i=>r.on(i,n=>{this.emit(i,n)})),"delegated-events")},v6)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(Kg),this.scheduleRender()};this._internalHandles.add([ck(t),ou(()=>this.uiStrings,t),$_(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Wt[sO]=!0,o([c()],Wt.prototype,"_readyForTrueRender",void 0),o([c({value:null})],Wt.prototype,"container",null),o([Ct("container")],Wt.prototype,"castContainer",null),o([c({aliasOf:"container"})],Wt.prototype,"domNode",void 0),o([c()],Wt.prototype,"iconClass",void 0),o([c()],Wt.prototype,"id",null),o([c()],Wt.prototype,"label",void 0),o([c()],Wt.prototype,"renderable",null),o([c()],Wt.prototype,"uiStrings",void 0),o([c()],Wt.prototype,"viewModel",void 0),o([c()],Wt.prototype,"visible",void 0),o([c()],Wt.prototype,"key",void 0),o([c()],Wt.prototype,"children",void 0),o([c()],Wt.prototype,"afterCreate",void 0),o([c()],Wt.prototype,"afterUpdate",void 0),o([c()],Wt.prototype,"afterRemoved",void 0),Wt=o([k(oO)],Wt);const G_=Wt;function iH(e){return e&&typeof e.highlight=="function"}let Ut=class extends Zd(ee){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};o([c()],Ut.prototype,"autoNavigate",void 0),o([c()],Ut.prototype,"filter",void 0),o([c()],Ut.prototype,"getResults",void 0),o([c()],Ut.prototype,"getSuggestions",void 0),o([c()],Ut.prototype,"maxResults",void 0),o([c()],Ut.prototype,"maxSuggestions",void 0),o([c()],Ut.prototype,"minSuggestCharacters",void 0),o([c()],Ut.prototype,"outFields",void 0),o([c()],Ut.prototype,"placeholder",void 0),o([c()],Ut.prototype,"popupEnabled",void 0),o([c()],Ut.prototype,"popupTemplate",void 0),o([c()],Ut.prototype,"prefix",void 0),o([c()],Ut.prototype,"resultGraphicEnabled",void 0),o([c()],Ut.prototype,"resultSymbol",void 0),o([c()],Ut.prototype,"suggestionsEnabled",void 0),o([c()],Ut.prototype,"suffix",void 0),o([c()],Ut.prototype,"withinViewEnabled",void 0),o([c()],Ut.prototype,"zoomScale",void 0),Ut=o([k("esri.widgets.Search.SearchSource")],Ut);const W_=Ut,lO=96;function nH(e,t){const r=t||e.extent,s=e.width,i=xu(r&&r.spatialReference);return r&&s?r.width/s*i*jM*lO:0}function oH(e,t){return e/(xu(t)*jM*lO)}function aH(e,t){const r=e.extent,s=e.width,i=oH(t,r.spatialReference);return r.clone().expand(i*s/r.width)}const k$=pe.getLogger("esri.widgets.Search.support.geometryUtils");function lH(e,t){var r,s;if(!t)return k$.error("missing-parameter: view is missing."),Promise.reject(new Y("searchgeometryutils:missing-parameter","view is missing."));if(!e)return k$.error("missing-parameter: point is missing."),Promise.reject(new Y("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||t.type==="2d")return Promise.resolve(e);const i=t==null||(r=t.map)==null?void 0:r.ground;return i&&i.layers.length?i.queryElevation(e,{cache:(s=t.basemapTerrain)==null?void 0:s.elevationQueryCache}).then(n=>n.geometry):Promise.resolve(e)}function M$(e){if(be(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function J_(e,t,r){return be(e)?null:e.type==="extent"?e:e.type==="multipoint"||e.type==="polygon"||e.type==="polyline"?e.extent:e.type==="point"?uO(e,t,r):void 0}function bw(e,t,r){return be(e)||be(t)?null:uO(e.center,t,r)}function uO(e,t,r){const s=e.hasZ?e.z:void 0;return t&&t.map?(r?aH(t,r):t.extent).clone().centerAt(e).set({zmax:s,zmin:s}):new Nt({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:s,zmax:s})}const uH=/https?:\/\/services.*\.arcgis\.com/i,cH=/(?:\{([^}]+)\})/g,Hl=pe.getLogger("esri.widgets.Search.support.layerSearchUtils");function dH(e,t){const{exactMatch:r=!1,location:s,maxResults:i,spatialReference:n,source:a,sourceIndex:l,suggestResult:d,view:h}=e,{layer:f,filter:y,zoomScale:v}=a,b=h&&h.scale,x=cO(a,h),I=t&&t.signal;return pO(f).then(()=>{const A=f.popupTemplate;return A?A.getRequiredFields(f.fieldsIndex):null}).then(A=>{var q,G,C;const{objectIdField:p,returnZ:m}=f,g=fO(a);if(!K_(f,g))throw Hl.error("invalid-field: displayField is invalid."),new Y("getResults():invalid-field","displayField is invalid.");const _=A&&A.length?A:[g],$=a.outFields||_,T=dO($);if($.indexOf(p)!==-1||T||$.push(p),(q=f.floorInfo)!=null&&q.floorField&&$.push(f.floorInfo.floorField),!(T||ty(f,$)))throw Hl.error("invalid-field: outField is invalid."),new Y("getResults():invalid-field","outField is invalid.");const S=f.createQuery(),{orderByFields:O}=a;if(O&&(S.orderByFields=O),n){S.outSpatialReference=n;const F=1/xu(n);F&&(S.maxAllowableOffset=F)}const W=f.geometryType==="mesh"||f.geometryType==="multipatch",U=((G=f.capabilities)==null||(C=G.data)==null?void 0:C.supportsZ)&&!W;if(S.returnZ=U&&m!==!1,S.returnGeometry=!0,S.multipatchOption=W?"xyFootprint":null,$&&(S.outFields=$),s)S.geometry=s;else if(d.key)S.objectIds=[d.key];else{const F=a.searchFields||[g];if(!ty(f,F))throw Hl.error("invalid-field: search field is invalid."),new Y("getResults():invalid-field","search field is invalid.");if(hO(f)&&(S.num=i),x&&(S.geometry=x),!d.text.trim())return[];const{prefix:J="",suffix:E=""}=a,z=mO({searchTerm:yO(`${J}${d.text}${E}`),layer:f,searchFields:F,filter:y,exactMatch:r,type:"search"});if(!z)return[];S.where=z}return f.queryFeatures(S,{signal:I}).then(F=>$H(F,h,a,l,g,b,v))})}function pH(e,t){const{source:r,spatialReference:s,view:i,suggestTerm:n,maxSuggestions:a,sourceIndex:l,exactMatch:d}=e,{layer:h,filter:f}=r,y=t&&t.signal,v=cO(r,i);return pO(h).then(()=>{if(!hO(h))return[];const b=fO(r),x=r.searchFields||[b],I=[];r.suggestionTemplate?r.suggestionTemplate.replace(cH,(T,S)=>(I.push(S),T)):I.push(b);const A=dO(I);I.indexOf(h.objectIdField)!==-1||A||I.push(h.objectIdField);const q=K_(h,b),G=A||ty(h,I),C=ty(h,x);if(!q)throw Hl.error("invalid-field: displayField is invalid."),new Y("getSuggestions():invalid-field","displayField is invalid.");if(!G)throw Hl.error("invalid-field: outField is invalid."),new Y("getSuggestions():invalid-field","outField is invalid.");if(!C)throw Hl.error("invalid-field: search field is invalid."),new Y("getSuggestions():invalid-field","search field is invalid.");const p=h.createQuery(),{orderByFields:m}=r;if(m&&(p.orderByFields=m),p.outSpatialReference=s,p.returnGeometry=!1,p.num=a,p.outFields=I,v&&(p.geometry=v),!n.trim())return[];const{prefix:g="",suffix:_=""}=r,$=mO({searchTerm:yO(`${g}${n}${_}`),layer:h,searchFields:x,filter:f,exactMatch:d,type:"suggest"});return $?(p.where=$,h.queryFeatures(p,{signal:y}).then(T=>_H(T,r,l,b))):[]})}function cO(e,t){const{filter:r,withinViewEnabled:s}=e,i=t&&t.extent;return r&&r.geometry||(s&&i?i:void 0)}function dO(e){return e&&e.indexOf("*")!==-1}async function pO(e){e&&await e.load()}function hO(e){var t,r,s;return(t=e==null||(r=e.capabilities)==null||(s=r.query)==null?void 0:s.supportsPagination)!=null&&t}function hH(e){var t,r,s,i;return(t=e==null||(r=e.fieldsIndex)==null||(s=r.fields)==null||(i=s.find(n=>n.type==="string"))==null?void 0:i.name)!=null?t:""}function fO(e){return e.displayField||e.layer.displayField||hH(e.layer)}function ty(e,t){return!(!e||!t)&&t.every(r=>K_(e,r))}function K_(e,t){return!!e.getField(t)}function fH(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function yH(e,t,r){let s=null;const{codedValues:i}=e;return i&&i.some(n=>{const a=n.name,l=r?a:a.toLowerCase();return(r?t:t.toLowerCase())===l&&(s=n.code.toString(),!0)}),s}function yO(e){return e.replace(/\'/g,"''")}function th(e,t){const r=t&&t.where;return r?`(${e}) AND (${r})`:e}function mH({currentTerm:e,field:t,filter:r,exactMatch:s,url:i,type:n}){const a=t.type,l=t.name;if(a==="string"||a==="date"||a==="global-id"){const d=uH.test(i),h=d&&fH(e)?"N":"";if(s&&n==="search")return th(`${l} = ${h}'${e}'`,r);const f=d?l:`UPPER(${l})`,y=d?e:e.toUpperCase();return th(`${f} LIKE ${h}${s?`'${y}%'`:`'%${y}%'`}`,r)}if(a==="oid"||a==="small-integer"||a==="integer"||a==="single"||a==="double"){const d=Number(e);return isNaN(d)?null:th(`${l} = ${d}`,r)}return th(`${l} = ${e}`,r)}function gH(e,t){return e?` OR (${t})`:`(${t})`}function mO({searchTerm:e,layer:t,searchFields:r,filter:s,exactMatch:i,type:n}){const{definitionExpression:a,url:l}=t;let d="";return e&&r&&r.forEach(h=>{const f=t.getField(h),y=typeof t.getFieldDomain=="function"&&t.getFieldDomain(h),v=(y&&y.type==="coded-value"?yH(y,e,i):null)||e||null;if(v!==null){const b=mH({currentTerm:v,field:f,filter:s,exactMatch:i,url:l,type:n});b&&(d+=gH(d,b))}}),a?`(${a}) AND (${d})`:d}function vH(e,t){let r=null;const{codedValues:s}=e;return s&&s.length&&s.some(i=>i.code===t&&(r=i.name,!0)),r}function bH(e,t){return e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function gO(e,t,r){const s=e.sourceLayer,{attributes:i}=e,n=typeof s.getFieldDomain=="function"&&s.getFieldDomain(r);if(t)return T_(t,i);if(r&&i){const a=s.getField(r),l=bH(i,r);return l==null?"":n&&n.type==="coded-value"?vH(n,l):(a==null?void 0:a.type)==="date"?ja(new Date(l)):typeof l=="number"?l.toString():typeof l!="string"?"":l.trim()}return""}function wH(e,t,r,s){const i=e.sourceLayer,{attributes:n}=e,{objectIdField:a}=i,l=n[a];return{text:gO(e,t.suggestionTemplate,s),key:l,sourceIndex:r}}function _H(e,t,r,s){return e.features.map(i=>wH(i,t,r,s))}function SH(e,t,r,s,i,n,a){const l=e.clone(),d=e.sourceLayer,h=d&&d.objectIdField,f=h&&e.attributes[h],y=gO(e,r.searchTemplate,i),v=J_(l.geometry,t,n),b=typeof a=="number"?bw(D(v),t,a):v,x=e.clone();return H(b)&&(x.geometry=Pa.fromExtent(b)),{extent:b,target:x,feature:l,key:f,name:y,sourceIndex:s}}function $H(e,t,r,s,i,n,a){return e.features.map(l=>SH(l,t,r,s,i,n,a))}var ww;let Ds=ww=class extends W_{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>dH(V({source:this},t),r),this.getSuggestions=(t,r)=>pH(V({source:this},t),r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(e){e!==void 0?this._override("name",e):this._clearOverride("name")}clone(){return new ww({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?D(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?D(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return(e=(t=this.layer.fieldsIndex.fields.find(r=>r.type==="string"))==null?void 0:t.name)!=null?e:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const s=e.getField(r);return s&&s.alias||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};o([c({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Ds.prototype,"displayField",void 0),o([c({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Ds.prototype,"exactMatch",void 0),o([c({value:null})],Ds.prototype,"layer",null),o([c()],Ds.prototype,"name",null),o([c({type:[String],json:{write:!0}})],Ds.prototype,"orderByFields",void 0),o([c()],Ds.prototype,"searchFields",void 0),o([c()],Ds.prototype,"searchTemplate",void 0),o([c()],Ds.prototype,"suggestionTemplate",void 0),Ds=ww=o([k("esri.widgets.Search.LayerSearchSource")],Ds);const vl=Ds;function Iu(e,t){return t?Ie(V({},t),{query:V(V({},e),t.query)}):{query:e}}function Ou(e){return typeof e=="string"?Gr(e):e}function ju(e,t,r){const s={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){s[i]=[];for(let a=0;a<n.length;a++)s[i][a]=ju(n[a])}else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r&&r[i]);s[i]=t?a:JSON.stringify(a)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}function xH(e){return e&&typeof e.x=="number"&&typeof e.y=="number"}function EH(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let Un=class extends ee{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};o([c({type:String,json:{write:!0}})],Un.prototype,"address",void 0),o([c({type:Object,json:{write:!0}})],Un.prototype,"attributes",void 0),o([c({type:Nt,json:{write:!0}})],Un.prototype,"extent",void 0),o([c({type:dt,json:{write:!0}})],Un.prototype,"location",void 0),o([c({type:Number,json:{write:!0}})],Un.prototype,"score",void 0),Un=o([k("esri.rest.support.AddressCandidate")],Un);const Q_=Un,dm={type:String,json:{read:{source:"token"},write:{target:"token"}}};let lr=class extends ee{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};o([c({type:Object,json:{write:!0}})],lr.prototype,"address",void 0),o([c(dm)],lr.prototype,"apiKey",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],lr.prototype,"categories",void 0),o([c({type:String,json:{write:!0}})],lr.prototype,"countryCode",void 0),o([c({type:Boolean,json:{write:!0}})],lr.prototype,"forStorage",void 0),o([c({type:dt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],lr.prototype,"location",void 0),o([c({type:String,json:{write:!0}})],lr.prototype,"locationType",void 0),o([c({type:String,json:{write:!0}})],lr.prototype,"magicKey",void 0),o([c({type:Number,json:{write:!0}})],lr.prototype,"maxLocations",void 0),o([c({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],lr.prototype,"outFields",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],lr.prototype,"outSpatialReference",void 0),o([c({type:Nt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],lr.prototype,"searchExtent",void 0),lr=o([k("esri.rest.support.AddressToLocationsParameters")],lr),lr.from=lt(lr);const vO=lr;async function bO(e,t,r){t=vO.from(t);const s=Ou(e),i=t.toJSON(),{address:n}=i,a=hR(i,["address"]),l=Ie(V(V({},n),a),{f:"json"}),d=ju(V(V({},s.query),l)),h=Iu(d,r),f=`${s.path}/findAddressCandidates`;return Tt(f,h).then(TH)}function TH({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(s=>{if(!s)return;const{extent:i,location:n}=s,a=!i||EH(i);return xH(n)&&a?(i&&(i.spatialReference=r),n.spatialReference=r,Q_.fromJSON(s)):void 0}):[]}let gi=class extends ee{constructor(e){super(e),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};o([c({type:[Object],json:{read:{reader:e=>e&&e.records?e.records.map(t=>t.attributes):null},write:{writer:(e,t)=>{const r=[];Array.isArray(e)&&e.forEach(s=>{r.push({attributes:s})}),t.addresses={records:r}}}}})],gi.prototype,"addresses",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],gi.prototype,"categories",void 0),o([c({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],gi.prototype,"countryCode",void 0),o([c({type:String,json:{write:!0}})],gi.prototype,"locationType",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],gi.prototype,"outSpatialReference",void 0),gi=o([k("esri.rest.support.AddressesToLocationsParameters")],gi),gi.from=lt(gi);const kH=gi;async function MH(e,t,r){t=kH.from(t);const s=Ou(e),i=Ie(V({},t.toJSON()),{f:"json"}),n=ju(V(V({},s.query),i)),a=Iu(n,r),l=`${s.path}/geocodeAddresses`;return Tt(l,a).then(IH)}function IH(e){const{data:t}=e;if(!t)return[];const{locations:r,spatialReference:s}=t;return r?r.map(i=>{const{location:n}=i;return n&&(n.spatialReference=s),Q_.fromJSON(i)}):[]}let Wi=class extends ee{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};o([c(dm)],Wi.prototype,"apiKey",void 0),o([c({type:dt,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,s=r!==void 0;t.location=s?r:null}}}})],Wi.prototype,"location",void 0),o([c({type:String,json:{write:!0}})],Wi.prototype,"locationType",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Wi.prototype,"outSpatialReference",void 0),Wi=o([k("esri.rest.support.LocationToAddressParameters")],Wi),Wi.from=lt(Wi);const wO=Wi;async function _O(e,t,r){t=wO.from(t);const s=Ou(e),i=Ie(V({},t.toJSON()),{f:"json"}),n=ju(V(V({},s.query),i)),a=Iu(n,r),l=`${s.path}/reverseGeocode`;return Tt(l,a).then(OH)}function OH({data:e}){if(!e)return;const{address:t,location:r}=e,s=t&&t.Match_addr||"";return Q_.fromJSON({address:s,attributes:t||{},location:r,score:100})}let bl=class extends ee{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};o([c({type:Boolean,json:{write:!0}})],bl.prototype,"isCollection",void 0),o([c({type:String,json:{write:!0}})],bl.prototype,"magicKey",void 0),o([c({type:String,json:{write:!0}})],bl.prototype,"text",void 0),bl=o([k("esri.rest.support.SuggestionCandidate")],bl);const jH=bl;let Yr=class extends ee{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};o([c(dm)],Yr.prototype,"apiKey",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Yr.prototype,"categories",void 0),o([c({type:String,json:{write:!0}})],Yr.prototype,"countryCode",void 0),o([c({type:dt,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],Yr.prototype,"location",void 0),o([c({type:Number,json:{write:!0}})],Yr.prototype,"maxSuggestions",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Yr.prototype,"outSpatialReference",void 0),o([c({type:Nt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],Yr.prototype,"searchExtent",void 0),o([c({type:String,json:{write:!0}})],Yr.prototype,"text",void 0),Yr=o([k("esri.rest.support.SuggestLocationsParameters")],Yr),Yr.from=lt(Yr);const SO=Yr;async function $O(e,t,r){const s=Ou(e),i=Ie(V({},(t=SO.from(t)).toJSON()),{f:"json"}),n=ju(V(V({},s.query),i)),a=Iu(n,r),l=`${s.path}/suggest`;return Tt(l,a).then(CH)}function CH(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(s=>new jH(s)):[]}let wl=class extends vt{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return typeof e!="string"?e:V({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Gr(e):null}_encode(e,t,r){const s={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){s[i]=[];for(let a=0;a<n.length;a++)s[i][a]=this._encode(n[a])}else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r&&r[i]);s[i]=t?a:JSON.stringify(a)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}};o([c({readOnly:!0})],wl.prototype,"parsedUrl",null),o([c()],wl.prototype,"requestOptions",void 0),o([c({type:String})],wl.prototype,"url",void 0),wl=o([k("esri.tasks.Task")],wl);const xO=wl;let Rc=class extends xO{constructor(e){super(e),this.outSpatialReference=null,this.url=null}addressToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=V(V({},this.requestOptions),t);return bO(this.url,e,r)}suggestLocations(e,t){const r=V(V({},this.requestOptions),t);return $O(this.url,e,r)}addressesToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=V(V({},this.requestOptions),t);return MH(this.url,e,r)}locationToAddress(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=V(V({},this.requestOptions),t);return _O(this.url,e,r)}};o([c({type:Ue})],Rc.prototype,"outSpatialReference",void 0),o([c()],Rc.prototype,"url",void 0),Rc=o([k("esri.tasks.Locator")],Rc);const AH=Rc,RH="Single Line Input",PH=3e5;function LH(e,t){return e.location?VH(e,t):UH(e,t)}function EO(e,t){if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=PH?e.get("extent.center"):null}function FH(e,t){const{source:r,spatialReference:s,view:i,suggestTerm:n,maxSuggestions:a,sourceIndex:l}=e,d=new SO,{apiKey:h,url:f}=r,y=TO(r,i),v=t&&t.signal;if(!f)return Promise.resolve(null);h&&(d.apiKey=h),r.categories&&(d.categories=r.categories),s&&(d.outSpatialReference=s);const b=EO(i,r);if(b&&(d.location=b),!n.trim())return Promise.resolve(null);const{prefix:x="",suffix:I=""}=r,A=`${x}${n}${I}`;return d.text=A,y&&(d.searchExtent=y),d.maxSuggestions=a,r.countryCode&&(d.countryCode=r.countryCode),$O(f,d,{signal:v}).then(q=>BH(q,l))}function NH(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function DH(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function I$(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}const zH="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function VH(e,t){const{source:r,spatialReference:s,location:i,sourceIndex:n,view:a}=e,{apiKey:l,url:d,zoomScale:h,defaultZoomScale:f}=r,y=a&&a.scale,v=t&&t.signal,b=new wO;return b.location=i,l&&(b.apiKey=l),s&&(b.outSpatialReference=s),_O(d,b,{signal:v}).then(x=>kO([x],{sourceIndex:n,scale:y,view:a,zoomScale:h,defaultZoomScale:f})).catch(()=>[])}function TO(e,t){const{filter:r,withinViewEnabled:s}=e,i=t&&t.scale,n=t&&t.extent,a=r&&r.geometry;return J_(a,t,i)||(s&&n?n:void 0)}function UH(e,t){const{source:r,suggestResult:s,spatialReference:i,view:n,maxResults:a,sourceIndex:l}=e,d=r&&r.zoomScale,h=r&&r.defaultZoomScale;if(!s.text.trim())return Promise.resolve(null);const f=!s.key&&r.prefix?r.prefix:"",y=!s.key&&r.suffix?r.suffix:"",v=`${f}${s.text}${y}`,b=new vO,{apiKey:x,url:I}=r,A=n&&n.scale,q=TO(r,n),G=t&&t.signal;if(x&&(b.apiKey=x),!I)return Promise.resolve(null);r.categories&&(b.categories=r.categories),r.locationType&&(b.locationType=r.locationType),i&&(b.outSpatialReference=i);const C=EO(n,r);C&&(b.location=C),b.maxLocations=a,q&&(b.searchExtent=q),r.countryCode&&(b.countryCode=r.countryCode);const{key:p}=s,m=`${p}`;return p&&(b.magicKey=m),b.address={},b.address[r.singleLineFieldName||RH]=v,r.outFields&&(b.outFields=r.outFields),bO(I,b,{signal:G}).then(g=>kO(g,{key:m,scale:A,sourceIndex:l,view:n,zoomScale:d,defaultZoomScale:h}))}function qH(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function BH(e,t){return e.map(r=>qH(r,t))}function HH(e,t){const{key:r,scale:s,sourceIndex:i,view:n,zoomScale:a,defaultZoomScale:l}=t,{attributes:d,extent:h,location:f,address:y}=e,v=new pn({geometry:f,attributes:d}),b=h||f,x=J_(b,n,s),I=typeof a=="number"?bw(x,n,a):typeof l=="number"&&b.type==="point"?bw(x,n,l):x,A=f?`${f.x},${f.y}`:"",q=y||A,G=v.clone();return H(I)&&(G.geometry=Pa.fromExtent(I)),{extent:I,feature:v,target:G,key:r,name:q,sourceIndex:i}}function kO(e,t){return e.filter(Boolean).map(r=>HH(r,t))}var _w;const MO="esri.widgets.Search.LocatorSearchSource",O$=pe.getLogger(MO);let ur=_w=class extends W_{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>LH(V({source:this},t),r),this.getSuggestions=(t,r)=>FH(V({source:this},t),r)}set locator(e){ud(O$,"locator",{replacement:"url",version:"4.22"}),this._set("url",e.url),this._set("locator",e)}get locator(){return ud(O$,"locator",{replacement:"url",version:"4.22"}),this._get("locator")}clone(){return new _w({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?D(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?D(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};o([c()],ur.prototype,"apiKey",void 0),o([c()],ur.prototype,"categories",void 0),o([c()],ur.prototype,"countryCode",void 0),o([c({json:{write:!0}})],ur.prototype,"defaultZoomScale",void 0),o([c()],ur.prototype,"localSearchDisabled",void 0),o([c({type:AH,json:{read:!1,write:!1}})],ur.prototype,"locator",null),o([c()],ur.prototype,"locationType",void 0),o([c({json:{write:!0}})],ur.prototype,"name",void 0),o([c({json:{write:!0}})],ur.prototype,"placeholder",void 0),o([c()],ur.prototype,"searchTemplate",void 0),o([c({json:{write:!0}})],ur.prototype,"singleLineFieldName",void 0),o([c({json:{read:{source:"suggest"},write:{target:"suggest"}}})],ur.prototype,"suggestionsEnabled",void 0),o([c({json:{write:!0}})],ur.prototype,"url",void 0),o([c({json:{write:!0}})],ur.prototype,"zoomScale",void 0),ur=_w=o([k(MO)],ur);const IO=ur,GH=new Ce({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),WH=new Ce({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function JH(e){const{geometries:t,deviationUnit:r,maxDeviation:s}=e.toJSON(),i={maxDeviation:s};return t&&t.length&&(i.geometries=JSON.stringify({geometryType:ho(t[0]),geometries:t}),i.sr=JSON.stringify(t[0].spatialReference)),WH.write(r,i,"deviationUnit"),i}let qn=class extends ee{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};o([c({type:String,json:{write:!0}})],qn.prototype,"deviationUnit",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>ss(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],qn.prototype,"geometries",void 0),o([c({type:Number,json:{write:!0}})],qn.prototype,"maxDeviation",void 0),qn=o([k("esri.rest.support.GeneralizeParameters")],qn),qn.from=lt(qn);const KH=qn,QH=new Ce({preserveShape:"preserve-shape"});function ZH(e){const{polylines:t,lengthUnit:r,geodesic:s,calculationType:i}=e.toJSON(),n={};n.polylines=JSON.stringify(t);const a=e.polylines[0].spatialReference;return n.sr=a.wkid?a.wkid:JSON.stringify(a.toJSON()),r&&(n.lengthUnit=r),s&&(n.geodesic=s),i&&(n.calculationType=QH.toJSON(i)),n}let Ji=class extends ee{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};o([c({type:String,json:{write:!0}})],Ji.prototype,"calculationType",void 0),o([c({type:Boolean,json:{write:!0}})],Ji.prototype,"geodesic",void 0),o([c({json:{write:!0}})],Ji.prototype,"lengthUnit",void 0),o([c({type:[mu],json:{read:{reader:e=>e?e.map(t=>ss(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Ji.prototype,"polylines",void 0),Ji=o([k("esri.rest.support.LengthsParameters")],Ji),Ji.from=lt(Ji);const YH=Ji,XH=new Ce({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),eG=new Ce({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function tG(e){const{geometries:t,bevelRatio:r,offsetDistance:s,offsetHow:i,offsetUnit:n}=e.toJSON(),a={bevelRatio:r,offsetDistance:s};return t&&t.length&&(a.geometries=JSON.stringify({geometryType:ho(t[0]),geometries:t}),a.sr=JSON.stringify(t[0].spatialReference)),i&&(a.offsetHow=XH.toJSON(i)),n&&(a.offsetUnit=eG.toJSON(n)),a}let vi=class extends ee{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};o([c({type:Number,json:{write:!0}})],vi.prototype,"bevelRatio",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>ss(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],vi.prototype,"geometries",void 0),o([c({type:Number,json:{write:!0}})],vi.prototype,"offsetDistance",void 0),o([c({type:String,json:{write:!0}})],vi.prototype,"offsetHow",void 0),o([c({type:String,json:{write:!0}})],vi.prototype,"offsetUnit",void 0),vi=o([k("esri.rest.support.OffsetParameters")],vi),vi.from=lt(vi);const rG=vi;function sG(e){return{geometryType:ho(e[0]),geometries:e.map(t=>t.toJSON())}}function OO(e,t,r){const s=sk(t);return e.map(i=>{const n=s.fromJSON(i);return n.spatialReference=r,n})}let ta=class extends ee{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:ho(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};o([c()],ta.prototype,"geometries",void 0),o([c({json:{read:{source:"outSR"}}})],ta.prototype,"outSpatialReference",void 0),o([c()],ta.prototype,"transformation",void 0),o([c()],ta.prototype,"transformForward",void 0),ta=o([k("esri.rest.support.ProjectParameters")],ta);const jO=ta,iG=lt(jO);async function CO(e,t,r){t=iG(t);const s=Ou(e),i=V(Ie(V({},s.query),{f:"json"}),t.toJSON()),n=t.outSpatialReference,a=ho(t.geometries[0]),l=Iu(i,r);return Tt(s.path+"/project",l).then(({data:{geometries:d}})=>OO(d,a,n))}const nG=new Ce({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function oG(e){const{geometries1:t,geometries2:r,relation:s,relationParameter:i}=e.toJSON(),n={};if(t&&t.length){n.geometries1=JSON.stringify({geometryType:ho(t[0]),geometries:t});const a=t[0].spatialReference;n.sr=a.wkid?a.wkid:JSON.stringify(a)}return r&&r.length>0&&(n.geometries2=JSON.stringify({geometryType:ho(r[0]),geometries:r})),s&&(n.relation=nG.toJSON(s)),i&&(n.relationParam=i),n}let Ki=class extends ee{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};o([c({json:{read:{reader:e=>e?e.map(t=>ss(t)):null},write:{writer:(e,t)=>{t.geometries1=e.map(r=>r.toJSON())}}}})],Ki.prototype,"geometries1",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>ss(t)):null},write:{writer:(e,t)=>{t.geometries2=e.map(r=>r.toJSON())}}}})],Ki.prototype,"geometries2",void 0),o([c({type:String,json:{write:!0}})],Ki.prototype,"relation",void 0),o([c({type:String,json:{write:!0}})],Ki.prototype,"relationParameter",void 0),Ki=o([k("esri.rest.support.RelationParameters")],Ki),Ki.from=lt(Ki);const aG=Ki,lG=new Ce({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function uG(e){const{extendHow:t,polylines:r,trimExtendTo:s}=e.toJSON(),i={};return i.extendHow=lG.toJSON(t),r&&r.length&&(i.polylines=JSON.stringify(r),i.sr=JSON.stringify(r[0].spatialReference)),s&&(i.trimExtendTo=JSON.stringify(s)),i}let Bn=class extends ee{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};o([c({type:String,json:{write:!0}})],Bn.prototype,"extendHow",void 0),o([c({type:[mu],json:{read:{reader:e=>e?e.map(t=>ss(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Bn.prototype,"polylines",void 0),o([c({json:{read:{reader:e=>e?ss(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],Bn.prototype,"trimExtendTo",void 0),Bn=o([k("esri.rest.support.TrimExtendParameters")],Bn),Bn.from=lt(Bn);const cG=Bn,AO=pe.getLogger("esri.widgets.support.geolocationUtils"),dG={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function pG(){const e=X("esri-geolocation");return e||AO.warn("geolocation-unsupported","Geolocation unsupported."),e}function hG(){const e=window.isSecureContext;return e||AO.warn("insecure-context","Geolocation requires a secure origin."),e}function j$(){return pG()&&hG()}function fG(e){return e||(e=dG),new Promise((r,s)=>{setTimeout(()=>s(new Y("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,s,e)})}function yG(e,t){const{position:r,view:s}=e;return vG(gG(mG(r)),s,t)}function mG(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function gG(e){const t=e&&e.coords;return t?new dt({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function vG(e,t,r){if(!t)return Promise.resolve(e);const s=t.spatialReference;return s.isWGS84?Promise.resolve(e):s.isWebMercator?Promise.resolve(Hc(e)):bG(r).then(i=>{if(!i)throw new Y("geometry-service:missing-url","Geometry service URL is missing");const n=new jO({geometries:[e],outSpatialReference:s});return CO(i,n,r).then(a=>a[0])})}function bG(e){if(it.geometryServiceUrl)return Promise.resolve(it.geometryServiceUrl);const t=jr.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}const wG=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:s}=this;return this.goToOverride?this.goToOverride(s,r):s.goTo(r.target,r.options)}};return o([c()],t.prototype,"goToOverride",void 0),o([c()],t.prototype,"view",void 0),t=o([k("esri.widgets.support.GoTo")],t),t};function mr(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const _G=()=>M_("esri/widgets/Search/t9n/Search"),RO="esri.widgets.Search.SearchViewModel",Ts=pe.getLogger(RO),C$="highlight",tf=ft.ofType({key:e=>e.layer?"layer":"locator",base:W_,typeMap:{layer:vl,locator:IO}}),A$=Ue.WGS84,SG="esri/images/search/search-symbol-32.svg",$G="esri/images/search/search-symbol-32.png",xG=/<(?:.|\s)*?>/g,_l=-1;let Re=class extends wG(Jd.EventedMixin(vt)){constructor(e){super(e),this._handles=new qa,this._gotoController=null,this._searching=null,this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new tf,this.defaultSymbols={point:new $u({url:ku(X("trident")?$G:SG),size:24,width:24,height:24}),polyline:new is({color:[130,130,130,1],width:2}),polygon:new wo({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=jr.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new tf,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const t=await _G();this.messages=t,this.defaultPopupTemplate=new Na({title:t.searchResult,content:"{Match_addr}"})};e(),this._handles.add([Zf(this,["includeDefaultSources","view","portal"],()=>this._update()),ck(e)])}destroy(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:_l}set activeSourceIndex(e){e!==void 0?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var e;return(e=this.messages)==null?void 0:e.allPlaceholder}set allPlaceholder(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder")}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:r}=this,s=typeof r=="function"?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,i=this._get("allSources")||new tf;return i.removeAll(),i.addMany(s.filter(Boolean)),i}get defaultSymbol(){return ud(Ts,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(e){ud(Ts,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",e)}get locationEnabled(){return this._get("locationEnabled")||j$()}set locationEnabled(e){if(e===void 0)return void this._clearOverride("locationEnabled");const t=j$();if(e&&!t){const r=new Y("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Ts.error(r)}this._override("locationEnabled",e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===_l)return r;const s=e.getItemAt(t);return s?s.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),e===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(e),s=this.when().then(()=>this._getResultsFromSources(r,t).then(i=>{var n;if((n=t==null?void 0:t.signal)!=null&&n.aborted)return null;const a={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(a,i,r);const l=this._getFirstResult(a.results),d=(r.location&&l?l.name:r.text).replace(xG,"");return this._set("searchTerm",d),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",a.results),this._set("resultCount",a.results.reduce((h,f)=>h+f.results.length,0)),this.emit("search-complete",a),this._selectFirstResult(l).then(()=>a)})).then(i=>(this._clearSearching(),i),i=>{throw this._clearSearching(),i});return this._searching=s,s}searchNearby(e){if(!this.locationEnabled){const r=new Y("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return Ts.error(r),Promise.reject(r)}const t=fG().then(r=>yG({position:r,view:this.view},e)).then(r=>this.search(r,e));return this._searching=t,t.catch(()=>{}).then(()=>this._clearSearching()),t}select(e){if(this.clearGraphics(),!e){const q=new Y("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return Ts.error(q),Promise.reject(q)}const{view:t}=this,r=mr(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),s=this.allSources.getItemAt(r);if(!s){const q=new Y("select:missing-source","Cannot select without a source.",{source:s});return Ts.error(q),Promise.reject(q)}const i=s instanceof vl?this._getLayerSourcePopupTemplate(s):s.popupTemplate,n=s.resultSymbol||this._getDefaultSymbol(e),a=mr(s,"resultGraphicEnabled")?s.resultGraphicEnabled:this.resultGraphicEnabled,l=mr(s,"autoNavigate")?s.autoNavigate:this.autoNavigate,d=mr(s,"popupEnabled")?s.popupEnabled:this.popupEnabled,h=d?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:f}=e;if(!f){const q=new Y("select:missing-feature","Cannot select without a feature.",{feature:f});return Ts.error(q),Promise.reject(q)}const{attributes:y,geometry:v,layer:b,sourceLayer:x}=f,I=M$(v),A={layerViewQuery:this._getLayerView(f),elevationQuery:t&&H(I)?lH(I,t).catch(()=>I):Promise.resolve(I)};return $i(A).then(q=>{const G=q.layerViewQuery.value,C=q.elevationQuery.value;n instanceof _o&&(n.text=e.name);const p=t&&l?e.target||e.extent:null;return(H(p)?this._goToSearchResult(p):Promise.resolve()).then(()=>{var m;const g=G?f:new pn({geometry:v,symbol:n,attributes:y,layer:b,sourceLayer:x,popupTemplate:h}),_=d&&((m=this.view)==null?void 0:m.popup),$=_&&g.getEffectivePopupTemplate(_.defaultPopupTemplateEnabled);return $&&t.popup.open({features:[g],location:C}),G&&iH(G)&&!$&&this._highlightFeature({graphic:g,layerView:G}),!G&&a&&t&&t.graphics.push(g),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",g),this.emit("select-result",{result:e,source:s,sourceIndex:r}),e})})}suggest(e,t,r){const s=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:s}),this._suggestTimer(t,r).then(()=>this._suggestImmediate(s,r).then(i=>(this._set("suggestions",i.results),this._set("suggestionCount",i.results.reduce((n,a)=>n+a.results.length,0)),this.emit("suggest-complete",i),i)))}async when(){await kb(()=>!this.updating)}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const r=this._updatingPromise=$i([e==null?void 0:e.load(),t==null?void 0:t.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await kb(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var e,t;const r=(e=this.portal)==null||(t=e.helperServices)==null?void 0:t.geocode;return r?r.map(s=>{if(s.placefinding===!1)return;const i=it.apiKey&&I$(s.url)?{url:zH}:null,n=IO.fromJSON(V(V({},s),i)),a=n.url;if(I$(a)||DH(a)||NH(a)){const l=n.outFields||["Addr_type","Match_addr","StAddr","City"],d=n.placeholder||this.messages.placeholder,h=typeof n.defaultZoomScale=="number"?n.defaultZoomScale:2500;n.set({singleLineFieldName:"SingleLine",outFields:l,placeholder:d,defaultZoomScale:h})}return n.singleLineFieldName?n:void 0}).filter(Boolean):[]}_getLayerSources(e,t){var r;const s=(r=this.view)==null?void 0:r.map;return e.map(i=>{const n=s.findLayerById(i.id);if(!n)return;const a=this._getLayerJSON(i),l=vl.fromJSON(a);return l.placeholder=t,this._getLayer(n,a).then(d=>{l.layer=d}),l}).filter(Boolean).toArray()}_getTableSources(e,t){var r;const s=(r=this.view)==null?void 0:r.map;return e.map(i=>{const n=s.findTableById(i.id);if(!n)return;const a=this._getLayerJSON(i),l=vl.fromJSON(a);return l.placeholder=t,this._getLayer(n,a).then(d=>{l.layer=d}),l}).filter(Boolean).toArray()}_convertApplicationProperties(){var e,t,r;const s=(e=this.view)==null?void 0:e.map,i=s==null||(t=s.applicationProperties)==null||(r=t.viewing)==null?void 0:r.search;if(!i)return[];const{enabled:n,hintText:a,layers:l,tables:d}=i;return n?[...this._getLayerSources(l,a),...this._getTableSources(d,a)]:[]}_getSubLayer(e,t){return e.load().then(()=>{if(!e.allSublayers)return Promise.reject();const r=e.allSublayers.find(s=>s.id===t.subLayer);return r?r.createFeatureLayer():Promise.reject()})}async _getBuildingSubLayer(e,t){await e.load();const r=e.allSublayers.find(s=>s.id===t.subLayer);return(r==null?void 0:r.type)!=="building-component"?Promise.reject():(await r.load(),r.associatedLayer==null?Promise.reject():(await r.associatedLayer.load(),r))}_getLayer(e,t){return e.type==="feature"||e.type==="scene"||e.type==="csv"||e.type==="geojson"||e.type==="ogc-feature"?Promise.resolve(e):e.type==="map-image"?this._getSubLayer(e,t).catch(()=>{const r=new Y("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return Ts.error(r),null}):e.type==="building-scene"?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return typeof e.toJSON=="function"?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var e;const t=(e=this.view)==null?void 0:e.popup,{resultGraphic:r}=this;if(!t||!r)return;const{selectedFeature:s}=t;s&&s===r&&t.close()}_suggestTimer(e,t){const r=e??this.suggestionDelay;return n1(r,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof pn?M$(e.geometry):e instanceof dt?e:Array.isArray(e)&&e.length===2?new dt({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&mr(e,"key")&&mr(e,"text")&&mr(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),r=typeof e=="string"?e:this.searchTerm,{selectedSuggestion:s,selectedResult:i}=this,n=!e&&s&&i,a=n&&s.key===i.key&&s.sourceIndex===i.sourceIndex,l=n&&s.location;return a||l?s:{location:t,text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){let t=null;return e&&e.some(r=>{const{results:s}=r,i=s[0],n=!!i;return n&&(t=i),n}),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then(()=>this._getSuggestionsFromSources(e,t)).then(r=>{var s;if((s=t==null?void 0:t.signal)!=null&&s.aborted)return null;const i={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(i,r),i})}_formatSourceResponse(e,t,r){const s=t&&t.value||[],i=t&&t.error,n=this.allSources.getItemAt(r);if(i){const a={sourceIndex:r,source:n,error:i};e.errors.push(a),Ts.error(i),e.numErrors++}else{const a={sourceIndex:r,source:n,results:s};e.results.push(a),e.numResults+=s.length}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===_l){const s=r&&mr(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;t.forEach((i,n)=>{const a=s!==void 0?s:n;this._formatSourceResponse(e,i,a)})}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}_getResultsFromSources(e,t){const{allSources:r}=this,s=!e.location&&mr(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[];if(!r.length){const n=new Y("search:no-sources-defined","At least one source is required.",{allSources:r});return Ts.error(n),Promise.reject(n)}return s===_l?r.forEach((n,a)=>{i.push(this._getResultsFromSource(e,a,t))}):i.push(this._getResultsFromSource(e,s,t)),$i(i)}_getSuggestionsFromSources(e,t){const{allSources:r,activeSourceIndex:s}=this,i=[];if(!r.length){const n=new Y("suggest:no-sources-defined","At least one source is required.",{allSources:r});return Ts.error(n),Promise.reject(n)}return s===_l?r.forEach((n,a)=>{i.push(this._getSuggestionsFromSource(e,a,t))}):i.push(this._getSuggestionsFromSource(e,s,t)),$i(i)}_getResultsFromSource(e,t,r){var s;const i=this.allSources.getItemAt(t),{location:n=null}=e,a=((s=this.view)==null?void 0:s.spatialReference)||A$,l=mr(i,"maxResults")?i.maxResults:this.maxResults,d=!!(i instanceof vl&&mr(i,"exactMatch"))&&i.exactMatch,{view:h}=this;return i.getResults({view:h,sourceIndex:t,location:n,suggestResult:e,spatialReference:a,exactMatch:d,maxResults:l},r)}_getSuggestionsFromSource(e,t,r){const s=this.allSources.getItemAt(t),i=mr(s,"suggestionsEnabled")?s.suggestionsEnabled:this.suggestionsEnabled,n=e.length,a=mr(s,"minSuggestCharacters")?s.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&n>=a){var l;const d=((l=this.view)==null?void 0:l.spatialReference)||A$,h=mr(s,"maxSuggestions")?s.maxSuggestions:this.maxSuggestions,{view:f}=this,y=!!(s instanceof vl&&mr(s,"exactMatch"))&&s.exactMatch;return s.getSuggestions({view:f,sourceIndex:t,suggestTerm:e,spatialReference:d,maxSuggestions:h,exactMatch:y},r)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return mr(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){const t=this.results;let r=null;return t.some(s=>s.results.some(i=>i===e&&(r=s.sourceIndex,!0))),r}async _goToSearchResult(e){const t=!!e;this._abortGoTo();const r=new AbortController;this._gotoController=r;const s={target:{target:e},options:{animate:t,signal:r.signal}};await this.callGoTo(s),this._gotoController=null}_getDefaultSymbol(e){var t;const{defaultSymbols:r}=this,s=(t=e.feature)==null?void 0:t.geometry;if(!H(s))return null;const i=this._get("defaultSymbol");if(i&&(s.type==="point"||s.type==="multipoint"))return i;switch(s.type){case"point":case"multipoint":return r.point;case"polyline":return r.polyline;case"extent":case"polygon":return r.polygon;default:return null}}_removeHighlight(){this._handles.remove(C$)}async _getLayerView(e){const{view:t}=this;if(!e||!t||e.layer.type==="building-component"||e.layer.type==="subtype-sublayer")return Promise.resolve(null);const{layer:r}=e;return await t.when(),t.whenLayerView(r)}_highlightFeature(e){const{graphic:t,layerView:r}=e,{attributes:s,layer:i}=t,{objectIdField:n}=i,a=s&&s[n],l=r.highlight(a||t);this._handles.add(l,C$)}_setResultFloor(e){var t,r,s;const{view:i}=this,n=(t=e.feature)==null?void 0:t.attributes,a=(r=e.feature)==null?void 0:r.sourceLayer;if(a&&"floorInfo"in a&&a!=null&&(s=a.floorInfo)!=null&&s.floorField&&n){const l=n[a.floorInfo.floorField];i.emit("select-result-floor",l)}}};Re.ALL_INDEX=_l,o([c()],Re.prototype,"_searching",void 0),o([c()],Re.prototype,"_updatingPromise",void 0),o([c({readOnly:!0,value:null})],Re.prototype,"activeSource",null),o([c()],Re.prototype,"activeSourceIndex",null),o([c()],Re.prototype,"allPlaceholder",null),o([c({readOnly:!0})],Re.prototype,"allSources",null),o([c()],Re.prototype,"autoNavigate",void 0),o([c()],Re.prototype,"autoSelect",void 0),o([c()],Re.prototype,"defaultPopupTemplate",void 0),o([c({readOnly:!0})],Re.prototype,"defaultSources",void 0),o([c()],Re.prototype,"defaultSymbol",null),o([c()],Re.prototype,"defaultSymbols",void 0),o([c()],Re.prototype,"includeDefaultSources",void 0),o([c()],Re.prototype,"locationEnabled",null),o([c()],Re.prototype,"maxInputLength",void 0),o([c()],Re.prototype,"maxResults",void 0),o([c()],Re.prototype,"maxSuggestions",void 0),o([c()],Re.prototype,"messages",void 0),o([c()],Re.prototype,"minSuggestCharacters",void 0),o([c({readOnly:!0})],Re.prototype,"placeholder",null),o([c()],Re.prototype,"popupEnabled",void 0),o([c({type:Na})],Re.prototype,"popupTemplate",void 0),o([c({type:jr})],Re.prototype,"portal",void 0),o([c()],Re.prototype,"resultCount",void 0),o([c()],Re.prototype,"resultGraphicEnabled",void 0),o([c({readOnly:!0})],Re.prototype,"resultGraphic",void 0),o([c({readOnly:!0})],Re.prototype,"results",void 0),o([c({readOnly:!0})],Re.prototype,"selectedSuggestion",void 0),o([c()],Re.prototype,"searchAllEnabled",void 0),o([c({readOnly:!0})],Re.prototype,"selectedResult",void 0),o([c()],Re.prototype,"searchTerm",null),o([c({type:tf})],Re.prototype,"sources",void 0),o([c({readOnly:!0})],Re.prototype,"state",null),o([c()],Re.prototype,"suggestionDelay",void 0),o([c()],Re.prototype,"suggestionCount",void 0),o([c({readOnly:!0})],Re.prototype,"suggestions",void 0),o([c()],Re.prototype,"suggestionsEnabled",void 0),o([c({readOnly:!0})],Re.prototype,"updating",null),o([c()],Re.prototype,"view",void 0),o([c()],Re.prototype,"clear",null),Re=o([k(RO)],Re);const kl=Re;function R$(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:TG(e[t])}}}function EG(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function TG(e){return function(t,...r){EG(t)?QI(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function ry(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var kG=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},PO=function(e,t){for(var r=0,s=e.length;r<s;r++){var i=e[r];Array.isArray(i)?PO(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=kG(i)),t.push(i))}},MG=function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return PO(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function ke(e,t,...r){return typeof e!="function"||H_(e)?MG(e,t,...r):e(t,...r)}const Pi={base:"esri-search-result-renderer esri-widget",anchor:"esri-widget__anchor",showMoreResults:"esri-search-result-renderer__more-results--show-more-results",moreResults:"esri-search-result-renderer__more-results",moreResultsList:"esri-search-result-renderer__more-results-list",moreResultsHeader:"esri-search-result-renderer__more-results-header",moreResultsItem:"esri-search-result-renderer__more-results-item",moreResultsListHeader:"esri-search-result-renderer__more-results-list-header"};let Hn=class extends G_{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const e={[Pi.showMoreResults]:this.showMoreResultsOpen};return ke("div",{class:Pi.base},ke("div",{key:"esri-search-renderer__container",class:this.classes(Pi.moreResults,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return ke("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var e;const t=(e=this.viewModel)==null?void 0:e.selectedResult,r=t&&t.name||"";return ke("div",{key:"esri-search-renderer__result-name",class:Pi.moreResultsItem},r)}renderMoreResultsLists(){var e;const t=(e=this.viewModel)==null?void 0:e.results,{resultCount:r}=this.viewModel;if(r<2)return null;const s=t.map(i=>this.renderMoreResultsList(i));return ke("div",{key:"esri-search-renderer__more-results-container",class:Pi.moreResultsList},s)}renderMoreResultsButton(){const{messages:e}=this,{resultCount:t}=this.viewModel;return t<2?null:ke("div",{key:"esri-search-renderer__more-results-button",class:Pi.moreResultsItem},ke("a",{class:Pi.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,t){return ke("div",{key:`esri-search-result-renderer__header-${t}`,class:Pi.moreResultsListHeader},e)}renderMoreResultsList(e){var t,r;const{results:s}=e,i=s.length,n=!!i,a=(t=this.viewModel)==null?void 0:t.selectedResult,l=i===1&&s[0]===a,d=this._getSourceName(e.source,e.sourceIndex),h=((r=this.viewModel)==null?void 0:r.results.length)>1&&!l?this.renderMoreResultsHeader(d,e.sourceIndex):null,f=n&&s.map((v,b)=>this.renderMoreResultsListItem(v,b)),y=n&&!l?ke("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},f):null;return n?ke("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},h,y):null}renderMoreResultsListItem(e,t){return e!==this.get("viewModel.selectedResult")?ke("li",{key:`esri-search-result-renderer__list-item-${t}`},ke("a",{class:Pi.anchor,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const t=this.get("viewModel.view.popup");t&&t.reposition()}_selectResultClick(e){e.preventDefault();const t=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(t)}_getSourceName(e,t){return t===kl.ALL_INDEX?this.messages.all:e.name}};o([c(),ry("esri/widgets/Search/t9n/Search")],Hn.prototype,"messages",void 0),o([c()],Hn.prototype,"showMoreResultsOpen",void 0),o([c()],Hn.prototype,"viewModel",void 0),o([R$()],Hn.prototype,"_showMoreResultsClick",null),o([R$()],Hn.prototype,"_selectResultClick",null),Hn=o([k("esri.widgets.Search.SearchResultRenderer")],Hn);const IG=Hn;function OG(e){return e.split(",").map(t=>t.trim())}function jG(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,s=Array.isArray(e)?e:OG(e);r.push(...s)}}const $e={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},CG=/<[a-z/][\s\S]*>/i;let Le=class extends G_{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new qa,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new IG,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=$e.widgetIcon,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new kl,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=r=>{var s;const i=r.relatedTarget;i&&(s=this._container)!=null&&s.contains(i)||this._clearActiveMenu()},this.own(yw(this,"searchTerm",r=>{(r&&this.activeMenu==="warning"||!r&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),Sq(this,"viewModel.allSources","change",()=>this._watchSourceChanges()),Zf(this,"activeMenu",()=>this._resetActiveMenuItemIndex()),Zf(this,"viewModel.defaultPopupTemplate",r=>{r&&(r.content=this._renderSearchResultsContent.bind(this))}))}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var e;(e=this._inputNode)==null||e.focus(),this.emit("search-focus")}blur(){var e;(e=this._inputNode)==null||e.blur(),this.emit("search-blur")}search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;return this._searchController=t,this.viewModel.search(e,{signal:r}).catch(s=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,s}).then(s=>{if(this._searchController===t)return this.activeMenu=s.numResults?"none":"warning",this._searchController=null,s})}suggest(e){this._cancelSuggest();const t=new AbortController,{signal:r}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:r}).then(s=>{if(this._suggestController===t)return this._suggestController=null,s.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),s}).catch(()=>{if(this._suggestController===t)return this._suggestController=null,null})}render(){const{state:e}=this.viewModel,t={[$e.disabled]:e==="disabled",[$e.esriWidgetDisabled]:this.disabled};return ke("div",{class:this.classes($e.base,t)},e==="loading"?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:e}=this;return ke("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes($e.submitButton,$e.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},ke("span",{"aria-hidden":"true",class:$e.searchIcon}))}renderWarningMenu(){return ke("div",{key:"esri-search__error-menu",class:this.classes($e.menu,$e.warningMenu)},ke("div",{class:$e.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:r,sourceMenuButtonId:s}=this,{activeSourceIndex:i,allSources:n}=this.viewModel;return n.length>1?ke("button",{id:s,key:"esri-search__source-menu-button",bind:this,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":(t==="source").toString(),"aria-controls":r,class:this.classes($e.sourcesButton,$e.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:Ac,"data-node-ref":"_sourceMenuButtonNode",type:"button"},ke("span",{"aria-hidden":"true",class:$e.dropdownIcon}),ke("span",{"aria-hidden":"true",class:$e.dropupIcon}),ke("span",{class:$e.sourceName},this._getSourceName(i))):null}renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:s,sourceMenuId:i,sourceMenuButtonId:n}=this,a=s==="source"&&r>-1?this._buildId("source-item",r):null;return e.length>1?ke("ul",{"aria-activedescendant":a,"aria-labelledby":n,id:i,role:"menu",bind:this,afterCreate:Ac,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:$e.menuList,tabIndex:-1},t?this.renderSource(kl.ALL_INDEX):null,e.map((l,d)=>this.renderSource(d)).toArray()):null}renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?ke("div",{key:"esri-search__source-menu",class:this.classes($e.menu,$e.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:e,messagesCommon:t}=this;return ke("div",{class:$e.loader,key:"base-loader"},ke("span",{"aria-hidden":"true",class:$e.loaderAnimation}),ke("span",{class:$e.fallbackText},e.searchButtonTitle),ke("span",{class:$e.loaderText},t.loading))}renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:r}=this,s={[$e.hasMultipleSources]:e.length>1,[$e.isLoading]:t==="loading",[$e.isSearching]:t==="searching",[$e.showWarning]:r==="warning",[$e.showSources]:r==="source",[$e.showSuggestions]:r==="suggestion"};return ke("div",{tabIndex:-1,afterCreate:i=>{this._container=i,i.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:i=>{i.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(s,$e.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?ke("button",{bind:this,class:this.classes($e.clearButton,$e.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},ke("span",{"aria-hidden":"true",class:$e.clearIcon})):null}renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:r}=this,s=t&&!r,i=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return s?ke("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes($e.menuList,$e.suggestionList,$e.suggestionListCurrentLocation)},ke("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),role:"option",class:this.classes($e.menuItem,i?$e.menuItemFocus:null)},ke("span",{"aria-hidden":"true",class:$e.locate})," ",e.useCurrentLocation)):null}renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:r,messages:s,suggestionsMenuId:i,inputId:n,_activeMenuItemIndex:a}=this,{maxInputLength:l,placeholder:d,searchTerm:h,suggestionCount:f}=this.viewModel,y=!(!(t&&!r)&&!f),v=e==="suggestion"&&a>-1?this._buildId("suggestion-item",a):null;return ke("input",{"aria-activedescendant":v,"aria-autocomplete":"list","aria-expanded":(y&&e==="suggestion").toString(),"aria-controls":y?i:null,"aria-haspopup":"listbox","aria-label":s.searchButtonTitle,bind:this,placeholder:d,maxlength:l,autocomplete:"off",type:"text",class:this.classes($e.esriInput,$e.input),value:h,id:n,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:Ac,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:h?"":d})}renderForm(){return ke("form",{key:"esri-search__form",bind:this,class:$e.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){const{sourceIndex:t}=e,r=e.results.length,s=e.results;return r?ke("ul",{role:"group",key:`esri-search__suggestion-list-${t}`,class:this.classes($e.menuList,$e.suggestionList)},s.map(i=>this.renderSuggestion(i,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map(t=>[this.renderSuggestionHeader(t),this.renderSuggestList(t)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:r,inputId:s}=this,{suggestionCount:i}=this.viewModel,n=t&&!e||i;return this._menuItemCount=0,n?ke("div",{id:r,key:"esri-search__suggestions-menu",class:this.classes($e.menu,$e.suggestionsMenu),role:"listbox","aria-labelledby":s,bind:this,afterCreate:Ac,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return ke("div",{key:"esri-search__input-container",class:$e.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:r}=this.viewModel,{sourceIndex:s}=e,i=e.results.length,n=t.length>1&&r===kl.ALL_INDEX;return i&&n?ke("div",{key:`esri-search__suggestion-header-${s}`,class:$e.menuHeader},this._getSourceName(s)):null}renderSuggestion(e,t){const{_activeMenuItemIndex:r,messages:s}=this,{searchTerm:i}=this.viewModel;if(i){const{text:n}=e,a=n||s.untitledResult,l=CG.test(a),d=[];if(l)d.push(ke("div",{innerHTML:a}));else{const f=this._splitResult(a,i),y=i.toLowerCase();f.forEach((v,b)=>{v&&v.length&&(v.toLowerCase()===y?d.push(ke("strong",{key:b},v)):d.push(v))})}const h=this.activeMenu==="suggestion"&&r===t;return ke("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${t}`,"data-suggestion":e,role:"option",class:this.classes($e.menuItem,h?$e.menuItemFocus:null)},d)}}renderSource(e){const{activeSourceIndex:t,searchAllEnabled:r}=this.viewModel,s={[$e.menuItemActive]:e===t,[$e.menuItemFocus]:this.activeMenu==="source"&&e===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},i=r?e+1:e;return ke("li",{bind:this,key:`esri-search__source-${e}`,id:this._buildId("source-item",i),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes($e.source,$e.menuItem,s)},this._getSourceName(e))}renderNoResultsWarning(e){const{messages:t}=this,r=e?T_(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return ke("div",{key:"esri-search__no_results"},ke("div",{class:$e.warningMenuHeader},t.noResults),ke("div",{class:$e.warningMenuText},r))}renderEmptySearchWarning(){const{messages:e}=this;return ke("div",{key:"esri-search__empty-search"},ke("span",{"aria-hidden":"true",class:$e.noticeIcon}),ke("span",{class:$e.noValueText},e.emptyValue))}renderLocateWarning(){const{messages:e}=this;return ke("div",{key:"esri-search__locate-error"},ke("span",{"aria-hidden":"true",class:$e.noticeIcon}),ke("span",{class:$e.noValueText},e.locateError))}renderWarning(){var e;const{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:s}=this;return r?this.renderLocateWarning():(e=s.selectedSuggestion)!=null&&e.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${t===void 0?"":`-${t}`}`}_watchSourceChanges(){const{_handles:e,viewModel:{allSources:t}}=this,r="sources";e.remove(r),t.forEach(s=>e.add(yw(s,"name",()=>this.scheduleRender()),r))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){const e=this.activeMenu==="source";var t;this.activeMenu=e?"none":"source",this.renderNow(),this.activeMenu==="source"&&((t=this._sourceListNode)==null||t.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).then(r=>{this.activeMenu=r.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var t;if(!e)return;const r=e["data-source-index"];this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),(t=this._sourceMenuButtonNode)==null||t.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(e){var t;const r=Rm(e);if(e.ctrlKey||e.metaKey||r==="Copy"||r==="ArrowLeft"||r==="ArrowRight"||r==="Shift")return;if(r==="Tab"||r==="Escape"||e.shiftKey&&r==="Tab")return this._cancelSuggest(),void(r==="Escape"&&this._clearActiveMenu());const s=r==="Home"||r==="End"||r==="ArrowUp"||r==="ArrowDown";if(r==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const i=(t=this._suggestionListNode)==null?void 0:t.getElementsByTagName("li");if(i!=null&&i.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),s)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(r,i,this._suggestionListNode);const n=i[this._activeMenuItemIndex];if(r==="Enter"&&n){const a=n["data-suggestion"];return void(a?(this._focus(),this.search(a)):n["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,r){const s=this._activeMenuItemIndex;e==="Home"&&(this._activeMenuItemIndex=0),e==="End"&&(this._activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),e==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),s!==this._activeMenuItemIndex&&RB(t[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){const t=Rm(e);if(QI(t)){e.preventDefault();const r=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}else t!=="ArrowUp"&&t!=="ArrowDown"&&t!=="End"&&t!=="Home"||e.preventDefault()}_handleSourceMenuKeyup(e){var t;const r=Rm(e),s=r==="ArrowUp"||r==="ArrowDown"||r==="End"||r==="Home";var i;if(s&&e.preventDefault(),r==="Escape")return this._clearActiveMenu(),void((i=this._sourceMenuButtonNode)==null||i.focus());const n=(t=this._sourceListNode)==null?void 0:t.getElementsByTagName("li");return n&&n.length!==0&&s?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(r,n,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(e){const{messages:t}=this,r=this.viewModel,{allSources:s}=r,i=s.getItemAt(e);return e===kl.ALL_INDEX?t.all:i&&i.name||t.untitledSource}_splitResult(e,t){const r=VE(t);return e.replace(new RegExp(`(^|)(${r})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};o([c()],Le.prototype,"_activeMenuItemIndex",void 0),o([c()],Le.prototype,"displayedSearchTerm",null),o([c({readOnly:!0})],Le.prototype,"inputId",null),o([c({readOnly:!0})],Le.prototype,"suggestionsMenuId",null),o([c({readOnly:!0})],Le.prototype,"sourceMenuId",null),o([c({readOnly:!0})],Le.prototype,"sourceMenuButtonId",null),o([c()],Le.prototype,"activeMenu",void 0),o([ot("viewModel.activeSource")],Le.prototype,"activeSource",void 0),o([ot("viewModel.activeSourceIndex")],Le.prototype,"activeSourceIndex",void 0),o([ot("viewModel.allPlaceholder")],Le.prototype,"allPlaceholder",void 0),o([ot("viewModel.allSources")],Le.prototype,"allSources",void 0),o([ot("viewModel.autoNavigate")],Le.prototype,"autoNavigate",void 0),o([ot("viewModel.autoSelect")],Le.prototype,"autoSelect",void 0),o([ot("viewModel.defaultSources")],Le.prototype,"defaultSources",void 0),o([c()],Le.prototype,"disabled",void 0),o([ot("viewModel.goToOverride")],Le.prototype,"goToOverride",void 0),o([c()],Le.prototype,"iconClass",void 0),o([ot("viewModel.includeDefaultSources")],Le.prototype,"includeDefaultSources",void 0),o([c({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Le.prototype,"label",void 0),o([ot("viewModel.locationEnabled")],Le.prototype,"locationEnabled",void 0),o([ot("viewModel.maxResults")],Le.prototype,"maxResults",void 0),o([ot("viewModel.maxSuggestions")],Le.prototype,"maxSuggestions",void 0),o([c(),ry("esri/widgets/Search/t9n/Search")],Le.prototype,"messages",void 0),o([c(),ry("esri/t9n/common")],Le.prototype,"messagesCommon",void 0),o([ot("viewModel.minSuggestCharacters")],Le.prototype,"minSuggestCharacters",void 0),o([ot("viewModel.popupEnabled")],Le.prototype,"popupEnabled",void 0),o([ot("viewModel.popupTemplate")],Le.prototype,"popupTemplate",void 0),o([ot("viewModel.portal")],Le.prototype,"portal",void 0),o([ot("viewModel.resultGraphic")],Le.prototype,"resultGraphic",void 0),o([ot("viewModel.resultGraphicEnabled")],Le.prototype,"resultGraphicEnabled",void 0),o([ot("viewModel.results")],Le.prototype,"results",void 0),o([ot("viewModel.searchAllEnabled")],Le.prototype,"searchAllEnabled",void 0),o([ot("viewModel.searchTerm")],Le.prototype,"searchTerm",void 0),o([ot("viewModel.selectedResult")],Le.prototype,"selectedResult",void 0),o([ot("viewModel.sources")],Le.prototype,"sources",void 0),o([ot("viewModel.suggestions")],Le.prototype,"suggestions",void 0),o([ot("viewModel.suggestionsEnabled")],Le.prototype,"suggestionsEnabled",void 0),o([ot("viewModel.view")],Le.prototype,"view",void 0),o([jG(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),c({type:kl})],Le.prototype,"viewModel",void 0),o([ot("viewModel.clear")],Le.prototype,"clear",null),Le=o([k("esri.widgets.Search")],Le);const AG=Le,an=io(""),vs=dr({activeSourceIndex:0}),Z_=fn(()=>{var e;return new AG(Ie(V({},vs),{sources:(e=vs.sources)==null?void 0:e.map(t=>t.layer?Ie(V({},t),{layer:new am(t.layer)}):t)}))}),Sw=fn(()=>{var e,t;return(t=vs.sources)==null?void 0:t[(e=vs.activeSourceIndex)!=null?e:0]}),ms=dr({loading:!1,data:[]});async function LO(){if(ms.status=void 0,!an.value)throw"Invalid input";ms.loading=!0,ms.status="Searching...";try{const{results:e}=await Z_.value.search(an.value),{results:t}=e[0];return ms.status=t.length?void 0:"Your search returned no results.",ms.data=t.map(({name:r,extent:s,feature:i})=>({name:r,extent:s.toJSON(),feature:i.toJSON()})),t}catch(e){return console.warn(e),ms.status="An error occurred when searching.",[]}finally{ms.loading=!1}}function RG(e,t=500){let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>{e(...s)},t)}}Fc(()=>vs.activeSourceIndex,()=>{an.value="",to.data=[]});const to=dr({loading:!1,data:[]}),PG=fn(()=>[...new Map(to.data.map(e=>[e.key,e])).values()]);async function FO(){if(an.value){to.loading=!0,to.error=void 0;try{const{results:e}=await Z_.value.suggest(an.value),{results:t}=e[0];to.data=t}catch{}finally{to.loading=!1}}}const $w=RG(FO),pm=dr({}),Pc=dr({loading:!1,data:[]});async function Y_(e,t){Pc.loading=!0,Pc.data=[];try{const r=new am(pm),{features:s}=await r.queryFeatures(Ie(V({outFields:["*"]},t),{geometry:e}));return Pc.data=s.map(i=>i.toJSON()),s}finally{Pc.loading=!1}}const LG={name:"Address",placeholder:"Search by Address",url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/Composite_Address_Locator_Overall/GeocodeServer",singleLineFieldName:"SingleLine",minSuggestCharacters:2},FG={name:"Folio Number",placeholder:"Search by Folio Number",layer:{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/HC_Parcels/MapServer/0",outFields:["FOLIO","SITE_ADDR"],displayField:"FOLIO"},searchFields:["FOLIO","FOLIO_NUMB"],minSuggestCharacters:2},NG=["onSubmit"],DG={key:0},zG=qe("legend",null,"Search Source:",-1),VG={class:"form-check form-check-inline"},UG=["value","id"],qG=["for"],BG=qe("legend",null,"Search:",-1),HG=["placeholder","aria-label"],GG={class:"btn btn-outline-secondary",type:"submit",id:"search-button"},WG={key:0,class:"spinner-border spinner-border-sm",role:"status"},JG=qe("span",{class:"visually-hidden"},"Loading...",-1),KG=[JG],QG={key:1},ZG={id:"suggestions"},YG={class:"form-text"},NO=Ld({props:{small:{type:Boolean},large:{type:Boolean},hcSources:{type:Boolean},hideSources:{type:Boolean}},emits:["results"],setup(e,{emit:t}){const r=e;Fc(()=>r.hcSources,()=>{vs.includeDefaultSources=!r.hcSources,vs.sources=r.hcSources?[LG,FG]:void 0},{immediate:!0});const s=async i=>{const n=await LO();t("results",n)};return(i,n)=>{var a,l,d;return Ke(),ct("form",{onSubmit:Ej(s,["prevent"])},[(a=_e(vs).sources)!=null&&a.length?$m((Ke(),ct("fieldset",DG,[zG,(Ke(!0),ct(wr,null,uf(_e(vs).sources,(h,f)=>(Ke(),ct("div",VG,[$m(qe("input",{type:"radio",name:"search-source",value:f,id:`source-${f}`,"onUpdate:modelValue":n[0]||(n[0]=y=>_e(vs).activeSourceIndex=y),class:"form-check-input"},null,8,UG),[[_j,_e(vs).activeSourceIndex]]),qe("label",{for:`source-${f}`,class:"form-check-label"},Gs(h.name),9,qG)]))),256))],512)),[[ij,!e.hideSources]]):qs("",!0),qe("fieldset",null,[BG,qe("div",{class:lu(["input-group",{"input-group-sm":e.small,"input-group-lg":e.large}])},[$m(qe("input",{type:"text",class:"form-control",placeholder:((l=_e(Sw))==null?void 0:l.placeholder)||"Find Address","aria-label":((d=_e(Sw))==null?void 0:d.placeholder)||"Find Address","aria-describedby":"search-button","onUpdate:modelValue":n[1]||(n[1]=h=>pr(an)?an.value=h:null),onInput:n[2]||(n[2]=(...h)=>_e($w)&&_e($w)(...h)),list:"suggestions",required:"",id:"esriSearchInput"},null,40,HG),[[wj,_e(an)]]),qe("button",GG,[_e(ms).loading?(Ke(),ct("div",WG,KG)):(Ke(),ct("span",QG,"Search"))]),qe("datalist",ZG,[(Ke(!0),ct(wr,null,uf(_e(to).data,({text:h})=>(Ke(),ct("option",null,Gs(h),1))),256))])],2),qe("div",YG,Gs(_e(ms).status),1)])],40,NG)}}}),aJ=Object.freeze(Object.defineProperty({__proto__:null,$:Td,A:Ky,B:Ob,C:Tt,D:Cc,E:o,F:c,G:Ca,H:k,I:xO,J:X,get K(){return ys},L:eT,M:Nt,N:Ce,O:sp,P:E6,Q:Oi,R:qc,S:mN,T:Br,U:o1,V:hI,W:fI,X:yI,Y:Bt,get Z(){return ee},_:yu,a:mu,a$:ue,a0:x1,a1:E1,a2:$1,a3:ln,a4:wR,a5:ry,a6:G_,a7:ke,a8:T_,a9:Ac,aA:dt,aB:Jy,aC:XE,aD:rT,aE:mP,aF:go,aG:Ys,aH:Cy,aI:UT,aJ:fP,aK:fu,aL:Pf,aM:X1,aN:xu,aO:fa,aP:M_,aQ:ku,aR:Iy,aS:Yk,aT:mn,aU:Xs,aV:$i,aW:my,aX:he,aY:xU,aZ:L_,a_:$T,aa:Vd,ab:Jd,get ac(){return jt},ad:t1,ae:ba,af:sT,ag:cn,ah:po,ai:$d,aj:W1,ak:wN,al:Hd,am:su,an:Ss,ao:tp,ap:Dd,aq:ws,ar:ev,as:GN,at:VE,au:ap,av:C6,aw:IN,ax:Kf,ay:kI,az:jr,b:Gr,b$:jv,b0:ir,b1:Ee,b2:Iu,b3:Y1,b4:x6,b5:IE,b6:F6,b7:tI,b8:nI,b9:w_,bA:tG,bB:aG,bC:oG,bD:OO,bE:cG,bF:uG,bG:CO,bH:lt,bI:ju,bJ:h_,bK:dn,bL:uz,bM:cz,bN:dz,bO:PL,bP:_z,bQ:vF,bR:e_,bS:gF,bT:kR,bU:e6,bV:Kz,bW:Oz,bX:Jk,bY:XM,bZ:za,b_:Qz,ba:$R,bb:hu,bc:h6,bd:J6,be:f6,bf:jR,bg:E_,bh:JM,bi:ou,bj:ei,bk:$P,bl:pd,bm:Ct,bn:vt,bo:b2,bp:hr,bq:Mi,br:PT,bs:m1,bt:sG,bu:GH,bv:KH,bw:JH,bx:YH,by:ZH,bz:rG,c:Vl,c$:CF,get c0(){return Ul},c1:qf,c2:Zz,c3:TE,c4:RN,c5:fo,c6:Cr,c7:SM,c8:$M,c9:gP,cA:zl,cB:Bc,cC:_L,cD:FM,cE:qL,cF:_1,cG:qT,cH:cL,cI:NT,cJ:VT,cK:S1,cL:g1,cM:W9,cN:i1,cO:v6,cP:Zw,cQ:Nd,cR:bP,cS:qa,cT:$_,cU:Qg,cV:WM,cW:Py,cX:Cz,cY:$f,cZ:Lk,c_:J0,ca:ik,cb:Ta,cc:pa,cd:LT,ce:$I,cf:rs,cg:Qd,ch:Kd,ci:OM,cj:gd,ck:N9,cl:GD,get cm(){return Ea},cn:Bf,co:Hf,cp:Oy,cq:jy,cr:cF,cs:F1,ct:Yd,cu:uF,cv:vV,cw:$o,cx:pV,cy:Tk,cz:VF,d:ss,d$:HL,d0:bR,d1:fL,d2:MR,d3:e1,d4:Xw,d5:j7,d6:N7,d7:Hs,d8:CR,d9:RR,dA:q7,dB:G9,dC:mV,dD:PM,dE:Xr,dF:J7,dG:Q7,dH:Z7,dI:tF,dJ:rF,dK:Y7,dL:X7,dM:eF,dN:sF,dO:iF,dP:W7,dQ:EU,get dR(){return Mb},dS:Yw,dT:g6,dU:xa,get dV(){return Xc},dW:F_,dX:_q,dY:k6,dZ:I1,d_:BL,da:Ek,db:O7,dc:D7,dd:z7,de:dF,df:G7,dg:C7,dh:P7,di:nF,dj:K7,dk:Et,dl:I7,dm:N1,dn:bV,dp:gV,dq:yV,dr:hV,ds:U7,dt:WD,du:fV,dv:$V,dw:H7,dx:SV,dy:S7,dz:F9,e:sk,e$:Y6,e0:ZL,e1:pF,e2:Ll,e3:YM,e4:ZM,e5:kL,e6:_6,e7:tT,e8:Bz,e9:yP,eA:ky,eB:Fy,eC:k7,eD:wV,eE:R7,eF:zy,eG:V6,eH:uI,eI:$r,eJ:lI,eK:Zd,get eL(){return ab},eM:vU,eN:am,eO:II,eP:G6,eQ:t6,eR:R_,eS:Na,eT:xI,eU:Hr,eV:V1,eW:jI,eX:M6,eY:wU,eZ:Q6,e_:lT,ea:$y,eb:xy,ec:n1,ed:Kg,ee:EE,ef:O_,eg:ER,eh:TR,ei:Sf,ej:Sl,ek:kb,el:Bs,em:q6,en:oF,eo:PR,ep:B7,eq:We,er:By,es:TM,et:OE,eu:Wk,ev:Ny,ew:rk,ex:vy,ey:yo,ez:bu,f:pe,f$:EI,f0:A6,f1:Qy,f2:P6,f3:L6,f4:Dy,f5:K6,f6:is,f7:$u,f8:Va,f9:wo,fA:M7,fB:d_,fC:Sz,fD:m_,fE:kd,fF:Gy,fG:HP,fH:c_,fI:Md,fJ:R6,fK:a1,get fL(){return iu},fM:sn,fN:Ur,fO:Zk,fP:rp,fQ:Bd,fR:DN,fS:Tb,fT:UF,fU:yL,fV:qR,fW:bU,get fX(){return Ve},fY:nH,fZ:Ty,get f_(){return ua},fa:sI,fb:U6,fc:H6,fd:cI,fe:d0,ff:T1,fg:SI,fh:P_,fi:nm,fj:lw,fk:td,fl:v_,fm:W6,fn:om,fo:V_,fp:y_,fq:ot,fr:La,fs:gT,ft:Wd,fu:TI,fv:Eu,fw:et,fx:xM,fy:MD,fz:$U,g:pn,g$:hF,g0:cd,g1:Xk,g2:d1,g3:_o,g4:c0,g5:zd,g6:wk,g7:ao,g8:dm,g9:_R,gA:ja,gB:pk,gC:ru,gD:z_,gE:bo,gF:dT,gG:SN,gH:bN,gI:_V,gJ:dd,gK:x7,gL:D1,gM:CE,gN:jE,gO:FF,gP:BF,gQ:JF,gR:V7,gS:L7,gT:AE,gU:IR,gV:SR,gW:rM,gX:lF,gY:NF,gZ:DF,g_:F7,ga:r6,gb:sd,gc:aw,gd:Sd,ge:Hy,gf:eI,gg:X6,gh:Ra,gi:a_,gj:cV,gk:Da,gl:hN,gm:Z6,gn:dV,go:CT,gp:vP,gq:w,gr:KD,gs:B6,gt:aF,gu,gv:mI,gw:gI,gx:vI,gy:im,gz:TL,h:it,h0:xV,h1:Zy,h2:AF,h3:$7,h4:zF,h5:A7,h6:NO,h7:an,h8:vs,h9:Z_,ha:Sw,hb:ms,hc:LO,hd:to,he:PG,hf:FO,hg:$w,hh:pm,hi:Pc,hj:Y_,hk:nM,hl:Pz,hm:nV,hn:bq,i:Pa,j:ft,k:Ue,l:Hc,m:D,n:Q1,o:Qu,p:WN,q:Ou,r:H,s:Y,t:be,u:MI,v:ho,w:ca,x:T6,y:HD,z:pw},Symbol.toStringTag,{value:"Module"})),XG=[{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/SW_FACILITIES/MapServer/1",lookup:"TAG"},{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/MaintStar/MapServiceBaseMap_20150801_Production_1/MapServer/80",lookup:"NAME"}],ro=dr({loading:!1});async function eW(e){ro.loading=!0,ro.lookup=void 0;try{for(const{url:t,lookup:r}of XG)try{pm.url=t;const[s]=await Y_(e);if(!s)continue;return ro.lookup=s==null?void 0:s.attributes[r]}catch{continue}}finally{ro.loading=!1}}const Gl=dr({loading:!1,data:[]});async function tW(){Gl.loading=!0;try{const{records:e}=await fetch("https://hc-caching-proxy.herokuapp.com/airtable/appQrDnZGUnnURpdH/providers").then(t=>t.json());Gl.data=e}catch{}finally{Gl.loading=!1}}const rW=fn(()=>{var e;return ro.lookup?(e=Gl.data.find(({fields:t})=>t.lookups.includes(ro.lookup)))==null?void 0:e.fields:void 0}),sW=fn(()=>Gl.data.length>0&&ro.lookup!==void 0),hm=()=>({esriProvider:ro,fetchProviderFeatures:eW,airtableProviders:Gl,fetchAirtableProviders:tW,provider:rW,hasProvider:sW}),Gn={ExactMonthDate:(e,t)=>r=>e==r.getMonth()&&t==r.getDate(),MonthsFirstDayOfWeek:(e,t)=>r=>{let s=new Date(r.getFullYear(),e,1);for(;s.getDay()!==t;)s.setDate(s.getDate()+1);return r.getTime()==s.getTime()},MonthsLastDayOfWeek:(e,t)=>r=>{let s=new Date(r.getFullYear(),e+1,0);for(;s.getDay()!==t;)s.setDate(s.getDate()-1);return r.getTime()==s.getTime()},MonthsNthDayOfWeek:(e,t,r)=>s=>{let i=new Date(s.getFullYear(),e,1);for(;i.getDay()!==t;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+(r-1)*7),s.getTime()==i.getTime()},MonthsNthToLastDayOfWeek:(e,t,r)=>s=>{let i=new Date(s.getFullYear(),e+1,0);for(;i.getDay()!==t;)i.setDate(i.getDate()-1);return i.setDate(i.getDate()-(r-1)*7),s.getTime()==i.getTime()}};var Xi=(e=>(e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December",e))(Xi||{}),Ml=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(Ml||{});const X_={holidays:[Gn.MonthsNthDayOfWeek(Xi.January,Ml.Monday,3),Gn.MonthsLastDayOfWeek(Xi.May,Ml.Monday),Gn.ExactMonthDate(Xi.June,19),Gn.ExactMonthDate(Xi.July,4),Gn.MonthsFirstDayOfWeek(Xi.September,Ml.Monday),Gn.MonthsNthDayOfWeek(Xi.November,Ml.Thursday,4),Gn.ExactMonthDate(Xi.December,25)]},iW={holidays:[...X_.holidays]},nW={holidays:[...X_.holidays,Gn.ExactMonthDate(Xi.January,1)]};class e3{constructor(t){r3(this,"holidays");this.holidays=t.holidays}isHoliday(t){let r=!1;for(let s of this.holidays)if(r=s(t),r)break;return r}}const P$=new e3(X_),oW=new e3(iW),L$=new e3(nW);function F$(e,t=new Date,r=!1){t=new Date(t.getFullYear(),t.getMonth(),r?t.getDate()+1:t.getDate());const s=t.getDate(),i=t.getDay(),n=Ml[e]-i;let a=new Date(t.getFullYear(),t.getMonth(),s+n);return a<t?new Date(a.setDate(a.getDate()+7)):a}function bg(e){let t=[],r=F$(e),s;switch(this){case"recycle":s=P$;break;case"yard":s=oW;break;default:s=L$;break}let i={date:r,isHoliday:s.isHoliday(r)};for(t.push(i);i.isHoliday;)r=F$(e,i.date,!0),i={date:r,isHoliday:this==="recycle"?P$.isHoliday(r):L$.isHoliday(r)},t.push(i);return t}function wg(e,t){return e.date.valueOf()-t.date.valueOf()}function N$(e){return`(${e.substring(0,3)}) ${e.substring(3,6)}-${e.substring(6,10)}`}var aW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DO={exports:{}};(function(e){(function(){function t(p){var m={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(p===!1)return JSON.parse(JSON.stringify(m));var g={};for(var _ in m)m.hasOwnProperty(_)&&(g[_]=m[_].defaultValue);return g}function r(){var p=t(!0),m={};for(var g in p)p.hasOwnProperty(g)&&(m[g]=!0);return m}var s={},i={},n={},a=t(!0),l="vanilla",d={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:r()};s.helper={},s.extensions={},s.setOption=function(p,m){return a[p]=m,this},s.getOption=function(p){return a[p]},s.getOptions=function(){return a},s.resetOptions=function(){a=t(!0)},s.setFlavor=function(p){if(!d.hasOwnProperty(p))throw Error(p+" flavor was not found");s.resetOptions();var m=d[p];l=p;for(var g in m)m.hasOwnProperty(g)&&(a[g]=m[g])},s.getFlavor=function(){return l},s.getFlavorOptions=function(p){if(d.hasOwnProperty(p))return d[p]},s.getDefaultOptions=function(p){return t(p)},s.subParser=function(p,m){if(s.helper.isString(p))if(typeof m<"u")i[p]=m;else{if(i.hasOwnProperty(p))return i[p];throw Error("SubParser named "+p+" not registered!")}},s.extension=function(p,m){if(!s.helper.isString(p))throw Error("Extension 'name' must be a string");if(p=s.helper.stdExtName(p),s.helper.isUndefined(m)){if(!n.hasOwnProperty(p))throw Error("Extension named "+p+" is not registered!");return n[p]}else{typeof m=="function"&&(m=m()),s.helper.isArray(m)||(m=[m]);var g=h(m,p);if(g.valid)n[p]=m;else throw Error(g.error)}},s.getAllExtensions=function(){return n},s.removeExtension=function(p){delete n[p]},s.resetExtensions=function(){n={}};function h(p,m){var g=m?"Error in "+m+" extension->":"Error in unnamed extension",_={valid:!0,error:""};s.helper.isArray(p)||(p=[p]);for(var $=0;$<p.length;++$){var T=g+" sub-extension "+$+": ",S=p[$];if(typeof S!="object")return _.valid=!1,_.error=T+"must be an object, but "+typeof S+" given",_;if(!s.helper.isString(S.type))return _.valid=!1,_.error=T+'property "type" must be a string, but '+typeof S.type+" given",_;var O=S.type=S.type.toLowerCase();if(O==="language"&&(O=S.type="lang"),O==="html"&&(O=S.type="output"),O!=="lang"&&O!=="output"&&O!=="listener")return _.valid=!1,_.error=T+"type "+O+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',_;if(O==="listener"){if(s.helper.isUndefined(S.listeners))return _.valid=!1,_.error=T+'. Extensions of type "listener" must have a property called "listeners"',_}else if(s.helper.isUndefined(S.filter)&&s.helper.isUndefined(S.regex))return _.valid=!1,_.error=T+O+' extensions must define either a "regex" property or a "filter" method',_;if(S.listeners){if(typeof S.listeners!="object")return _.valid=!1,_.error=T+'"listeners" property must be an object but '+typeof S.listeners+" given",_;for(var W in S.listeners)if(S.listeners.hasOwnProperty(W)&&typeof S.listeners[W]!="function")return _.valid=!1,_.error=T+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+W+" must be a function but "+typeof S.listeners[W]+" given",_}if(S.filter){if(typeof S.filter!="function")return _.valid=!1,_.error=T+'"filter" must be a function, but '+typeof S.filter+" given",_}else if(S.regex){if(s.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return _.valid=!1,_.error=T+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",_;if(s.helper.isUndefined(S.replace))return _.valid=!1,_.error=T+'"regex" extensions must implement a replace string or function',_}}return _}s.validateExtension=function(p){var m=h(p,null);return m.valid?!0:(console.warn(m.error),!1)},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(p){return typeof p=="string"||p instanceof String},s.helper.isFunction=function(p){var m={};return p&&m.toString.call(p)==="[object Function]"},s.helper.isArray=function(p){return Array.isArray(p)},s.helper.isUndefined=function(p){return typeof p>"u"},s.helper.forEach=function(p,m){if(s.helper.isUndefined(p))throw new Error("obj param is required");if(s.helper.isUndefined(m))throw new Error("callback param is required");if(!s.helper.isFunction(m))throw new Error("callback param must be a function/closure");if(typeof p.forEach=="function")p.forEach(m);else if(s.helper.isArray(p))for(var g=0;g<p.length;g++)m(p[g],g,p);else if(typeof p=="object")for(var _ in p)p.hasOwnProperty(_)&&m(p[_],_,p);else throw new Error("obj does not seem to be an array or an iterable object")},s.helper.stdExtName=function(p){return p.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function f(p,m){var g=m.charCodeAt(0);return"¨E"+g+"E"}s.helper.escapeCharactersCallback=f,s.helper.escapeCharacters=function(p,m,g){var _="(["+m.replace(/([\[\]\\])/g,"\\$1")+"])";g&&(_="\\\\"+_);var $=new RegExp(_,"g");return p=p.replace($,f),p},s.helper.unescapeHTMLEntities=function(p){return p.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var y=function(p,m,g,_){var $=_||"",T=$.indexOf("g")>-1,S=new RegExp(m+"|"+g,"g"+$.replace(/g/g,"")),O=new RegExp(m,$.replace(/g/g,"")),W=[],U,F,J,E,z;do for(U=0;J=S.exec(p);)if(O.test(J[0]))U++||(F=S.lastIndex,E=F-J[0].length);else if(U&&!--U){z=J.index+J[0].length;var K={left:{start:E,end:F},match:{start:F,end:J.index},right:{start:J.index,end:z},wholeMatch:{start:E,end:z}};if(W.push(K),!T)return W}while(U&&(S.lastIndex=F));return W};s.helper.matchRecursiveRegExp=function(p,m,g,_){for(var $=y(p,m,g,_),T=[],S=0;S<$.length;++S)T.push([p.slice($[S].wholeMatch.start,$[S].wholeMatch.end),p.slice($[S].match.start,$[S].match.end),p.slice($[S].left.start,$[S].left.end),p.slice($[S].right.start,$[S].right.end)]);return T},s.helper.replaceRecursiveRegExp=function(p,m,g,_,$){if(!s.helper.isFunction(m)){var T=m;m=function(){return T}}var S=y(p,g,_,$),O=p,W=S.length;if(W>0){var U=[];S[0].wholeMatch.start!==0&&U.push(p.slice(0,S[0].wholeMatch.start));for(var F=0;F<W;++F)U.push(m(p.slice(S[F].wholeMatch.start,S[F].wholeMatch.end),p.slice(S[F].match.start,S[F].match.end),p.slice(S[F].left.start,S[F].left.end),p.slice(S[F].right.start,S[F].right.end))),F<W-1&&U.push(p.slice(S[F].wholeMatch.end,S[F+1].wholeMatch.start));S[W-1].wholeMatch.end<p.length&&U.push(p.slice(S[W-1].wholeMatch.end)),O=U.join("")}return O},s.helper.regexIndexOf=function(p,m,g){if(!s.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(m instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var _=p.substring(g||0).search(m);return _>=0?_+(g||0):_},s.helper.splitAtIndex=function(p,m){if(!s.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[p.substring(0,m),p.substring(m)]},s.helper.encodeEmailAddress=function(p){var m=[function(g){return"&#"+g.charCodeAt(0)+";"},function(g){return"&#x"+g.charCodeAt(0).toString(16)+";"},function(g){return g}];return p=p.replace(/./g,function(g){if(g==="@")g=m[Math.floor(Math.random()*2)](g);else{var _=Math.random();g=_>.9?m[2](g):_>.45?m[1](g):m[0](g)}return g}),p},s.helper.padEnd=function(m,g,_){return g=g>>0,_=String(_||" "),m.length>g?String(m):(g=g-m.length,g>_.length&&(_+=_.repeat(g/_.length)),String(m)+_.slice(0,g))},typeof console>"u"&&(console={warn:function(p){alert(p)},log:function(p){alert(p)},error:function(p){throw p}}),s.helper.regexes={asteriskDashAndColon:/([*_:~])/g},s.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},s.Converter=function(p){var m={},g=[],_=[],$={},T=l,S={parsed:{},raw:"",format:""};O();function O(){p=p||{};for(var E in a)a.hasOwnProperty(E)&&(m[E]=a[E]);if(typeof p=="object")for(var z in p)p.hasOwnProperty(z)&&(m[z]=p[z]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof p+" was passed instead.");m.extensions&&s.helper.forEach(m.extensions,W)}function W(E,z){if(z=z||null,s.helper.isString(E))if(E=s.helper.stdExtName(E),z=E,s.extensions[E]){console.warn("DEPRECATION WARNING: "+E+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),U(s.extensions[E],E);return}else if(!s.helper.isUndefined(n[E]))E=n[E];else throw Error('Extension "'+E+'" could not be loaded. It was either not found or is not a valid extension.');typeof E=="function"&&(E=E()),s.helper.isArray(E)||(E=[E]);var K=h(E,z);if(!K.valid)throw Error(K.error);for(var fe=0;fe<E.length;++fe){switch(E[fe].type){case"lang":g.push(E[fe]);break;case"output":_.push(E[fe]);break}if(E[fe].hasOwnProperty("listeners"))for(var Me in E[fe].listeners)E[fe].listeners.hasOwnProperty(Me)&&F(Me,E[fe].listeners[Me])}}function U(E,z){typeof E=="function"&&(E=E(new s.Converter)),s.helper.isArray(E)||(E=[E]);var K=h(E,z);if(!K.valid)throw Error(K.error);for(var fe=0;fe<E.length;++fe)switch(E[fe].type){case"lang":g.push(E[fe]);break;case"output":_.push(E[fe]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function F(E,z){if(!s.helper.isString(E))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof E+" given");if(typeof z!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof z+" given");$.hasOwnProperty(E)||($[E]=[]),$[E].push(z)}function J(E){var z=E.match(/^\s*/)[0].length,K=new RegExp("^\\s{0,"+z+"}","gm");return E.replace(K,"")}this._dispatch=function(z,K,fe,Me){if($.hasOwnProperty(z))for(var me=0;me<$[z].length;++me){var Qe=$[z][me](z,K,this,fe,Me);Qe&&typeof Qe<"u"&&(K=Qe)}return K},this.listen=function(E,z){return F(E,z),this},this.makeHtml=function(E){if(!E)return E;var z={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:g,outputModifiers:_,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return E=E.replace(/¨/g,"¨T"),E=E.replace(/\$/g,"¨D"),E=E.replace(/\r\n/g,`
`),E=E.replace(/\r/g,`
`),E=E.replace(/\u00A0/g,"&nbsp;"),m.smartIndentationFix&&(E=J(E)),E=`

`+E+`

`,E=s.subParser("detab")(E,m,z),E=E.replace(/^[ \t]+$/mg,""),s.helper.forEach(g,function(K){E=s.subParser("runExtension")(K,E,m,z)}),E=s.subParser("metadata")(E,m,z),E=s.subParser("hashPreCodeTags")(E,m,z),E=s.subParser("githubCodeBlocks")(E,m,z),E=s.subParser("hashHTMLBlocks")(E,m,z),E=s.subParser("hashCodeTags")(E,m,z),E=s.subParser("stripLinkDefinitions")(E,m,z),E=s.subParser("blockGamut")(E,m,z),E=s.subParser("unhashHTMLSpans")(E,m,z),E=s.subParser("unescapeSpecialChars")(E,m,z),E=E.replace(/¨D/g,"$$"),E=E.replace(/¨T/g,"¨"),E=s.subParser("completeHTMLDocument")(E,m,z),s.helper.forEach(_,function(K){E=s.subParser("runExtension")(K,E,m,z)}),S=z.metadata,E},this.makeMarkdown=this.makeMd=function(E,z){if(E=E.replace(/\r\n/g,`
`),E=E.replace(/\r/g,`
`),E=E.replace(/>[ \t]+</,">¨NBSP;<"),!z)if(window&&window.document)z=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var K=z.createElement("div");K.innerHTML=E;var fe={preList:Kt(K)};xt(K);for(var Me=K.childNodes,me="",Qe=0;Qe<Me.length;Qe++)me+=s.subParser("makeMarkdown.node")(Me[Qe],fe);function xt(bt){for(var st=0;st<bt.childNodes.length;++st){var wt=bt.childNodes[st];wt.nodeType===3?!/\S/.test(wt.nodeValue)&&!/^[ ]+$/.test(wt.nodeValue)?(bt.removeChild(wt),--st):(wt.nodeValue=wt.nodeValue.split(`
`).join(" "),wt.nodeValue=wt.nodeValue.replace(/(\s)+/g,"$1")):wt.nodeType===1&&xt(wt)}}function Kt(bt){for(var st=bt.querySelectorAll("pre"),wt=[],Dt=0;Dt<st.length;++Dt)if(st[Dt].childElementCount===1&&st[Dt].firstChild.tagName.toLowerCase()==="code"){var xr=st[Dt].firstChild.innerHTML.trim(),fr=st[Dt].firstChild.getAttribute("data-language")||"";if(fr==="")for(var ti=st[Dt].firstChild.className.split(" "),j=0;j<ti.length;++j){var R=ti[j].match(/^language-(.+)$/);if(R!==null){fr=R[1];break}}xr=s.helper.unescapeHTMLEntities(xr),wt.push(xr),st[Dt].outerHTML='<precode language="'+fr+'" precodenum="'+Dt.toString()+'"></precode>'}else wt.push(st[Dt].innerHTML),st[Dt].innerHTML="",st[Dt].setAttribute("prenum",Dt.toString());return wt}return me},this.setOption=function(E,z){m[E]=z},this.getOption=function(E){return m[E]},this.getOptions=function(){return m},this.addExtension=function(E,z){z=z||null,W(E,z)},this.useExtension=function(E){W(E)},this.setFlavor=function(E){if(!d.hasOwnProperty(E))throw Error(E+" flavor was not found");var z=d[E];T=E;for(var K in z)z.hasOwnProperty(K)&&(m[K]=z[K])},this.getFlavor=function(){return T},this.removeExtension=function(E){s.helper.isArray(E)||(E=[E]);for(var z=0;z<E.length;++z){for(var K=E[z],fe=0;fe<g.length;++fe)g[fe]===K&&g.splice(fe,1);for(var Me=0;Me<_.length;++Me)_[Me]===K&&_.splice(Me,1)}},this.getAllExtensions=function(){return{language:g,output:_}},this.getMetadata=function(E){return E?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(E,z){S.parsed[E]=z},this._setMetadataFormat=function(E){S.format=E},this._setMetadataRaw=function(E){S.raw=E}},s.subParser("anchors",function(p,m,g){p=g.converter._dispatch("anchors.before",p,m,g);var _=function($,T,S,O,W,U,F){if(s.helper.isUndefined(F)&&(F=""),S=S.toLowerCase(),$.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)O="";else if(!O)if(S||(S=T.toLowerCase().replace(/ ?\n/g," ")),O="#"+S,!s.helper.isUndefined(g.gUrls[S]))O=g.gUrls[S],s.helper.isUndefined(g.gTitles[S])||(F=g.gTitles[S]);else return $;O=O.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var J='<a href="'+O+'"';return F!==""&&F!==null&&(F=F.replace(/"/g,"&quot;"),F=F.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),J+=' title="'+F+'"'),m.openLinksInNewWindow&&!/^#/.test(O)&&(J+=' rel="noopener noreferrer" target="¨E95Eblank"'),J+=">"+T+"</a>",J};return p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,_),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),p=p.replace(/\[([^\[\]]+)]()()()()()/g,_),m.ghMentions&&(p=p.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function($,T,S,O,W){if(S==="\\")return T+O;if(!s.helper.isString(m.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var U=m.ghMentionsLink.replace(/\{u}/g,W),F="";return m.openLinksInNewWindow&&(F=' rel="noopener noreferrer" target="¨E95Eblank"'),T+'<a href="'+U+'"'+F+">"+O+"</a>"})),p=g.converter._dispatch("anchors.after",p,m,g),p});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,b=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,x=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,I=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,A=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,q=function(p){return function(m,g,_,$,T,S,O){_=_.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var W=_,U="",F="",J=g||"",E=O||"";return/^www\./i.test(_)&&(_=_.replace(/^www\./i,"http://www.")),p.excludeTrailingPunctuationFromURLs&&S&&(U=S),p.openLinksInNewWindow&&(F=' rel="noopener noreferrer" target="¨E95Eblank"'),J+'<a href="'+_+'"'+F+">"+W+"</a>"+U+E}},G=function(p,m){return function(g,_,$){var T="mailto:";return _=_||"",$=s.subParser("unescapeSpecialChars")($,p,m),p.encodeEmails?(T=s.helper.encodeEmailAddress(T+$),$=s.helper.encodeEmailAddress($)):T=T+$,_+'<a href="'+T+'">'+$+"</a>"}};s.subParser("autoLinks",function(p,m,g){return p=g.converter._dispatch("autoLinks.before",p,m,g),p=p.replace(x,q(m)),p=p.replace(A,G(m,g)),p=g.converter._dispatch("autoLinks.after",p,m,g),p}),s.subParser("simplifiedAutoLinks",function(p,m,g){return m.simplifiedAutoLink&&(p=g.converter._dispatch("simplifiedAutoLinks.before",p,m,g),m.excludeTrailingPunctuationFromURLs?p=p.replace(b,q(m)):p=p.replace(v,q(m)),p=p.replace(I,G(m,g)),p=g.converter._dispatch("simplifiedAutoLinks.after",p,m,g)),p}),s.subParser("blockGamut",function(p,m,g){return p=g.converter._dispatch("blockGamut.before",p,m,g),p=s.subParser("blockQuotes")(p,m,g),p=s.subParser("headers")(p,m,g),p=s.subParser("horizontalRule")(p,m,g),p=s.subParser("lists")(p,m,g),p=s.subParser("codeBlocks")(p,m,g),p=s.subParser("tables")(p,m,g),p=s.subParser("hashHTMLBlocks")(p,m,g),p=s.subParser("paragraphs")(p,m,g),p=g.converter._dispatch("blockGamut.after",p,m,g),p}),s.subParser("blockQuotes",function(p,m,g){p=g.converter._dispatch("blockQuotes.before",p,m,g),p=p+`

`;var _=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return m.splitAdjacentBlockquotes&&(_=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),p=p.replace(_,function($){return $=$.replace(/^[ \t]*>[ \t]?/gm,""),$=$.replace(/¨0/g,""),$=$.replace(/^[ \t]+$/gm,""),$=s.subParser("githubCodeBlocks")($,m,g),$=s.subParser("blockGamut")($,m,g),$=$.replace(/(^|\n)/g,"$1  "),$=$.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(T,S){var O=S;return O=O.replace(/^  /mg,"¨0"),O=O.replace(/¨0/g,""),O}),s.subParser("hashBlock")(`<blockquote>
`+$+`
</blockquote>`,m,g)}),p=g.converter._dispatch("blockQuotes.after",p,m,g),p}),s.subParser("codeBlocks",function(p,m,g){p=g.converter._dispatch("codeBlocks.before",p,m,g),p+="¨0";var _=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return p=p.replace(_,function($,T,S){var O=T,W=S,U=`
`;return O=s.subParser("outdent")(O,m,g),O=s.subParser("encodeCode")(O,m,g),O=s.subParser("detab")(O,m,g),O=O.replace(/^\n+/g,""),O=O.replace(/\n+$/g,""),m.omitExtraWLInCodeBlocks&&(U=""),O="<pre><code>"+O+U+"</code></pre>",s.subParser("hashBlock")(O,m,g)+W}),p=p.replace(/¨0/,""),p=g.converter._dispatch("codeBlocks.after",p,m,g),p}),s.subParser("codeSpans",function(p,m,g){return p=g.converter._dispatch("codeSpans.before",p,m,g),typeof p>"u"&&(p=""),p=p.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(_,$,T,S){var O=S;return O=O.replace(/^([ \t]*)/g,""),O=O.replace(/[ \t]*$/g,""),O=s.subParser("encodeCode")(O,m,g),O=$+"<code>"+O+"</code>",O=s.subParser("hashHTMLSpans")(O,m,g),O}),p=g.converter._dispatch("codeSpans.after",p,m,g),p}),s.subParser("completeHTMLDocument",function(p,m,g){if(!m.completeHTMLDocument)return p;p=g.converter._dispatch("completeHTMLDocument.before",p,m,g);var _="html",$=`<!DOCTYPE HTML>
`,T="",S=`<meta charset="utf-8">
`,O="",W="";typeof g.metadata.parsed.doctype<"u"&&($="<!DOCTYPE "+g.metadata.parsed.doctype+`>
`,_=g.metadata.parsed.doctype.toString().toLowerCase(),(_==="html"||_==="html5")&&(S='<meta charset="utf-8">'));for(var U in g.metadata.parsed)if(g.metadata.parsed.hasOwnProperty(U))switch(U.toLowerCase()){case"doctype":break;case"title":T="<title>"+g.metadata.parsed.title+`</title>
`;break;case"charset":_==="html"||_==="html5"?S='<meta charset="'+g.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+g.metadata.parsed.charset+`">
`;break;case"language":case"lang":O=' lang="'+g.metadata.parsed[U]+'"',W+='<meta name="'+U+'" content="'+g.metadata.parsed[U]+`">
`;break;default:W+='<meta name="'+U+'" content="'+g.metadata.parsed[U]+`">
`}return p=$+"<html"+O+`>
<head>
`+T+S+W+`</head>
<body>
`+p.trim()+`
</body>
</html>`,p=g.converter._dispatch("completeHTMLDocument.after",p,m,g),p}),s.subParser("detab",function(p,m,g){return p=g.converter._dispatch("detab.before",p,m,g),p=p.replace(/\t(?=\t)/g,"    "),p=p.replace(/\t/g,"¨A¨B"),p=p.replace(/¨B(.+?)¨A/g,function(_,$){for(var T=$,S=4-T.length%4,O=0;O<S;O++)T+=" ";return T}),p=p.replace(/¨A/g,"    "),p=p.replace(/¨B/g,""),p=g.converter._dispatch("detab.after",p,m,g),p}),s.subParser("ellipsis",function(p,m,g){return m.ellipsis&&(p=g.converter._dispatch("ellipsis.before",p,m,g),p=p.replace(/\.\.\./g,"…"),p=g.converter._dispatch("ellipsis.after",p,m,g)),p}),s.subParser("emoji",function(p,m,g){if(!m.emoji)return p;p=g.converter._dispatch("emoji.before",p,m,g);var _=/:([\S]+?):/g;return p=p.replace(_,function($,T){return s.helper.emojis.hasOwnProperty(T)?s.helper.emojis[T]:$}),p=g.converter._dispatch("emoji.after",p,m,g),p}),s.subParser("encodeAmpsAndAngles",function(p,m,g){return p=g.converter._dispatch("encodeAmpsAndAngles.before",p,m,g),p=p.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),p=p.replace(/<(?![a-z\/?$!])/gi,"&lt;"),p=p.replace(/</g,"&lt;"),p=p.replace(/>/g,"&gt;"),p=g.converter._dispatch("encodeAmpsAndAngles.after",p,m,g),p}),s.subParser("encodeBackslashEscapes",function(p,m,g){return p=g.converter._dispatch("encodeBackslashEscapes.before",p,m,g),p=p.replace(/\\(\\)/g,s.helper.escapeCharactersCallback),p=p.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,s.helper.escapeCharactersCallback),p=g.converter._dispatch("encodeBackslashEscapes.after",p,m,g),p}),s.subParser("encodeCode",function(p,m,g){return p=g.converter._dispatch("encodeCode.before",p,m,g),p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,s.helper.escapeCharactersCallback),p=g.converter._dispatch("encodeCode.after",p,m,g),p}),s.subParser("escapeSpecialCharsWithinTagAttributes",function(p,m,g){p=g.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",p,m,g);var _=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,$=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return p=p.replace(_,function(T){return T.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),p=p.replace($,function(T){return T.replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),p=g.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",p,m,g),p}),s.subParser("githubCodeBlocks",function(p,m,g){return m.ghCodeBlocks?(p=g.converter._dispatch("githubCodeBlocks.before",p,m,g),p+="¨0",p=p.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(_,$,T,S){var O=m.omitExtraWLInCodeBlocks?"":`
`;return S=s.subParser("encodeCode")(S,m,g),S=s.subParser("detab")(S,m,g),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(T?' class="'+T+" language-"+T+'"':"")+">"+S+O+"</code></pre>",S=s.subParser("hashBlock")(S,m,g),`

¨G`+(g.ghCodeBlocks.push({text:_,codeblock:S})-1)+`G

`}),p=p.replace(/¨0/,""),g.converter._dispatch("githubCodeBlocks.after",p,m,g)):p}),s.subParser("hashBlock",function(p,m,g){return p=g.converter._dispatch("hashBlock.before",p,m,g),p=p.replace(/(^\n+|\n+$)/g,""),p=`

¨K`+(g.gHtmlBlocks.push(p)-1)+`K

`,p=g.converter._dispatch("hashBlock.after",p,m,g),p}),s.subParser("hashCodeTags",function(p,m,g){p=g.converter._dispatch("hashCodeTags.before",p,m,g);var _=function($,T,S,O){var W=S+s.subParser("encodeCode")(T,m,g)+O;return"¨C"+(g.gHtmlSpans.push(W)-1)+"C"};return p=s.helper.replaceRecursiveRegExp(p,_,"<code\\b[^>]*>","</code>","gim"),p=g.converter._dispatch("hashCodeTags.after",p,m,g),p}),s.subParser("hashElement",function(p,m,g){return function(_,$){var T=$;return T=T.replace(/\n\n/g,`
`),T=T.replace(/^\n/,""),T=T.replace(/\n+$/g,""),T=`

¨K`+(g.gHtmlBlocks.push(T)-1)+`K

`,T}}),s.subParser("hashHTMLBlocks",function(p,m,g){p=g.converter._dispatch("hashHTMLBlocks.before",p,m,g);var _=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],$=function(E,z,K,fe){var Me=E;return K.search(/\bmarkdown\b/)!==-1&&(Me=K+g.converter.makeHtml(z)+fe),`

¨K`+(g.gHtmlBlocks.push(Me)-1)+`K

`};m.backslashEscapesHTMLTags&&(p=p.replace(/\\<(\/?[^>]+?)>/g,function(E,z){return"&lt;"+z+"&gt;"}));for(var T=0;T<_.length;++T)for(var S,O=new RegExp("^ {0,3}(<"+_[T]+"\\b[^>]*>)","im"),W="<"+_[T]+"\\b[^>]*>",U="</"+_[T]+">";(S=s.helper.regexIndexOf(p,O))!==-1;){var F=s.helper.splitAtIndex(p,S),J=s.helper.replaceRecursiveRegExp(F[1],$,W,U,"im");if(J===F[1])break;p=F[0].concat(J)}return p=p.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(p,m,g)),p=s.helper.replaceRecursiveRegExp(p,function(E){return`

¨K`+(g.gHtmlBlocks.push(E)-1)+`K

`},"^ {0,3}<!--","-->","gm"),p=p.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(p,m,g)),p=g.converter._dispatch("hashHTMLBlocks.after",p,m,g),p}),s.subParser("hashHTMLSpans",function(p,m,g){p=g.converter._dispatch("hashHTMLSpans.before",p,m,g);function _($){return"¨C"+(g.gHtmlSpans.push($)-1)+"C"}return p=p.replace(/<[^>]+?\/>/gi,function($){return _($)}),p=p.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function($){return _($)}),p=p.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function($){return _($)}),p=p.replace(/<[^>]+?>/gi,function($){return _($)}),p=g.converter._dispatch("hashHTMLSpans.after",p,m,g),p}),s.subParser("unhashHTMLSpans",function(p,m,g){p=g.converter._dispatch("unhashHTMLSpans.before",p,m,g);for(var _=0;_<g.gHtmlSpans.length;++_){for(var $=g.gHtmlSpans[_],T=0;/¨C(\d+)C/.test($);){var S=RegExp.$1;if($=$.replace("¨C"+S+"C",g.gHtmlSpans[S]),T===10){console.error("maximum nesting of 10 spans reached!!!");break}++T}p=p.replace("¨C"+_+"C",$)}return p=g.converter._dispatch("unhashHTMLSpans.after",p,m,g),p}),s.subParser("hashPreCodeTags",function(p,m,g){p=g.converter._dispatch("hashPreCodeTags.before",p,m,g);var _=function($,T,S,O){var W=S+s.subParser("encodeCode")(T,m,g)+O;return`

¨G`+(g.ghCodeBlocks.push({text:$,codeblock:W})-1)+`G

`};return p=s.helper.replaceRecursiveRegExp(p,_,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),p=g.converter._dispatch("hashPreCodeTags.after",p,m,g),p}),s.subParser("headers",function(p,m,g){p=g.converter._dispatch("headers.before",p,m,g);var _=isNaN(parseInt(m.headerLevelStart))?1:parseInt(m.headerLevelStart),$=m.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,T=m.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;p=p.replace($,function(W,U){var F=s.subParser("spanGamut")(U,m,g),J=m.noHeaderId?"":' id="'+O(U)+'"',E=_,z="<h"+E+J+">"+F+"</h"+E+">";return s.subParser("hashBlock")(z,m,g)}),p=p.replace(T,function(W,U){var F=s.subParser("spanGamut")(U,m,g),J=m.noHeaderId?"":' id="'+O(U)+'"',E=_+1,z="<h"+E+J+">"+F+"</h"+E+">";return s.subParser("hashBlock")(z,m,g)});var S=m.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;p=p.replace(S,function(W,U,F){var J=F;m.customizedHeaderId&&(J=F.replace(/\s?\{([^{]+?)}\s*$/,""));var E=s.subParser("spanGamut")(J,m,g),z=m.noHeaderId?"":' id="'+O(F)+'"',K=_-1+U.length,fe="<h"+K+z+">"+E+"</h"+K+">";return s.subParser("hashBlock")(fe,m,g)});function O(W){var U,F;if(m.customizedHeaderId){var J=W.match(/\{([^{]+?)}\s*$/);J&&J[1]&&(W=J[1])}return U=W,s.helper.isString(m.prefixHeaderId)?F=m.prefixHeaderId:m.prefixHeaderId===!0?F="section-":F="",m.rawPrefixHeaderId||(U=F+U),m.ghCompatibleHeaderId?U=U.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():m.rawHeaderId?U=U.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():U=U.replace(/[^\w]/g,"").toLowerCase(),m.rawPrefixHeaderId&&(U=F+U),g.hashLinkCounts[U]?U=U+"-"+g.hashLinkCounts[U]++:g.hashLinkCounts[U]=1,U}return p=g.converter._dispatch("headers.after",p,m,g),p}),s.subParser("horizontalRule",function(p,m,g){p=g.converter._dispatch("horizontalRule.before",p,m,g);var _=s.subParser("hashBlock")("<hr />",m,g);return p=p.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,_),p=p.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,_),p=p.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,_),p=g.converter._dispatch("horizontalRule.after",p,m,g),p}),s.subParser("images",function(p,m,g){p=g.converter._dispatch("images.before",p,m,g);var _=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,$=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,T=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,O=/!\[([^\[\]]+)]()()()()()/g;function W(F,J,E,z,K,fe,Me,me){return z=z.replace(/\s/g,""),U(F,J,E,z,K,fe,Me,me)}function U(F,J,E,z,K,fe,Me,me){var Qe=g.gUrls,xt=g.gTitles,Kt=g.gDimensions;if(E=E.toLowerCase(),me||(me=""),F.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)z="";else if(z===""||z===null)if((E===""||E===null)&&(E=J.toLowerCase().replace(/ ?\n/g," ")),z="#"+E,!s.helper.isUndefined(Qe[E]))z=Qe[E],s.helper.isUndefined(xt[E])||(me=xt[E]),s.helper.isUndefined(Kt[E])||(K=Kt[E].width,fe=Kt[E].height);else return F;J=J.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),z=z.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var bt='<img src="'+z+'" alt="'+J+'"';return me&&s.helper.isString(me)&&(me=me.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),bt+=' title="'+me+'"'),K&&fe&&(K=K==="*"?"auto":K,fe=fe==="*"?"auto":fe,bt+=' width="'+K+'"',bt+=' height="'+fe+'"'),bt+=" />",bt}return p=p.replace(S,U),p=p.replace(T,W),p=p.replace($,U),p=p.replace(_,U),p=p.replace(O,U),p=g.converter._dispatch("images.after",p,m,g),p}),s.subParser("italicsAndBold",function(p,m,g){p=g.converter._dispatch("italicsAndBold.before",p,m,g);function _($,T,S){return T+$+S}return m.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function($,T){return _(T,"<strong><em>","</em></strong>")}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function($,T){return _(T,"<strong>","</strong>")}),p=p.replace(/\b_(\S[\s\S]*?)_\b/g,function($,T){return _(T,"<em>","</em>")})):(p=p.replace(/___(\S[\s\S]*?)___/g,function($,T){return/\S$/.test(T)?_(T,"<strong><em>","</em></strong>"):$}),p=p.replace(/__(\S[\s\S]*?)__/g,function($,T){return/\S$/.test(T)?_(T,"<strong>","</strong>"):$}),p=p.replace(/_([^\s_][\s\S]*?)_/g,function($,T){return/\S$/.test(T)?_(T,"<em>","</em>"):$})),m.literalMidWordAsterisks?(p=p.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function($,T,S){return _(S,T+"<strong><em>","</em></strong>")}),p=p.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function($,T,S){return _(S,T+"<strong>","</strong>")}),p=p.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function($,T,S){return _(S,T+"<em>","</em>")})):(p=p.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function($,T){return/\S$/.test(T)?_(T,"<strong><em>","</em></strong>"):$}),p=p.replace(/\*\*(\S[\s\S]*?)\*\*/g,function($,T){return/\S$/.test(T)?_(T,"<strong>","</strong>"):$}),p=p.replace(/\*([^\s*][\s\S]*?)\*/g,function($,T){return/\S$/.test(T)?_(T,"<em>","</em>"):$})),p=g.converter._dispatch("italicsAndBold.after",p,m,g),p}),s.subParser("lists",function(p,m,g){function _(S,O){g.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="¨0";var W=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,U=/\n[ \t]*\n(?!¨0)/.test(S);return m.disableForced4SpacesIndentedSublists&&(W=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(W,function(F,J,E,z,K,fe,Me){Me=Me&&Me.trim()!=="";var me=s.subParser("outdent")(K,m,g),Qe="";return fe&&m.tasklists&&(Qe=' class="task-list-item" style="list-style-type: none;"',me=me.replace(/^[ \t]*\[(x|X| )?]/m,function(){var xt='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return Me&&(xt+=" checked"),xt+=">",xt})),me=me.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(xt){return"¨A"+xt}),J||me.search(/\n{2,}/)>-1?(me=s.subParser("githubCodeBlocks")(me,m,g),me=s.subParser("blockGamut")(me,m,g)):(me=s.subParser("lists")(me,m,g),me=me.replace(/\n$/,""),me=s.subParser("hashHTMLBlocks")(me,m,g),me=me.replace(/\n\n+/g,`

`),U?me=s.subParser("paragraphs")(me,m,g):me=s.subParser("spanGamut")(me,m,g)),me=me.replace("¨A",""),me="<li"+Qe+">"+me+`</li>
`,me}),S=S.replace(/¨0/g,""),g.gListLevel--,O&&(S=S.replace(/\s+$/,"")),S}function $(S,O){if(O==="ol"){var W=S.match(/^ *(\d+)\./);if(W&&W[1]!=="1")return' start="'+W[1]+'"'}return""}function T(S,O,W){var U=m.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,F=m.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,J=O==="ul"?U:F,E="";if(S.search(J)!==-1)(function K(fe){var Me=fe.search(J),me=$(S,O);Me!==-1?(E+=`

<`+O+me+`>
`+_(fe.slice(0,Me),!!W)+"</"+O+`>
`,O=O==="ul"?"ol":"ul",J=O==="ul"?U:F,K(fe.slice(Me))):E+=`

<`+O+me+`>
`+_(fe,!!W)+"</"+O+`>
`})(S);else{var z=$(S,O);E=`

<`+O+z+`>
`+_(S,!!W)+"</"+O+`>
`}return E}return p=g.converter._dispatch("lists.before",p,m,g),p+="¨0",g.gListLevel?p=p.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,O,W){var U=W.search(/[*+-]/g)>-1?"ul":"ol";return T(O,U,!0)}):p=p.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,O,W,U){var F=U.search(/[*+-]/g)>-1?"ul":"ol";return T(W,F,!1)}),p=p.replace(/¨0/,""),p=g.converter._dispatch("lists.after",p,m,g),p}),s.subParser("metadata",function(p,m,g){if(!m.metadata)return p;p=g.converter._dispatch("metadata.before",p,m,g);function _($){g.metadata.raw=$,$=$.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),$=$.replace(/\n {4}/g," "),$.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(T,S,O){return g.metadata.parsed[S]=O,""})}return p=p.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function($,T,S){return _(S),"¨M"}),p=p.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function($,T,S){return T&&(g.metadata.format=T),_(S),"¨M"}),p=p.replace(/¨M/g,""),p=g.converter._dispatch("metadata.after",p,m,g),p}),s.subParser("outdent",function(p,m,g){return p=g.converter._dispatch("outdent.before",p,m,g),p=p.replace(/^(\t|[ ]{1,4})/gm,"¨0"),p=p.replace(/¨0/g,""),p=g.converter._dispatch("outdent.after",p,m,g),p}),s.subParser("paragraphs",function(p,m,g){p=g.converter._dispatch("paragraphs.before",p,m,g),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,"");for(var _=p.split(/\n{2,}/g),$=[],T=_.length,S=0;S<T;S++){var O=_[S];O.search(/¨(K|G)(\d+)\1/g)>=0?$.push(O):O.search(/\S/)>=0&&(O=s.subParser("spanGamut")(O,m,g),O=O.replace(/^([ \t]*)/g,"<p>"),O+="</p>",$.push(O))}for(T=$.length,S=0;S<T;S++){for(var W="",U=$[S],F=!1;/¨(K|G)(\d+)\1/.test(U);){var J=RegExp.$1,E=RegExp.$2;J==="K"?W=g.gHtmlBlocks[E]:F?W=s.subParser("encodeCode")(g.ghCodeBlocks[E].text,m,g):W=g.ghCodeBlocks[E].codeblock,W=W.replace(/\$/g,"$$$$"),U=U.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,W),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(U)&&(F=!0)}$[S]=U}return p=$.join(`
`),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,""),g.converter._dispatch("paragraphs.after",p,m,g)}),s.subParser("runExtension",function(p,m,g,_){if(p.filter)m=p.filter(m,_.converter,g);else if(p.regex){var $=p.regex;$ instanceof RegExp||($=new RegExp($,"g")),m=m.replace($,p.replace)}return m}),s.subParser("spanGamut",function(p,m,g){return p=g.converter._dispatch("spanGamut.before",p,m,g),p=s.subParser("codeSpans")(p,m,g),p=s.subParser("escapeSpecialCharsWithinTagAttributes")(p,m,g),p=s.subParser("encodeBackslashEscapes")(p,m,g),p=s.subParser("images")(p,m,g),p=s.subParser("anchors")(p,m,g),p=s.subParser("autoLinks")(p,m,g),p=s.subParser("simplifiedAutoLinks")(p,m,g),p=s.subParser("emoji")(p,m,g),p=s.subParser("underline")(p,m,g),p=s.subParser("italicsAndBold")(p,m,g),p=s.subParser("strikethrough")(p,m,g),p=s.subParser("ellipsis")(p,m,g),p=s.subParser("hashHTMLSpans")(p,m,g),p=s.subParser("encodeAmpsAndAngles")(p,m,g),m.simpleLineBreaks?/\n\n¨K/.test(p)||(p=p.replace(/\n+/g,`<br />
`)):p=p.replace(/  +\n/g,`<br />
`),p=g.converter._dispatch("spanGamut.after",p,m,g),p}),s.subParser("strikethrough",function(p,m,g){function _($){return m.simplifiedAutoLink&&($=s.subParser("simplifiedAutoLinks")($,m,g)),"<del>"+$+"</del>"}return m.strikethrough&&(p=g.converter._dispatch("strikethrough.before",p,m,g),p=p.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function($,T){return _(T)}),p=g.converter._dispatch("strikethrough.after",p,m,g)),p}),s.subParser("stripLinkDefinitions",function(p,m,g){var _=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,$=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;p+="¨0";var T=function(S,O,W,U,F,J,E){return O=O.toLowerCase(),p.toLowerCase().split(O).length-1<2?S:(W.match(/^data:.+?\/.+?;base64,/)?g.gUrls[O]=W.replace(/\s/g,""):g.gUrls[O]=s.subParser("encodeAmpsAndAngles")(W,m,g),J?J+E:(E&&(g.gTitles[O]=E.replace(/"|'/g,"&quot;")),m.parseImgDimensions&&U&&F&&(g.gDimensions[O]={width:U,height:F}),""))};return p=p.replace($,T),p=p.replace(_,T),p=p.replace(/¨0/,""),p}),s.subParser("tables",function(p,m,g){if(!m.tables)return p;var _=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,$=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function T(F){return/^:[ \t]*--*$/.test(F)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(F)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(F)?' style="text-align:center;"':""}function S(F,J){var E="";return F=F.trim(),(m.tablesHeaderId||m.tableHeaderId)&&(E=' id="'+F.replace(/ /g,"_").toLowerCase()+'"'),F=s.subParser("spanGamut")(F,m,g),"<th"+E+J+">"+F+`</th>
`}function O(F,J){var E=s.subParser("spanGamut")(F,m,g);return"<td"+J+">"+E+`</td>
`}function W(F,J){for(var E=`<table>
<thead>
<tr>
`,z=F.length,K=0;K<z;++K)E+=F[K];for(E+=`</tr>
</thead>
<tbody>
`,K=0;K<J.length;++K){E+=`<tr>
`;for(var fe=0;fe<z;++fe)E+=J[K][fe];E+=`</tr>
`}return E+=`</tbody>
</table>
`,E}function U(F){var J,E=F.split(`
`);for(J=0;J<E.length;++J)/^ {0,3}\|/.test(E[J])&&(E[J]=E[J].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(E[J])&&(E[J]=E[J].replace(/\|[ \t]*$/,"")),E[J]=s.subParser("codeSpans")(E[J],m,g);var z=E[0].split("|").map(function(bt){return bt.trim()}),K=E[1].split("|").map(function(bt){return bt.trim()}),fe=[],Me=[],me=[],Qe=[];for(E.shift(),E.shift(),J=0;J<E.length;++J)E[J].trim()!==""&&fe.push(E[J].split("|").map(function(bt){return bt.trim()}));if(z.length<K.length)return F;for(J=0;J<K.length;++J)me.push(T(K[J]));for(J=0;J<z.length;++J)s.helper.isUndefined(me[J])&&(me[J]=""),Me.push(S(z[J],me[J]));for(J=0;J<fe.length;++J){for(var xt=[],Kt=0;Kt<Me.length;++Kt)s.helper.isUndefined(fe[J][Kt]),xt.push(O(fe[J][Kt],me[Kt]));Qe.push(xt)}return W(Me,Qe)}return p=g.converter._dispatch("tables.before",p,m,g),p=p.replace(/\\(\|)/g,s.helper.escapeCharactersCallback),p=p.replace(_,U),p=p.replace($,U),p=g.converter._dispatch("tables.after",p,m,g),p}),s.subParser("underline",function(p,m,g){return m.underline&&(p=g.converter._dispatch("underline.before",p,m,g),m.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(_,$){return"<u>"+$+"</u>"}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(_,$){return"<u>"+$+"</u>"})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(_,$){return/\S$/.test($)?"<u>"+$+"</u>":_}),p=p.replace(/__(\S[\s\S]*?)__/g,function(_,$){return/\S$/.test($)?"<u>"+$+"</u>":_})),p=p.replace(/(_)/g,s.helper.escapeCharactersCallback),p=g.converter._dispatch("underline.after",p,m,g)),p}),s.subParser("unescapeSpecialChars",function(p,m,g){return p=g.converter._dispatch("unescapeSpecialChars.before",p,m,g),p=p.replace(/¨E(\d+)E/g,function(_,$){var T=parseInt($);return String.fromCharCode(T)}),p=g.converter._dispatch("unescapeSpecialChars.after",p,m,g),p}),s.subParser("makeMarkdown.blockquote",function(p,m){var g="";if(p.hasChildNodes())for(var _=p.childNodes,$=_.length,T=0;T<$;++T){var S=s.subParser("makeMarkdown.node")(_[T],m);S!==""&&(g+=S)}return g=g.trim(),g="> "+g.split(`
`).join(`
> `),g}),s.subParser("makeMarkdown.codeBlock",function(p,m){var g=p.getAttribute("language"),_=p.getAttribute("precodenum");return"```"+g+`
`+m.preList[_]+"\n```"}),s.subParser("makeMarkdown.codeSpan",function(p){return"`"+p.innerHTML+"`"}),s.subParser("makeMarkdown.emphasis",function(p,m){var g="";if(p.hasChildNodes()){g+="*";for(var _=p.childNodes,$=_.length,T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m);g+="*"}return g}),s.subParser("makeMarkdown.header",function(p,m,g){var _=new Array(g+1).join("#"),$="";if(p.hasChildNodes()){$=_+" ";for(var T=p.childNodes,S=T.length,O=0;O<S;++O)$+=s.subParser("makeMarkdown.node")(T[O],m)}return $}),s.subParser("makeMarkdown.hr",function(){return"---"}),s.subParser("makeMarkdown.image",function(p){var m="";return p.hasAttribute("src")&&(m+="!["+p.getAttribute("alt")+"](",m+="<"+p.getAttribute("src")+">",p.hasAttribute("width")&&p.hasAttribute("height")&&(m+=" ="+p.getAttribute("width")+"x"+p.getAttribute("height")),p.hasAttribute("title")&&(m+=' "'+p.getAttribute("title")+'"'),m+=")"),m}),s.subParser("makeMarkdown.links",function(p,m){var g="";if(p.hasChildNodes()&&p.hasAttribute("href")){var _=p.childNodes,$=_.length;g="[";for(var T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m);g+="](",g+="<"+p.getAttribute("href")+">",p.hasAttribute("title")&&(g+=' "'+p.getAttribute("title")+'"'),g+=")"}return g}),s.subParser("makeMarkdown.list",function(p,m,g){var _="";if(!p.hasChildNodes())return"";for(var $=p.childNodes,T=$.length,S=p.getAttribute("start")||1,O=0;O<T;++O)if(!(typeof $[O].tagName>"u"||$[O].tagName.toLowerCase()!=="li")){var W="";g==="ol"?W=S.toString()+". ":W="- ",_+=W+s.subParser("makeMarkdown.listItem")($[O],m),++S}return _+=`
<!-- -->
`,_.trim()}),s.subParser("makeMarkdown.listItem",function(p,m){for(var g="",_=p.childNodes,$=_.length,T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m);return/\n$/.test(g)?g=g.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):g+=`
`,g}),s.subParser("makeMarkdown.node",function(p,m,g){g=g||!1;var _="";if(p.nodeType===3)return s.subParser("makeMarkdown.txt")(p,m);if(p.nodeType===8)return"<!--"+p.data+`-->

`;if(p.nodeType!==1)return"";var $=p.tagName.toLowerCase();switch($){case"h1":g||(_=s.subParser("makeMarkdown.header")(p,m,1)+`

`);break;case"h2":g||(_=s.subParser("makeMarkdown.header")(p,m,2)+`

`);break;case"h3":g||(_=s.subParser("makeMarkdown.header")(p,m,3)+`

`);break;case"h4":g||(_=s.subParser("makeMarkdown.header")(p,m,4)+`

`);break;case"h5":g||(_=s.subParser("makeMarkdown.header")(p,m,5)+`

`);break;case"h6":g||(_=s.subParser("makeMarkdown.header")(p,m,6)+`

`);break;case"p":g||(_=s.subParser("makeMarkdown.paragraph")(p,m)+`

`);break;case"blockquote":g||(_=s.subParser("makeMarkdown.blockquote")(p,m)+`

`);break;case"hr":g||(_=s.subParser("makeMarkdown.hr")(p,m)+`

`);break;case"ol":g||(_=s.subParser("makeMarkdown.list")(p,m,"ol")+`

`);break;case"ul":g||(_=s.subParser("makeMarkdown.list")(p,m,"ul")+`

`);break;case"precode":g||(_=s.subParser("makeMarkdown.codeBlock")(p,m)+`

`);break;case"pre":g||(_=s.subParser("makeMarkdown.pre")(p,m)+`

`);break;case"table":g||(_=s.subParser("makeMarkdown.table")(p,m)+`

`);break;case"code":_=s.subParser("makeMarkdown.codeSpan")(p,m);break;case"em":case"i":_=s.subParser("makeMarkdown.emphasis")(p,m);break;case"strong":case"b":_=s.subParser("makeMarkdown.strong")(p,m);break;case"del":_=s.subParser("makeMarkdown.strikethrough")(p,m);break;case"a":_=s.subParser("makeMarkdown.links")(p,m);break;case"img":_=s.subParser("makeMarkdown.image")(p,m);break;default:_=p.outerHTML+`

`}return _}),s.subParser("makeMarkdown.paragraph",function(p,m){var g="";if(p.hasChildNodes())for(var _=p.childNodes,$=_.length,T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m);return g=g.trim(),g}),s.subParser("makeMarkdown.pre",function(p,m){var g=p.getAttribute("prenum");return"<pre>"+m.preList[g]+"</pre>"}),s.subParser("makeMarkdown.strikethrough",function(p,m){var g="";if(p.hasChildNodes()){g+="~~";for(var _=p.childNodes,$=_.length,T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m);g+="~~"}return g}),s.subParser("makeMarkdown.strong",function(p,m){var g="";if(p.hasChildNodes()){g+="**";for(var _=p.childNodes,$=_.length,T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m);g+="**"}return g}),s.subParser("makeMarkdown.table",function(p,m){var g="",_=[[],[]],$=p.querySelectorAll("thead>tr>th"),T=p.querySelectorAll("tbody>tr"),S,O;for(S=0;S<$.length;++S){var W=s.subParser("makeMarkdown.tableCell")($[S],m),U="---";if($[S].hasAttribute("style")){var F=$[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(F){case"text-align:left;":U=":---";break;case"text-align:right;":U="---:";break;case"text-align:center;":U=":---:";break}}_[0][S]=W.trim(),_[1][S]=U}for(S=0;S<T.length;++S){var J=_.push([])-1,E=T[S].getElementsByTagName("td");for(O=0;O<$.length;++O){var z=" ";typeof E[O]<"u"&&(z=s.subParser("makeMarkdown.tableCell")(E[O],m)),_[J].push(z)}}var K=3;for(S=0;S<_.length;++S)for(O=0;O<_[S].length;++O){var fe=_[S][O].length;fe>K&&(K=fe)}for(S=0;S<_.length;++S){for(O=0;O<_[S].length;++O)S===1?_[S][O].slice(-1)===":"?_[S][O]=s.helper.padEnd(_[S][O].slice(-1),K-1,"-")+":":_[S][O]=s.helper.padEnd(_[S][O],K,"-"):_[S][O]=s.helper.padEnd(_[S][O],K);g+="| "+_[S].join(" | ")+` |
`}return g.trim()}),s.subParser("makeMarkdown.tableCell",function(p,m){var g="";if(!p.hasChildNodes())return"";for(var _=p.childNodes,$=_.length,T=0;T<$;++T)g+=s.subParser("makeMarkdown.node")(_[T],m,!0);return g.trim()}),s.subParser("makeMarkdown.txt",function(p){var m=p.nodeValue;return m=m.replace(/ +/g," "),m=m.replace(/¨NBSP;/g," "),m=s.helper.unescapeHTMLEntities(m),m=m.replace(/([*_~|`])/g,"\\$1"),m=m.replace(/^(\s*)>/g,"\\$1>"),m=m.replace(/^#/gm,"\\#"),m=m.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),m=m.replace(/^( {0,3}\d+)\./gm,"$1\\."),m=m.replace(/^( {0,3})([+-])/gm,"$1\\$2"),m=m.replace(/]([\s]*)\(/g,"\\]$1\\("),m=m.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),m});var C=this;e.exports?e.exports=s:C.showdown=s}).call(aW)})(DO);var lW=DO.exports;const uW={key:0,class:"card-body d-flex justify-content-center"},cW=qe("div",{class:"spinner-border",role:"status"},[qe("span",{class:"visually-hidden"},"Loading...")],-1),dW=[cW],pW={key:1,class:"card-header"},hW={class:"mb-0"},fW={key:0},yW={class:"list-unstyled small mb-0"},mW={key:0},gW=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-telephone me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})],-1),vW=["href"],bW={key:1},wW=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),qe("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1),_W=["href"],SW={key:2},$W=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-envelope me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"})],-1),xW=["href","textContent"],EW=qe("br",null,null,-1),TW={key:3},kW=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-globe2 me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.472.257 2.282.287V1.077zM4.249 3.539c.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05c.362.184.763.349 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5h2.49zm1.4-2.741a12.344 12.344 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332zM8.5 5.09V7.5h2.99a12.342 12.342 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.612 13.612 0 0 1 7.5 10.91V8.5H4.51zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741H8.5zm-3.282 3.696c.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a6.696 6.696 0 0 1-.598-.933 8.853 8.853 0 0 1-.481-1.079 8.38 8.38 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.522zm-1.383-2.964A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.963 6.963 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667zm6.728 2.964a7.009 7.009 0 0 0 2.275-1.521 8.376 8.376 0 0 0-1.197-.49 8.853 8.853 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zM8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872A12.63 12.63 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.963 6.963 0 0 0 14.982 8.5h-2.49a13.36 13.36 0 0 1-.437 3.008zM14.982 7.5a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008h2.49zM11.27 2.461c.177.334.339.694.482 1.078a8.368 8.368 0 0 0 1.196-.49 7.01 7.01 0 0 0-2.275-1.52c.218.283.418.597.597.932zm-.488 1.343a7.765 7.765 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"})],-1),MW=["href"],IW=["innerHTML"],OW={key:2,class:"card-body text-center"},jW=Ld({__name:"Provider",setup(e){const{esriProvider:t,provider:r,airtableProviders:s}=hm(),i=new lW.Converter;return(n,a)=>{var l;return _e(t).loading||_e(s).loading?(Ke(),ct("div",uW,dW)):_e(r)!==void 0?(Ke(),ct("div",pW,[qe("h4",hW,Gs(_e(r).name),1),_e(r).address?(Ke(),ct("div",fW,Gs(_e(r).address),1)):qs("",!0),qe("ul",yW,[_e(r).phone?(Ke(),ct("li",mW,[gW,qe("a",{href:`tel:${_e(r).phone}`},Gs(("usePhoneFormat"in n?n.usePhoneFormat:_e(N$))(_e(r).phone)),9,vW)])):qs("",!0),_e(r).fax?(Ke(),ct("li",bW,[wW,qe("a",{href:`fax:${_e(r).fax}`},Gs(("usePhoneFormat"in n?n.usePhoneFormat:_e(N$))(_e(r).fax)),9,_W)])):qs("",!0),_e(r).email?(Ke(),ct("li",SW,[$W,qe("a",{href:`mailto:${_e(r).email}`,textContent:Gs(_e(r).email)},null,8,xW),EW])):qs("",!0),_e(r).website?(Ke(),ct("li",TW,[kW,qe("a",{href:_e(r).website,target:"_blank"},"Customer Service Website",8,MW)])):qs("",!0)]),(l=_e(r).message)!=null&&l.trim()?(Ke(),ct("div",{key:1,class:"alert alert-warning my-2",innerHTML:_e(i).makeHtml(_e(r).message)},null,8,IW)):qs("",!0)])):(Ke(),ct("div",OW,"No results"))}}}),_g="https://maps.hillsboroughcounty.org/arcgis/rest/services/SolidWaste_Viewer/SolidWasteRouteSchedules/MapServer",D$={garbage:`${_g}/2`,recycle:`${_g}/1`,yard:`${_g}/0`},lo=dr({loading:!1,data:{garbage:void 0,recycle:void 0,yard:void 0}});async function CW(e){lo.loading=!0;try{let t;for(t in D$)try{pm.url=D$[t];const[r]=await Y_(e);lo.data[t]=(r==null?void 0:r.toJSON().attributes)||void 0}catch{console.info(`unable to find ${t} schedule`)}}finally{lo.loading=!1}}const zO=fn(()=>{const{garbage:e,recycle:t,yard:r}=lo.data;return{garbage:e?[e.Day1,e.Day2]:void 0,recycle:t?[t.Day]:void 0,yard:r?[r.Day]:void 0}}),AW=fn(()=>{const{garbage:e,recycle:t,yard:r}=zO.value;return{garbage:e?e.map(bg).flat().sort(wg):void 0,recycle:t?t.map(bg.bind("recycle")).flat().sort(wg):void 0,yard:r?r.map(bg.bind("yard")).flat().sort(wg):void 0}}),RW=fn(()=>lo.data.garbage!==void 0||lo.data.recycle!==void 0||lo.data.yard!==void 0),VO=()=>({schedule:lo,fetchScheduleFeatures:CW,weekdays:zO,nextDates:AW,hasSchedule:RW}),PW={key:0,class:"card-body d-flex justify-content-center"},LW=qe("div",{class:"spinner-border",role:"status"},[qe("span",{class:"visually-hidden"},"Loading...")],-1),FW=[LW],NW={key:1,class:"table table-striped mb-0"},DW={key:0},zW=["id"],VW=qe("small",{class:"d-block fw-light"},"Next Pickup Date(s)",-1),UW=["aria-describedby"],qW={key:0,class:"badge bg-secondary ms-2"},BW={key:2,class:"card-body"},HW=Ld({__name:"Schedule",setup(e){const{schedule:t,weekdays:r,nextDates:s,hasSchedule:i}=VO(),{hasProvider:n}=hm(),a={weekday:"short",year:"numeric",month:"long",day:"numeric"};return(l,d)=>_e(t).loading?(Ke(),ct("div",PW,FW)):_e(i)?(Ke(),ct("table",NW,[qe("tbody",null,[(Ke(!0),ct(wr,null,uf(_e(r),(h,f)=>(Ke(),ct(wr,null,[h?(Ke(),ct("tr",DW,[qe("th",{id:f,class:"text-capitalize"},[hf(Gs(f)+" Days ",1),VW],8,zW),qe("td",{"aria-describedby":f},[hf(Gs(h.map(y=>`${y.toString()}s`).join(" & "))+" ",1),qe("ul",null,[(Ke(!0),ct(wr,null,uf(_e(s)[f],y=>(Ke(),ct("li",null,[qe("span",{class:lu({"text-decoration-line-through":y.isHoliday})},Gs(y.date.toLocaleDateString(void 0,a)),3),y.isHoliday?(Ke(),ct("span",qW," No pickup on holiday ")):qs("",!0)]))),256))])],8,UW)])):qs("",!0)],64))),256))])])):_e(n)?(Ke(),ct("div",BW," We weren't able to find your trash and recycling schedule, but we know who your hauler is. Contact the provider listed above for your pickup schedule. ")):qs("",!0)}}),UO=io(!1),GW=async e=>{var i,n;const{fetchProviderFeatures:t}=hm(),{fetchScheduleFeatures:r}=VO();if(UO.value=!0,ms.status=null,!e.length)throw"No Search Results";const[s]=e;ms.status=`Results for ${s.name}`,await Promise.allSettled([t((i=s==null?void 0:s.feature)==null?void 0:i.geometry),r((n=s==null?void 0:s.feature)==null?void 0:n.geometry)])},WW=()=>({hasSearched:UO,watchResults:GW});var JW={exports:{}};(function(e){(function(t){if(typeof window>"u")return;var r=!0,s=10,i="",n=0,a="",l=null,d="",h=!1,f={resize:1,click:1},y=128,v=!0,b=1,x="bodyOffset",I=x,A=!0,q="",G={},C=32,p=null,m=!1,g=!1,_="[iFrameSizer]",$=_.length,T="",S={max:1,min:1,bodyScroll:1,documentElementScroll:1},O="child",W=window.parent,U="*",F=0,J=!1,E=null,z=16,K=1,fe="scroll",Me=fe,me=window,Qe=function(){te("onMessage function not defined")},xt=function(){},Kt=function(){},bt={height:function(){return te("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return te("Custom width calculation function not defined"),document.body.scrollWidth}},st={},wt=!1;function Dt(){}try{var xr=Object.create({},{passive:{get:function(){wt=!0}}});window.addEventListener("test",Dt,xr),window.removeEventListener("test",Dt,xr)}catch{}function fr(L,P,ne,ve){L.addEventListener(P,ne,wt?ve||{}:!1)}function ti(L,P,ne){L.removeEventListener(P,ne,!1)}function j(L){return L.charAt(0).toUpperCase()+L.slice(1)}function R(L){var P,ne,ve,Je=null,Rt=0,pt=function(){Rt=Date.now(),Je=null,ve=L.apply(P,ne),Je||(P=ne=null)};return function(){var zt=Date.now();Rt||(Rt=zt);var ut=z-(zt-Rt);return P=this,ne=arguments,ut<=0||ut>z?(Je&&(clearTimeout(Je),Je=null),Rt=zt,ve=L.apply(P,ne),Je||(P=ne=null)):Je||(Je=setTimeout(pt,ut)),ve}}function Q(L){return _+"["+T+"] "+L}function B(L){m&&typeof window.console=="object"&&console.log(Q(L))}function te(L){typeof window.console=="object"&&console.warn(Q(L))}function le(){de(),B("Initialising iFrame ("+window.location.href+")"),ce(),ge(),Se("background",i),Se("padding",d),ji(),Ze(),_t(),xe(),Ar(),nr(),yr(),G=Wa(),Ai("init","Init message from host page"),xt()}function de(){function L(ne){return ne==="true"}var P=q.slice($).split(":");T=P[0],n=t===P[1]?n:Number(P[1]),h=t===P[2]?h:L(P[2]),m=t===P[3]?m:L(P[3]),C=t===P[4]?C:Number(P[4]),r=t===P[6]?r:L(P[6]),a=P[7],I=t===P[8]?I:P[8],i=P[9],d=P[10],F=t===P[11]?F:Number(P[11]),G.enable=t===P[12]?!1:L(P[12]),O=t===P[13]?O:P[13],Me=t===P[14]?Me:P[14],g=t===P[15]?g:L(P[15])}function oe(L){var P=L.split("Callback");if(P.length===2){var ne="on"+P[0].charAt(0).toUpperCase()+P[0].slice(1);this[ne]=this[L],delete this[L],te("Deprecated: '"+L+"' has been renamed '"+ne+"'. The old method will be removed in the next major version.")}}function ce(){function L(){var ne=window.iFrameResizer;B("Reading data from page: "+JSON.stringify(ne)),Object.keys(ne).forEach(oe,ne),Qe="onMessage"in ne?ne.onMessage:Qe,xt="onReady"in ne?ne.onReady:xt,U="targetOrigin"in ne?ne.targetOrigin:U,I="heightCalculationMethod"in ne?ne.heightCalculationMethod:I,Me="widthCalculationMethod"in ne?ne.widthCalculationMethod:Me}function P(ne,ve){return typeof ne=="function"&&(B("Setup custom "+ve+"CalcMethod"),bt[ve]=ne,ne="custom"),ne}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(L(),I=P(I,"height"),Me=P(Me,"width")),B("TargetOrigin for parent set to: "+U)}function se(L,P){return P.indexOf("-")!==-1&&(te("Negative CSS value ignored for "+L),P=""),P}function Se(L,P){t!==P&&P!==""&&P!=="null"&&(document.body.style[L]=P,B("Body "+L+' set to "'+P+'"'))}function ge(){t===a&&(a=n+"px"),Se("margin",se("margin",a))}function xe(){document.documentElement.style.height="",document.body.style.height="",B('HTML & body height set to "auto"')}function we(L){var P={add:function(ne){function ve(){Ai(L.eventName,L.eventType)}st[ne]=ve,fr(window,ne,ve,{passive:!0})},remove:function(ne){var ve=st[ne];delete st[ne],ti(window,ne,ve)}};L.eventNames&&Array.prototype.map?(L.eventName=L.eventNames[0],L.eventNames.map(P[L.method])):P[L.method](L.eventName),B(j(L.method)+" event listener: "+L.eventType)}function Ne(L){we({method:L,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),we({method:L,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),we({method:L,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),we({method:L,eventType:"Input",eventName:"input"}),we({method:L,eventType:"Mouse Up",eventName:"mouseup"}),we({method:L,eventType:"Mouse Down",eventName:"mousedown"}),we({method:L,eventType:"Orientation Change",eventName:"orientationchange"}),we({method:L,eventType:"Print",eventNames:["afterprint","beforeprint"]}),we({method:L,eventType:"Ready State Change",eventName:"readystatechange"}),we({method:L,eventType:"Touch Start",eventName:"touchstart"}),we({method:L,eventType:"Touch End",eventName:"touchend"}),we({method:L,eventType:"Touch Cancel",eventName:"touchcancel"}),we({method:L,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),we({method:L,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),we({method:L,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),O==="child"&&we({method:L,eventType:"IFrame Resized",eventName:"resize"})}function Be(L,P,ne,ve){return P!==L&&(L in ne||(te(L+" is not a valid option for "+ve+"CalculationMethod."),L=P),B(ve+' calculation method set to "'+L+'"')),L}function Ze(){I=Be(I,x,$s,"height")}function _t(){Me=Be(Me,fe,Ci,"width")}function yr(){r===!0?(Ne("add"),ym()):B("Auto Resize disabled")}function ri(){l!==null&&l.disconnect()}function Ga(){Ne("remove"),ri(),clearInterval(p)}function ji(){var L=document.createElement("div");L.style.clear="both",L.style.display="block",L.style.height="0",document.body.appendChild(L)}function Wa(){function L(){return{x:window.pageXOffset===t?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===t?document.documentElement.scrollTop:window.pageYOffset}}function P(ut){var ye=ut.getBoundingClientRect(),ht=L();return{x:parseInt(ye.left,10)+parseInt(ht.x,10),y:parseInt(ye.top,10)+parseInt(ht.y,10)}}function ne(ut){function ye(Jr){var si=P(Jr);B("Moving to in page link (#"+ht+") at x: "+si.x+" y: "+si.y),He(si.y,si.x,"scrollToOffset")}var ht=ut.split("#")[1]||ut,Ge=decodeURIComponent(ht),Rr=document.getElementById(Ge)||document.getElementsByName(Ge)[0];t===Rr?(B("In page link (#"+ht+") not found in iFrame, so sending to parent"),He(0,0,"inPageLink","#"+ht)):ye(Rr)}function ve(){var ut=window.location.hash,ye=window.location.href;ut!==""&&ut!=="#"&&ne(ye)}function Je(){function ut(ye){function ht(Ge){Ge.preventDefault(),ne(this.getAttribute("href"))}ye.getAttribute("href")!=="#"&&fr(ye,"click",ht)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),ut)}function Rt(){fr(window,"hashchange",ve)}function pt(){setTimeout(ve,y)}function zt(){Array.prototype.forEach&&document.querySelectorAll?(B("Setting up location.hash handlers"),Je(),Rt(),pt()):te("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return G.enable?zt():B("In page linking not enabled"),{findTarget:ne}}function nr(){if(g!==!0)return;function L(ne){He(0,0,ne.type,ne.screenY+":"+ne.screenX)}function P(ne,ve){B("Add event listener: "+ve),fr(window.document,ne,L)}P("mouseenter","Mouse Enter"),P("mouseleave","Mouse Leave")}function Ar(){B("Enable public methods"),me.parentIFrame={autoResize:function(P){return P===!0&&r===!1?(r=!0,yr()):P===!1&&r===!0&&(r=!1,Ga()),He(0,0,"autoResize",JSON.stringify(r)),r},close:function(){He(0,0,"close")},getId:function(){return T},getPageInfo:function(P){typeof P=="function"?(Kt=P,He(0,0,"pageInfo")):(Kt=function(){},He(0,0,"pageInfoStop"))},moveToAnchor:function(P){G.findTarget(P)},reset:function(){N("parentIFrame.reset")},scrollTo:function(P,ne){He(ne,P,"scrollTo")},scrollToOffset:function(P,ne){He(ne,P,"scrollToOffset")},sendMessage:function(P,ne){He(0,0,"message",JSON.stringify(P),ne)},setHeightCalculationMethod:function(P){I=P,Ze()},setWidthCalculationMethod:function(P){Me=P,_t()},setTargetOrigin:function(P){B("Set targetOrigin: "+P),U=P},size:function(P,ne){var ve=""+(P||"")+(ne?","+ne:"");Ai("size","parentIFrame.size("+ve+")",P,ne)}}}function xo(){C!==0&&(B("setInterval: "+C+"ms"),p=setInterval(function(){Ai("interval","setInterval: "+C)},Math.abs(C)))}function fm(){function L(Ge){function Rr(Jr){Jr.complete===!1&&(B("Attach listeners to "+Jr.src),Jr.addEventListener("load",Je,!1),Jr.addEventListener("error",Rt,!1),ut.push(Jr))}Ge.type==="attributes"&&Ge.attributeName==="src"?Rr(Ge.target):Ge.type==="childList"&&Array.prototype.forEach.call(Ge.target.querySelectorAll("img"),Rr)}function P(Ge){ut.splice(ut.indexOf(Ge),1)}function ne(Ge){B("Remove listeners from "+Ge.src),Ge.removeEventListener("load",Je,!1),Ge.removeEventListener("error",Rt,!1),P(Ge)}function ve(Ge,Rr,Jr){ne(Ge.target),Ai(Rr,Jr+": "+Ge.target.src)}function Je(Ge){ve(Ge,"imageLoad","Image loaded")}function Rt(Ge){ve(Ge,"imageLoadFailed","Image load failed")}function pt(Ge){Ai("mutationObserver","mutationObserver: "+Ge[0].target+" "+Ge[0].type),Ge.forEach(L)}function zt(){var Ge=document.querySelector("body"),Rr={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return ht=new ye(pt),B("Create body MutationObserver"),ht.observe(Ge,Rr),ht}var ut=[],ye=window.MutationObserver||window.WebKitMutationObserver,ht=zt();return{disconnect:function(){"disconnect"in ht&&(B("Disconnect body MutationObserver"),ht.disconnect(),ut.forEach(ne))}}}function ym(){var L=0>C;window.MutationObserver||window.WebKitMutationObserver?L?xo():l=fm():(B("MutationObserver not supported in this browser!"),xo())}function Cu(L,P){var ne=0;return P=P||document.body,ne=document.defaultView.getComputedStyle(P,null),ne=ne===null?0:ne[L],parseInt(ne,s)}function mm(L){L>z/2&&(z=2*L,B("Event throttle increased to "+z+"ms"))}function Au(L,P){for(var ne=P.length,ve=0,Je=0,Rt=j(L),pt=Date.now(),zt=0;zt<ne;zt++)ve=P[zt].getBoundingClientRect()[L]+Cu("margin"+Rt,P[zt]),ve>Je&&(Je=ve);return pt=Date.now()-pt,B("Parsed "+ne+" HTML elements"),B("Element position calculated in "+pt+"ms"),mm(pt),Je}function Ja(L){return[L.bodyOffset(),L.bodyScroll(),L.documentElementOffset(),L.documentElementScroll()]}function up(L,P){function ne(){return te("No tagged elements ("+P+") found on page"),document.querySelectorAll("body *")}var ve=document.querySelectorAll("["+P+"]");return ve.length===0&&ne(),Au(L,ve)}function cp(){return document.querySelectorAll("body *")}var $s={bodyOffset:function(){return document.body.offsetHeight+Cu("marginTop")+Cu("marginBottom")},offset:function(){return $s.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return bt.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Ja($s))},min:function(){return Math.min.apply(null,Ja($s))},grow:function(){return $s.max()},lowestElement:function(){return Math.max($s.bodyOffset()||$s.documentElementOffset(),Au("bottom",cp()))},taggedElement:function(){return up("bottom","data-iframe-height")}},Ci={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return bt.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Ci.bodyScroll(),Ci.documentElementScroll())},max:function(){return Math.max.apply(null,Ja(Ci))},min:function(){return Math.min.apply(null,Ja(Ci))},rightMostElement:function(){return Au("right",cp())},taggedElement:function(){return up("right","data-iframe-width")}};function dp(L,P,ne,ve){function Je(){b=ht,K=Ge,He(b,K,L)}function Rt(){function Rr(Jr,si){var vm=Math.abs(Jr-si)<=F;return!vm}return ht=t===ne?$s[I]():ne,Ge=t===ve?Ci[Me]():ve,Rr(b,ht)||h&&Rr(K,Ge)}function pt(){return!(L in{init:1,interval:1,size:1})}function zt(){return I in S||h&&Me in S}function ut(){B("No change in size detected")}function ye(){pt()&&zt()?N(P):L in{interval:1}||ut()}var ht,Ge;Rt()||L==="init"?(pp(),Je()):ye()}var gm=R(dp);function Ai(L,P,ne,ve){function Je(){L in{reset:1,resetPage:1,init:1}||B("Trigger event: "+P)}function Rt(){return J&&L in f}Rt()?B("Trigger event cancelled: "+L):(Je(),L==="init"?dp(L,P,ne,ve):gm(L,P,ne,ve))}function pp(){J||(J=!0,B("Trigger event lock on")),clearTimeout(E),E=setTimeout(function(){J=!1,B("Trigger event lock off"),B("--")},y)}function hp(L){b=$s[I](),K=Ci[Me](),He(b,K,L)}function N(L){var P=I;I=x,B("Reset trigger event: "+L),pp(),hp("reset"),I=P}function He(L,P,ne,ve,Je){function Rt(){t===Je?Je=U:B("Message targetOrigin: "+Je)}function pt(){var zt=L+":"+P,ut=T+":"+zt+":"+ne+(t===ve?"":":"+ve);B("Sending message to host page ("+ut+")"),W.postMessage(_+ut,Je)}Rt(),pt()}function Ka(L){var P={init:function(){q=L.data,W=L.source,le(),v=!1,setTimeout(function(){A=!1},y)},reset:function(){A?B("Page reset ignored by init"):(B("Page size reset by host page"),hp("resetPage"))},resize:function(){Ai("resizeParent","Parent window requested size check")},moveToAnchor:function(){G.findTarget(Je())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var ht=Je();B("PageInfoFromParent called from parent: "+ht),Kt(JSON.parse(ht)),B(" --")},message:function(){var ht=Je();B("onMessage called from parent: "+ht),Qe(JSON.parse(ht)),B(" --")}};function ne(){return _===(""+L.data).slice(0,$)}function ve(){return L.data.split("]")[1].split(":")[0]}function Je(){return L.data.slice(L.data.indexOf(":")+1)}function Rt(){return!e.exports&&"iFrameResize"in window||window.jQuery!==t&&"iFrameResize"in window.jQuery.prototype}function pt(){return L.data.split(":")[2]in{true:1,false:1}}function zt(){var ye=ve();ye in P?P[ye]():!Rt()&&!pt()&&te("Unexpected message ("+L.data+")")}function ut(){v===!1?zt():pt()?P.init():B('Ignored message of type "'+ve()+'". Received before initialization.')}ne()&&ut()}function Wr(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}fr(window,"message",Ka),fr(window,"readystatechange",Wr),Wr()})()})(JW);const KW={class:"container-fluid py-3"},QW={key:0,class:"card rounded-0 mt-3"},ZW=Ld({__name:"App",setup(e){const{watchResults:t,hasSearched:r}=WW(),{fetchAirtableProviders:s}=hm();return s(),(i,n)=>{const a=jW,l=HW;return Ke(),ct("main",KW,[Ot(_e(NO),{"hc-sources":"","hide-sources":"",large:"",onResults:_e(t)},null,8,["onResults"]),_e(r)?(Ke(),ct("div",QW,[Ot(a),Ot(l)])):qs("",!0)])}}}),YW={__name:"nuxt-error-page",props:{error:Object},setup(e){const r=e.error;(r.stack||"").split(`
`).splice(1).map(y=>({text:y.replace("webpack:/","").replace(".vue",".js").trim(),internal:y.includes("node_modules")&&!y.includes(".cache")||y.includes("internal")||y.includes("new Promise")})).map(y=>`<span class="stack${y.internal?" internal":""}">${y.text}</span>`).join(`
`);const s=Number(r.statusCode||500),i=s===404,n=r.statusMessage??(i?"Page Not Found":"Internal Server Error"),a=r.message||r.toString(),l=void 0,f=i?g3(()=>Fe(()=>import("./error-404.1c3afe71.js"),["./error-404.1c3afe71.js","./_plugin-vue_export-helper.bc851ccc.js","./error-404.7fc72018.css"],import.meta.url).then(y=>y.default||y)):g3(()=>Fe(()=>import("./error-500.59146191.js"),["./error-500.59146191.js","./_plugin-vue_export-helper.bc851ccc.js","./error-500.c5df6088.css"],import.meta.url).then(y=>y.default||y));return(y,v)=>(Ke(),sa(_e(f),u5(zx({statusCode:_e(s),statusMessage:_e(n),description:_e(a),stack:_e(l)})),null,16))}},z$={__name:"nuxt-root",setup(e){const t=()=>null,r=sr(),s=r.deferHydration(),i=!1;kx(yE,gE()),r.hooks.callHookWith(l=>l.map(d=>d()),"vue:setup");const n=Qw();xx((l,d,h)=>{if(r.hooks.callHook("vue:error",l,d,h).catch(f=>console.error("[nuxt] Error in `vue:error` hook",f)),zA(l)&&(l.fatal||l.unhandled))return r.runWithContext(()=>NA(l)),!1});const a=!1;return(l,d)=>(Ke(),sa(s4,{onResolve:_e(s)},{default:gx(()=>[_e(n)?(Ke(),sa(_e(YW),{key:0,error:_e(n)},null,8,["error"])):_e(a)?(Ke(),sa(_e(t),{key:1,context:_e(a)},null,8,["context"])):_e(i)?(Ke(),sa(e4(_e(i)),{key:2})):(Ke(),sa(_e(ZW),{key:3}))]),_:1},8,["onResolve"]))}};let V$;{let e;V$=async function(){var a,l;if(e)return e;const s=!!((a=window.__NUXT__)!=null&&a.serverRendered||((l=document.getElementById("__NUXT_DATA__"))==null?void 0:l.dataset.ssr)==="true")?Ij(z$):Mj(z$),i=CC({vueApp:s});async function n(d){await i.callHook("app:error",d),i.payload.error=i.payload.error||d}s.config.errorHandler=n;try{await RC(i,uR)}catch(d){n(d)}try{await i.hooks.callHook("app:created",s),await i.hooks.callHook("app:beforeMount",s),s.mount(GA),await i.hooks.callHook("app:mounted",s),await Pw()}catch(d){n(d)}return s.config.errorHandler===n&&(s.config.errorHandler=void 0),s},e=V$().catch(t=>{console.error("Error while mounting app:",t)})}export{Ss as $,Jd as A,jt as B,t1 as C,fu as D,GN as E,G_ as F,ke as G,xu as H,T_ as I,Ac as J,Vd as K,rT as L,Nt as M,ee as N,Gr as O,sT as P,cn as Q,po as R,$d as S,ba as T,Tt as U,W1 as V,Hd as W,su as X,it as Y,wN as Z,Fe as _,UT as a,uz as a$,tp as a0,Dd as a1,ws as a2,ev as a3,pe as a4,Iy as a5,ft as a6,Yk as a7,mn as a8,Xs as a9,sG as aA,ho as aB,GH as aC,KH as aD,JH as aE,YH as aF,ZH as aG,rG as aH,tG as aI,aG as aJ,oG as aK,OO as aL,cG as aM,uG as aN,lt as aO,Ce as aP,vt as aQ,hr as aR,ju as aS,PL as aT,_z as aU,vF as aV,Q1 as aW,e_ as aX,gF as aY,dn as aZ,h_ as a_,$i as aa,jr as ab,my as ac,he as ad,M_ as ae,Kf as af,ku as ag,sp as ah,ue as ai,pn as aj,xO as ak,Ou as al,Ky as am,F6 as an,tI as ao,nI as ap,w_ as aq,$R as ar,hu as as,h6 as at,J6 as au,f6 as av,x6 as aw,IE as ax,CO as ay,Iu as az,Cy as b,MR as b$,cz as b0,dz as b1,kR as b2,XM as b3,za as b4,Qz as b5,Jk as b6,e6 as b7,Kz as b8,Oz as b9,D7 as bA,dF as bB,G7 as bC,z7 as bD,C7 as bE,Hs as bF,xa as bG,qa as bH,Xc as bI,F_ as bJ,eT as bK,_q as bL,ca as bM,Mb as bN,Yw as bO,g6 as bP,EU as bQ,k6 as bR,pF as bS,x1 as bT,Py as bU,T6 as bV,HD as bW,Ll as bX,$y as bY,xy as bZ,ln as b_,jv as ba,Ul as bb,qf as bc,Zz as bd,ap as be,C6 as bf,IN as bg,fo as bh,gP as bi,ei as bj,ik as bk,yu as bl,Ta as bm,pa as bn,LT as bo,$I as bp,VE as bq,j7 as br,N7 as bs,F1 as bt,uF as bu,CR as bv,RR as bw,P7 as bx,Ek as by,O7 as bz,Ys as c,Qg as c$,n1 as c0,Zw as c1,TE as c2,tT as c3,kb as c4,Kg as c5,VF as c6,O_ as c7,YM as c8,ER as c9,Xw as cA,zl as cB,WM as cC,Bc as cD,i1 as cE,ou as cF,v6 as cG,Nd as cH,bP as cI,$_ as cJ,Cz as cK,$f as cL,Lk as cM,J0 as cN,CF as cO,bR as cP,S1 as cQ,Vl as cR,fL as cS,_L as cT,FM as cU,PT as cV,_1 as cW,qT as cX,cL as cY,g1 as cZ,W9 as c_,TR as ca,ZM as cb,rs as cc,Sf as cd,qc as ce,kL as cf,EE as cg,Sl as ch,Bs as ci,q6 as cj,Oi as ck,Bz as cl,yP as cm,Yd as cn,_6 as co,PR as cp,B7 as cq,OE as cr,HL as cs,ZL as ct,I1 as cu,qL as cv,BL as cw,Mi as cx,pd as cy,e1 as cz,ss as d,PM as d$,NT as d0,VT as d1,E1 as d2,$1 as d3,xU as d4,L_ as d5,$T as d6,ir as d7,Ee as d8,Y1 as d9,Oy as dA,jy as dB,Tk as dC,vV as dD,pV as dE,$o as dF,hI as dG,fI as dH,yI as dI,nF as dJ,K7 as dK,N1 as dL,bV as dM,gV as dN,yV as dO,hV as dP,U7 as dQ,WD as dR,fV as dS,$V as dT,H7 as dU,SV as dV,S7 as dW,q7 as dX,G9 as dY,F9 as dZ,mV as d_,Hc as da,sk as db,Qu as dc,E_ as dd,JM as de,$P as df,Ct as dg,jR as dh,b2 as di,Bt as dj,m1 as dk,kI as dl,Cr as dm,SM as dn,$M as dp,Qd as dq,Kd as dr,cF as ds,OM as dt,gd as du,N9 as dv,GD as dw,Ea as dx,Bf as dy,Hf as dz,wR as e,A6 as e$,Td as e0,Xr as e1,Et as e2,sF as e3,Ob as e4,Ca as e5,oF as e6,We as e7,By as e8,TM as e9,nH as eA,TI as eB,Zd as eC,Ty as eD,ua as eE,$r as eF,II as eG,EI as eH,nm as eI,Na as eJ,v_ as eK,t6 as eL,ky as eM,Y6 as eN,R_ as eO,cd as eP,lT as eQ,vU as eR,zy as eS,G6 as eT,V1 as eU,wU as eV,Q6 as eW,ab as eX,xI as eY,Hr as eZ,jI as e_,Wk as ea,Ny as eb,rk as ec,vy as ed,RN as ee,ys as ef,o1 as eg,E6 as eh,Br as ei,mN as ej,WN as ek,pw as el,MI as em,Cc as en,V_ as eo,am as ep,B6 as eq,bU as er,V6 as es,cI as et,uI as eu,lI as ev,M6 as ew,U6 as ex,sn as ey,Ve as ez,XE as f,aw as f$,Qy as f0,P6 as f1,L6 as f2,Dy as f3,yo as f4,K6 as f5,is as f6,$u as f7,Va as f8,wo as f9,$U as fA,M7 as fB,Md as fC,R6 as fD,Tb as fE,a1 as fF,Bd as fG,bu as fH,iu as fI,Ur as fJ,Zk as fK,rp as fL,DN as fM,qR as fN,yL as fO,UF as fP,d1 as fQ,_o as fR,Xk as fS,c0 as fT,zd as fU,wk as fV,ao as fW,dm as fX,_R as fY,r6 as fZ,sd as f_,sI as fa,H6 as fb,d0 as fc,T1 as fd,SI as fe,P_ as ff,lw as fg,td as fh,W6 as fi,om as fj,ot as fk,La as fl,y_ as fm,gT as fn,Wd as fo,Eu as fp,et as fq,xM as fr,d_ as fs,Sz as ft,m_ as fu,kd as fv,HP as fw,c_ as fx,MD as fy,Gy as fz,Ue as g,Fc as g$,Sd as g0,Hy as g1,eI as g2,X6 as g3,Ra as g4,a_ as g5,cV as g6,Da as g7,hN as g8,Z6 as g9,Zy as gA,zF as gB,AF as gC,A7 as gD,D1 as gE,V7 as gF,jE as gG,rM as gH,$7 as gI,L7 as gJ,NF as gK,DF as gL,CE as gM,AE as gN,SR as gO,xV as gP,IR as gQ,lF as gR,Ke as gS,ct as gT,qe as gU,Gs as gV,eJ as gW,tJ as gX,iJ as gY,io as gZ,sJ as g_,dV as ga,CT as gb,vP as gc,w as gd,KD as ge,mI as gf,gI as gg,vI as gh,gu as gi,aF as gj,im as gk,TL as gl,ja as gm,pk as gn,ru as go,z_ as gp,Fy as gq,wV as gr,k7 as gs,R7 as gt,FF as gu,BF as gv,JF as gw,dT as gx,SN as gy,bo as gz,D as h,g4 as h0,d4 as h1,c4 as h2,zg as h3,B4 as h4,_V as h5,bN as h6,dd as h7,x7 as h8,fy as h9,Ld as ha,fn as hb,hy as hc,f4 as hd,SE as he,X3 as hf,oJ as hg,Z4 as hh,rJ as hi,pu as hj,Fd as hk,Gx as hl,nJ as hm,Fg as hn,Jx as ho,bf as hp,sr as hq,UA as hr,Ot as hs,gx as ht,hf as hu,aJ as hv,X1 as i,dt as j,mP as k,X as l,mu as m,fa as n,Y as o,go as p,o as q,H as r,fP as s,be as t,c as u,Pa as v,ry as w,k as x,Jy as y,Pf as z};
