var w5=Object.defineProperty;var _5=(e,t,r)=>t in e?w5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var p3=(e,t,r)=>(_5(e,typeof t!="symbol"?t+"":t,r),r);/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lw(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ft={},Fl=[],ti=()=>{},S5=()=>!1,Nd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fw=e=>e.startsWith("onUpdate:"),ar=Object.assign,Nw=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$5=Object.prototype.hasOwnProperty,ot=(e,t)=>$5.call(e,t),Oe=Array.isArray,Nl=e=>Dd(e)==="[object Map]",Q$=e=>Dd(e)==="[object Set]",h3=e=>Dd(e)==="[object Date]",Ae=e=>typeof e=="function",At=e=>typeof e=="string",Ii=e=>typeof e=="symbol",mt=e=>e!==null&&typeof e=="object",Z$=e=>(mt(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),Y$=Object.prototype.toString,Dd=e=>Y$.call(e),x5=e=>Dd(e).slice(8,-1),X$=e=>Dd(e)==="[object Object]",Dw=e=>At(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Dl=Lw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dy=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},E5=/-(\w)/g,Os=dy(e=>e.replace(E5,(t,r)=>r?r.toUpperCase():"")),T5=/\B([A-Z])/g,Na=dy(e=>e.replace(T5,"-$1").toLowerCase()),py=dy(e=>e.charAt(0).toUpperCase()+e.slice(1)),Em=dy(e=>e?`on${py(e)}`:""),co=(e,t)=>!Object.is(e,t),ah=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},ex=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},Cg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},k5=e=>{const t=At(e)?Number(e):NaN;return isNaN(t)?e:t};let f3;const hy=()=>f3||(f3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fy(e){if(Oe(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],i=At(s)?C5(s):fy(s);if(i)for(const n in i)t[n]=i[n]}return t}else if(At(e)||mt(e))return e}const M5=/;(?![^(]*\))/g,I5=/:([^]+)/,O5=/\/\*[^]*?\*\//g;function C5(e){const t={};return e.replace(O5,"").split(M5).forEach(r=>{if(r){const s=r.split(I5);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function fu(e){let t="";if(At(e))t=e;else if(Oe(e))for(let r=0;r<e.length;r++){const s=fu(e[r]);s&&(t+=s+" ")}else if(mt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function A5(e){if(!e)return null;let{class:t,style:r}=e;return t&&!At(t)&&(e.class=fu(t)),r&&(e.style=fy(r)),e}const j5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",R5=Lw(j5);function tx(e){return!!e||e===""}function P5(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=lf(e[s],t[s]);return r}function lf(e,t){if(e===t)return!0;let r=h3(e),s=h3(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=Ii(e),s=Ii(t),r||s)return e===t;if(r=Oe(e),s=Oe(t),r||s)return r&&s?P5(e,t):!1;if(r=mt(e),s=mt(t),r||s){if(!r||!s)return!1;const i=Object.keys(e).length,n=Object.keys(t).length;if(i!==n)return!1;for(const a in e){const l=e.hasOwnProperty(a),d=t.hasOwnProperty(a);if(l&&!d||!l&&d||!lf(e[a],t[a]))return!1}}return String(e)===String(t)}const rx=e=>!!(e&&e.__v_isRef===!0),Es=e=>At(e)?e:e==null?"":Oe(e)||mt(e)&&(e.toString===Y$||!Ae(e.toString))?rx(e)?Es(e.value):JSON.stringify(e,sx,2):String(e),sx=(e,t)=>rx(t)?sx(e,t.value):Nl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,i],n)=>(r[Tm(s,n)+" =>"]=i,r),{})}:Q$(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Tm(r))}:Ii(t)?Tm(t):mt(t)&&!Oe(t)&&!X$(t)?String(t):t,Tm=(e,t="")=>{var r;return Ii(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ns;class ix{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ns,!t&&ns&&(this.index=(ns.scopes||(ns.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=ns;try{return ns=this,t()}finally{ns=r}}}on(){ns=this}off(){ns=this.parent}stop(t){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function L5(e){return new ix(e)}function F5(){return ns}let bt;const km=new WeakSet;class nx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ns&&ns.active&&ns.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,km.has(this)&&(km.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ax(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,y3(this),lx(this);const t=bt,r=ri;bt=this,ri=!0;try{return this.fn()}finally{ux(this),bt=t,ri=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Uw(t);this.deps=this.depsTail=void 0,y3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?km.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ag(this)&&this.run()}get dirty(){return Ag(this)}}let ox=0,zc,Vc;function ax(e,t=!1){if(e.flags|=8,t){e.next=Vc,Vc=e;return}e.next=zc,zc=e}function zw(){ox++}function Vw(){if(--ox>0)return;if(Vc){let t=Vc;for(Vc=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;zc;){let t=zc;for(zc=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function lx(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ux(e){let t,r=e.depsTail,s=r;for(;s;){const i=s.prevDep;s.version===-1?(s===r&&(r=i),Uw(s),N5(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=r}function Ag(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(cx(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function cx(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ld))return;e.globalVersion=ld;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ag(e)){e.flags&=-3;return}const r=bt,s=ri;bt=e,ri=!0;try{lx(e);const i=e.fn(e._value);(t.version===0||co(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{bt=r,ri=s,ux(e),e.flags&=-3}}function Uw(e,t=!1){const{dep:r,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let n=r.computed.deps;n;n=n.nextDep)Uw(n,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function N5(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let ri=!0;const dx=[];function So(){dx.push(ri),ri=!1}function $o(){const e=dx.pop();ri=e===void 0?!0:e}function y3(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=bt;bt=void 0;try{t()}finally{bt=r}}}let ld=0;class D5{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qw{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!bt||!ri||bt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==bt)r=this.activeLink=new D5(bt,this),bt.deps?(r.prevDep=bt.depsTail,bt.depsTail.nextDep=r,bt.depsTail=r):bt.deps=bt.depsTail=r,px(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=bt.depsTail,r.nextDep=void 0,bt.depsTail.nextDep=r,bt.depsTail=r,bt.deps===r&&(bt.deps=s)}return r}trigger(t){this.version++,ld++,this.notify(t)}notify(t){zw();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Vw()}}}function px(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)px(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const uf=new WeakMap,Sa=Symbol(""),jg=Symbol(""),ud=Symbol("");function Sr(e,t,r){if(ri&&bt){let s=uf.get(e);s||uf.set(e,s=new Map);let i=s.get(r);i||(s.set(r,i=new qw),i.map=s,i.key=r),i.track()}}function un(e,t,r,s,i,n){const a=uf.get(e);if(!a){ld++;return}const l=d=>{d&&d.trigger()};if(zw(),t==="clear")a.forEach(l);else{const d=Oe(e),f=d&&Dw(r);if(d&&r==="length"){const h=Number(s);a.forEach((y,v)=>{(v==="length"||v===ud||!Ii(v)&&v>=h)&&l(y)})}else switch((r!==void 0||a.has(void 0))&&l(a.get(r)),f&&l(a.get(ud)),t){case"add":d?f&&l(a.get("length")):(l(a.get(Sa)),Nl(e)&&l(a.get(jg)));break;case"delete":d||(l(a.get(Sa)),Nl(e)&&l(a.get(jg)));break;case"set":Nl(e)&&l(a.get(Sa));break}}Vw()}function z5(e,t){const r=uf.get(e);return r&&r.get(t)}function tl(e){const t=tt(e);return t===e?t:(Sr(t,"iterate",ud),ks(e)?t:t.map($r))}function yy(e){return Sr(e=tt(e),"iterate",ud),e}const V5={__proto__:null,[Symbol.iterator](){return Mm(this,Symbol.iterator,$r)},concat(...e){return tl(this).concat(...e.map(t=>Oe(t)?tl(t):t))},entries(){return Mm(this,"entries",e=>(e[1]=$r(e[1]),e))},every(e,t){return zi(this,"every",e,t,void 0,arguments)},filter(e,t){return zi(this,"filter",e,t,r=>r.map($r),arguments)},find(e,t){return zi(this,"find",e,t,$r,arguments)},findIndex(e,t){return zi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return zi(this,"findLast",e,t,$r,arguments)},findLastIndex(e,t){return zi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return zi(this,"forEach",e,t,void 0,arguments)},includes(...e){return Im(this,"includes",e)},indexOf(...e){return Im(this,"indexOf",e)},join(e){return tl(this).join(e)},lastIndexOf(...e){return Im(this,"lastIndexOf",e)},map(e,t){return zi(this,"map",e,t,void 0,arguments)},pop(){return Nu(this,"pop")},push(...e){return Nu(this,"push",e)},reduce(e,...t){return m3(this,"reduce",e,t)},reduceRight(e,...t){return m3(this,"reduceRight",e,t)},shift(){return Nu(this,"shift")},some(e,t){return zi(this,"some",e,t,void 0,arguments)},splice(...e){return Nu(this,"splice",e)},toReversed(){return tl(this).toReversed()},toSorted(e){return tl(this).toSorted(e)},toSpliced(...e){return tl(this).toSpliced(...e)},unshift(...e){return Nu(this,"unshift",e)},values(){return Mm(this,"values",$r)}};function Mm(e,t,r){const s=yy(e),i=s[t]();return s!==e&&!ks(e)&&(i._next=i.next,i.next=()=>{const n=i._next();return n.value&&(n.value=r(n.value)),n}),i}const U5=Array.prototype;function zi(e,t,r,s,i,n){const a=yy(e),l=a!==e&&!ks(e),d=a[t];if(d!==U5[t]){const y=d.apply(e,n);return l?$r(y):y}let f=r;a!==e&&(l?f=function(y,v){return r.call(this,$r(y),v,e)}:r.length>2&&(f=function(y,v){return r.call(this,y,v,e)}));const h=d.call(a,f,s);return l&&i?i(h):h}function m3(e,t,r,s){const i=yy(e);let n=r;return i!==e&&(ks(e)?r.length>3&&(n=function(a,l,d){return r.call(this,a,l,d,e)}):n=function(a,l,d){return r.call(this,a,$r(l),d,e)}),i[t](n,...s)}function Im(e,t,r){const s=tt(e);Sr(s,"iterate",ud);const i=s[t](...r);return(i===-1||i===!1)&&Gw(r[0])?(r[0]=tt(r[0]),s[t](...r)):i}function Nu(e,t,r=[]){So(),zw();const s=tt(e)[t].apply(e,r);return Vw(),$o(),s}const q5=Lw("__proto__,__v_isRef,__isVue"),hx=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ii));function B5(e){Ii(e)||(e=String(e));const t=tt(this);return Sr(t,"has",e),t.hasOwnProperty(e)}class fx{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){const i=this._isReadonly,n=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return n;if(r==="__v_raw")return s===(i?n?e4:vx:n?gx:mx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=Oe(t);if(!i){let d;if(a&&(d=V5[r]))return d;if(r==="hasOwnProperty")return B5}const l=Reflect.get(t,r,rr(t)?t:s);return(Ii(r)?hx.has(r):q5(r))||(i||Sr(t,"get",r),n)?l:rr(l)?a&&Dw(r)?l:l.value:mt(l)?i?wx(l):mr(l):l}}class yx extends fx{constructor(t=!1){super(!1,t)}set(t,r,s,i){let n=t[r];if(!this._isShallow){const d=mo(n);if(!ks(s)&&!mo(s)&&(n=tt(n),s=tt(s)),!Oe(t)&&rr(n)&&!rr(s))return d?!1:(n.value=s,!0)}const a=Oe(t)&&Dw(r)?Number(r)<t.length:ot(t,r),l=Reflect.set(t,r,s,rr(t)?t:i);return t===tt(i)&&(a?co(s,n)&&un(t,"set",r,s):un(t,"add",r,s)),l}deleteProperty(t,r){const s=ot(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&s&&un(t,"delete",r,void 0),i}has(t,r){const s=Reflect.has(t,r);return(!Ii(r)||!hx.has(r))&&Sr(t,"has",r),s}ownKeys(t){return Sr(t,"iterate",Oe(t)?"length":Sa),Reflect.ownKeys(t)}}class H5 extends fx{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const G5=new yx,W5=new H5,J5=new yx(!0);const Rg=e=>e,_p=e=>Reflect.getPrototypeOf(e);function K5(e,t,r){return function(...s){const i=this.__v_raw,n=tt(i),a=Nl(n),l=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,f=i[e](...s),h=r?Rg:t?Pg:$r;return!t&&Sr(n,"iterate",d?jg:Sa),{next(){const{value:y,done:v}=f.next();return v?{value:y,done:v}:{value:l?[h(y[0]),h(y[1])]:h(y),done:v}},[Symbol.iterator](){return this}}}}function Sp(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Q5(e,t){const r={get(i){const n=this.__v_raw,a=tt(n),l=tt(i);e||(co(i,l)&&Sr(a,"get",i),Sr(a,"get",l));const{has:d}=_p(a),f=t?Rg:e?Pg:$r;if(d.call(a,i))return f(n.get(i));if(d.call(a,l))return f(n.get(l));n!==a&&n.get(i)},get size(){const i=this.__v_raw;return!e&&Sr(tt(i),"iterate",Sa),Reflect.get(i,"size",i)},has(i){const n=this.__v_raw,a=tt(n),l=tt(i);return e||(co(i,l)&&Sr(a,"has",i),Sr(a,"has",l)),i===l?n.has(i):n.has(i)||n.has(l)},forEach(i,n){const a=this,l=a.__v_raw,d=tt(l),f=t?Rg:e?Pg:$r;return!e&&Sr(d,"iterate",Sa),l.forEach((h,y)=>i.call(n,f(h),f(y),a))}};return ar(r,e?{add:Sp("add"),set:Sp("set"),delete:Sp("delete"),clear:Sp("clear")}:{add(i){!t&&!ks(i)&&!mo(i)&&(i=tt(i));const n=tt(this);return _p(n).has.call(n,i)||(n.add(i),un(n,"add",i,i)),this},set(i,n){!t&&!ks(n)&&!mo(n)&&(n=tt(n));const a=tt(this),{has:l,get:d}=_p(a);let f=l.call(a,i);f||(i=tt(i),f=l.call(a,i));const h=d.call(a,i);return a.set(i,n),f?co(n,h)&&un(a,"set",i,n):un(a,"add",i,n),this},delete(i){const n=tt(this),{has:a,get:l}=_p(n);let d=a.call(n,i);d||(i=tt(i),d=a.call(n,i)),l&&l.call(n,i);const f=n.delete(i);return d&&un(n,"delete",i,void 0),f},clear(){const i=tt(this),n=i.size!==0,a=i.clear();return n&&un(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=K5(i,e,t)}),r}function Bw(e,t){const r=Q5(e,t);return(s,i,n)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(ot(r,i)&&i in s?r:s,i,n)}const Z5={get:Bw(!1,!1)},Y5={get:Bw(!1,!0)},X5={get:Bw(!0,!1)};const mx=new WeakMap,gx=new WeakMap,vx=new WeakMap,e4=new WeakMap;function t4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function r4(e){return e.__v_skip||!Object.isExtensible(e)?0:t4(x5(e))}function mr(e){return mo(e)?e:Hw(e,!1,G5,Z5,mx)}function bx(e){return Hw(e,!1,J5,Y5,gx)}function wx(e){return Hw(e,!0,W5,X5,vx)}function Hw(e,t,r,s,i){if(!mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=i.get(e);if(n)return n;const a=r4(e);if(a===0)return e;const l=new Proxy(e,a===2?s:r);return i.set(e,l),l}function $a(e){return mo(e)?$a(e.__v_raw):!!(e&&e.__v_isReactive)}function mo(e){return!!(e&&e.__v_isReadonly)}function ks(e){return!!(e&&e.__v_isShallow)}function Gw(e){return e?!!e.__v_raw:!1}function tt(e){const t=e&&e.__v_raw;return t?tt(t):e}function s4(e){return!ot(e,"__v_skip")&&Object.isExtensible(e)&&ex(e,"__v_skip",!0),e}const $r=e=>mt(e)?mr(e):e,Pg=e=>mt(e)?wx(e):e;function rr(e){return e?e.__v_isRef===!0:!1}function po(e){return _x(e,!1)}function g3(e){return _x(e,!0)}function _x(e,t){return rr(e)?e:new i4(e,t)}class i4{constructor(t,r){this.dep=new qw,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:tt(t),this._value=r?t:$r(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||ks(t)||mo(t);t=s?t:tt(t),co(t,r)&&(this._rawValue=t,this._value=s?t:$r(t),this.dep.trigger())}}function _e(e){return rr(e)?e.value:e}const n4={get:(e,t,r)=>t==="__v_raw"?e:_e(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const i=e[t];return rr(i)&&!rr(r)?(i.value=r,!0):Reflect.set(e,t,r,s)}};function Sx(e){return $a(e)?e:new Proxy(e,n4)}class o4{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return z5(tt(this._object),this._key)}}class a4{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function l4(e,t,r){return rr(e)?e:Ae(e)?new a4(e):mt(e)&&arguments.length>1?u4(e,t,r):po(e)}function u4(e,t,r){const s=e[t];return rr(s)?s:new o4(e,t,r)}class c4{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new qw(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ld-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return ax(this,!0),!0}get value(){const t=this.dep.track();return cx(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function d4(e,t,r=!1){let s,i;return Ae(e)?s=e:(s=e.get,i=e.set),new c4(s,i,r)}const $p={},cf=new WeakMap;let Po;function p4(e,t=!1,r=Po){if(r){let s=cf.get(r);s||cf.set(r,s=[]),s.push(e)}}function h4(e,t,r=ft){const{immediate:s,deep:i,once:n,scheduler:a,augmentJob:l,call:d}=r,f=p=>i?p:ks(p)||i===!1||i===0?cn(p,1):cn(p);let h,y,v,b,$=!1,T=!1;if(rr(e)?(y=()=>e.value,$=ks(e)):$a(e)?(y=()=>f(e),$=!0):Oe(e)?(T=!0,$=e.some(p=>$a(p)||ks(p)),y=()=>e.map(p=>{if(rr(p))return p.value;if($a(p))return f(p);if(Ae(p))return d?d(p,2):p()})):Ae(e)?t?y=d?()=>d(e,2):e:y=()=>{if(v){So();try{v()}finally{$o()}}const p=Po;Po=h;try{return d?d(e,3,[b]):e(b)}finally{Po=p}}:y=ti,t&&i){const p=y,m=i===!0?1/0:i;y=()=>cn(p(),m)}const j=F5(),L=()=>{h.stop(),j&&Nw(j.effects,h)};if(n&&t){const p=t;t=(...m)=>{p(...m),L()}}let W=T?new Array(e.length).fill($p):$p;const O=p=>{if(!(!(h.flags&1)||!h.dirty&&!p))if(t){const m=h.run();if(i||$||(T?m.some((g,_)=>co(g,W[_])):co(m,W))){v&&v();const g=Po;Po=h;try{const _=[m,W===$p?void 0:T&&W[0]===$p?[]:W,b];d?d(t,3,_):t(..._),W=m}finally{Po=g}}}else h.run()};return l&&l(O),h=new nx(y),h.scheduler=a?()=>a(O,!1):O,b=p=>p4(p,!1,h),v=h.onStop=()=>{const p=cf.get(h);if(p){if(d)d(p,4);else for(const m of p)m();cf.delete(h)}},t?s?O(!0):W=h.run():a?a(O.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function cn(e,t=1/0,r){if(t<=0||!mt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,rr(e))cn(e.value,t,r);else if(Oe(e))for(let s=0;s<e.length;s++)cn(e[s],t,r);else if(Q$(e)||Nl(e))e.forEach(s=>{cn(s,t,r)});else if(X$(e)){for(const s in e)cn(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&cn(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zd(e,t,r,s){try{return s?e(...s):e()}catch(i){yu(i,t,r)}}function Oi(e,t,r,s){if(Ae(e)){const i=zd(e,t,r,s);return i&&Z$(i)&&i.catch(n=>{yu(n,t,r)}),i}if(Oe(e)){const i=[];for(let n=0;n<e.length;n++)i.push(Oi(e[n],t,r,s));return i}}function yu(e,t,r,s=!0){const i=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||ft;if(t){let l=t.parent;const d=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${r}`;for(;l;){const h=l.ec;if(h){for(let y=0;y<h.length;y++)if(h[y](e,d,f)===!1)return}l=l.parent}if(n){So(),zd(n,null,10,[e,d,f]),$o();return}}f4(e,r,i,s,a)}function f4(e,t,r,s=!0,i=!1){if(i)throw e;console.error(e)}const Rr=[];let xi=-1;const zl=[];let Yn=null,il=0;const $x=Promise.resolve();let df=null;function Ww(e){const t=df||$x;return e?t.then(this?e.bind(this):e):t}function y4(e){let t=xi+1,r=Rr.length;for(;t<r;){const s=t+r>>>1,i=Rr[s],n=cd(i);n<e||n===e&&i.flags&2?t=s+1:r=s}return t}function Jw(e){if(!(e.flags&1)){const t=cd(e),r=Rr[Rr.length-1];!r||!(e.flags&2)&&t>=cd(r)?Rr.push(e):Rr.splice(y4(t),0,e),e.flags|=1,xx()}}function xx(){df||(df=$x.then(Ex))}function Lg(e){Oe(e)?zl.push(...e):Yn&&e.id===-1?Yn.splice(il+1,0,e):e.flags&1||(zl.push(e),e.flags|=1),xx()}function v3(e,t,r=xi+1){for(;r<Rr.length;r++){const s=Rr[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Rr.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function pf(e){if(zl.length){const t=[...new Set(zl)].sort((r,s)=>cd(r)-cd(s));if(zl.length=0,Yn){Yn.push(...t);return}for(Yn=t,il=0;il<Yn.length;il++){const r=Yn[il];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Yn=null,il=0}}const cd=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ex(e){const t=ti;try{for(xi=0;xi<Rr.length;xi++){const r=Rr[xi];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),zd(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;xi<Rr.length;xi++){const r=Rr[xi];r&&(r.flags&=-2)}xi=-1,Rr.length=0,pf(),df=null,(Rr.length||zl.length)&&Ex()}}let Pr=null,Tx=null;function hf(e){const t=Pr;return Pr=e,Tx=e&&e.type.__scopeId||null,t}function kx(e,t=Pr,r){if(!t||e._n)return e;const s=(...i)=>{s._d&&C3(-1);const n=hf(t);let a;try{a=e(...i)}finally{hf(n),s._d&&C3(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Om(e,t){if(Pr===null)return e;const r=vy(Pr),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[n,a,l,d=ft]=t[i];n&&(Ae(n)&&(n={mounted:n,updated:n}),n.deep&&cn(a),s.push({dir:n,instance:r,value:a,oldValue:void 0,arg:l,modifiers:d}))}return e}function Ti(e,t,r,s){const i=e.dirs,n=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];n&&(l.oldValue=n[a].value);let d=l.dir[s];d&&(So(),Oi(d,r,8,[e.el,l,e,t]),$o())}}const m4=Symbol("_vte"),g4=e=>e.__isTeleport;function Kw(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Kw(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Vd(e,t){return Ae(e)?(()=>ar({name:e.name},t,{setup:e}))():e}function Qw(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ff(e,t,r,s,i=!1){if(Oe(e)){e.forEach(($,T)=>ff($,t&&(Oe(t)?t[T]:t),r,s,i));return}if(Vl(s)&&!i)return;const n=s.shapeFlag&4?vy(s.component):s.el,a=i?null:n,{i:l,r:d}=e,f=t&&t.r,h=l.refs===ft?l.refs={}:l.refs,y=l.setupState,v=tt(y),b=y===ft?()=>!1:$=>ot(v,$);if(f!=null&&f!==d&&(At(f)?(h[f]=null,b(f)&&(y[f]=null)):rr(f)&&(f.value=null)),Ae(d))zd(d,l,12,[a,h]);else{const $=At(d),T=rr(d);if($||T){const j=()=>{if(e.f){const L=$?b(d)?y[d]:h[d]:d.value;i?Oe(L)&&Nw(L,n):Oe(L)?L.includes(n)||L.push(n):$?(h[d]=[n],b(d)&&(y[d]=h[d])):(d.value=[n],e.k&&(h[e.k]=d.value))}else $?(h[d]=a,b(d)&&(y[d]=a)):T&&(d.value=a,e.k&&(h[e.k]=a))};a?(j.id=-1,rs(j,r)):j()}}}let b3=!1;const rl=()=>{b3||(console.error("Hydration completed but contains mismatches."),b3=!0)},v4=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",b4=e=>e.namespaceURI.includes("MathML"),xp=e=>{if(e.nodeType===1){if(v4(e))return"svg";if(b4(e))return"mathml"}},Il=e=>e.nodeType===8;function w4(e){const{mt:t,p:r,o:{patchProp:s,createText:i,nextSibling:n,parentNode:a,remove:l,insert:d,createComment:f}}=e,h=(O,p)=>{if(!p.hasChildNodes()){r(null,O,p),pf(),p._vnode=O;return}y(p.firstChild,O,null,null,null),pf(),p._vnode=O},y=(O,p,m,g,_,E=!1)=>{E=E||!!p.dynamicChildren;const k=Il(O)&&O.data==="[",S=()=>T(O,p,m,g,_,k),{type:A,ref:H,shapeFlag:B,patchFlag:N}=p;let J=O.nodeType;p.el=O,N===-2&&(E=!1,p.dynamicChildren=null);let x=null;switch(A){case Ea:J!==3?p.children===""?(d(p.el=i(""),a(O),O),x=O):x=S():(O.data!==p.children&&(rl(),O.data=p.children),x=n(O));break;case Ci:W(O)?(x=n(O),L(p.el=O.content.firstChild,O,m)):J!==8||k?x=S():x=n(O);break;case lh:if(k&&(O=n(O),J=O.nodeType),J===1||J===3){x=O;const V=!p.children.length;for(let K=0;K<p.staticCount;K++)V&&(p.children+=x.nodeType===1?x.outerHTML:x.data),K===p.staticCount-1&&(p.anchor=x),x=n(x);return k?n(x):x}else S();break;case xr:k?x=$(O,p,m,g,_,E):x=S();break;default:if(B&1)(J!==1||p.type.toLowerCase()!==O.tagName.toLowerCase())&&!W(O)?x=S():x=v(O,p,m,g,_,E);else if(B&6){p.slotScopeIds=_;const V=a(O);if(k?x=j(O):Il(O)&&O.data==="teleport start"?x=j(O,O.data,"teleport end"):x=n(O),t(p,V,null,m,g,xp(V),E),Vl(p)){let K;k?(K=Ot(xr),K.anchor=x?x.previousSibling:V.lastChild):K=O.nodeType===3?gf(""):Ot("div"),K.el=O,p.component.subTree=K}}else B&64?J!==8?x=S():x=p.type.hydrate(O,p,m,g,_,E,e,b):B&128&&(x=p.type.hydrate(O,p,m,g,xp(a(O)),_,E,e,y))}return H!=null&&ff(H,null,g,p),x},v=(O,p,m,g,_,E)=>{E=E||!!p.dynamicChildren;const{type:k,props:S,patchFlag:A,shapeFlag:H,dirs:B,transition:N}=p,J=k==="input"||k==="option";if(J||A!==-1){B&&Ti(p,null,m,"created");let x=!1;if(W(O)){x=Wx(null,N)&&m&&m.vnode.props&&m.vnode.props.appear;const K=O.content.firstChild;x&&N.beforeEnter(K),L(K,O,m),p.el=O=K}if(H&16&&!(S&&(S.innerHTML||S.textContent))){let K=b(O.firstChild,p,O,m,g,_,E);for(;K;){Ep(O,1)||rl();const de=K;K=K.nextSibling,l(de)}}else if(H&8){let K=p.children;K[0]===`
`&&(O.tagName==="PRE"||O.tagName==="TEXTAREA")&&(K=K.slice(1)),O.textContent!==K&&(Ep(O,0)||rl(),O.textContent=p.children)}if(S){if(J||!E||A&48){const K=O.tagName.includes("-");for(const de in S)(J&&(de.endsWith("value")||de==="indeterminate")||Nd(de)&&!Dl(de)||de[0]==="."||K)&&s(O,de,null,S[de],void 0,m)}else if(S.onClick)s(O,"onClick",null,S.onClick,void 0,m);else if(A&4&&$a(S.style))for(const K in S.style)S.style[K]}let V;(V=S&&S.onVnodeBeforeMount)&&_s(V,m,p),B&&Ti(p,null,m,"beforeMount"),((V=S&&S.onVnodeMounted)||B||x)&&eE(()=>{V&&_s(V,m,p),x&&N.enter(O),B&&Ti(p,null,m,"mounted")},g)}return O.nextSibling},b=(O,p,m,g,_,E,k)=>{k=k||!!p.dynamicChildren;const S=p.children,A=S.length;for(let H=0;H<A;H++){const B=k?S[H]:S[H]=os(S[H]),N=B.type===Ea;O?(N&&!k&&H+1<A&&os(S[H+1]).type===Ea&&(d(i(O.data.slice(B.children.length)),m,n(O)),O.data=B.children),O=y(O,B,g,_,E,k)):N&&!B.children?d(B.el=i(""),m):(Ep(m,1)||rl(),r(null,B,m,null,g,_,xp(m),E))}return O},$=(O,p,m,g,_,E)=>{const{slotScopeIds:k}=p;k&&(_=_?_.concat(k):k);const S=a(O),A=b(n(O),p,S,m,g,_,E);return A&&Il(A)&&A.data==="]"?n(p.anchor=A):(rl(),d(p.anchor=f("]"),S,A),A)},T=(O,p,m,g,_,E)=>{if(Ep(O.parentElement,1)||rl(),p.el=null,E){const A=j(O);for(;;){const H=n(O);if(H&&H!==A)l(H);else break}}const k=n(O),S=a(O);return l(O),r(null,p,S,k,m,g,xp(S),_),k},j=(O,p="[",m="]")=>{let g=0;for(;O;)if(O=n(O),O&&Il(O)&&(O.data===p&&g++,O.data===m)){if(g===0)return n(O);g--}return O},L=(O,p,m)=>{const g=p.parentNode;g&&g.replaceChild(O,p);let _=m;for(;_;)_.vnode.el===p&&(_.vnode.el=_.subTree.el=O),_=_.parent},W=O=>O.nodeType===1&&O.tagName==="TEMPLATE";return[h,y]}const w3="data-allow-mismatch",_4={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ep(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(w3);)e=e.parentElement;const r=e&&e.getAttribute(w3);if(r==null)return!1;if(r==="")return!0;{const s=r.split(",");return t===0&&s.includes("children")?!0:r.split(",").includes(_4[t])}}hy().requestIdleCallback;hy().cancelIdleCallback;function S4(e,t){if(Il(e)&&e.data==="["){let r=1,s=e.nextSibling;for(;s;){if(s.nodeType===1){if(t(s)===!1)break}else if(Il(s))if(s.data==="]"){if(--r===0)break}else s.data==="["&&r++;s=s.nextSibling}}else t(e)}const Vl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function _3(e){Ae(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:s,delay:i=200,hydrate:n,timeout:a,suspensible:l=!0,onError:d}=e;let f=null,h,y=0;const v=()=>(y++,f=null,b()),b=()=>{let $;return f||($=f=t().catch(T=>{if(T=T instanceof Error?T:new Error(String(T)),d)return new Promise((j,L)=>{d(T,()=>j(v()),()=>L(T),y+1)});throw T}).then(T=>$!==f&&f?f:(T&&(T.__esModule||T[Symbol.toStringTag]==="Module")&&(T=T.default),h=T,T)))};return Vd({name:"AsyncComponentWrapper",__asyncLoader:b,__asyncHydrate($,T,j){const L=n?()=>{const W=n(j,O=>S4($,O));W&&(T.bum||(T.bum=[])).push(W)}:j;h?L():b().then(()=>!T.isUnmounted&&L())},get __asyncResolved(){return h},setup(){const $=tr;if(Qw($),h)return()=>Cm(h,$);const T=O=>{f=null,yu(O,$,13,!s)};if(l&&$.suspense||iu)return b().then(O=>()=>Cm(O,$)).catch(O=>(T(O),()=>s?Ot(s,{error:O}):null));const j=po(!1),L=po(),W=po(!!i);return i&&setTimeout(()=>{W.value=!1},i),a!=null&&setTimeout(()=>{if(!j.value&&!L.value){const O=new Error(`Async component timed out after ${a}ms.`);T(O),L.value=O}},a),b().then(()=>{j.value=!0,$.parent&&Zw($.parent.vnode)&&$.parent.update()}).catch(O=>{T(O),L.value=O}),()=>{if(j.value&&h)return Cm(h,$);if(L.value&&s)return Ot(s,{error:L.value});if(r&&!W.value)return Ot(r)}}})}function Cm(e,t){const{ref:r,props:s,children:i,ce:n}=t.vnode,a=Ot(e,s,i);return a.ref=r,a.ce=n,delete t.vnode.ce,a}const Zw=e=>e.type.__isKeepAlive;function $4(e,t){Mx(e,"a",t)}function x4(e,t){Mx(e,"da",t)}function Mx(e,t,r=tr){const s=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(my(t,s,r),r){let i=r.parent;for(;i&&i.parent;)Zw(i.parent.vnode)&&E4(s,t,r,i),i=i.parent}}function E4(e,t,r,s){const i=my(t,e,s,!0);Ix(()=>{Nw(s[t],i)},r)}function my(e,t,r=tr,s=!1){if(r){const i=r[e]||(r[e]=[]),n=t.__weh||(t.__weh=(...a)=>{So();const l=Ud(r),d=Oi(t,r,e,a);return l(),$o(),d});return s?i.unshift(n):i.push(n),n}}const _n=e=>(t,r=tr)=>{(!iu||e==="sp")&&my(e,(...s)=>t(...s),r)},T4=_n("bm"),k4=_n("m"),M4=_n("bu"),I4=_n("u"),O4=_n("bum"),Ix=_n("um"),C4=_n("sp"),A4=_n("rtg"),j4=_n("rtc");function Ox(e,t=tr){my("ec",e,t)}const Yw="components";function wJ(e,t){return Ax(Yw,e,!0,t)||e}const Cx=Symbol.for("v-ndc");function R4(e){return At(e)?Ax(Yw,e,!1)||e:e||Cx}function Ax(e,t,r=!0,s=!1){const i=Pr||tr;if(i){const n=i.type;if(e===Yw){const l=xC(n,!1);if(l&&(l===t||l===Os(t)||l===py(Os(t))))return n}const a=S3(i[e]||n[e],t)||S3(i.appContext[e],t);return!a&&s?n:a}}function S3(e,t){return e&&(e[t]||e[Os(t)]||e[py(Os(t))])}function yf(e,t,r,s){let i;const n=r&&r[s],a=Oe(e);if(a||At(e)){const l=a&&$a(e);let d=!1;l&&(d=!ks(e),e=yy(e)),i=new Array(e.length);for(let f=0,h=e.length;f<h;f++)i[f]=t(d?$r(e[f]):e[f],f,void 0,n&&n[f])}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,n&&n[l])}else if(mt(e))if(e[Symbol.iterator])i=Array.from(e,(l,d)=>t(l,d,void 0,n&&n[d]));else{const l=Object.keys(e);i=new Array(l.length);for(let d=0,f=l.length;d<f;d++){const h=l[d];i[d]=t(e[h],h,d,n&&n[d])}}else i=[];return r&&(r[s]=i),i}const Fg=e=>e?nE(e)?vy(e):Fg(e.parent):null,Uc=ar(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fg(e.parent),$root:e=>Fg(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Xw(e),$forceUpdate:e=>e.f||(e.f=()=>{Jw(e.update)}),$nextTick:e=>e.n||(e.n=Ww.bind(e.proxy)),$watch:e=>eC.bind(e)}),Am=(e,t)=>e!==ft&&!e.__isScriptSetup&&ot(e,t),P4={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:i,props:n,accessCache:a,type:l,appContext:d}=e;let f;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return i[t];case 4:return r[t];case 3:return n[t]}else{if(Am(s,t))return a[t]=1,s[t];if(i!==ft&&ot(i,t))return a[t]=2,i[t];if((f=e.propsOptions[0])&&ot(f,t))return a[t]=3,n[t];if(r!==ft&&ot(r,t))return a[t]=4,r[t];Ng&&(a[t]=0)}}const h=Uc[t];let y,v;if(h)return t==="$attrs"&&Sr(e.attrs,"get",""),h(e);if((y=l.__cssModules)&&(y=y[t]))return y;if(r!==ft&&ot(r,t))return a[t]=4,r[t];if(v=d.config.globalProperties,ot(v,t))return v[t]},set({_:e},t,r){const{data:s,setupState:i,ctx:n}=e;return Am(i,t)?(i[t]=r,!0):s!==ft&&ot(s,t)?(s[t]=r,!0):ot(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:i,propsOptions:n}},a){let l;return!!r[a]||e!==ft&&ot(e,a)||Am(t,a)||(l=n[0])&&ot(l,a)||ot(s,a)||ot(Uc,a)||ot(i.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ot(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function $3(e){return Oe(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Ng=!0;function L4(e){const t=Xw(e),r=e.proxy,s=e.ctx;Ng=!1,t.beforeCreate&&x3(t.beforeCreate,e,"bc");const{data:i,computed:n,methods:a,watch:l,provide:d,inject:f,created:h,beforeMount:y,mounted:v,beforeUpdate:b,updated:$,activated:T,deactivated:j,beforeDestroy:L,beforeUnmount:W,destroyed:O,unmounted:p,render:m,renderTracked:g,renderTriggered:_,errorCaptured:E,serverPrefetch:k,expose:S,inheritAttrs:A,components:H,directives:B,filters:N}=t;if(f&&F4(f,s,null),a)for(const V in a){const K=a[V];Ae(K)&&(s[V]=K.bind(r))}if(i){const V=i.call(r,r);mt(V)&&(e.data=mr(V))}if(Ng=!0,n)for(const V in n){const K=n[V],de=Ae(K)?K.bind(r,r):Ae(K.get)?K.get.bind(r,r):ti,ke=!Ae(K)&&Ae(K.set)?K.set.bind(r):ti,ve=Sn({get:de,set:ke});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>ve.value,set:Qe=>ve.value=Qe})}if(l)for(const V in l)jx(l[V],s,r,V);if(d){const V=Ae(d)?d.call(r):d;Reflect.ownKeys(V).forEach(K=>{Px(K,V[K])})}h&&x3(h,e,"c");function x(V,K){Oe(K)?K.forEach(de=>V(de.bind(r))):K&&V(K.bind(r))}if(x(T4,y),x(k4,v),x(M4,b),x(I4,$),x($4,T),x(x4,j),x(Ox,E),x(j4,g),x(A4,_),x(O4,W),x(Ix,p),x(C4,k),Oe(S))if(S.length){const V=e.exposed||(e.exposed={});S.forEach(K=>{Object.defineProperty(V,K,{get:()=>r[K],set:de=>r[K]=de})})}else e.exposed||(e.exposed={});m&&e.render===ti&&(e.render=m),A!=null&&(e.inheritAttrs=A),H&&(e.components=H),B&&(e.directives=B),k&&Qw(e)}function F4(e,t,r=ti){Oe(e)&&(e=Dg(e));for(const s in e){const i=e[s];let n;mt(i)?"default"in i?n=Ul(i.from||s,i.default,!0):n=Ul(i.from||s):n=Ul(i),rr(n)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:a=>n.value=a}):t[s]=n}}function x3(e,t,r){Oi(Oe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function jx(e,t,r,s){let i=s.includes(".")?Qx(r,s):()=>r[s];if(At(e)){const n=t[e];Ae(n)&&qc(i,n)}else if(Ae(e))qc(i,e.bind(r));else if(mt(e))if(Oe(e))e.forEach(n=>jx(n,t,r,s));else{const n=Ae(e.handler)?e.handler.bind(r):t[e.handler];Ae(n)&&qc(i,n,e)}}function Xw(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:i,optionsCache:n,config:{optionMergeStrategies:a}}=e.appContext,l=n.get(t);let d;return l?d=l:!i.length&&!r&&!s?d=t:(d={},i.length&&i.forEach(f=>mf(d,f,a,!0)),mf(d,t,a)),mt(t)&&n.set(t,d),d}function mf(e,t,r,s=!1){const{mixins:i,extends:n}=t;n&&mf(e,n,r,!0),i&&i.forEach(a=>mf(e,a,r,!0));for(const a in t)if(!(s&&a==="expose")){const l=N4[a]||r&&r[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const N4={data:E3,props:T3,emits:T3,methods:Yu,computed:Yu,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:Yu,directives:Yu,watch:z4,provide:E3,inject:D4};function E3(e,t){return t?e?function(){return ar(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function D4(e,t){return Yu(Dg(e),Dg(t))}function Dg(e){if(Oe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function Yu(e,t){return e?ar(Object.create(null),e,t):t}function T3(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:ar(Object.create(null),$3(e),$3(t??{})):t}function z4(e,t){if(!e)return t;if(!t)return e;const r=ar(Object.create(null),e);for(const s in t)r[s]=Ir(e[s],t[s]);return r}function Rx(){return{app:null,config:{isNativeTag:S5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let V4=0;function U4(e,t){return function(s,i=null){Ae(s)||(s=ar({},s)),i!=null&&!mt(i)&&(i=null);const n=Rx(),a=new WeakSet,l=[];let d=!1;const f=n.app={_uid:V4++,_component:s,_props:i,_container:null,_context:n,_instance:null,version:aE,get config(){return n.config},set config(h){},use(h,...y){return a.has(h)||(h&&Ae(h.install)?(a.add(h),h.install(f,...y)):Ae(h)&&(a.add(h),h(f,...y))),f},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),f},component(h,y){return y?(n.components[h]=y,f):n.components[h]},directive(h,y){return y?(n.directives[h]=y,f):n.directives[h]},mount(h,y,v){if(!d){const b=f._ceVNode||Ot(s,i);return b.appContext=n,v===!0?v="svg":v===!1&&(v=void 0),y&&t?t(b,h):e(b,h,v),d=!0,f._container=h,h.__vue_app__=f,vy(b.component)}},onUnmount(h){l.push(h)},unmount(){d&&(Oi(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(h,y){return n.provides[h]=y,f},runWithContext(h){const y=xa;xa=f;try{return h()}finally{xa=y}}};return f}}let xa=null;function Px(e,t){if(tr){let r=tr.provides;const s=tr.parent&&tr.parent.provides;s===r&&(r=tr.provides=Object.create(s)),r[e]=t}}function Ul(e,t,r=!1){const s=tr||Pr;if(s||xa){const i=xa?xa._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Ae(t)?t.call(s&&s.proxy):t}}function Lx(){return!!(tr||Pr||xa)}const Fx={},Nx=()=>Object.create(Fx),Dx=e=>Object.getPrototypeOf(e)===Fx;function q4(e,t,r,s=!1){const i={},n=Nx();e.propsDefaults=Object.create(null),zx(e,t,i,n);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=s?i:bx(i):e.type.props?e.props=i:e.props=n,e.attrs=n}function B4(e,t,r,s){const{props:i,attrs:n,vnode:{patchFlag:a}}=e,l=tt(i),[d]=e.propsOptions;let f=!1;if((s||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let y=0;y<h.length;y++){let v=h[y];if(gy(e.emitsOptions,v))continue;const b=t[v];if(d)if(ot(n,v))b!==n[v]&&(n[v]=b,f=!0);else{const $=Os(v);i[$]=zg(d,l,$,b,e,!1)}else b!==n[v]&&(n[v]=b,f=!0)}}}else{zx(e,t,i,n)&&(f=!0);let h;for(const y in l)(!t||!ot(t,y)&&((h=Na(y))===y||!ot(t,h)))&&(d?r&&(r[y]!==void 0||r[h]!==void 0)&&(i[y]=zg(d,l,y,void 0,e,!0)):delete i[y]);if(n!==l)for(const y in n)(!t||!ot(t,y))&&(delete n[y],f=!0)}f&&un(e.attrs,"set","")}function zx(e,t,r,s){const[i,n]=e.propsOptions;let a=!1,l;if(t)for(let d in t){if(Dl(d))continue;const f=t[d];let h;i&&ot(i,h=Os(d))?!n||!n.includes(h)?r[h]=f:(l||(l={}))[h]=f:gy(e.emitsOptions,d)||(!(d in s)||f!==s[d])&&(s[d]=f,a=!0)}if(n){const d=tt(r),f=l||ft;for(let h=0;h<n.length;h++){const y=n[h];r[y]=zg(i,d,y,f[y],e,!ot(f,y))}}return a}function zg(e,t,r,s,i,n){const a=e[r];if(a!=null){const l=ot(a,"default");if(l&&s===void 0){const d=a.default;if(a.type!==Function&&!a.skipFactory&&Ae(d)){const{propsDefaults:f}=i;if(r in f)s=f[r];else{const h=Ud(i);s=f[r]=d.call(null,t),h()}}else s=d;i.ce&&i.ce._setProp(r,s)}a[0]&&(n&&!l?s=!1:a[1]&&(s===""||s===Na(r))&&(s=!0))}return s}const H4=new WeakMap;function Vx(e,t,r=!1){const s=r?H4:t.propsCache,i=s.get(e);if(i)return i;const n=e.props,a={},l=[];let d=!1;if(!Ae(e)){const h=y=>{d=!0;const[v,b]=Vx(y,t,!0);ar(a,v),b&&l.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!n&&!d)return mt(e)&&s.set(e,Fl),Fl;if(Oe(n))for(let h=0;h<n.length;h++){const y=Os(n[h]);k3(y)&&(a[y]=ft)}else if(n)for(const h in n){const y=Os(h);if(k3(y)){const v=n[h],b=a[y]=Oe(v)||Ae(v)?{type:v}:ar({},v),$=b.type;let T=!1,j=!0;if(Oe($))for(let L=0;L<$.length;++L){const W=$[L],O=Ae(W)&&W.name;if(O==="Boolean"){T=!0;break}else O==="String"&&(j=!1)}else T=Ae($)&&$.name==="Boolean";b[0]=T,b[1]=j,(T||ot(b,"default"))&&l.push(y)}}const f=[a,l];return mt(e)&&s.set(e,f),f}function k3(e){return e[0]!=="$"&&!Dl(e)}const Ux=e=>e[0]==="_"||e==="$stable",e1=e=>Oe(e)?e.map(os):[os(e)],G4=(e,t,r)=>{if(t._n)return t;const s=kx((...i)=>e1(t(...i)),r);return s._c=!1,s},qx=(e,t,r)=>{const s=e._ctx;for(const i in e){if(Ux(i))continue;const n=e[i];if(Ae(n))t[i]=G4(i,n,s);else if(n!=null){const a=e1(n);t[i]=()=>a}}},Bx=(e,t)=>{const r=e1(t);e.slots.default=()=>r},Hx=(e,t,r)=>{for(const s in t)(r||s!=="_")&&(e[s]=t[s])},W4=(e,t,r)=>{const s=e.slots=Nx();if(e.vnode.shapeFlag&32){const i=t._;i?(Hx(s,t,r),r&&ex(s,"_",i,!0)):qx(t,s)}else t&&Bx(e,t)},J4=(e,t,r)=>{const{vnode:s,slots:i}=e;let n=!0,a=ft;if(s.shapeFlag&32){const l=t._;l?r&&l===1?n=!1:Hx(i,t,r):(n=!t.$stable,qx(t,i)),a=t}else t&&(Bx(e,t),a={default:1});if(n)for(const l in i)!Ux(l)&&a[l]==null&&delete i[l]},rs=eE;function K4(e){return Gx(e)}function Q4(e){return Gx(e,w4)}function Gx(e,t){const r=hy();r.__VUE__=!0;const{insert:s,remove:i,patchProp:n,createElement:a,createText:l,createComment:d,setText:f,setElementText:h,parentNode:y,nextSibling:v,setScopeId:b=ti,insertStaticContent:$}=e,T=(C,R,F,ee=null,te=null,se=null,pe=void 0,ue=null,le=!!R.dynamicChildren)=>{if(C===R)return;C&&!io(C,R)&&(ee=St(C),Qe(C,te,se,!0),C=null),R.patchFlag===-2&&(le=!1,R.dynamicChildren=null);const{type:ie,ref:Ee,shapeFlag:fe}=R;switch(ie){case Ea:j(C,R,F,ee);break;case Ci:L(C,R,F,ee);break;case lh:C==null&&W(R,F,ee,pe);break;case xr:H(C,R,F,ee,te,se,pe,ue,le);break;default:fe&1?m(C,R,F,ee,te,se,pe,ue,le):fe&6?B(C,R,F,ee,te,se,pe,ue,le):(fe&64||fe&128)&&ie.process(C,R,F,ee,te,se,pe,ue,le,Qt)}Ee!=null&&te&&ff(Ee,C&&C.ref,se,R||C,!R)},j=(C,R,F,ee)=>{if(C==null)s(R.el=l(R.children),F,ee);else{const te=R.el=C.el;R.children!==C.children&&f(te,R.children)}},L=(C,R,F,ee)=>{C==null?s(R.el=d(R.children||""),F,ee):R.el=C.el},W=(C,R,F,ee)=>{[C.el,C.anchor]=$(C.children,R,F,ee,C.el,C.anchor)},O=({el:C,anchor:R},F,ee)=>{let te;for(;C&&C!==R;)te=v(C),s(C,F,ee),C=te;s(R,F,ee)},p=({el:C,anchor:R})=>{let F;for(;C&&C!==R;)F=v(C),i(C),C=F;i(R)},m=(C,R,F,ee,te,se,pe,ue,le)=>{R.type==="svg"?pe="svg":R.type==="math"&&(pe="mathml"),C==null?g(R,F,ee,te,se,pe,ue,le):k(C,R,te,se,pe,ue,le)},g=(C,R,F,ee,te,se,pe,ue)=>{let le,ie;const{props:Ee,shapeFlag:fe,transition:he,dirs:Me}=C;if(le=C.el=a(C.type,se,Ee&&Ee.is,Ee),fe&8?h(le,C.children):fe&16&&E(C.children,le,null,ee,te,jm(C,se),pe,ue),Me&&Ti(C,null,ee,"created"),_(le,C,C.scopeId,pe,ee),Ee){for(const et in Ee)et!=="value"&&!Dl(et)&&n(le,et,null,Ee[et],se,ee);"value"in Ee&&n(le,"value",null,Ee.value,se),(ie=Ee.onVnodeBeforeMount)&&_s(ie,ee,C)}Me&&Ti(C,null,ee,"beforeMount");const Re=Wx(te,he);Re&&he.beforeEnter(le),s(le,R,F),((ie=Ee&&Ee.onVnodeMounted)||Re||Me)&&rs(()=>{ie&&_s(ie,ee,C),Re&&he.enter(le),Me&&Ti(C,null,ee,"mounted")},te)},_=(C,R,F,ee,te)=>{if(F&&b(C,F),ee)for(let se=0;se<ee.length;se++)b(C,ee[se]);if(te){let se=te.subTree;if(R===se||Yx(se.type)&&(se.ssContent===R||se.ssFallback===R)){const pe=te.vnode;_(C,pe,pe.scopeId,pe.slotScopeIds,te.parent)}}},E=(C,R,F,ee,te,se,pe,ue,le=0)=>{for(let ie=le;ie<C.length;ie++){const Ee=C[ie]=ue?Xn(C[ie]):os(C[ie]);T(null,Ee,R,F,ee,te,se,pe,ue)}},k=(C,R,F,ee,te,se,pe)=>{const ue=R.el=C.el;let{patchFlag:le,dynamicChildren:ie,dirs:Ee}=R;le|=C.patchFlag&16;const fe=C.props||ft,he=R.props||ft;let Me;if(F&&Ao(F,!1),(Me=he.onVnodeBeforeUpdate)&&_s(Me,F,R,C),Ee&&Ti(R,C,F,"beforeUpdate"),F&&Ao(F,!0),(fe.innerHTML&&he.innerHTML==null||fe.textContent&&he.textContent==null)&&h(ue,""),ie?S(C.dynamicChildren,ie,ue,F,ee,jm(R,te),se):pe||K(C,R,ue,null,F,ee,jm(R,te),se,!1),le>0){if(le&16)A(ue,fe,he,F,te);else if(le&2&&fe.class!==he.class&&n(ue,"class",null,he.class,te),le&4&&n(ue,"style",fe.style,he.style,te),le&8){const Re=R.dynamicProps;for(let et=0;et<Re.length;et++){const Ke=Re[et],sr=fe[Ke],Ht=he[Ke];(Ht!==sr||Ke==="value")&&n(ue,Ke,sr,Ht,te,F)}}le&1&&C.children!==R.children&&h(ue,R.children)}else!pe&&ie==null&&A(ue,fe,he,F,te);((Me=he.onVnodeUpdated)||Ee)&&rs(()=>{Me&&_s(Me,F,R,C),Ee&&Ti(R,C,F,"updated")},ee)},S=(C,R,F,ee,te,se,pe)=>{for(let ue=0;ue<R.length;ue++){const le=C[ue],ie=R[ue],Ee=le.el&&(le.type===xr||!io(le,ie)||le.shapeFlag&70)?y(le.el):F;T(le,ie,Ee,null,ee,te,se,pe,!0)}},A=(C,R,F,ee,te)=>{if(R!==F){if(R!==ft)for(const se in R)!Dl(se)&&!(se in F)&&n(C,se,R[se],null,te,ee);for(const se in F){if(Dl(se))continue;const pe=F[se],ue=R[se];pe!==ue&&se!=="value"&&n(C,se,ue,pe,te,ee)}"value"in F&&n(C,"value",R.value,F.value,te)}},H=(C,R,F,ee,te,se,pe,ue,le)=>{const ie=R.el=C?C.el:l(""),Ee=R.anchor=C?C.anchor:l("");let{patchFlag:fe,dynamicChildren:he,slotScopeIds:Me}=R;Me&&(ue=ue?ue.concat(Me):Me),C==null?(s(ie,F,ee),s(Ee,F,ee),E(R.children||[],F,Ee,te,se,pe,ue,le)):fe>0&&fe&64&&he&&C.dynamicChildren?(S(C.dynamicChildren,he,F,te,se,pe,ue),(R.key!=null||te&&R===te.subTree)&&Jx(C,R,!0)):K(C,R,F,Ee,te,se,pe,ue,le)},B=(C,R,F,ee,te,se,pe,ue,le)=>{R.slotScopeIds=ue,C==null?R.shapeFlag&512?te.ctx.activate(R,F,ee,pe,le):N(R,F,ee,te,se,pe,le):J(C,R,le)},N=(C,R,F,ee,te,se,pe)=>{const ue=C.component=vC(C,ee,te);if(Zw(C)&&(ue.ctx.renderer=Qt),wC(ue,!1,pe),ue.asyncDep){if(te&&te.registerDep(ue,x,pe),!C.el){const le=ue.subTree=Ot(Ci);L(null,le,R,F)}}else x(ue,C,R,F,te,se,pe)},J=(C,R,F)=>{const ee=R.component=C.component;if(oC(C,R,F))if(ee.asyncDep&&!ee.asyncResolved){V(ee,R,F);return}else ee.next=R,ee.update();else R.el=C.el,ee.vnode=R},x=(C,R,F,ee,te,se,pe)=>{const ue=()=>{if(C.isMounted){let{next:fe,bu:he,u:Me,parent:Re,vnode:et}=C;{const cr=Kx(C);if(cr){fe&&(fe.el=et.el,V(C,fe,pe)),cr.asyncDep.then(()=>{C.isUnmounted||ue()});return}}let Ke=fe,sr;Ao(C,!1),fe?(fe.el=et.el,V(C,fe,pe)):fe=et,he&&ah(he),(sr=fe.props&&fe.props.onVnodeBeforeUpdate)&&_s(sr,Re,fe,et),Ao(C,!0);const Ht=Rm(C),kr=C.subTree;C.subTree=Ht,T(kr,Ht,y(kr.el),St(kr),C,te,se),fe.el=Ht.el,Ke===null&&r1(C,Ht.el),Me&&rs(Me,te),(sr=fe.props&&fe.props.onVnodeUpdated)&&rs(()=>_s(sr,Re,fe,et),te)}else{let fe;const{el:he,props:Me}=R,{bm:Re,m:et,parent:Ke,root:sr,type:Ht}=C,kr=Vl(R);if(Ao(C,!1),Re&&ah(Re),!kr&&(fe=Me&&Me.onVnodeBeforeMount)&&_s(fe,Ke,R),Ao(C,!0),he&&ds){const cr=()=>{C.subTree=Rm(C),ds(he,C.subTree,C,te,null)};kr&&Ht.__asyncHydrate?Ht.__asyncHydrate(he,C,cr):cr()}else{sr.ce&&sr.ce._injectChildStyle(Ht);const cr=C.subTree=Rm(C);T(null,cr,F,ee,C,te,se),R.el=cr.el}if(et&&rs(et,te),!kr&&(fe=Me&&Me.onVnodeMounted)){const cr=R;rs(()=>_s(fe,Ke,cr),te)}(R.shapeFlag&256||Ke&&Vl(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&C.a&&rs(C.a,te),C.isMounted=!0,R=F=ee=null}};C.scope.on();const le=C.effect=new nx(ue);C.scope.off();const ie=C.update=le.run.bind(le),Ee=C.job=le.runIfDirty.bind(le);Ee.i=C,Ee.id=C.uid,le.scheduler=()=>Jw(Ee),Ao(C,!0),ie()},V=(C,R,F)=>{R.component=C;const ee=C.vnode.props;C.vnode=R,C.next=null,B4(C,R.props,ee,F),J4(C,R.children,F),So(),v3(C),$o()},K=(C,R,F,ee,te,se,pe,ue,le=!1)=>{const ie=C&&C.children,Ee=C?C.shapeFlag:0,fe=R.children,{patchFlag:he,shapeFlag:Me}=R;if(he>0){if(he&128){ke(ie,fe,F,ee,te,se,pe,ue,le);return}else if(he&256){de(ie,fe,F,ee,te,se,pe,ue,le);return}}Me&8?(Ee&16&&dt(ie,te,se),fe!==ie&&h(F,fe)):Ee&16?Me&16?ke(ie,fe,F,ee,te,se,pe,ue,le):dt(ie,te,se,!0):(Ee&8&&h(F,""),Me&16&&E(fe,F,ee,te,se,pe,ue,le))},de=(C,R,F,ee,te,se,pe,ue,le)=>{C=C||Fl,R=R||Fl;const ie=C.length,Ee=R.length,fe=Math.min(ie,Ee);let he;for(he=0;he<fe;he++){const Me=R[he]=le?Xn(R[he]):os(R[he]);T(C[he],Me,F,null,te,se,pe,ue,le)}ie>Ee?dt(C,te,se,!0,!1,fe):E(R,F,ee,te,se,pe,ue,le,fe)},ke=(C,R,F,ee,te,se,pe,ue,le)=>{let ie=0;const Ee=R.length;let fe=C.length-1,he=Ee-1;for(;ie<=fe&&ie<=he;){const Me=C[ie],Re=R[ie]=le?Xn(R[ie]):os(R[ie]);if(io(Me,Re))T(Me,Re,F,null,te,se,pe,ue,le);else break;ie++}for(;ie<=fe&&ie<=he;){const Me=C[fe],Re=R[he]=le?Xn(R[he]):os(R[he]);if(io(Me,Re))T(Me,Re,F,null,te,se,pe,ue,le);else break;fe--,he--}if(ie>fe){if(ie<=he){const Me=he+1,Re=Me<Ee?R[Me].el:ee;for(;ie<=he;)T(null,R[ie]=le?Xn(R[ie]):os(R[ie]),F,Re,te,se,pe,ue,le),ie++}}else if(ie>he)for(;ie<=fe;)Qe(C[ie],te,se,!0),ie++;else{const Me=ie,Re=ie,et=new Map;for(ie=Re;ie<=he;ie++){const dr=R[ie]=le?Xn(R[ie]):os(R[ie]);dr.key!=null&&et.set(dr.key,ie)}let Ke,sr=0;const Ht=he-Re+1;let kr=!1,cr=0;const Fi=new Array(Ht);for(ie=0;ie<Ht;ie++)Fi[ie]=0;for(ie=Me;ie<=fe;ie++){const dr=C[ie];if(sr>=Ht){Qe(dr,te,se,!0);continue}let Mr;if(dr.key!=null)Mr=et.get(dr.key);else for(Ke=Re;Ke<=he;Ke++)if(Fi[Ke-Re]===0&&io(dr,R[Ke])){Mr=Ke;break}Mr===void 0?Qe(dr,te,se,!0):(Fi[Mr-Re]=ie+1,Mr>=cr?cr=Mr:kr=!0,T(dr,R[Mr],F,null,te,se,pe,ue,le),sr++)}const Ya=kr?Z4(Fi):Fl;for(Ke=Ya.length-1,ie=Ht-1;ie>=0;ie--){const dr=Re+ie,Mr=R[dr],Xa=dr+1<Ee?R[dr+1].el:ee;Fi[ie]===0?T(null,Mr,F,Xa,te,se,pe,ue,le):kr&&(Ke<0||ie!==Ya[Ke]?ve(Mr,F,Xa,2):Ke--)}}},ve=(C,R,F,ee,te=null)=>{const{el:se,type:pe,transition:ue,children:le,shapeFlag:ie}=C;if(ie&6){ve(C.component.subTree,R,F,ee);return}if(ie&128){C.suspense.move(R,F,ee);return}if(ie&64){pe.move(C,R,F,Qt);return}if(pe===xr){s(se,R,F);for(let fe=0;fe<le.length;fe++)ve(le[fe],R,F,ee);s(C.anchor,R,F);return}if(pe===lh){O(C,R,F);return}if(ee!==2&&ie&1&&ue)if(ee===0)ue.beforeEnter(se),s(se,R,F),rs(()=>ue.enter(se),te);else{const{leave:fe,delayLeave:he,afterLeave:Me}=ue,Re=()=>s(se,R,F),et=()=>{fe(se,()=>{Re(),Me&&Me()})};he?he(se,Re,et):et()}else s(se,R,F)},Qe=(C,R,F,ee=!1,te=!1)=>{const{type:se,props:pe,ref:ue,children:le,dynamicChildren:ie,shapeFlag:Ee,patchFlag:fe,dirs:he,cacheIndex:Me}=C;if(fe===-2&&(te=!1),ue!=null&&ff(ue,null,F,C,!0),Me!=null&&(R.renderCache[Me]=void 0),Ee&256){R.ctx.deactivate(C);return}const Re=Ee&1&&he,et=!Vl(C);let Ke;if(et&&(Ke=pe&&pe.onVnodeBeforeUnmount)&&_s(Ke,R,C),Ee&6)_t(C.component,F,ee);else{if(Ee&128){C.suspense.unmount(F,ee);return}Re&&Ti(C,null,R,"beforeUnmount"),Ee&64?C.type.remove(C,R,F,Qt,ee):ie&&!ie.hasOnce&&(se!==xr||fe>0&&fe&64)?dt(ie,R,F,!1,!0):(se===xr&&fe&384||!te&&Ee&16)&&dt(le,R,F),ee&&xt(C)}(et&&(Ke=pe&&pe.onVnodeUnmounted)||Re)&&rs(()=>{Ke&&_s(Ke,R,C),Re&&Ti(C,null,R,"unmounted")},F)},xt=C=>{const{type:R,el:F,anchor:ee,transition:te}=C;if(R===xr){Kt(F,ee);return}if(R===lh){p(C);return}const se=()=>{i(F),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(C.shapeFlag&1&&te&&!te.persisted){const{leave:pe,delayLeave:ue}=te,le=()=>pe(F,se);ue?ue(C.el,se,le):le()}else se()},Kt=(C,R)=>{let F;for(;C!==R;)F=v(C),i(C),C=F;i(R)},_t=(C,R,F)=>{const{bum:ee,scope:te,job:se,subTree:pe,um:ue,m:le,a:ie}=C;M3(le),M3(ie),ee&&ah(ee),te.stop(),se&&(se.flags|=8,Qe(pe,C,R,F)),ue&&rs(ue,R),rs(()=>{C.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},dt=(C,R,F,ee=!1,te=!1,se=0)=>{for(let pe=se;pe<C.length;pe++)Qe(C[pe],R,F,ee,te)},St=C=>{if(C.shapeFlag&6)return St(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const R=v(C.anchor||C.el),F=R&&R[m4];return F?v(F):R};let Pt=!1;const Cs=(C,R,F)=>{C==null?R._vnode&&Qe(R._vnode,null,null,!0):T(R._vnode||null,C,R,null,null,null,F),R._vnode=C,Pt||(Pt=!0,v3(),pf(),Pt=!1)},Qt={p:T,um:Qe,m:ve,r:xt,mt:N,mc:E,pc:K,pbc:S,n:St,o:e};let ai,ds;return t&&([ai,ds]=t(Qt)),{render:Cs,hydrate:ai,createApp:U4(Cs,ai)}}function jm({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Ao({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Wx(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jx(e,t,r=!1){const s=e.children,i=t.children;if(Oe(s)&&Oe(i))for(let n=0;n<s.length;n++){const a=s[n];let l=i[n];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[n]=Xn(i[n]),l.el=a.el),!r&&l.patchFlag!==-2&&Jx(a,l)),l.type===Ea&&(l.el=a.el)}}function Z4(e){const t=e.slice(),r=[0];let s,i,n,a,l;const d=e.length;for(s=0;s<d;s++){const f=e[s];if(f!==0){if(i=r[r.length-1],e[i]<f){t[s]=i,r.push(s);continue}for(n=0,a=r.length-1;n<a;)l=n+a>>1,e[r[l]]<f?n=l+1:a=l;f<e[r[n]]&&(n>0&&(t[s]=r[n-1]),r[n]=s)}}for(n=r.length,a=r[n-1];n-- >0;)r[n]=a,a=t[a];return r}function Kx(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Kx(t)}function M3(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Y4=Symbol.for("v-scx"),X4=()=>Ul(Y4);function _J(e,t){return t1(e,null,t)}function qc(e,t,r){return t1(e,t,r)}function t1(e,t,r=ft){const{immediate:s,deep:i,flush:n,once:a}=r,l=ar({},r),d=t&&s||!t&&n!=="post";let f;if(iu){if(n==="sync"){const b=X4();f=b.__watcherHandles||(b.__watcherHandles=[])}else if(!d){const b=()=>{};return b.stop=ti,b.resume=ti,b.pause=ti,b}}const h=tr;l.call=(b,$,T)=>Oi(b,h,$,T);let y=!1;n==="post"?l.scheduler=b=>{rs(b,h&&h.suspense)}:n!=="sync"&&(y=!0,l.scheduler=(b,$)=>{$?b():Jw(b)}),l.augmentJob=b=>{t&&(b.flags|=4),y&&(b.flags|=2,h&&(b.id=h.uid,b.i=h))};const v=h4(e,t,l);return iu&&(f?f.push(v):d&&v()),v}function eC(e,t,r){const s=this.proxy,i=At(e)?e.includes(".")?Qx(s,e):()=>s[e]:e.bind(s,s);let n;Ae(t)?n=t:(n=t.handler,r=t);const a=Ud(this),l=t1(i,n.bind(s),r);return a(),l}function Qx(e,t){const r=t.split(".");return()=>{let s=e;for(let i=0;i<r.length&&s;i++)s=s[r[i]];return s}}const tC=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Os(t)}Modifiers`]||e[`${Na(t)}Modifiers`];function rC(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||ft;let i=r;const n=t.startsWith("update:"),a=n&&tC(s,t.slice(7));a&&(a.trim&&(i=r.map(h=>At(h)?h.trim():h)),a.number&&(i=r.map(Cg)));let l,d=s[l=Em(t)]||s[l=Em(Os(t))];!d&&n&&(d=s[l=Em(Na(t))]),d&&Oi(d,e,6,i);const f=s[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Oi(f,e,6,i)}}function Zx(e,t,r=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const n=e.emits;let a={},l=!1;if(!Ae(e)){const d=f=>{const h=Zx(f,t,!0);h&&(l=!0,ar(a,h))};!r&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!n&&!l?(mt(e)&&s.set(e,null),null):(Oe(n)?n.forEach(d=>a[d]=null):ar(a,n),mt(e)&&s.set(e,a),a)}function gy(e,t){return!e||!Nd(t)?!1:(t=t.slice(2).replace(/Once$/,""),ot(e,t[0].toLowerCase()+t.slice(1))||ot(e,Na(t))||ot(e,t))}function Rm(e){const{type:t,vnode:r,proxy:s,withProxy:i,propsOptions:[n],slots:a,attrs:l,emit:d,render:f,renderCache:h,props:y,data:v,setupState:b,ctx:$,inheritAttrs:T}=e,j=hf(e);let L,W;try{if(r.shapeFlag&4){const p=i||s,m=p;L=os(f.call(m,p,h,y,b,v,$)),W=l}else{const p=t;L=os(p.length>1?p(y,{attrs:l,slots:a,emit:d}):p(y,null)),W=t.props?l:iC(l)}}catch(p){Bc.length=0,yu(p,e,1),L=Ot(Ci)}let O=L;if(W&&T!==!1){const p=Object.keys(W),{shapeFlag:m}=O;p.length&&m&7&&(n&&p.some(Fw)&&(W=nC(W,n)),O=su(O,W,!1,!0))}return r.dirs&&(O=su(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(r.dirs):r.dirs),r.transition&&Kw(O,r.transition),L=O,hf(j),L}function sC(e,t=!0){let r;for(let s=0;s<e.length;s++){const i=e[s];if(pd(i)){if(i.type!==Ci||i.children==="v-if"){if(r)return;r=i}}else return}return r}const iC=e=>{let t;for(const r in e)(r==="class"||r==="style"||Nd(r))&&((t||(t={}))[r]=e[r]);return t},nC=(e,t)=>{const r={};for(const s in e)(!Fw(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function oC(e,t,r){const{props:s,children:i,component:n}=e,{props:a,children:l,patchFlag:d}=t,f=n.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?I3(s,a,f):!!a;if(d&8){const h=t.dynamicProps;for(let y=0;y<h.length;y++){const v=h[y];if(a[v]!==s[v]&&!gy(f,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?I3(s,a,f):!0:!!a;return!1}function I3(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const n=s[i];if(t[n]!==e[n]&&!gy(r,n))return!0}return!1}function r1({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Yx=e=>e.__isSuspense;let Vg=0;const aC={name:"Suspense",__isSuspense:!0,process(e,t,r,s,i,n,a,l,d,f){if(e==null)uC(t,r,s,i,n,a,l,d,f);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}cC(e,t,r,s,i,a,l,d,f)}},hydrate:dC,normalize:pC},lC=aC;function dd(e,t){const r=e.props&&e.props[t];Ae(r)&&r()}function uC(e,t,r,s,i,n,a,l,d){const{p:f,o:{createElement:h}}=d,y=h("div"),v=e.suspense=Xx(e,i,s,t,y,r,n,a,l,d);f(null,v.pendingBranch=e.ssContent,y,null,s,v,n,a),v.deps>0?(dd(e,"onPending"),dd(e,"onFallback"),f(null,e.ssFallback,t,r,s,null,n,a),ql(v,e.ssFallback)):v.resolve(!1,!0)}function cC(e,t,r,s,i,n,a,l,{p:d,um:f,o:{createElement:h}}){const y=t.suspense=e.suspense;y.vnode=t,t.el=e.el;const v=t.ssContent,b=t.ssFallback,{activeBranch:$,pendingBranch:T,isInFallback:j,isHydrating:L}=y;if(T)y.pendingBranch=v,io(v,T)?(d(T,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0?y.resolve():j&&(L||(d($,b,r,s,i,null,n,a,l),ql(y,b)))):(y.pendingId=Vg++,L?(y.isHydrating=!1,y.activeBranch=T):f(T,i,y),y.deps=0,y.effects.length=0,y.hiddenContainer=h("div"),j?(d(null,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0?y.resolve():(d($,b,r,s,i,null,n,a,l),ql(y,b))):$&&io(v,$)?(d($,v,r,s,i,y,n,a,l),y.resolve(!0)):(d(null,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0&&y.resolve()));else if($&&io(v,$))d($,v,r,s,i,y,n,a,l),ql(y,v);else if(dd(t,"onPending"),y.pendingBranch=v,v.shapeFlag&512?y.pendingId=v.component.suspenseId:y.pendingId=Vg++,d(null,v,y.hiddenContainer,null,i,y,n,a,l),y.deps<=0)y.resolve();else{const{timeout:W,pendingId:O}=y;W>0?setTimeout(()=>{y.pendingId===O&&y.fallback(b)},W):W===0&&y.fallback(b)}}function Xx(e,t,r,s,i,n,a,l,d,f,h=!1){const{p:y,m:v,um:b,n:$,o:{parentNode:T,remove:j}}=f;let L;const W=hC(e);W&&t&&t.pendingBranch&&(L=t.pendingId,t.deps++);const O=e.props?k5(e.props.timeout):void 0,p=n,m={vnode:e,parent:t,parentComponent:r,namespace:a,container:s,hiddenContainer:i,deps:0,pendingId:Vg++,timeout:typeof O=="number"?O:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(g=!1,_=!1){const{vnode:E,activeBranch:k,pendingBranch:S,pendingId:A,effects:H,parentComponent:B,container:N}=m;let J=!1;m.isHydrating?m.isHydrating=!1:g||(J=k&&S.transition&&S.transition.mode==="out-in",J&&(k.transition.afterLeave=()=>{A===m.pendingId&&(v(S,N,n===p?$(k):n,0),Lg(H))}),k&&(T(k.el)===N&&(n=$(k)),b(k,B,m,!0)),J||v(S,N,n,0)),ql(m,S),m.pendingBranch=null,m.isInFallback=!1;let x=m.parent,V=!1;for(;x;){if(x.pendingBranch){x.effects.push(...H),V=!0;break}x=x.parent}!V&&!J&&Lg(H),m.effects=[],W&&t&&t.pendingBranch&&L===t.pendingId&&(t.deps--,t.deps===0&&!_&&t.resolve()),dd(E,"onResolve")},fallback(g){if(!m.pendingBranch)return;const{vnode:_,activeBranch:E,parentComponent:k,container:S,namespace:A}=m;dd(_,"onFallback");const H=$(E),B=()=>{m.isInFallback&&(y(null,g,S,H,k,null,A,l,d),ql(m,g))},N=g.transition&&g.transition.mode==="out-in";N&&(E.transition.afterLeave=B),m.isInFallback=!0,b(E,k,null,!0),N||B()},move(g,_,E){m.activeBranch&&v(m.activeBranch,g,_,E),m.container=g},next(){return m.activeBranch&&$(m.activeBranch)},registerDep(g,_,E){const k=!!m.pendingBranch;k&&m.deps++;const S=g.vnode.el;g.asyncDep.catch(A=>{yu(A,g,0)}).then(A=>{if(g.isUnmounted||m.isUnmounted||m.pendingId!==g.suspenseId)return;g.asyncResolved=!0;const{vnode:H}=g;qg(g,A,!1),S&&(H.el=S);const B=!S&&g.subTree.el;_(g,H,T(S||g.subTree.el),S?null:$(g.subTree),m,a,E),B&&j(B),r1(g,H.el),k&&--m.deps===0&&m.resolve()})},unmount(g,_){m.isUnmounted=!0,m.activeBranch&&b(m.activeBranch,r,g,_),m.pendingBranch&&b(m.pendingBranch,r,g,_)}};return m}function dC(e,t,r,s,i,n,a,l,d){const f=t.suspense=Xx(t,s,r,e.parentNode,document.createElement("div"),null,i,n,a,l,!0),h=d(e,f.pendingBranch=t.ssContent,r,f,n,a);return f.deps===0&&f.resolve(!1,!0),h}function pC(e){const{shapeFlag:t,children:r}=e,s=t&32;e.ssContent=O3(s?r.default:r),e.ssFallback=s?O3(r.fallback):Ot(Ci)}function O3(e){let t;if(Ae(e)){const r=ru&&e._c;r&&(e._d=!1,Je()),e=e(),r&&(e._d=!0,t=Hr,tE())}return Oe(e)&&(e=sC(e)),e=os(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function eE(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):Lg(e)}function ql(e,t){e.activeBranch=t;const{vnode:r,parentComponent:s}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;r.el=i,s&&s.subTree===r&&(s.vnode.el=i,r1(s,i))}function hC(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const xr=Symbol.for("v-fgt"),Ea=Symbol.for("v-txt"),Ci=Symbol.for("v-cmt"),lh=Symbol.for("v-stc"),Bc=[];let Hr=null;function Je(e=!1){Bc.push(Hr=e?null:[])}function tE(){Bc.pop(),Hr=Bc[Bc.length-1]||null}let ru=1;function C3(e){ru+=e,e<0&&Hr&&(Hr.hasOnce=!0)}function rE(e){return e.dynamicChildren=ru>0?Hr||Fl:null,tE(),ru>0&&Hr&&Hr.push(e),e}function ut(e,t,r,s,i,n){return rE(qe(e,t,r,s,i,n,!0))}function ca(e,t,r,s,i){return rE(Ot(e,t,r,s,i,!0))}function pd(e){return e?e.__v_isVNode===!0:!1}function io(e,t){return e.type===t.type&&e.key===t.key}const sE=({key:e})=>e??null,uh=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?At(e)||rr(e)||Ae(e)?{i:Pr,r:e,k:t,f:!!r}:e:null);function qe(e,t=null,r=null,s=0,i=null,n=e===xr?0:1,a=!1,l=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sE(t),ref:t&&uh(t),scopeId:Tx,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pr};return l?(s1(d,r),n&128&&e.normalize(d)):r&&(d.shapeFlag|=At(r)?8:16),ru>0&&!a&&Hr&&(d.patchFlag>0||n&6)&&d.patchFlag!==32&&Hr.push(d),d}const Ot=fC;function fC(e,t=null,r=null,s=0,i=null,n=!1){if((!e||e===Cx)&&(e=Ci),pd(e)){const l=su(e,t,!0);return r&&s1(l,r),ru>0&&!n&&Hr&&(l.shapeFlag&6?Hr[Hr.indexOf(e)]=l:Hr.push(l)),l.patchFlag=-2,l}if(EC(e)&&(e=e.__vccOpts),t){t=iE(t);let{class:l,style:d}=t;l&&!At(l)&&(t.class=fu(l)),mt(d)&&(Gw(d)&&!Oe(d)&&(d=ar({},d)),t.style=fy(d))}const a=At(e)?1:Yx(e)?128:g4(e)?64:mt(e)?4:Ae(e)?2:0;return qe(e,t,r,s,i,a,n,!0)}function iE(e){return e?Gw(e)||Dx(e)?ar({},e):e:null}function su(e,t,r=!1,s=!1){const{props:i,ref:n,patchFlag:a,children:l,transition:d}=e,f=t?yC(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&sE(f),ref:t&&t.ref?r&&n?Oe(n)?n.concat(uh(t)):[n,uh(t)]:uh(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xr?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&su(e.ssContent),ssFallback:e.ssFallback&&su(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&s&&Kw(h,d.clone(h)),h}function gf(e=" ",t=0){return Ot(Ea,null,e,t)}function Zs(e="",t=!1){return t?(Je(),ca(Ci,null,e)):Ot(Ci,null,e)}function os(e){return e==null||typeof e=="boolean"?Ot(Ci):Oe(e)?Ot(xr,null,e.slice()):pd(e)?Xn(e):Ot(Ea,null,String(e))}function Xn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:su(e)}function s1(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Oe(t))r=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),s1(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!Dx(t)?t._ctx=Pr:i===3&&Pr&&(Pr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:Pr},r=32):(t=String(t),s&64?(r=16,t=[gf(t)]):r=8);e.children=t,e.shapeFlag|=r}function yC(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=fu([t.class,s.class]));else if(i==="style")t.style=fy([t.style,s.style]);else if(Nd(i)){const n=t[i],a=s[i];a&&n!==a&&!(Oe(n)&&n.includes(a))&&(t[i]=n?[].concat(n,a):a)}else i!==""&&(t[i]=s[i])}return t}function _s(e,t,r,s=null){Oi(e,t,7,[r,s])}const mC=Rx();let gC=0;function vC(e,t,r){const s=e.type,i=(t?t.appContext:e.appContext)||mC,n={uid:gC++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ix(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vx(s,i),emitsOptions:Zx(s,i),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:s.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=rC.bind(null,n),e.ce&&e.ce(n),n}let tr=null;const bC=()=>tr||Pr;let vf,Ug;{const e=hy(),t=(r,s)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(s),n=>{i.length>1?i.forEach(a=>a(n)):i[0](n)}};vf=t("__VUE_INSTANCE_SETTERS__",r=>tr=r),Ug=t("__VUE_SSR_SETTERS__",r=>iu=r)}const Ud=e=>{const t=tr;return vf(e),e.scope.on(),()=>{e.scope.off(),vf(t)}},A3=()=>{tr&&tr.scope.off(),vf(null)};function nE(e){return e.vnode.shapeFlag&4}let iu=!1;function wC(e,t=!1,r=!1){t&&Ug(t);const{props:s,children:i}=e.vnode,n=nE(e);q4(e,s,n,t),W4(e,i,r);const a=n?_C(e,t):void 0;return t&&Ug(!1),a}function _C(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,P4);const{setup:s}=r;if(s){So();const i=e.setupContext=s.length>1?$C(e):null,n=Ud(e),a=zd(s,e,0,[e.props,i]),l=Z$(a);if($o(),n(),(l||e.sp)&&!Vl(e)&&Qw(e),l){if(a.then(A3,A3),t)return a.then(d=>{qg(e,d,t)}).catch(d=>{yu(d,e,0)});e.asyncDep=a}else qg(e,a,t)}else oE(e,t)}function qg(e,t,r){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:mt(t)&&(e.setupState=Sx(t)),oE(e,r)}let j3;function oE(e,t,r){const s=e.type;if(!e.render){if(!t&&j3&&!s.render){const i=s.template||Xw(e).template;if(i){const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:d}=s,f=ar(ar({isCustomElement:n,delimiters:l},a),d);s.render=j3(i,f)}}e.render=s.render||ti}{const i=Ud(e);So();try{L4(e)}finally{$o(),i()}}}const SC={get(e,t){return Sr(e,"get",""),e[t]}};function $C(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,SC),slots:e.slots,emit:e.emit,expose:t}}function vy(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Sx(s4(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Uc)return Uc[r](e)},has(t,r){return r in t||r in Uc}})):e.proxy}function xC(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function EC(e){return Ae(e)&&"__vccOpts"in e}const Sn=(e,t)=>d4(e,t,iu);function TC(e,t,r){const s=arguments.length;return s===2?mt(t)&&!Oe(t)?pd(t)?Ot(e,null,[t]):Ot(e,t):Ot(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&pd(r)&&(r=[r]),Ot(e,t,r))}const aE="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bg;const R3=typeof window<"u"&&window.trustedTypes;if(R3)try{Bg=R3.createPolicy("vue",{createHTML:e=>e})}catch{}const lE=Bg?e=>Bg.createHTML(e):e=>e,kC="http://www.w3.org/2000/svg",MC="http://www.w3.org/1998/Math/MathML",sn=typeof document<"u"?document:null,P3=sn&&sn.createElement("template"),IC={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const i=t==="svg"?sn.createElementNS(kC,e):t==="mathml"?sn.createElementNS(MC,e):r?sn.createElement(e,{is:r}):sn.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>sn.createTextNode(e),createComment:e=>sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,i,n){const a=r?r.previousSibling:t.lastChild;if(i&&(i===n||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===n||!(i=i.nextSibling)););else{P3.innerHTML=lE(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=P3.content;if(s==="svg"||s==="mathml"){const d=l.firstChild;for(;d.firstChild;)l.appendChild(d.firstChild);l.removeChild(d)}t.insertBefore(l,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},OC=Symbol("_vtc");function CC(e,t,r){const s=e[OC];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const bf=Symbol("_vod"),uE=Symbol("_vsh"),AC={beforeMount(e,{value:t},{transition:r}){e[bf]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Du(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),Du(e,!0),s.enter(e)):s.leave(e,()=>{Du(e,!1)}):Du(e,t))},beforeUnmount(e,{value:t}){Du(e,t)}};function Du(e,t){e.style.display=t?e[bf]:"none",e[uE]=!t}const jC=Symbol(""),RC=/(^|;)\s*display\s*:/;function PC(e,t,r){const s=e.style,i=At(r);let n=!1;if(r&&!i){if(t)if(At(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();r[l]==null&&ch(s,l,"")}else for(const a in t)r[a]==null&&ch(s,a,"");for(const a in r)a==="display"&&(n=!0),ch(s,a,r[a])}else if(i){if(t!==r){const a=s[jC];a&&(r+=";"+a),s.cssText=r,n=RC.test(r)}}else t&&e.removeAttribute("style");bf in e&&(e[bf]=n?s.display:"",e[uE]&&(s.display="none"))}const L3=/\s*!important$/;function ch(e,t,r){if(Oe(r))r.forEach(s=>ch(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=LC(e,t);L3.test(r)?e.setProperty(Na(s),r.replace(L3,""),"important"):e[s]=r}}const F3=["Webkit","Moz","ms"],Pm={};function LC(e,t){const r=Pm[t];if(r)return r;let s=Os(t);if(s!=="filter"&&s in e)return Pm[t]=s;s=py(s);for(let i=0;i<F3.length;i++){const n=F3[i]+s;if(n in e)return Pm[t]=n}return t}const N3="http://www.w3.org/1999/xlink";function D3(e,t,r,s,i,n=R5(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(N3,t.slice(6,t.length)):e.setAttributeNS(N3,t,r):r==null||n&&!tx(r)?e.removeAttribute(t):e.setAttribute(t,n?"":Ii(r)?String(r):r)}function z3(e,t,r,s,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?lE(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const l=n==="OPTION"?e.getAttribute("value")||"":e.value,d=r==null?e.type==="checkbox"?"on":"":String(r);(l!==d||!("_value"in e))&&(e.value=d),r==null&&e.removeAttribute(t),e._value=r;return}let a=!1;if(r===""||r==null){const l=typeof e[t];l==="boolean"?r=tx(r):r==null&&l==="string"?(r="",a=!0):l==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(i||t)}function da(e,t,r,s){e.addEventListener(t,r,s)}function FC(e,t,r,s){e.removeEventListener(t,r,s)}const V3=Symbol("_vei");function NC(e,t,r,s,i=null){const n=e[V3]||(e[V3]={}),a=n[t];if(s&&a)a.value=s;else{const[l,d]=DC(t);if(s){const f=n[t]=UC(s,i);da(e,l,f,d)}else a&&(FC(e,l,a,d),n[t]=void 0)}}const U3=/(?:Once|Passive|Capture)$/;function DC(e){let t;if(U3.test(e)){t={};let s;for(;s=e.match(U3);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Na(e.slice(2)),t]}let Lm=0;const zC=Promise.resolve(),VC=()=>Lm||(zC.then(()=>Lm=0),Lm=Date.now());function UC(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Oi(qC(s,r.value),t,5,[s])};return r.value=e,r.attached=VC(),r}function qC(e,t){if(Oe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const q3=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,BC=(e,t,r,s,i,n)=>{const a=i==="svg";t==="class"?CC(e,s,a):t==="style"?PC(e,r,s):Nd(t)?Fw(t)||NC(e,t,r,s,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):HC(e,t,s,a))?(z3(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&D3(e,t,s,a,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!At(s))?z3(e,Os(t),s,n,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),D3(e,t,s,a))};function HC(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&q3(t)&&Ae(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return q3(t)&&At(r)?!1:t in e}const wf=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?r=>ah(t,r):t};function GC(e){e.target.composing=!0}function B3(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Bl=Symbol("_assign"),WC={created(e,{modifiers:{lazy:t,trim:r,number:s}},i){e[Bl]=wf(i);const n=s||i.props&&i.props.type==="number";da(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;r&&(l=l.trim()),n&&(l=Cg(l)),e[Bl](l)}),r&&da(e,"change",()=>{e.value=e.value.trim()}),t||(da(e,"compositionstart",GC),da(e,"compositionend",B3),da(e,"change",B3))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:i,number:n}},a){if(e[Bl]=wf(a),e.composing)return;const l=(n||e.type==="number")&&!/^0\d/.test(e.value)?Cg(e.value):e.value,d=t??"";l!==d&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||i&&e.value.trim()===d)||(e.value=d))}},JC={created(e,{value:t},r){e.checked=lf(t,r.props.value),e[Bl]=wf(r),da(e,"change",()=>{e[Bl](KC(e))})},beforeUpdate(e,{value:t,oldValue:r},s){e[Bl]=wf(s),t!==r&&(e.checked=lf(t,s.props.value))}};function KC(e){return"_value"in e?e._value:e.value}const QC=["ctrl","shift","alt","meta"],ZC={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>QC.some(r=>e[`${r}Key`]&&!t.includes(r))},YC=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(i,...n)=>{for(let a=0;a<t.length;a++){const l=ZC[t[a]];if(l&&l(i,t))return}return e(i,...n)})},cE=ar({patchProp:BC},IC);let Hc,H3=!1;function XC(){return Hc||(Hc=K4(cE))}function eA(){return Hc=H3?Hc:Q4(cE),H3=!0,Hc}const tA=(...e)=>{const t=XC().createApp(...e),{mount:r}=t;return t.mount=s=>{const i=pE(s);if(!i)return;const n=t._component;!Ae(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=r(i,!1,dE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},rA=(...e)=>{const t=eA().createApp(...e),{mount:r}=t;return t.mount=s=>{const i=pE(s);if(i)return r(i,!0,dE(i))},t};function dE(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pE(e){return At(e)?document.querySelector(e):e}const sA=/#/g,iA=/&/g,nA=/\//g,oA=/=/g,i1=/\+/g,aA=/%5e/gi,lA=/%60/gi,uA=/%7c/gi,cA=/%20/gi;function dA(e){return encodeURI(""+e).replace(uA,"|")}function Hg(e){return dA(typeof e=="string"?e:JSON.stringify(e)).replace(i1,"%2B").replace(cA,"+").replace(sA,"%23").replace(iA,"%26").replace(lA,"`").replace(aA,"^").replace(nA,"%2F")}function Fm(e){return Hg(e).replace(oA,"%3D")}function _f(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function pA(e){return _f(e.replace(i1," "))}function hA(e){return _f(e.replace(i1," "))}function hE(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const s=r.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const i=pA(s[1]);if(i==="__proto__"||i==="constructor")continue;const n=hA(s[2]||"");t[i]===void 0?t[i]=n:Array.isArray(t[i])?t[i].push(n):t[i]=[t[i],n]}return t}function fA(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${Fm(e)}=${Hg(r)}`).join("&"):`${Fm(e)}=${Hg(t)}`:Fm(e)}function fE(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>fA(t,e[t])).filter(Boolean).join("&")}const yA=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,mA=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,gA=/^([/\\]\s*){2,}[^/\\]/,vA=/^[\s\0]*(blob|data|javascript|vbscript):$/i,bA=/\/$|\/\?|\/#/,wA=/^\.?\//;function by(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?yA.test(e):mA.test(e)||(t.acceptRelative?gA.test(e):!1)}function _A(e){return!!e&&vA.test(e)}function Gg(e="",t){return t?bA.test(e):e.endsWith("/")}function yE(e="",t){if(!t)return(Gg(e)?e.slice(0,-1):e)||"/";if(!Gg(e,!0))return e||"/";let r=e,s="";const i=e.indexOf("#");i>=0&&(r=e.slice(0,i),s=e.slice(i));const[n,...a]=r.split("?");return((n.endsWith("/")?n.slice(0,-1):n)||"/")+(a.length>0?`?${a.join("?")}`:"")+s}function Wg(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(Gg(e,!0))return e||"/";let r=e,s="";const i=e.indexOf("#");if(i>=0&&(r=e.slice(0,i),s=e.slice(i),!r))return s;const[n,...a]=r.split("?");return n+"/"+(a.length>0?`?${a.join("?")}`:"")+s}function SA(e=""){return e.startsWith("/")}function G3(e=""){return SA(e)?e:"/"+e}function $A(e,t){if(gE(t)||by(e))return e;const r=yE(t);return e.startsWith(r)?e:mu(r,e)}function xA(e,t){if(gE(t))return e;const r=yE(t);if(!e.startsWith(r))return e;const s=e.slice(r.length);return s[0]==="/"?s:"/"+s}function mE(e,t){const r=qd(e),s={...hE(r.search),...t};return r.search=fE(s),bE(r)}function gE(e){return!e||e==="/"}function EA(e){return e&&e!=="/"}function mu(e,...t){let r=e||"";for(const s of t.filter(i=>EA(i)))if(r){const i=s.replace(wA,"");r=Wg(r)+i}else r=s;return r}function TA(e,t,r={}){return r.trailingSlash||(e=Wg(e),t=Wg(t)),r.leadingSlash||(e=G3(e),t=G3(t)),r.encoding||(e=_f(e),t=_f(t)),e===t}const vE=Symbol.for("ufo:protocolRelative");function qd(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,y,v=""]=r;return{protocol:y.toLowerCase(),pathname:v,href:y+v,auth:"",host:"",search:"",hash:""}}if(!by(e,{acceptRelative:!0}))return t?qd(t+e):W3(e);const[,s="",i,n=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",l=""]=n.match(/([^#/?]*)(.*)?/)||[];s==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:d,search:f,hash:h}=W3(l);return{protocol:s.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:d,search:f,hash:h,[vE]:!s}}function W3(e=""){const[t="",r="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:s}}function bE(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",s=e.hash||"",i=e.auth?e.auth+"@":"",n=e.host||"";return(e.protocol||e[vE]?(e.protocol||"")+"//":"")+i+n+t+r+s}const kA=()=>{var e;return((e=window==null?void 0:window.__NUXT__)==null?void 0:e.config)||{}},Sf=kA().app,MA=()=>Sf.baseURL,IA=()=>Sf.buildAssetsDir,n1=(...e)=>mu(wE(),IA(),...e),wE=(...e)=>{const t=Sf.cdnURL||Sf.baseURL;return e.length?mu(t,...e):t};globalThis.__buildAssetsURL=n1,globalThis.__publicAssetsURL=wE;const OA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,CA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,AA=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jA(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){RA(e);return}return t}function RA(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function $f(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const s=r.toLowerCase();if(s==="true")return!0;if(s==="false")return!1;if(s==="undefined")return;if(s==="null")return null;if(s==="nan")return Number.NaN;if(s==="infinity")return Number.POSITIVE_INFINITY;if(s==="-infinity")return Number.NEGATIVE_INFINITY}if(!AA.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(OA.test(e)||CA.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jA)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}class PA extends Error{constructor(t,r){super(t,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function LA(e){var d,f,h,y,v;const t=((d=e.error)==null?void 0:d.message)||((f=e.error)==null?void 0:f.toString())||"",r=((h=e.request)==null?void 0:h.method)||((y=e.options)==null?void 0:y.method)||"GET",s=((v=e.request)==null?void 0:v.url)||String(e.request)||"/",i=`[${r}] ${JSON.stringify(s)}`,n=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",a=`${i}: ${n}${t?` ${t}`:""}`,l=new PA(a,e.error?{cause:e.error}:void 0);for(const b of["request","options","response"])Object.defineProperty(l,b,{get(){return e[b]}});for(const[b,$]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(l,b,{get(){return e.response&&e.response[$]}});return l}const FA=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function J3(e="GET"){return FA.has(e.toUpperCase())}function NA(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const DA=new Set(["image/svg","application/xml","application/xhtml","application/html"]),zA=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function VA(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return zA.test(t)?"json":DA.has(t)||t.startsWith("text/")?"text":"blob"}function UA(e,t,r,s){const i=qA((t==null?void 0:t.headers)??(e==null?void 0:e.headers),r==null?void 0:r.headers,s);let n;return(r!=null&&r.query||r!=null&&r.params||t!=null&&t.params||t!=null&&t.query)&&(n={...r==null?void 0:r.params,...r==null?void 0:r.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...r,...t,query:n,params:n,headers:i}}function qA(e,t,r){if(!t)return new r(e);const s=new r(t);if(e)for(const[i,n]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))s.set(i,n);return s}async function Tp(e,t){if(t)if(Array.isArray(t))for(const r of t)await r(e);else await t(e)}const BA=new Set([408,409,425,429,500,502,503,504]),HA=new Set([101,204,205,304]);function _E(e={}){const{fetch:t=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:s=globalThis.AbortController}=e;async function i(l){const d=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!d){let h;typeof l.options.retry=="number"?h=l.options.retry:h=J3(l.options.method)?0:1;const y=l.response&&l.response.status||500;if(h>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(y):BA.has(y))){const v=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return v>0&&await new Promise(b=>setTimeout(b,v)),n(l.request,{...l.options,retry:h-1})}}const f=LA(l);throw Error.captureStackTrace&&Error.captureStackTrace(f,n),f}const n=async function(d,f={}){const h={request:d,options:UA(d,f,e.defaults,r),response:void 0,error:void 0};h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&await Tp(h,h.options.onRequest),typeof h.request=="string"&&(h.options.baseURL&&(h.request=$A(h.request,h.options.baseURL)),h.options.query&&(h.request=mE(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&J3(h.options.method)&&(NA(h.options.body)?(h.options.body=typeof h.options.body=="string"?h.options.body:JSON.stringify(h.options.body),h.options.headers=new r(h.options.headers||{}),h.options.headers.has("content-type")||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")):("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half")));let y;if(!h.options.signal&&h.options.timeout){const b=new s;y=setTimeout(()=>{const $=new Error("[TimeoutError]: The operation was aborted due to timeout");$.name="TimeoutError",$.code=23,b.abort($)},h.options.timeout),h.options.signal=b.signal}try{h.response=await t(h.request,h.options)}catch(b){return h.error=b,h.options.onRequestError&&await Tp(h,h.options.onRequestError),await i(h)}finally{y&&clearTimeout(y)}if((h.response.body||h.response._bodyInit)&&!HA.has(h.response.status)&&h.options.method!=="HEAD"){const b=(h.options.parseResponse?"json":h.options.responseType)||VA(h.response.headers.get("content-type")||"");switch(b){case"json":{const $=await h.response.text(),T=h.options.parseResponse||$f;h.response._data=T($);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[b]()}}return h.options.onResponse&&await Tp(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Tp(h,h.options.onResponseError),await i(h)):h.response},a=async function(d,f){return(await n(d,f))._data};return a.raw=n,a.native=(...l)=>t(...l),a.create=(l={},d={})=>_E({...e,...d,defaults:{...e.defaults,...d.defaults,...l}}),a}const xf=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),GA=xf.fetch?(...e)=>xf.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),WA=xf.Headers,JA=xf.AbortController,KA=_E({fetch:GA,Headers:WA,AbortController:JA}),QA=KA;globalThis.$fetch||(globalThis.$fetch=QA.create({baseURL:MA()}));function Jg(e,t={},r){for(const s in e){const i=e[s],n=r?`${r}:${s}`:s;typeof i=="object"&&i!==null?Jg(i,t,n):typeof i=="function"&&(t[n]=i)}return t}const ZA={run:e=>e()},YA=()=>ZA,SE=typeof console.createTask<"u"?console.createTask:YA;function XA(e,t){const r=t.shift(),s=SE(r);return e.reduce((i,n)=>i.then(()=>s.run(()=>n(...t))),Promise.resolve())}function ej(e,t){const r=t.shift(),s=SE(r);return Promise.all(e.map(i=>s.run(()=>i(...t))))}function Nm(e,t){for(const r of[...e])r(t)}class tj{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,r,s={}){if(!t||typeof r!="function")return()=>{};const i=t;let n;for(;this._deprecatedHooks[t];)n=this._deprecatedHooks[t],t=n.to;if(n&&!s.allowDeprecated){let a=n.message;a||(a=`${i} hook has been deprecated`+(n.to?`, please use ${n.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(r),()=>{r&&(this.removeHook(t,r),r=void 0)}}hookOnce(t,r){let s,i=(...n)=>(typeof s=="function"&&s(),s=void 0,i=void 0,r(...n));return s=this.hook(t,i),s}removeHook(t,r){if(this._hooks[t]){const s=this._hooks[t].indexOf(r);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,r){this._deprecatedHooks[t]=typeof r=="string"?{to:r}:r;const s=this._hooks[t]||[];delete this._hooks[t];for(const i of s)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const r in t)this.deprecateHook(r,t[r])}addHooks(t){const r=Jg(t),s=Object.keys(r).map(i=>this.hook(i,r[i]));return()=>{for(const i of s.splice(0,s.length))i()}}removeHooks(t){const r=Jg(t);for(const s in r)this.removeHook(s,r[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...r){return r.unshift(t),this.callHookWith(XA,t,...r)}callHookParallel(t,...r){return r.unshift(t),this.callHookWith(ej,t,...r)}callHookWith(t,r,...s){const i=this._before||this._after?{name:r,args:s,context:{}}:void 0;this._before&&Nm(this._before,i);const n=t(r in this._hooks?[...this._hooks[r]]:[],s);return n instanceof Promise?n.finally(()=>{this._after&&i&&Nm(this._after,i)}):(this._after&&i&&Nm(this._after,i),n)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const r=this._before.indexOf(t);r!==-1&&this._before.splice(r,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const r=this._after.indexOf(t);r!==-1&&this._after.splice(r,1)}}}}function $E(){return new tj}function rj(e={}){let t,r=!1;const s=a=>{if(t&&t!==a)throw new Error("Context conflict")};let i;if(e.asyncContext){const a=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;a?i=new a:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const n=()=>{if(i&&t===void 0){const a=i.getStore();if(a!==void 0)return a}return t};return{use:()=>{const a=n();if(a===void 0)throw new Error("Context is not available");return a},tryUse:()=>n(),set:(a,l)=>{l||s(a),t=a,r=!0},unset:()=>{t=void 0,r=!1},call:(a,l)=>{s(a),t=a;try{return i?i.run(a,l):l()}finally{r||(t=void 0)}},async callAsync(a,l){t=a;const d=()=>{t=a},f=()=>t===a?d:void 0;Kg.add(f);try{const h=i?i.run(a,l):l();return r||(t=void 0),await h}finally{Kg.delete(f)}}}}function sj(e={}){const t={};return{get(r,s={}){return t[r]||(t[r]=rj({...e,...s})),t[r],t[r]}}}const Ef=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},K3="__unctx__",ij=Ef[K3]||(Ef[K3]=sj()),nj=(e,t={})=>ij.get(e,t),Q3="__unctx_async_handlers__",Kg=Ef[Q3]||(Ef[Q3]=new Set);function xE(e){const t=[];for(const i of Kg){const n=i();n&&t.push(n)}const r=()=>{for(const i of t)i()};let s=e();return s&&typeof s=="object"&&"catch"in s&&(s=s.catch(i=>{throw r(),i})),[s,r]}const EE=nj("nuxt-app",{asyncContext:!1}),oj="__nuxt_plugin";function aj(e){let t=0;const r={_scope:L5(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.8.2"},get vue(){return r.vueApp.version}},payload:mr({data:{},state:{},_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:i=>r._scope.run(()=>cj(r,i)),isHydrating:!0,deferHydration(){if(!r.isHydrating)return()=>{};t++;let i=!1;return()=>{if(!i&&(i=!0,t--,t===0))return r.isHydrating=!1,r.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...e};r.hooks=$E(),r.hook=r.hooks.hook,r.callHook=r.hooks.callHook,r.provide=(i,n)=>{const a="$"+i;kp(r,a,n),kp(r.vueApp.config.globalProperties,a,n)},kp(r.vueApp,"$nuxt",r),kp(r.vueApp.config.globalProperties,"$nuxt",r);{window.addEventListener("nuxt.preloadError",n=>{r.callHook("app:chunkError",{error:n.payload})}),window.useNuxtApp=window.useNuxtApp||lr;const i=r.hook("app:error",(...n)=>{console.error("[nuxt] error caught during app initialization",...n)});r.hook("app:mounted",i)}const s=mr(r.payload.config);return r.provide("config",s),r}async function lj(e,t){if(t.hooks&&e.hooks.addHooks(t.hooks),typeof t=="function"){const{provide:r}=await e.runWithContext(()=>t(e))||{};if(r&&typeof r=="object")for(const s in r)e.provide(s,r[s])}}async function uj(e,t){const r=[],s=[];for(const i of t){const n=lj(e,i);i.parallel?r.push(n.catch(a=>s.push(a))):await n}if(await Promise.all(r),s.length)throw s[0]}/*! @__NO_SIDE_EFFECTS__ */function Da(e){return typeof e=="function"?e:(delete e.name,Object.assign(e.setup||(()=>{}),e,{[oj]:!0}))}function cj(e,t,r){const s=()=>r?t(...r):t();return EE.set(e),e.vueApp.runWithContext(s)}/*! @__NO_SIDE_EFFECTS__ */function lr(){var t;let e;if(Lx()&&(e=(t=bC())==null?void 0:t.appContext.app.$nuxt),e=e||EE.tryUse(),!e)throw new Error("[nuxt] instance unavailable");return e}/*! @__NO_SIDE_EFFECTS__ */function Tf(){return lr().$config}function kp(e,t,r){Object.defineProperty(e,t,{get:()=>r})}const dj="modulepreload",pj=function(e,t){return e[0]==="."?new URL(e,t).href:e},Z3={},hj=function(t,r,s){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(n=>{if(n=pj(n,s),n in Z3)return;Z3[n]=!0;const a=n.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let h=i.length-1;h>=0;h--){const y=i[h];if(y.href===n&&(!a||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":dj,a||(f.as="script",f.crossOrigin=""),f.href=n,document.head.appendChild(f),a)return new Promise((h,y)=>{f.addEventListener("load",h),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})},Ne=(...e)=>hj(...e).catch(t=>{const r=new Event("nuxt.preloadError");throw r.payload=t,window.dispatchEvent(r),t}),fj=-1,yj=-2,mj=-3,gj=-4,vj=-5,bj=-6;function wj(e,t){return _j(JSON.parse(e),t)}function _j(e,t){if(typeof e=="number")return i(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const r=e,s=Array(r.length);function i(n,a=!1){if(n===fj)return;if(n===mj)return NaN;if(n===gj)return 1/0;if(n===vj)return-1/0;if(n===bj)return-0;if(a)throw new Error("Invalid input");if(n in s)return s[n];const l=r[n];if(!l||typeof l!="object")s[n]=l;else if(Array.isArray(l))if(typeof l[0]=="string"){const d=l[0],f=t==null?void 0:t[d];if(f)return s[n]=f(i(l[1]));switch(d){case"Date":s[n]=new Date(l[1]);break;case"Set":const h=new Set;s[n]=h;for(let b=1;b<l.length;b+=1)h.add(i(l[b]));break;case"Map":const y=new Map;s[n]=y;for(let b=1;b<l.length;b+=2)y.set(i(l[b]),i(l[b+1]));break;case"RegExp":s[n]=new RegExp(l[1],l[2]);break;case"Object":s[n]=Object(l[1]);break;case"BigInt":s[n]=BigInt(l[1]);break;case"null":const v=Object.create(null);s[n]=v;for(let b=1;b<l.length;b+=2)v[l[b]]=i(l[b+1]);break;default:throw new Error(`Unknown type ${d}`)}}else{const d=new Array(l.length);s[n]=d;for(let f=0;f<l.length;f+=1){const h=l[f];h!==yj&&(d[f]=i(h))}}else{const d={};s[n]=d;for(const f in l){const h=l[f];d[f]=i(h)}}return s[n]}return i(0)}const Sj=new Set(["title","titleTemplate","script","style","noscript"]),dh=new Set(["base","meta","link","style","script","noscript"]),$j=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),xj=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),TE=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),Ej=typeof window<"u";function kf(e){let t=9;for(let r=0;r<e.length;)t=Math.imul(t^e.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Qg(e){if(e._h)return e._h;if(e._d)return kf(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const r in e.props)t+=`${r}:${String(e.props[r])},`;return kf(t)}function Tj(e,t){return e instanceof Promise?e.then(t):t(e)}function Zg(e,t,r,s){const i=s||ME(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(i instanceof Promise)return i.then(a=>Zg(e,t,r,a));const n={tag:e,props:i};for(const a of TE){const l=n.props[a]!==void 0?n.props[a]:r[a];l!==void 0&&((!(a==="innerHTML"||a==="textContent"||a==="children")||Sj.has(n.tag))&&(n[a==="children"?"innerHTML":a]=l),delete n.props[a])}return n.props.body&&(n.tagPosition="bodyClose",delete n.props.body),n.tag==="script"&&typeof n.innerHTML=="object"&&(n.innerHTML=JSON.stringify(n.innerHTML),n.props.type=n.props.type||"application/json"),Array.isArray(n.props.content)?n.props.content.map(a=>({...n,props:{...n.props,content:a}})):n}function kj(e,t){var s;const r=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,i])=>i).map(([i,n])=>e==="style"?`${i}:${n}`:i)),(s=String(Array.isArray(t)?t.join(r):t))==null?void 0:s.split(r).filter(i=>!!i.trim()).join(r)}function kE(e,t,r,s){for(let i=s;i<r.length;i+=1){const n=r[i];if(n==="class"||n==="style"){e[n]=kj(n,e[n]);continue}if(e[n]instanceof Promise)return e[n].then(a=>(e[n]=a,kE(e,t,r,i)));if(!t&&!TE.has(n)){const a=String(e[n]),l=n.startsWith("data-");a==="true"||a===""?e[n]=l?"true":!0:e[n]||(l&&a==="false"?e[n]="false":delete e[n])}}}function ME(e,t=!1){const r=kE(e,t,Object.keys(e),0);return r instanceof Promise?r.then(()=>e):e}const Mj=10;function IE(e,t,r){for(let s=r;s<t.length;s+=1){const i=t[s];if(i instanceof Promise)return i.then(n=>(t[s]=n,IE(e,t,s)));Array.isArray(i)?e.push(...i):e.push(i)}}function Ij(e){const t=[],r=e.resolvedInput;for(const i in r){if(!Object.prototype.hasOwnProperty.call(r,i))continue;const n=r[i];if(!(n===void 0||!$j.has(i))){if(Array.isArray(n)){for(const a of n)t.push(Zg(i,a,e));continue}t.push(Zg(i,n,e))}}if(t.length===0)return[];const s=[];return Tj(IE(s,t,0),()=>s.map((i,n)=>(i._e=e._i,e.mode&&(i._m=e.mode),i._p=(e._i<<Mj)+n,i)))}const Y3=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),X3={base:-10,title:10},eS={critical:-80,high:-10,low:20};function Mf(e){const t=e.tagPriority;if(typeof t=="number")return t;let r=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?r=-30:e.props.charset?r=-20:e.props.name==="viewport"&&(r=-15):e.tag==="link"&&e.props.rel==="preconnect"?r=20:e.tag in X3&&(r=X3[e.tag]),t&&t in eS?r+eS[t]:r}const Oj=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],Cj=["name","property","http-equiv"];function OE(e){const{props:t,tag:r}=e;if(xj.has(r))return r;if(r==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${r}:id:${t.id}`;for(const s of Cj)if(t[s]!==void 0)return`${r}:${s}:${t[s]}`;return!1}const eo="%separator";function Aj(e,t){var s;let r;if(t==="s"||t==="pageTitle")r=e.pageTitle;else if(t.includes(".")){const i=t.indexOf(".");r=(s=e[t.substring(0,i)])==null?void 0:s[t.substring(i+1)]}else r=e[t];return r!==void 0?(r||"").replace(/"/g,'\\"'):void 0}const jj=new RegExp(`${eo}(?:\\s*${eo})*`,"g");function Mp(e,t,r){if(typeof e!="string"||!e.includes("%"))return e;let s=e;try{s=decodeURI(e)}catch{}const i=s.match(/%\w+(?:\.\w+)?/g);if(!i)return e;const n=e.includes(eo);return e=e.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===eo||!i.includes(a))return a;const l=Aj(t,a.slice(1));return l!==void 0?l:a}).trim(),n&&(e.endsWith(eo)&&(e=e.slice(0,-eo.length)),e.startsWith(eo)&&(e=e.slice(eo.length)),e=e.replace(jj,r).trim()),e}function tS(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function CE(e,t={}){const r=t.document||e.resolvedOptions.document;if(!r||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var y;const n=(await e.resolveTags()).map(v=>({tag:v,id:dh.has(v.tag)?Qg(v):v.tag,shouldRender:!0}));let a=e._dom;if(!a){a={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};const v=new Set;for(const b of["body","head"]){const $=(y=r[b])==null?void 0:y.children;for(const T of $){const j=T.tagName.toLowerCase();if(!dh.has(j))continue;const L={tag:j,props:await ME(T.getAttributeNames().reduce((m,g)=>({...m,[g]:T.getAttribute(g)}),{})),innerHTML:T.innerHTML},W=OE(L);let O=W,p=1;for(;O&&v.has(O);)O=`${W}:${p++}`;O&&(L._d=O,v.add(O)),a.elMap[T.getAttribute("data-hid")||Qg(L)]=T}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(v,b,$){const T=`${v}:${b}`;a.sideEffects[T]=$,delete a.pendingSideEffects[T]}function d({id:v,$el:b,tag:$}){const T=$.tag.endsWith("Attrs");if(a.elMap[v]=b,T||($.textContent&&$.textContent!==b.textContent&&(b.textContent=$.textContent),$.innerHTML&&$.innerHTML!==b.innerHTML&&(b.innerHTML=$.innerHTML),l(v,"el",()=>{var j;(j=a.elMap[v])==null||j.remove(),delete a.elMap[v]})),$._eventHandlers)for(const j in $._eventHandlers)Object.prototype.hasOwnProperty.call($._eventHandlers,j)&&b.getAttribute(`data-${j}`)!==""&&(($.tag==="bodyAttrs"?r.defaultView:b).addEventListener(j.substring(2),$._eventHandlers[j].bind(b)),b.setAttribute(`data-${j}`,""));for(const j in $.props){if(!Object.prototype.hasOwnProperty.call($.props,j))continue;const L=$.props[j],W=`attr:${j}`;if(j==="class"){if(!L)continue;for(const O of L.split(" "))T&&l(v,`${W}:${O}`,()=>b.classList.remove(O)),!b.classList.contains(O)&&b.classList.add(O)}else if(j==="style"){if(!L)continue;for(const O of L.split(";")){const p=O.indexOf(":"),m=O.substring(0,p).trim(),g=O.substring(p+1).trim();l(v,`${W}:${m}`,()=>{b.style.removeProperty(m)}),b.style.setProperty(m,g)}}else b.getAttribute(j)!==L&&b.setAttribute(j,L===!0?"":String(L)),T&&l(v,W,()=>b.removeAttribute(j))}}const f=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const v of n){const{tag:b,shouldRender:$,id:T}=v;if($){if(b.tag==="title"){r.title=b.textContent;continue}v.$el=v.$el||a.elMap[T],v.$el?d(v):dh.has(b.tag)&&f.push(v)}}for(const v of f){const b=v.tag.tagPosition||"head";v.$el=r.createElement(v.tag.tag),d(v),h[b]=h[b]||r.createDocumentFragment(),h[b].appendChild(v.$el)}for(const v of n)await e.hooks.callHook("dom:renderTag",v,r,l);h.head&&r.head.appendChild(h.head),h.bodyOpen&&r.body.insertBefore(h.bodyOpen,r.body.firstChild),h.bodyClose&&r.body.appendChild(h.bodyClose);for(const v in a.pendingSideEffects)a.pendingSideEffects[v]();e._dom=a,await e.hooks.callHook("dom:rendered",{renders:n}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Rj(e,t={}){const r=t.delayFn||(s=>setTimeout(s,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(s=>r(()=>CE(e,t).then(()=>{delete e._domDebouncedUpdatePromise,s()})))}function Pj(e){return t=>{var s,i;const r=((i=(s=t.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return r&&t.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":n=>{Rj(n,e)}}}}}const Lj=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Fj={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=OE(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const r=t||(e.key?`${e.tag}:${e.key}`:!1);r&&(e._d=r)},"tags:resolve":e=>{const t=Object.create(null);for(const s of e.tags){const i=(s.key?`${s.tag}:${s.key}`:s._d)||Qg(s),n=t[i];if(n){let l=s==null?void 0:s.tagDuplicateStrategy;if(!l&&Lj.has(s.tag)&&(l="merge"),l==="merge"){const d=n.props;d.style&&s.props.style&&(d.style[d.style.length-1]!==";"&&(d.style+=";"),s.props.style=`${d.style} ${s.props.style}`),d.class&&s.props.class?s.props.class=`${d.class} ${s.props.class}`:d.class&&(s.props.class=d.class),t[i].props={...d,...s.props};continue}else if(s._e===n._e){n._duped=n._duped||[],s._d=`${n._d}:${n._duped.length+1}`,n._duped.push(s);continue}else if(Mf(s)>Mf(n))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&dh.has(s.tag)){delete t[i];continue}t[i]=s}const r=[];for(const s in t){const i=t[s],n=i._duped;r.push(i),n&&(delete i._duped,r.push(...n))}e.tags=r,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},Nj=new Set(["script","link","bodyAttrs"]),Dj=e=>({hooks:{"tags:resolve":t=>{for(const r of t.tags){if(!Nj.has(r.tag))continue;const s=r.props;for(const i in s){if(i[0]!=="o"||i[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,i))continue;const n=s[i];typeof n=="function"&&(e.ssr&&Y3.has(i)?s[i]=`this.dataset.${i}fired = true`:delete s[i],r._eventHandlers=r._eventHandlers||{},r._eventHandlers[i]=n)}e.ssr&&r._eventHandlers&&(r.props.src||r.props.href)&&(r.key=r.key||kf(r.props.src||r.props.href))}},"dom:renderTag":({$el:t,tag:r})=>{var i,n;const s=t==null?void 0:t.dataset;if(s)for(const a in s){if(!a.endsWith("fired"))continue;const l=a.slice(0,-5);Y3.has(l)&&((n=(i=r._eventHandlers)==null?void 0:i[l])==null||n.call(t,new Event(l.substring(2))))}}}}),zj=new Set(["link","style","script","noscript"]),Vj={hooks:{"tag:normalise":({tag:e})=>{e.key&&zj.has(e.tag)&&(e.props["data-hid"]=e._h=kf(e.key))}}},Uj={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let r=!1;for(const s of e.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(t[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,r=!0);r&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},qj={hooks:{"tags:resolve":e=>{var t;for(const r of e.tags)if(typeof r.tagPriority=="string")for(const{prefix:s,offset:i}of Oj){if(!r.tagPriority.startsWith(s))continue;const n=r.tagPriority.substring(s.length),a=(t=e.tags.find(l=>l._d===n))==null?void 0:t._p;if(a!==void 0){r._p=a+i;break}}e.tags.sort((r,s)=>{const i=Mf(r),n=Mf(s);return i<n?-1:i>n?1:r._p-s._p})}}},Bj={meta:"content",link:"href",htmlAttrs:"lang"},Hj=["innerHTML","textContent"],Gj=e=>({hooks:{"tags:resolve":t=>{var a;const{tags:r}=t;let s;for(let l=0;l<r.length;l+=1)r[l].tag==="templateParams"&&(s=t.tags.splice(l,1)[0].props,l-=1);const i=s||{},n=i.separator||"|";delete i.separator,i.pageTitle=Mp(i.pageTitle||((a=r.find(l=>l.tag==="title"))==null?void 0:a.textContent)||"",i,n);for(const l of r){if(l.processTemplateParams===!1)continue;const d=Bj[l.tag];if(d&&typeof l.props[d]=="string")l.props[d]=Mp(l.props[d],i,n);else if(l.processTemplateParams||l.tag==="titleTemplate"||l.tag==="title")for(const f of Hj)typeof l[f]=="string"&&(l[f]=Mp(l[f],i,n))}e._templateParams=i,e._separator=n},"tags:afterResolve":({tags:t})=>{let r;for(let s=0;s<t.length;s+=1){const i=t[s];i.tag==="title"&&i.processTemplateParams!==!1&&(r=i)}r!=null&&r.textContent&&(r.textContent=Mp(r.textContent,e._templateParams,e._separator))}}}),Wj={hooks:{"tags:resolve":e=>{const{tags:t}=e;let r,s;for(let i=0;i<t.length;i+=1){const n=t[i];n.tag==="title"?r=n:n.tag==="titleTemplate"&&(s=n)}if(s&&r){const i=tS(s.textContent,r.textContent);i!==null?r.textContent=i||r.textContent:e.tags.splice(e.tags.indexOf(r),1)}else if(s){const i=tS(s.textContent);i!==null&&(s.textContent=i,s.tag="title",s=void 0)}s&&e.tags.splice(e.tags.indexOf(s),1)}}},Jj={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let AE;function Kj(e={}){const t=Qj(e);return t.use(Pj()),AE=t}function rS(e,t){return!e||e==="server"&&t||e==="client"&&!t}function Qj(e={}){const t=$E();t.addHooks(e.hooks||{}),e.document=e.document||(Ej?document:void 0);const r=!e.document,s=()=>{l.dirty=!0,t.callHook("entries:updated",l)};let i=0,n=[];const a=[],l={plugins:a,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return n},use(d){const f=typeof d=="function"?d(l):d;(!f.key||!a.some(h=>h.key===f.key))&&(a.push(f),rS(f.mode,r)&&t.addHooks(f.hooks||{}))},push(d,f){f==null||delete f.head;const h={_i:i++,input:d,...f};return rS(h.mode,r)&&(n.push(h),s()),{dispose(){n=n.filter(y=>y._i!==h._i),s()},patch(y){for(const v of n)v._i===h._i&&(v.input=h.input=y);s()}}},async resolveTags(){const d={tags:[],entries:[...n]};await t.callHook("entries:resolve",d);for(const f of d.entries){const h=f.resolvedInput||f.input;if(f.resolvedInput=await(f.transform?f.transform(h):h),f.resolvedInput)for(const y of await Ij(f)){const v={tag:y,entry:f,resolvedOptions:l.resolvedOptions};await t.callHook("tag:normalise",v),d.tags.push(v.tag)}}return await t.callHook("tags:beforeResolve",d),await t.callHook("tags:resolve",d),await t.callHook("tags:afterResolve",d),d.tags},ssr:r};return[Fj,Uj,Dj,Vj,qj,Gj,Wj,Jj,...(e==null?void 0:e.plugins)||[]].forEach(d=>l.use(d)),l.hooks.callHook("init",l),l}function Zj(){return AE}const Yj=aE[0]==="3";function Xj(e){return typeof e=="function"?e():_e(e)}function Yg(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=Xj(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(r=>Yg(r));if(typeof t=="object"){const r={};for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){r[s]=_e(t[s]);continue}r[s]=Yg(t[s])}return r}return t}const eR={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Yg(t.input)}}},jE="usehead";function tR(e){return{install(r){Yj&&(r.config.globalProperties.$unhead=e,r.config.globalProperties.$head=e,r.provide(jE,e))}}.install}function rR(e={}){e.domDelayFn=e.domDelayFn||(r=>Ww(()=>setTimeout(()=>r(),0)));const t=Kj(e);return t.use(eR),t.install=tR(t),t}const Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e0="__unhead_injection_handler__";function sR(e){Xg[e0]=e}function SJ(){if(e0 in Xg)return Xg[e0]();const e=Ul(jE);return e||Zj()}function iR(e,t){return{ctx:{table:e},matchAll:r=>PE(r,e,t)}}function RE(e){const t={};for(const r in e)t[r]=r==="dynamic"?new Map(Object.entries(e[r]).map(([s,i])=>[s,RE(i)])):new Map(Object.entries(e[r]));return t}function nR(e){return iR(RE(e))}function PE(e,t,r){r!==!0&&e.endsWith("/")&&(e=e.slice(0,-1)||"/");const s=[];for(const[n,a]of sS(t.wildcard))(e===n||e.startsWith(n+"/"))&&s.push(a);for(const[n,a]of sS(t.dynamic))if(e.startsWith(n+"/")){const l="/"+e.slice(n.length).split("/").splice(2).join("/");s.push(...PE(l,a))}const i=t.static.get(e);return i&&s.push(i),s.filter(Boolean)}function sS(e){return[...e.entries()].sort((t,r)=>t[0].length-r[0].length)}function Dm(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function t0(e,t,r=".",s){if(!Dm(t))return t0(e,{},r,s);const i=Object.assign({},t);for(const n in e){if(n==="__proto__"||n==="constructor")continue;const a=e[n];a!=null&&(s&&s(i,n,a,r)||(Array.isArray(a)&&Array.isArray(i[n])?i[n]=[...a,...i[n]]:Dm(a)&&Dm(i[n])?i[n]=t0(a,i[n],(r?`${r}.`:"")+n.toString(),s):i[n]=a))}return i}function LE(e){return(...t)=>t.reduce((r,s)=>t0(r,s,"",e),{})}const oR=LE(),aR=LE((e,t,r)=>{if(e[t]!==void 0&&typeof r=="function")return e[t]=r(e[t]),!0});function lR(e,t){try{return t in e}catch{return!1}}var uR=Object.defineProperty,cR=(e,t,r)=>t in e?uR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lo=(e,t,r)=>(cR(e,typeof t!="symbol"?t+"":t,r),r);class r0 extends Error{constructor(t,r={}){super(t,r),Lo(this,"statusCode",500),Lo(this,"fatal",!1),Lo(this,"unhandled",!1),Lo(this,"statusMessage"),Lo(this,"data"),Lo(this,"cause"),r.cause&&!this.cause&&(this.cause=r.cause)}toJSON(){const t={message:this.message,statusCode:s0(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=FE(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}Lo(r0,"__h3_error__",!0);function dR(e){if(typeof e=="string")return new r0(e);if(pR(e))return e;const t=new r0(e.message??e.statusMessage??"",{cause:e.cause||e});if(lR(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=s0(e.statusCode,t.statusCode):e.status&&(t.statusCode=s0(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const r=t.statusMessage;FE(t.statusMessage)!==r&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function pR(e){var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.__h3_error__)===!0}const hR=/[^\u0009\u0020-\u007E]/g;function FE(e=""){return e.replace(hR,"")}function s0(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const NE=Symbol("route"),o1=()=>l4(lr().payload,"error"),fR=e=>{const t=DE(e);try{const r=lr(),s=o1();r.hooks.callHook("app:error",t),s.value=s.value||t}catch{throw t}return t},yR=async(e={})=>{const t=lr(),r=o1();t.callHook("app:error:cleared",e),e.redirect&&await wy().replace(e.redirect),r.value=null},mR=e=>!!(e&&typeof e=="object"&&"__nuxt_error"in e),DE=e=>{const t=dR(e);return t.__nuxt_error=!0,t},wy=()=>{var e;return(e=lr())==null?void 0:e.$router},zE=()=>Lx()?Ul(NE,lr()._route):lr()._route;/*! @__NO_SIDE_EFFECTS__ */const gR=()=>{try{if(lr()._processingMiddleware)return!0}catch{return!0}return!1},vR=(e,t)=>{e||(e="/");const r=typeof e=="string"?e:mE(e.path||"/",e.query||{})+(e.hash||"");if(t!=null&&t.open){{const{target:l="_blank",windowFeatures:d={}}=t.open,f=Object.entries(d).filter(([h,y])=>y!==void 0).map(([h,y])=>`${h.toLowerCase()}=${y}`).join(", ");open(r,l,f)}return Promise.resolve()}const s=(t==null?void 0:t.external)||by(r,{acceptRelative:!0});if(s){if(!(t!=null&&t.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const l=qd(r).protocol;if(l&&_A(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const i=gR();if(!s&&i)return e;const n=wy(),a=lr();return s?(a._scope.stop(),t!=null&&t.replace?location.replace(r):location.href=r,i?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t!=null&&t.replace?n.replace(e):n.push(e)},bR={nuxt:{buildId:"96f823db-b1e4-4902-b8d2-302c41d08b9d"}},wR=aR(bR);function _R(){const e=lr();return e._appConfig||(e._appConfig=mr(wR)),e._appConfig}const $J={componentName:"NuxtLink"},SR="#__nuxt";let ph,VE;function $R(){var t;const e=(t=_R().nuxt)==null?void 0:t.buildId;return ph=$fetch(n1(`builds/meta/${e}.json`)),ph.then(r=>{VE=nR(r.matcher)}),ph}function _y(){return ph||$R()}async function UE(e){return await _y(),oR({},...VE.matchAll(e).reverse())}function iS(e,t={}){const r=xR(e,t),s=lr(),i=s._payloadCache=s._payloadCache||{};return r in i||(i[r]=ER(e).then(n=>n?qE(r).then(a=>a||(delete i[r],null)):(i[r]=null,null))),i[r]}const nS="json";function xR(e,t={}){const r=new URL(e,"http://localhost");if(r.search)throw new Error("Payload URL cannot contain search params: "+e);if(r.host!=="localhost"||by(r.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const s=t.hash||(t.fresh?Date.now():"");return mu(Tf().app.baseURL,r.pathname,s?`_payload.${s}.${nS}`:`_payload.${nS}`)}async function qE(e){const t=fetch(e).then(r=>r.text().then(BE));try{return await t}catch(r){console.warn("[nuxt] Cannot load payload ",e,r)}return null}async function ER(e=zE().path){if((await _y()).prerendered.includes(e))return!0;const r=await UE(e);return!!r.prerender&&!r.redirect}let Ip=null;async function TR(){if(Ip)return Ip;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=BE(e.textContent||""),r=e.dataset.src?await qE(e.dataset.src):void 0;return Ip={...t,...r,...window.__NUXT__},Ip}function BE(e){return wj(e,lr()._payloadRevivers)}function kR(e,t){lr()._payloadRevivers[e]=t}const oS={NuxtError:e=>DE(e),EmptyShallowRef:e=>g3(e==="_"?void 0:e==="0n"?BigInt(0):$f(e)),EmptyRef:e=>po(e==="_"?void 0:e==="0n"?BigInt(0):$f(e)),ShallowRef:e=>g3(e),ShallowReactive:e=>bx(e),Ref:e=>po(e),Reactive:e=>mr(e)},MR=Da({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,r;for(const s in oS)kR(s,oS[s]);Object.assign(e.payload,([t,r]=xE(()=>e.runWithContext(TR)),t=await t,r(),t)),window.__NUXT__=e.payload}}),IR=[],OR=Da({name:"nuxt:head",enforce:"pre",setup(e){const t=rR({plugins:IR});sR(()=>lr().vueApp._context.provides.usehead),e.vueApp.use(t);{let r=!0;const s=async()=>{r=!1,await CE(t)};t.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!r}),e.hooks.hook("page:start",()=>{r=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||s()}),e.hooks.hook("app:error",s),e.hooks.hook("app:suspense:resolve",s)}}}),CR=async e=>{let t,r;const s=([t,r]=xE(()=>UE(e.path)),t=await t,r(),t);if(s.redirect)return s.redirect},AR=[CR];function zm(e){typeof e=="object"&&(e=bE({pathname:e.path||"",search:fE(e.query||{}),hash:e.hash||""}));const t=qd(e.toString());return{path:t.pathname,fullPath:e,query:hE(t.search),hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:e}}const jR=Da({name:"nuxt:router",enforce:"pre",setup(e){const t=xA(window.location.pathname,Tf().app.baseURL)+window.location.search+window.location.hash,r=[],s={"navigate:before":[],"resolve:before":[],"navigate:after":[],error:[]},i=(h,y)=>(s[h].push(y),()=>s[h].splice(s[h].indexOf(y),1)),n=Tf().app.baseURL,a=mr(zm(t));async function l(h,y){try{const v=zm(h);for(const b of s["navigate:before"]){const $=await b(v,a);if($===!1||$ instanceof Error)return;if(typeof $=="string"&&$.length)return l($,!0)}for(const b of s["resolve:before"])await b(v,a);Object.assign(a,v),window.history[y?"replaceState":"pushState"]({},"",mu(n,v.fullPath)),e.isHydrating||await e.runWithContext(yR);for(const b of s["navigate:after"])await b(v,a)}catch(v){for(const b of s.error)await b(v)}}const d={currentRoute:a,isReady:()=>Promise.resolve(),options:{},install:()=>Promise.resolve(),push:h=>l(h,!1),replace:h=>l(h,!0),back:()=>window.history.go(-1),go:h=>window.history.go(h),forward:()=>window.history.go(1),beforeResolve:h=>i("resolve:before",h),beforeEach:h=>i("navigate:before",h),afterEach:h=>i("navigate:after",h),onError:h=>i("error",h),resolve:zm,addRoute:(h,y)=>{r.push(y)},getRoutes:()=>r,hasRoute:h=>r.some(y=>y.name===h),removeRoute:h=>{const y=r.findIndex(v=>v.name===h);y!==-1&&r.splice(y,1)}};e.vueApp.component("RouterLink",{functional:!0,props:{to:String,custom:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:String},setup:(h,{slots:y})=>{const v=()=>l(h.to,h.replace);return()=>{var $;const b=d.resolve(h.to);return h.custom?($=y.default)==null?void 0:$.call(y,{href:h.to,navigate:v,route:b}):TC("a",{href:h.to,onClick:T=>(T.preventDefault(),v())},y)}}}),window.addEventListener("popstate",h=>{const y=h.target.location;d.replace(y.href.replace(y.origin,""))}),e._route=a,e._middleware=e._middleware||{global:[],named:{}};const f=e.payload.state._layout;return e.hooks.hookOnce("app:created",async()=>{d.beforeEach(async(h,y)=>{h.meta=mr(h.meta||{}),e.isHydrating&&f&&!mo(h.meta.layout)&&(h.meta.layout=f),e._processingMiddleware=!0;{const v=new Set([...AR,...e._middleware.global]);for(const b of v){const $=await e.runWithContext(()=>b(h,y));if($!==!0&&($||$===!1))return $}}}),d.afterEach(()=>{delete e._processingMiddleware}),await d.replace(t),TA(a.fullPath,t)||await e.runWithContext(()=>vR(a.fullPath))}),{provide:{route:a,router:d}}}}),aS=globalThis.requestIdleCallback||(e=>{const t=Date.now(),r={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(r)},1)}),xJ=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),HE=e=>{const t=lr();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{aS(e)}):aS(e)},RR=Da({name:"nuxt:payload",setup(e){wy().beforeResolve(async(t,r)=>{if(t.path===r.path)return;const s=await iS(t.path);s&&Object.assign(e.static.data,s.data)}),HE(()=>{var t;e.hooks.hook("link:prefetch",async r=>{qd(r).protocol||await iS(r)}),((t=navigator.connection)==null?void 0:t.effectiveType)!=="slow-2g"&&setTimeout(_y,1e3)})}}),PR=Da({name:"nuxt:global-components"});function LR(e={}){const t=e.path||window.location.pathname;let r={};try{r=$f(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||(r==null?void 0:r.path)!==t||(r==null?void 0:r.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:lr().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const FR=Da({name:"nuxt:chunk-reload",setup(e){const t=wy(),r=Tf(),s=new Set;t.beforeEach(()=>{s.clear()}),e.hook("app:chunkError",({error:n})=>{s.add(n)});function i(n){const l="href"in n&&n.href.startsWith("#")?r.app.baseURL+n.href:mu(r.app.baseURL,n.fullPath);LR({path:l,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(i)}),t.onError((n,a)=>{s.has(n)&&i(a)})}}),NR=Da(e=>{let t;async function r(){const s=await _y();t&&clearTimeout(t),t=setTimeout(r,1e3*60*60);const i=await $fetch(n1("builds/latest.json"));i.id!==s.id&&e.hooks.callHook("app:manifest:update",i)}HE(()=>{t=setTimeout(r,1e3*60*60)})}),DR=[MR,OR,jR,RR,PR,FR,NR];var zR=Object.defineProperty,VR=Object.defineProperties,UR=Object.getOwnPropertyDescriptors,If=Object.getOwnPropertySymbols,GE=Object.prototype.hasOwnProperty,WE=Object.prototype.propertyIsEnumerable,lS=(e,t,r)=>t in e?zR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))GE.call(t,r)&&lS(e,r,t[r]);if(If)for(var r of If(t))WE.call(t,r)&&lS(e,r,t[r]);return e},Ie=(e,t)=>VR(e,UR(t)),qR=(e,t)=>{var r={};for(var s in e)GE.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&If)for(var s of If(e))t.indexOf(s)<0&&WE.call(e,s)&&(r[s]=e[s]);return r};function o(e,t,r,s){var i,n=arguments.length,a=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,s);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}function BR(e){return e&&e.release&&typeof e.release=="function"}function HR(e){return e&&e.acquire&&typeof e.acquire=="function"}class mn{constructor(t,r,s,i=1,n=0){if(this.ctor=t,this.acquireFunction=r,this.releaseFunction=s,this.allocationSize=i,this._pool=new Array(n),this._initialSize=n,this.ctor)for(let a=0;a<n;a++)this._pool[a]=new this.ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...t){let r;if(mn.test.disabled)r=new this.ctor;else{if(this._pool.length===0){const s=this.allocationSize;for(let i=0;i<s;i++)this._pool[i]=new this.ctor}r=this._pool.pop()}return this.acquireFunction?this.acquireFunction(r,...t):HR(r)&&r.acquire(...t),r}release(t){t&&!mn.test.disabled&&(this.releaseFunction?this.releaseFunction(t):BR(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const s=this._pool[r];this._dispose(s)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}mn.test={disabled:!1};function GR(e){e.length=0}class Ys{constructor(t=50,r=50){this._pool=new mn(Array,void 0,GR,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Vm.acquire()}static release(t){return Vm.release(t)}static prune(){Vm.prune()}}const Vm=new Ys(100);var uS,cS;let pn;var dS,pS;(uS=globalThis.dojoConfig)!=null&&uS.has||(cS=globalThis.esriConfig)!=null&&cS.has?pn=q(q({},(dS=globalThis.dojoConfig)==null?void 0:dS.has),(pS=globalThis.esriConfig)==null?void 0:pS.has):pn={};function Y(e){return typeof pn[e]=="function"?pn[e]=pn[e](globalThis):pn[e]}Y.add=(e,t,r,s)=>((s||pn[e]===void 0)&&(pn[e]=t),r&&Y(e)),Y.cache=pn,Y.add("esri-deprecation-warnings",!0),(()=>{var e;Y.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(Y.add("host-browser",t),Y.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),Y.add("dom",t),Y("host-browser")){const r=navigator,s=r.userAgent,i=r.appVersion,n=parseFloat(i);if(Y.add("wp",parseFloat(s.split("Windows Phone")[1])||void 0),Y.add("msapp",parseFloat(s.split("MSAppHost/")[1])||void 0),Y.add("khtml",i.includes("Konqueror")?n:void 0),Y.add("edge",parseFloat(s.split("Edge/")[1])||void 0),Y.add("opr",parseFloat(s.split("OPR/")[1])||void 0),Y.add("webkit",!Y("wp")&&!Y("edge")&&parseFloat(s.split("WebKit/")[1])||void 0),Y.add("chrome",!Y("edge")&&!Y("opr")&&parseFloat(s.split("Chrome/")[1])||void 0),Y.add("android",!Y("wp")&&parseFloat(s.split("Android ")[1])||void 0),Y.add("safari",!i.includes("Safari")||Y("wp")||Y("chrome")||Y("android")||Y("edge")||Y("opr")?void 0:parseFloat(i.split("Version/")[1])),Y.add("mac",i.includes("Macintosh")),!Y("wp")&&s.match(/(iPhone|iPod|iPad)/)){const a=RegExp.$1.replace(/P/,"p"),l=s.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=parseFloat(l.replace(/_/,".").replace(/_/g,""));Y.add(a,d),Y.add("ios",d)}Y.add("trident",parseFloat(i.split("Trident/")[1])||void 0),Y("webkit")||(!s.includes("Gecko")||Y("wp")||Y("khtml")||Y("trident")||Y("edge")||Y.add("mozilla",n),Y("mozilla")&&Y.add("ff",parseFloat(s.split("Firefox/")[1]||s.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&Y.add("esri-mobile",t),r&&Y.add("esri-iPhone",r),Y.add("esri-geolocation",!!navigator.geolocation)}Y.add("esri-canvas-svg-support",!Y("trident")),Y.add("esri-wasm","WebAssembly"in globalThis),Y.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),Y.add("esri-atomics","Atomics"in globalThis),Y.add("esri-workers","Worker"in globalThis),Y.add("web-feat:cache","caches"in globalThis),Y.add("esri-workers-arraybuffer-transfer",!Y("safari")||Number(Y("safari"))>=12),Y.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Y.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Y.add("featurelayer-snapshot-enabled",!0),Y.add("featurelayer-snapshot-point-min-threshold",8e4),Y.add("featurelayer-snapshot-point-max-threshold",4e5),Y.add("featurelayer-snapshot-point-coverage",.1),Y.add("featurelayer-advanced-symbols",!1),Y.add("featurelayer-pbf",!0),Y.add("featurelayer-pbf-statistics",!1),Y.add("feature-layers-workers",!0),Y.add("feature-polyline-generalization-factor",1),Y.add("mapview-transitions-duration",200),Y.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Y.add("mapserver-pbf-enabled",!1),Y("host-webworker")||Y("host-browser")&&(Y.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),Y.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{Y.add("esri-image-decode",!0,!0,!0)}).catch(()=>{Y.add("esri-image-decode",!1,!0,!0)})}return!1}),Y.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const hS=new Set;function WR(e,t,r=!1){r&&hS.has(t)||(r&&hS.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function nl(e,t,r={}){if(Y("esri-deprecation-warnings")){const{moduleName:s}=r;Sy(e,`Function: ${(s?s+"::":"")+t+"()"}`,r)}}function hd(e,t,r={}){if(Y("esri-deprecation-warnings")){const{moduleName:s}=r;Sy(e,`Property: ${(s?s+"::":"")+t}`,r)}}function Sy(e,t,r={}){if(Y("esri-deprecation-warnings")){const{replacement:s,version:i,see:n,warnOnce:a}=r;let l=t;s&&(l+=`
	🛠️ Replacement: ${s}`),i&&(l+=`
	⚙️ Version: ${i}`),n&&(l+=`
	🔗 See ${n} for more details.`),WR(e,l,a)}}const JR=null;function G(e){return e!=null}function we(e){return e==null}function KR(e){return e===void 0}function Of(e,t){return G(e)?t(e):JR}function QR(e){return e}function JE(e,t){if(we(e))throw new Error(t);return e}function a1(e,t){return G(e)?e:typeof t=="function"?t():t}function ZR(e,t){return G(e)?e:t}function Cf(e){return G(e)&&e.destroy(),null}function YR(e){return G(e)&&e.dispose(),null}function Bd(e){return G(e)&&e.remove(),null}function XR(e){return G(e)&&e.release(),null}function eP(e){return null}function tP(e,t){const r=new Array;for(const s of e)r.push(Ol(s,null,t));return r}function rP(e,t){for(const r of e)Of(r,t)}function Ol(e,t,r){return G(e)?r(e):t}function sP(e){return e.filter(t=>G(t))}function KE(e,...t){let r=e;for(let s=0;s<t.length&&r;++s)r=r[t[s]];return r}function iP(e){return e}class Xs{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Xs._m}getInt(){return this._seed=(Xs._a*this._seed+Xs._c)%Xs._m,this._seed}getFloat(){return this.getInt()/(Xs._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const s=r-t;return t+this.getInt()/Xs._m*s}}Xs._m=2147483647,Xs._a=48271,Xs._c=0;function l1(e,t,r){if(we(e)&&we(t))return!0;if(we(e)||we(t)||e.length!==t.length)return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}function nP(e){return e&&typeof e.length=="number"}const oP=!!Array.prototype.fill;function aP(e,t){if(oP)return new Array(e).fill(t);const r=new Array(e);for(let s=0;s<e;s++)r[s]=t;return r}function lP(e,t){t===void 0&&(t=e,e=0);const r=new Array(t-e);for(let s=e;s<t;s++)r[s-e]=s;return r}class u1{constructor(){this.last=0}}const QE=new u1;function c1(e,t,r,s){s=s||QE;const i=Math.max(0,s.last-10);for(let a=i;a<r;++a)if(e[a]===t)return s.last=a,a;const n=Math.min(i,r);for(let a=0;a<n;++a)if(e[a]===t)return s.last=a,a;return-1}function ZE(e,t,r,s){const i=r??e.length,n=c1(e,t,i,s);if(n!==-1)return e[n]=e[i-1],r==null&&e.pop(),t}const js=new Set;function uP(e,t,r=e.length,s=t.length,i,n){if(s===0||r===0)return r;js.clear();for(let l=0;l<s;++l)js.add(t[l]);i=i||QE;const a=Math.max(0,i.last-10);for(let l=a;l<r;++l)if(js.has(e[l])&&(n&&n.push(e[l]),js.delete(e[l]),e[l]=e[r-1],--r,--l,js.size===0||r===0))return js.clear(),r;for(let l=0;l<a;++l)if(js.has(e[l])&&(n&&n.push(e[l]),js.delete(e[l]),e[l]=e[r-1],--r,--l,js.size===0||r===0))return js.clear(),r;return js.clear(),r}function YE(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function cP(e,t){if(e.forEach)e.forEach(t);else for(let r=0;r<e.length;r++)t(e[r],r,e)}function XE(e,t,r){if(e.slice)return e.slice(t,r);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),r===void 0?r=e.length:(r<0&&(r+=e.length),r=Math.min(e.length,Math.max(0,r)));const s=Math.max(0,r-t),i=new e.constructor(s);for(let n=0;n<s;n++)i[n]=e[t+n];return i}function dP(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function pP(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function eT(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function hP(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function fP(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function tT(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function yP(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function rT(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function mP(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function gP(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function d1(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(e[r]===void 0?delete e[r]:e[r]instanceof Object&&d1(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function U(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=oT(e);if(G(t))return t;if(sT(e))return e.clone();if(iT(e))return e.map(U);if(nT(e))return e.clone();const r={};for(const s of Object.getOwnPropertyNames(e))r[s]=U(e[s]);return r}function i0(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=oT(e);if(G(t))return t;if(iT(e)){let r=!0;const s=e.map(i=>{const n=i0(i);return i!=null&&n==null&&(r=!1),n});return r?s:null}if(sT(e))return e.clone();if(!nT(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const s of Object.getOwnPropertyNames(e)){const i=e[s],n=i0(i);if(i!=null&&n==null)return null;r[s]=n}return r}return null}function sT(e){return typeof e.clone=="function"}function iT(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function nT(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function oT(e){if(pP(e)||eT(e)||hP(e)||fP(e)||tT(e)||yP(e)||rT(e)||mP(e)||gP(e))return XE(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((r,s)=>{t.set(s,U(r))}),t}if(e instanceof Set){const t=new Set;return e.forEach(r=>{t.add(U(r))}),t}return null}function $y(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function aT(e,t,r=!1){return uT(e,t,r)}function Hd(e,t){if(t!=null)return t[e]||lT(e.split("."),!1,t)}function Wr(e,t,r){const s=e.split("."),i=s.pop(),n=lT(s,!0,r);n&&i&&(n[i]=t)}function lT(e,t,r){let s=r;for(const i of e){if(s==null)return;if(!(i in s)){if(!t)return;s[i]={}}s=s[i]}return s}function uT(e,t,r){return t?Object.keys(t).reduce(function(s,i){let n=s[i],a=t[i];return n===a?s:n===void 0?(s[i]=U(a),s):(Array.isArray(a)||Array.isArray(s)?(n=n?Array.isArray(n)?s[i]=n.concat():s[i]=[n]:s[i]=[],a&&(Array.isArray(a)||(a=[a]),r?a.forEach(l=>{n.indexOf(l)===-1&&n.push(l)}):s[i]=a.concat())):a&&typeof a=="object"?s[i]=uT(n,a,r):s.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(s[i]=a),s)},e||{}):e}var fS;const rt={apiKey:void 0,applicationUrl:(fS=globalThis.location)==null?void 0:fS.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(aT(rt,globalThis.esriConfig,!0),delete rt.has),!rt.assetsPath){const e="4.23.7";rt.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}rt.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(rt,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),rt.request.corsEnabledServers=[],rt.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const vP=/\{([^\}]+)\}/g;function yS(e){return e??""}function Gd(e,t){return e.replace(vP,typeof t=="object"?(r,s)=>yS(Hd(s,t)):(r,s)=>yS(t(s)))}function cT(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,r=>t&&t.indexOf(r)!==-1?r:`\\${r}`)}function xy(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function bP(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const mS={info:0,warn:1,error:2,none:3};class ye{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ye._loggers[this.module]=this;const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=ye.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const r=ye._loggers;return ye._loggers=t,r},set throttlingDisabled(t){ye._throttlingDisabled=t}}}static getLogger(t){let r=ye._loggers[t];return r||(r=new ye({module:t})),r}_log(t,r,...s){if(this._matchLevel(t)){if(r!=="always"&&!ye._throttlingDisabled){const i=this._argsToKey(s),n=this._loggedMessages[t].get(i);if(r==="once"&&n!=null||r==="oncePerTick"&&n&&n>=ye._tickCounter)return;this._loggedMessages[t].set(i,ye._tickCounter),ye._scheduleTickCounterIncrement()}for(const i of rt.log.interceptors)if(i(t,this.module,...s))return;this._inheritedWriter()(t,this.module,...s)}}_parentWithMember(t,r){let s=this;for(;G(s);){const i=s[t];if(G(i))return i;s=s.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...s){console[t](`[${r}]`,...s)}_matchLevel(t){const r=rt.log.level?rt.log.level:"warn";return mS[this._parentWithMember("level",r)]<=mS[t]}_argsToKey(...t){return xy(JSON.stringify(t,(s,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}static _scheduleTickCounterIncrement(){ye._tickCounterScheduled||(ye._tickCounterScheduled=!0,Promise.resolve().then(()=>{ye._tickCounter++,ye._tickCounterScheduled=!1}))}}ye._loggers={},ye._tickCounter=0,ye._tickCounterScheduled=!1,ye._throttlingDisabled=!1;function Ey(e){return Wd(()=>e.forEach(t=>G(t)&&t.remove()))}function Wd(e){return{remove:()=>{e&&(e(),e=void 0)}}}function Tr(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function wP(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function hh(e,t,r){return r?Af(e,t,{policy:r,path:""}):Af(e,t,null)}function Af(e,t,r){return t?Object.keys(t).reduce(function(s,i){let n=null,a="merge";if(r&&(n=r.path?`${r.path}.${i}`:i,a=r.policy(n)),a==="replace")return s[i]=t[i],s;if(s[i]===void 0)return s[i]=U(t[i]),s;let l=s[i],d=t[i];if(l===d)return s;if(Array.isArray(d)||Array.isArray(s))l=l?Array.isArray(l)?s[i]=l.concat():s[i]=[l]:s[i]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(f=>{l.indexOf(f)===-1&&l.push(f)}));else if(d&&typeof d=="object")if(r){const f=r.path;r.path=n,s[i]=Af(l,d,r),r.path=f}else s[i]=Af(l,d,null);else s.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(s[i]=d);return s},e||{}):e}function dT(e){return Array.isArray(e)?e:e.split(".")}function gS(e){return e.indexOf(",")>-1?e.split(",").map(t=>t.trim()):[e.trim()]}function _P(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...gS(r));return t}return gS(e)}function pT(e,t,r,s){const i=_P(t);if(i.length!==1){const n=i.map(a=>s(e,a,r));return Ey(n)}return s(e,i[0],r)}function hT(e){let t=!1;return()=>{t||(t=!0,e())}}function fT(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const i=parseInt(r,10);if(!isNaN(i))return Array.isArray(t)?t[i]:t.getItemAt(i)}const s=Tr(t);return wP(s,r)?s.get(r):t[r]}function yT(e,t,r){if(e==null)return e;const s=fT(t[r],e);return!s&&r<t.length-1?void 0:r===t.length-1?s:yT(s,t,r+1)}function Jd(e,t,r=0){return typeof t=="string"&&t.indexOf(".")===-1?fT(t,e):yT(e,dT(t),r)}function jf(e,t){return Jd(e,t)}function vS(e,t){return Jd(t,e)!==void 0}var ki;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(ki||(ki={}));class bS{constructor(t){this.autoDestroy=!1,this.properties=t}}function Kd(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){const s=Object.create(t.properties),i=t.autoDestroy;for(const n in s)s[n]=U(s[n]);t=new bS(s),t.autoDestroy=i,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new bS({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function SP(e){return Kd(e).properties}function Qd(e,t){const r=SP(e);let s=r[t];return s||(s=r[t]={}),s}function $P(e,t){return hh(e,t,EP)}const xP=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function EP(e){return xP.test(e)?"replace":"merge"}var Ve;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(Ve||(Ve={}));const n0=Ve.USER+1;function hn(e){switch(e){case"defaults":return Ve.DEFAULTS;case"service":return Ve.SERVICE;case"portal-item":return Ve.PORTAL_ITEM;case"web-scene":return Ve.WEB_SCENE;case"web-map":return Ve.WEB_MAP;case"user":return Ve.USER}}function fd(e){switch(e){case Ve.DEFAULTS:return"defaults";case Ve.SERVICE:return"service";case Ve.PORTAL_ITEM:return"portal-item";case Ve.WEB_SCENE:return"web-scene";case Ve.WEB_MAP:return"web-map";case Ve.USER:return"user"}return void 0}function TP(e){return fd(e)}var nt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(nt||(nt={}));let Rf,Xu=[];const kP=ye.getLogger("esri.core.Accessor");function Le(e){Rf!==void 0&&Rf.onObservableAccessed(e)}let fh=!1,yh=!1;function gn(e,t,r){if(fh)return p1(e,t,r);mT(e);const s=t.call(r);return gT(),s}function MP(e,t){return gn(void 0,e,t)}function p1(e,t,r){const s=fh;fh=!0,mT(e);let i=null;try{i=t.call(r)}catch(n){yh&&kP.error(n)}return gT(),fh=s,i}function mT(e){Rf=e,Xu.push(e)}function gT(){const e=Xu.pop();Rf=Xu.length>0?Xu[Xu.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function vT(e,t){if(t.flags&nt.DepTrackingInitialized)return;const r=yh;yh=!1,t.flags&nt.AutoTracked?p1(t,t.metadata.get,e):bT(e,t),yh=r}const IP=[];function bT(e,t){t.flags&nt.ExplicitlyTracking||(t.flags|=nt.ExplicitlyTracking,p1(t,()=>{const r=t.metadata.dependsOn||IP;for(const s of r)if(typeof s=="string"&&s.indexOf(".")===-1)wS(e,s,!1);else{const i=dT(s);for(let n=0,a=e;n<i.length&&a!=null&&typeof a=="object";++n)a=wS(a,i[n],n!==i.length-1)}}),t.flags&=~nt.ExplicitlyTracking)}function wS(e,t,r){const s=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const a=parseInt(s,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.getItemAt(a)}const i=Tr(e),n=i==null?void 0:i.properties.get(s);return n&&(Le(n),vT(e,n)),r?e[s]:void 0}class wT{constructor(t,r){this._observers=t,this._observer=r}remove(){YE(this._observers,this._observer)}}class _S{constructor(t,r,s){this.properties=t,this.propertyName=r,this.metadata=s,this._observers=null,this._accessed=null,this._handles=null,this.flags=nt.Dirty|(s.nonNullable?nt.NonNullable:0)|(s.hasOwnProperty("value")?nt.HasDefaultValue:0)|(s.get===void 0?nt.DepTrackingInitialized:0)|(s.dependsOn===void 0?nt.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Le(this);const t=this.properties.store,r=this.propertyName,s=this.flags,i=t.get(r);if(s&nt.Computing||~s&nt.Dirty&&t.has(r))return i;this.flags|=nt.Computing;const n=this.properties.host;let a;s&nt.AutoTracked?a=gn(this,this.metadata.get,n):(bT(n,this),a=this.metadata.get.call(n)),t.set(r,a,Ve.COMPUTED);const l=t.get(r);return l===i?this.flags&=~nt.Dirty:MP(this.commit,this),this.flags&=~nt.Computing,l}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=nt.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let r=this._handles;r===null&&(r=this._handles=[]);for(let s=0;s<t.length;++s)r.push(t[s].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new wT(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&nt.Overriden&&(this.flags|=nt.Dirty);const t=this._observers;if(t!==null)for(let r=0;r<t.length;++r)t[r].onInvalidated()}commit(){this.flags&=~nt.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let r=0;r<t.length;++r)t[r].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}}class h1{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new h1;return this._values.forEach((s,i)=>{t&&t.has(i)||r.set(i,U(s))}),r}get(t){return this._values.get(t)}originOf(){return Ve.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function Op(e,t,r){return e!==void 0}function SS(e,t,r,s){return e!==void 0&&(!(r==null&&e.flags&nt.NonNullable)||(s.lifecycle,ki.INITIALIZING,!1))}function OP(e){return e&&typeof e.destroy=="function"}ye.getLogger("esri.core.accessorSupport.Properties");class CP{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=ki.INITIALIZING,this.store=new h1,this._origin=Ve.USER;const r=this.host.constructor.__accessorMetadata__,s=r.properties;for(const i in s){const n=new _S(this,i,s[i]);this.properties.set(i,n)}this.metadatas=s,this._autoDestroy=r.autoDestroy}initialize(){this.lifecycle=ki.CONSTRUCTING}constructed(){this.lifecycle=ki.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,r]of this.properties){const s=this.internalGet(t);s&&OP(s)&&(s.destroy(),~r.flags&nt.NonNullable&&this._internalSet(r,null)),r.destroy()}else for(const[t,r]of this.properties)r.destroy()}get initialized(){return this.lifecycle!==ki.INITIALIZING}get(t){const r=this.properties.get(t);if(r.metadata.get)return r.getComputed();Le(r);const s=this.store;return s.has(t)?s.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const s=this.properties.get(t);if(s!==void 0&&s.flags&nt.HasDefaultValue)return"defaults"}return fd(r)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const r=this.properties.get(t);if(Op(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const s=this.properties.get(t);Op(s)&&this._internalSet(s,r)}getDependsInfo(t,r,s){const i=this.properties.get(r);if(!Op(i))return"";const n=new Set,a=gn({onObservableAccessed:d=>n.add(d),onTrackingEnd:()=>{}},()=>{var d;return(d=i.metadata.get)==null?void 0:d.call(t)});let l=`${s}${t.declaredClass.split(".").pop()}.${r}: ${a}
`;if(n.size===0)return l;s+="  ";for(const d of n){if(!(d instanceof _S))continue;const f=d.properties.host,h=d.propertyName,y=Tr(f);l+=y?y.getDependsInfo(f,h,s):`${s}${h}: undefined
`}return l}setAtOrigin(t,r,s){const i=this.properties.get(t);if(Op(i))return this._setAtOrigin(i,r,s)}isOverridden(t){const r=this.properties.get(t);return r!==void 0&&!!(r.flags&nt.Overriden)}clearOverride(t){const r=this.properties.get(t);r!==void 0&&r.flags&nt.Overriden&&(r.flags&=~nt.Overriden,r.notifyChange())}override(t,r){const s=this.properties.get(t);if(!SS(s,t,r,this))return;const i=s.metadata.cast;if(i){const n=this._cast(i,r),{valid:a,value:l}=n;if(Um.release(n),!a)return;r=l}s.flags|=nt.Overriden,this._internalSet(s,r)}set(t,r){const s=this.properties.get(t);if(!SS(s,t,r,this))return;const i=s.metadata.cast;if(i){const a=this._cast(i,r),{valid:l,value:d}=a;if(Um.release(a),!l)return;r=d}const n=s.metadata.set;n?n.call(this.host,r):this._internalSet(s,r)}setDefaultOrigin(t){this._origin=hn(t)}getDefaultOrigin(){return fd(this._origin)}notifyChange(t){const r=this.properties.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.properties.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.properties.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const s=this.lifecycle!==ki.INITIALIZING?this._origin:Ve.DEFAULTS;this._setAtOrigin(t,r,s)}_setAtOrigin(t,r,s){const i=this.store,n=t.propertyName;i.has(n,s)&&$y(r,i.get(n))&&~t.flags&nt.Overriden&&s===i.originOf(n)||(t.invalidate(),i.set(n,r,s),t.commit(),vT(this.host,t))}_cast(t,r){const s=Um.acquire();return s.valid=!0,s.value=r,t&&(s.value=t.call(this.host,r,s)),s}}class AP{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const Um=new mn(AP);function jP(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(r,s){if(s==="")return"$";const i=Hd(s,t),n=i??"";if(n===void 0)throw new Error(`could not find key "${s}" in template`);return n.toString()})}class Ty{constructor(t,r,s){this.name=t,this.details=s,this.message=void 0,this instanceof Ty&&(this.message=r&&jP(r,s)||"")}toString(){return"["+this.name+"]: "+this.message}}class Z extends Ty{constructor(t,r,s){if(super(t,r,s),!(this instanceof Z))return new Z(t,r,s)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return U(r)}catch{return"[object]"}}))}}catch(t){throw ye.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new Z(t.name,t.message,t.details)}}Z.prototype.type="error";function Pf(e,t,r){if(e&&t)if(typeof t=="object")for(const s of Object.getOwnPropertyNames(t))Pf(e,s,t[s]);else{if(t.indexOf(".")!==-1){const i=t.split("."),n=i.splice(i.length-1,1)[0];return void Pf(jf(e,i),n,r)}const s=e.__accessor__;s!=null&&RP(t,s),e[t]=r}}function RP(e,t){if(Y("esri-unknown-property-errors")&&!PP(e,t))throw new Z("set:unknown-property",LP(e,t))}function PP(e,t){return t.metadatas[e]!=null}function LP(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}ye.getLogger("esri.core.accessorSupport.set");class FP extends mn{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=eP(this._set)}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const Cp=[];function yd(e){Cp.push(e),Cp.length===1&&queueMicrotask(()=>{const t=Cp.slice();Cp.length=0;for(const r of t)r()})}const NP=29;class f1{constructor(t,r=NP){this.name=t,this._counter=0,this._items=new Array(r)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,r)=>t-r)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,r)=>t+r,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var o0;(function(e){const t=(n,a,l,d)=>{let f=a,h=a;const y=l>>>1,v=n[f-1];for(;h<=y;){h=f<<1,h<l&&d(n[h-1],n[h])<0&&++h;const b=n[h-1];if(d(b,v)<=0)break;n[f-1]=b,f=h}n[f-1]=v},r=(n,a)=>n<a?-1:n>a?1:0;function s(n,a,l,d){a===void 0&&(a=0),l===void 0&&(l=n.length),d===void 0&&(d=r);for(let h=l>>>1;h>a;h--)t(n,h,l,d);const f=a+1;for(let h=l-1;h>a;h--){const y=n[a];n[a]=n[h],n[h]=y,t(n,f,h,d)}}function*i(n,a,l,d){a===void 0&&(a=0),l===void 0&&(l=n.length),d===void 0&&(d=r);for(let h=l>>>1;h>a;h--)t(n,h,l,d),yield;const f=a+1;for(let h=l-1;h>a;h--){const y=n[a];n[a]=n[h],n[h]=y,t(n,f,h,d),yield}}e.sort=s,e.iterableSort=i})(o0||(o0={}));const $S=o0,DP=1.5,zP=1.1;class md{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new u1,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>xS(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let s=0;s<this._length;s++){const i=this.data[s];t(i)&&r.push(i)}return r}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let s=0;s<r;s++)this.data[this._length++]=t[s]}fill(t,r){for(let s=0;s<r;s++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,xS(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=c1(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){const r=ZE(this.data,t,this.length,this._hint);return r!==void 0&&(this.length=this.length-1),this._shrink(),r}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,s){this.length=uP(this.data,t,this.length,r,this._hint,s),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){t>=this.length||r>=this.length||t===r||([this.data[t],this.data[r]]=[this.data[r],this.data[t]])}sort(t){$S.sort(this.data,0,this.length,t)}iterableSort(t){return $S.iterableSort(this.data,0,this.length,t)}some(t,r){for(let s=0;s<this.length;++s)if(t.call(r,this.data[s],s,this.data))return!0;return!1}filterInPlace(t,r){let s=0;for(let i=0;i<this._length;++i){const n=this.data[i];t.call(r,n,i,this.data)&&(this.data[i]=this.data[s],this.data[s]=n,s++)}if(this._deallocator)for(let i=s;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=s,this._shrink(),this}forAll(t,r){const s=this.length,i=this.data;for(let n=0;n<s;++n)t.call(r,i[n],n,i)}forEach(t,r){for(let s=0;s<this.length;++s)t.call(r,this.data[s],s,this.data)}map(t,r){const s=new Array(this.length);for(let i=0;i<this.length;++i)s[i]=t.call(r,this.data[i],i,this.data);return s}reduce(t,r){let s=r;for(let i=0;i<this.length;++i)s=t(s,this.data[i],i,this.data);return s}has(t){const r=this.length,s=this.data;for(let i=0;i<r;++i)if(s[i]===t)return!0;return!1}}function xS(e){e.data.length>DP*e.length&&(e.data.length=Math.floor(e.length*zP))}function VP(e){return{setTimeout:(t,r)=>{const s=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(s)}}}}const UP=VP(globalThis);function ky(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Zd(e,t,r){if(!ky(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const s=t.slice();for(const i of s)e.addEventListener(i,r);return{remove(){for(const i of s)e.removeEventListener(i,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function _T(e,t,r){if(!ky(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const s=Zd(e,t,i=>{s.remove(),r.call(e,i)});return{remove(){s.remove()}}}const qP={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function qm({key:e}){return qP[e]||e}function BP(e){return Promise.all(e)}function ST(e){return new Promise((t,r)=>{try{e(t,r)}catch(s){Promise.resolve().then(()=>r(s))}})}function gr(e="Aborted"){return new Z("AbortError",e)}function ni(e,t="Aborted"){if(go(e))throw gr(t)}function My(e){return G(e)?"aborted"in e?e:e.signal:e}function go(e){const t=My(e);return G(t)&&t.aborted}function gu(e){if(oi(e))throw e}function a0(e){if(!oi(e))throw e}function vn(e,t){const r=My(e);if(!we(r)){if(!r.aborted)return _T(r,"abort",()=>t());t()}}function Iy(e,t){const r=My(e);if(!we(r))return ni(r),_T(r,"abort",()=>t(gr()))}function $T(e,t){const r=My(t);return we(r)?e:new Promise((s,i)=>{let n=vn(t,()=>i(gr()));const a=()=>n=Bd(n);e.then(a,a),e.then(s,i)})}function oi(e){return e&&e.name==="AbortError"}function xT(e){return e.catch(t=>{if(!oi(t))throw t})}function Ia(){let e=null;const t=new Promise((r,s)=>{e={promise:void 0,resolve:r,reject:s}});return e.promise=t,e}function Mi(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e);return Mi(r.map(s=>e[s])).then(s=>{const i={};return r.forEach((n,a)=>i[n]=s[a]),i})}const t=e;return ST(r=>{const s=[];let i=t.length;i===0&&r(s),t.forEach(n=>{const a={promise:n||Promise.resolve(n)};s.push(a),a.promise.then(l=>{a.value=l}).catch(l=>{a.error=l}).then(()=>{--i,i===0&&r(s)})})})}function HP(e){return Mi(e).then(t=>t.filter(r=>!!r.value).map(r=>r.value))}function GP(e){return Promise.reject(e)}function ET(e){return Promise.resolve(e)}function y1(e,t,r){const s=new AbortController;return vn(r,()=>s.abort()),new Promise((i,n)=>{let a=setTimeout(()=>{a=0,i(t)},e);vn(s,()=>{a&&(clearTimeout(a),n(gr()))})})}function vu(e){return e&&typeof e.then=="function"}function l0(e){return vu(e)?e:Promise.resolve(e)}function m1(e,t=-1){let r,s,i,n,a=null;const l=(...d)=>{if(r){s=d,n&&n.reject(gr()),n=Ia();const v=n.promise;if(a){const b=a;a=null,b.abort()}return v}if(i=n||Ia(),n=null,t>0){const v=new AbortController;r=l0(e(...d,v.signal));const b=r;y1(t).then(()=>{r===b&&(n?v.abort():a=v)})}else r=1,r=l0(e(...d));const f=()=>{const v=s;s=i=r=a=null,v!=null&&l(...v)},h=r,y=i;return h.then(f,f),h.then(y.resolve,y.reject),y.promise};return l}function TT(){let e,t;const r=new Promise((i,n)=>{e=i,t=n}),s=i=>{e(i)};return s.resolve=i=>e(i),s.reject=i=>t(i),s.timeout=(i,n)=>UP.setTimeout(()=>s.reject(n),i),s.promise=r,s}function WP(e,t){let r,s=new AbortController;const i=e(s.signal);let n={promise:i,finished:!1,abort:()=>{s&&(s.abort(),s=null)}};const a=()=>{n&&(n.finished=!0,n=null),G(r)&&(r.remove(),r=null),s=null};return i.then(a,a),r=vn(t,()=>{G(n)&&n.abort()}),n}function JP(e){return Promise.resolve().then(()=>{ni(e)})}function KP(e){return e}class QP{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let ES=0;const zu={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},u0=["prepare","preRender","render","postRender","update","finish"],c0=[],gd=new md,d0={frameTasks:gd,willDispatch:!1,clearFrameTasks:ZP,dispatch:MT,executeFrameTasks:YP};function Oy(e){const t=new QP(e);return c0.push(t),d0.willDispatch||(d0.willDispatch=!0,yd(MT)),t}function ZP(e=!1){gd.forAll(t=>{t.removed=!0}),e&&kT()}function YP(e){const t=e-ES;ES=e;const r=1e3/60,s=Math.max(0,t-r);for(let i=0;i<u0.length;i++){const n=performance.now(),a=u0[i];gd.forAll(l=>{var d;l.paused||l.removed||(i===0&&l.ticks++,l.phases[a]&&(zu.time=e,zu.deltaTime=l.ticks===0?0:t,zu.elapsedFrameTime=performance.now()-e,zu.frameDuration=r-s,(d=l.phases[a])==null||d.call(l,zu)))}),e9[i].record(performance.now()-n)}kT(),t9.record(performance.now()-e)}const Ap=new md;function kT(){gd.forAll(e=>{e.removed&&Ap.push(e)}),gd.removeUnorderedMany(Ap.data,Ap.length),Ap.clear()}function MT(){for(;c0.length;){const e=c0.shift();e.isActive&&e.callback()}d0.willDispatch=!1}function XP(e=1,t){const r=TT(),s=()=>{go(t)?r.reject(gr()):e===0?r():(--e,yd(()=>s()))};return s(),r.promise}const e9=u0.map(e=>new f1(e)),t9=new f1("total");let r9=0;function Hl(){return++r9}class Cy{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,r=this._accessed;for(let s=0;s<r.length;++s)t.push(r[s].observe(this));r.length=0}clear(){const t=this._handles;for(let r=0;r<t.length;++r)t[r].remove();t.length=0}}let Gl=!1;const Lf=[];function IT(e,t){let r=new Cy(n),s=null,i=!1;function n(){if(!r||i)return;if(Gl)return void AT(n);const l=s;r.clear(),Gl=!0,i=!0,s=gn(r,e),i=!1,Gl=!1,t(s,l),jT()}function a(){r&&(r.destroy(),r=null,s=null)}return i=!0,s=gn(r,e),i=!1,{remove:a}}function OT(e,t){let r=new Cy(i),s=null;function i(){t(s,a)}function n(){r&&(r.destroy(),r=null),s=null}function a(){return r?(r.clear(),s=gn(r,e),s):null}return a(),{remove:n}}function CT(e){let t=new Cy(s),r=!1;function s(){t&&!r&&(Gl?AT(s):(t.clear(),Gl=!0,r=!0,gn(t,e),r=!1,Gl=!1,jT()))}function i(){t&&(t.destroy(),t=null)}return r=!0,gn(t,e),r=!1,{remove:i}}function AT(e){Lf.includes(e)||Lf.unshift(e)}function jT(){for(;Lf.length;)Lf.pop()()}var Gc;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Gc||(Gc={}));class vd{constructor(){this.uid=Hl(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,s,i,n){return this.pool.acquire(Gc.Untracked,t,r,s,i,n,$y)}static acquireTracked(t,r,s,i){return this.pool.acquire(Gc.Tracked,t,r,s,null,null,i)}notify(t,r){this.type===Gc.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r)}acquire(t,r,s,i,n,a,l){this.uid=Hl(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=s,this.getValue=i,this.target=n,this.path=a,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Hl(),this.removed=!0}}vd.pool=new FP(vd);const mh=new Ys,ho=new Set;let Ff;function Nf(e){ho.delete(e),ho.add(e),Ff||(Ff=Oy(n9))}function s9(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function i9(e){for(const t of ho.values())t.target===e&&(t.removed=!0)}function n9(){let e=10;for(;Ff&&e--;){Ff=null;const t=o9(),r=mh.acquire();for(const s of t){const i=s.uid;s9(s),i===s.uid&&s.removed&&r.push(s)}for(const s of ho)s.removed&&(r.push(s),ho.delete(s));for(const s of r)vd.pool.release(s);mh.release(r),mh.release(t),a9.forEach(s=>s())}}function o9(){const e=mh.acquire();e.length=ho.size;let t=0;for(const r of ho)e[t]=r,++t;return ho.clear(),e}const a9=new Set;function l9(e,t,r){let s=pT(e,t,r,(i,n,a)=>{let l,d,f=OT(()=>Jd(i,n),(h,y)=>{i.__accessor__.destroyed||l&&l.uid!==d?s.remove():(l||(l=vd.acquireUntracked(h,a,y,i,n),d=l.uid),Nf(l))});return{remove:hT(()=>{f.remove(),l&&(l.uid!==d||l.removed||(l.removed=!0,Nf(l)),l=null),s=f=null})}});return s}function u9(e,t,r){const s=pT(e,t,r,(i,n,a)=>{let l=!1;return IT(()=>Jd(i,n),(d,f)=>{i.__accessor__.destroyed?s.remove():l||(l=!0,$y(f,d)||a.call(i,d,f,n,i),l=!1)})});return s}function c9(e,t,r,s=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:s?u9(e,t,r):l9(e,t,r)}function d9(e,t,r){let s,i,n=OT(e,(a,l)=>{s&&s.uid!==i?n.remove():(s||(s=vd.acquireTracked(a,t,l,r),i=s.uid),Nf(s))});return{remove:hT(()=>{n.remove(),s&&(s.uid!==i||s.removed||(s.removed=!0,Nf(s)),s=null),n=null})}}function p9(e,t,r){let s=!1;return IT(e,(i,n)=>{s||(s=!0,r(n,i)||t(i,n),s=!1)})}function h9(e,t,r=!1,s=$y){return r?p9(e,t,s):d9(e,t,s)}function RT(e,t,r){const s=e.get(t);if(s!==void 0)return s;const i=r();return e.set(t,i),i}const Wl=ye.getLogger("esri.core.Accessor");function f9(e){return e==null?e:new Date(e)}function y9(e){return e==null?e:!!e}function Yd(e){return e==null?e:e.toString()}function Xd(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function Ay(e){return e==null?e:Math.round(parseFloat(e))}function PT(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function Df(e,t){return t!=null&&e&&!(t instanceof e)}function LT(e){return e&&"isCollection"in e}function TS(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function m9(e,t){if(!t||!t.constructor||!LT(t.constructor))return p0(e,t)?t:new e(t);const r=TS(e.prototype.itemType),s=TS(t.constructor.prototype.itemType);return r?s?r===s?t:r.prototype.isPrototypeOf(s.prototype)?new e(t):(p0(e,t),t):new e(t):t}function p0(e,t){return!!PT(t)&&(Wl.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+Ry(e)+"'"),!0)}function jy(e,t){return t==null?t:LT(e)?m9(e,t):Df(e,t)?p0(e,t)?t:new e(t):t}function Ry(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const g9=new WeakMap;function v9(e){switch(e){case Number:return Xd;case Bt:return Ay;case Boolean:return y9;case String:return Yd;case Date:return f9;default:return RT(g9,e,()=>jy.bind(null,e))}}function at(e,t){const r=v9(e);return arguments.length===1?r:r(t)}function bd(e,t,r){return arguments.length===1?bd.bind(null,e):t&&(Array.isArray(t)?t.map(s=>e(s,r)):[e(t,r)])}function b9(e,t){return arguments.length===1?bd(at.bind(null,e)):bd(at.bind(null,e),t)}function FT(e,t,r){return t!==0&&Array.isArray(r)?r.map(s=>FT(e,t-1,s)):e(r)}function zf(e,t,r){if(arguments.length===2)return zf.bind(null,e,t);if(!r)return r;let s=t,i=r=FT(e,t,r);for(;s>0&&Array.isArray(i);)s--,i=i[0];if(i!==void 0)for(let n=0;n<s;n++)r=[r];return r}function w9(e,t,r){return arguments.length===2?zf(at.bind(null,e),t):zf(at.bind(null,e),t,r)}function NT(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function h0(e,t){if(arguments.length===2)return h0(e).call(null,t);const r=new Set,s=e.filter(l=>typeof l!="function"),i=e.filter(l=>typeof l=="function");for(const l of e)typeof l!="string"&&typeof l!="number"||r.add(l);let n=null,a=null;return(l,d)=>{if(l==null)return l;const f=typeof l,h=f==="string"||f==="number";return h&&(r.has(l)||i.some(y=>f==="string"&&y===String||f==="number"&&y===Number))||f==="object"&&i.some(y=>!Df(l,y))?l:(h&&s.length?(n||(n=s.map(y=>typeof y=="string"?`'${y}'`:`${y}`).join(", ")),Wl.error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof l=="object"&&i.length?(a||(a=i.map(y=>Ry(y)).join(", ")),Wl.error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${a}`)):Wl.error("Accessor#set",`'${l}' is not a valid value for this property`),d&&(d.valid=!1),null)}}function Ai(e,t){if(arguments.length===2)return Ai(e).call(null,t);const r={},s=[],i=[];for(const d in e.typeMap){const f=e.typeMap[d];r[d]=at(f),s.push(Ry(f)),i.push(d)}const n=()=>`'${s.join("', '")}'`,a=()=>`'${i.join("', '")}'`,l=typeof e.key=="string"?d=>d[e.key]:e.key;return d=>{if(e.base&&!Df(e.base,d)||d==null)return d;const f=l(d)||e.defaultKeyValue,h=r[f];if(!h)return Wl.error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!Df(e.typeMap[f],d))return d;if(typeof e.key=="string"&&!PT(d)){const y={};for(const v in d)v!==e.key&&(y[v]=d[v]);return h(y)}return h(d)}}class Bt{}const _9={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function S9(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function DT(e){switch(e.type){case"native":return at(e.value);case"array":return bd(DT(e.value));case"one-of":return $9(e);default:return null}}function $9(e){let t=null;return(r,s)=>y0(r,e)?r:(t==null&&(t=f0(e)),Wl.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),s&&(s.valid=!1),null)}function f0(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Bt:return"integer";case Date:return"date";default:return Ry(e.value)}case"array":return`array of ${f0(e.value)}`;case"one-of":{const t=e.values.map(r=>f0(r));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function y0(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Bt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!y0(r,t.value));case"one-of":return t.values.some(r=>y0(e,r))}}function c(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const s=Object.getOwnPropertyDescriptor(t,r),i=Qd(t,r);s&&(s.get||s.set?(i.get=s.get||i.get,i.set=s.set||i.set):"value"in s&&("value"in e&&ye.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),i.value=e.value=s.value)),e.readOnly!=null&&(i.readOnly=e.readOnly);const n=e.aliasOf;if(n){const d=typeof n=="string"?n:n.source,f=typeof n=="string"?null:n.overridable===!0;let h;i.dependsOn=[d],i.get=function(){let y=jf(this,d);if(typeof y=="function"){h||(h=d.split(".").slice(0,-1).join("."));const v=jf(this,h);v&&(y=y.bind(v))}return y},i.readOnly||(i.set=f?function(y){y!==void 0?this._override(r,y):this._clearOverride(r)}:function(y){Pf(this,d,y)})}const a=e.type,l=e.types;i.cast||(a?i.cast=x9(a):l&&(Array.isArray(l)?i.cast=bd(Ai(l[0])):i.cast=Ai(l))),e.range&&(i.cast=zT(i.cast,e.range)),$P(i,e)}}function g1(e,t,r){const s=Qd(e,r);s.json||(s.json={});let i=s.json;return t!==void 0&&(i.origins||(i.origins={}),i.origins[t]||(i.origins[t]={}),i=i.origins[t]),i}function x9(e){let t=0,r=e;if(S9(e))return DT(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const s=r;if(NT(s))return t===0?h0(s):zf(h0(s),t);if(t===1)return b9(s);if(t>1)return w9(s,t);const i=e;return i.from?i.from:at(i)}function zT(e,t){return r=>{let s=+e(r);return t.step!=null&&(s=Math.round(s/t.step)*t.step),t.min!=null&&(s=Math.max(t.min,s)),t.max!=null&&(s=Math.min(t.max,s)),s}}function E9(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const s in r)if(t[s]){const i=t[s];r[s].forEach(n=>{t[n]=i}),delete t[s]}}}class Jr extends Ty{constructor(t,r,s){if(super(t,r,s),!(this instanceof Jr))return new Jr(t,r,s)}}Jr.prototype.type="warning";function VT(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const m0=ye.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function kS(e,t,r){var s,i;e&&(!r&&!t.read||(s=t.read)!=null&&s.reader||((i=t.read)==null?void 0:i.enabled)===!1||M9(e)&&Wr("read.reader",za(e),t))}function za(e){var t;const r=(t=e.ndimArray)!=null?t:0;if(r>1)return k9(e);if(r===1)return MS(e);if("type"in e&&qT(e.type)){var s,i;const n=(s=e.type.prototype)==null||(i=s.itemType)==null?void 0:i.Type,a=MS(typeof n=="function"?{type:n}:{types:n});return(l,d,f)=>{const h=a(l,d,f);return h&&new e.type(h)}}return v1(e)}function v1(e){return"type"in e?T9(e.type):I9(e.types)}function T9(e){return e.prototype.read?(t,r,s)=>{if(t==null)return t;const i=typeof t;if(i!=="object")return void m0.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const n=new e;return n.read(t,s),n}:e.fromJSON}function UT(e,t,r,s){return s!==0&&Array.isArray(t)?t.map(i=>UT(e,i,r,s-1)):e(t,void 0,r)}function k9(e){var t;const r=v1(e),s=UT.bind(null,r),i=(t=e.ndimArray)!=null?t:0;return(n,a,l)=>{if(n==null)return n;n=s(n,l,i);let d=i,f=n;for(;d>0&&Array.isArray(f);)d--,f=f[0];if(f!==void 0)for(let h=0;h<d;h++)n=[n];return n}}function MS(e){const t=v1(e);return(r,s,i)=>{if(r==null)return r;if(Array.isArray(r)){const a=[];for(const l of r){const d=t(l,void 0,i);d!==void 0&&a.push(d)}return a}const n=t(r,void 0,i);return n!==void 0?[n]:void 0}}function qT(e){if(!VT(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?b1(t.Type):BT(t.Type))}function M9(e){return"types"in e?BT(e.types):b1(e.type)}function b1(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||qT(e))}function BT(e){for(const t in e.typeMap)if(!b1(e.typeMap[t]))return!1;return!0}function I9(e){var t;let r=null;const s=(t=e.errorContext)!=null?t:"type";return(i,n,a)=>{if(i==null)return i;const l=typeof i;if(l!=="object")return void m0.error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);r||(r=O9(e));const d=e.key;if(typeof d!="string")return;const f=i[d],h=f?r[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const v=`Type '${f||"unknown"}' is not supported`;return a&&a.messages&&i&&a.messages.push(new Jr(`${s}:unsupported`,v,{definition:i,context:a})),void m0.error(v)}const y=new h;return y.read(i,a),y}}function O9(e){const t={};for(const i in e.typeMap){var r,s;const n=e.typeMap[i],a=Kd(n.prototype);if(typeof e.key=="function")continue;const l=a.properties[e.key];if(!l)continue;(r=l.json)!=null&&r.type&&Array.isArray(l.json.type)&&l.json.type.length===1&&typeof l.json.type[0]=="string"&&(t[l.json.type[0]]=n);const d=(s=l.json)==null?void 0:s.write;if(!d||!d.writer){t[i]=n;continue}const f=d.target,h=typeof f=="string"?f:e.key,y={};d.writer(i,y,h),y[h]&&(t[y[h]]=n)}return t}function C9(e){if(e.json||(e.json={}),OS(e.json),CS(e.json),IS(e.json),e.json.origins)for(const t in e.json.origins)OS(e.json.origins[t]),CS(e.json.origins[t]),IS(e.json.origins[t]);return!0}function IS(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function OS(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function CS(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const A9=ye.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function AS(e,t){var r;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const s=(r=e==null?void 0:e.ndimArray)!=null?r:0;e&&(s===1||"type"in e&&VT(e.type))?t.write.writer=P9:s>1?t.write.writer=L9(s):t.types?Array.isArray(t.types)?t.write.writer=R9(t.types[0]):t.write.writer=j9(t.types):t.write.writer=wd}function j9(e){return(t,r,s,i)=>t?HT(t,e,i)?wd(t,r,s,i):void 0:wd(t,r,s,i)}function HT(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r!=null&&r.messages){var s,i;const n=(s=t.errorContext)!=null?s:"type",a=`Values of type '${(i=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?i:"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new Z(`${n}:unsupported`,a,{definition:e,context:r})),A9.error(a)}return!1}function R9(e){return(t,r,s,i)=>!t||!Array.isArray(t)?wd(t,r,s,i):wd(t.filter(n=>HT(n,e,i)),r,s,i)}function wd(e,t,r,s){Wr(r,Vf(e,s),t)}function Vf(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?GT(e):e}function GT(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function P9(e,t,r,s){let i;e===null?i=null:e&&typeof e.map=="function"?(i=e.map(n=>Vf(n,s)),typeof i.toArray=="function"&&(i=i.toArray())):i=[Vf(e,s)],Wr(r,i,t)}function WT(e,t,r){return r!==0&&Array.isArray(e)?e.map(s=>WT(s,t,r-1)):Vf(e,t)}function L9(e){return function(t,r,s,i){let n;if(t===null)n=null;else{n=WT(t,i,e);let a=e,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let d=0;d<a;d++)n=[n]}Wr(s,n,r)}}function g0(e,t){return w1(e,"read",t)}function JT(e,t){return w1(e,"write",t)}function w1(e,t,r){let s=e&&e.json;if(e&&e.json&&e.json.origins&&r){const i=e.json.origins[r.origin];i&&(t==="any"||t in i)&&(s=i)}return s}function F9(e){const t=N9(e);if(e.json.origins)for(const r in e.json.origins){const s=e.json.origins[r],i=s.types?D9(s):t;kS(i,s,!1),s.types&&!s.write&&e.json.write&&e.json.write.enabled&&(s.write=q({},e.json.write)),AS(i,s)}kS(t,e.json,!0),AS(t,e.json)}function N9(e){return e.json.types?v0(e.json):e.type?KT(e):v0(e)}function D9(e){return e.type?KT(e):v0(e)}function KT(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!NT(r);)r=r[0],t++;return{type:r,ndimArray:t}}function v0(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function z9(e){C9(e)&&(E9(e),F9(e))}const Bm=new Set,Hm=new Set;function M(e){return t=>{t.prototype.declaredClass=e,U9(t);const r=[],s=[];let i=t.prototype;for(;i;)i.hasOwnProperty("initialize")&&!Bm.has(i.initialize)&&(Bm.add(i.initialize),r.push(i.initialize)),i.hasOwnProperty("destroy")&&!Hm.has(i.destroy)&&(Hm.add(i.destroy),s.push(i.destroy)),i=Object.getPrototypeOf(i);Bm.clear(),Hm.clear();class n extends t{constructor(...l){if(super(...l),this.constructor===n&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let d=r.length-1;d>=0;d--)r[d].call(this)}}),s.length){let d=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!d){d=!0;for(let f=0;f<s.length;f++)s[f].call(this)}}})}this.postscript(...l)}}}return n.__accessorMetadata__=Kd(t.prototype),n.prototype.declaredClass=e,n}}function V9(e,t){return t.get==null?function(){const r=this.__accessor__.properties.get(e);if(r===void 0)return;Le(r);const s=this.__accessor__.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const r=this.__accessor__.properties.get(e);if(r!==void 0)return r.getComputed()}}function U9(e){const t=e.prototype,r=Kd(t).properties,s={};for(const i of Object.getOwnPropertyNames(r)){const n=r[i];z9(n),s[i]={enumerable:!0,configurable:!0,get:V9(i,n),set(a){const l=this.__accessor__;if(l!==void 0){if(!Object.isFrozen(this)){if(l.initialized&&n.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${i}' of ${this.declaredClass}`);if(l.lifecycle===ki.CONSTRUCTED&&n.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${i}' of ${this.declaredClass}`);l.set(i,a)}}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:a})}}}Object.defineProperties(e.prototype,s)}function q9(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class wt{constructor(...t){if(this.constructor===wt)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new CP(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:s,constructor:i}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class a extends n{constructor(...d){super(...d),this.inherited=null,i&&i.apply(this,d)}}Kd(a.prototype);for(const l in t){const d=t[l];a.prototype[l]=typeof d=="function"?function(...f){const h=this.inherited;let y;this.inherited=function(...v){if(n.prototype[l])return n.prototype[l].apply(this,v)};try{y=d.apply(this,f)}catch(v){throw this.inherited=h,v}return this.inherited=h,y}:t[l]}for(const l in r){const d=q9(r[l]);c(d)(a.prototype,l)}return M(s)(a)}postscript(t){const r=this.__accessor__,s=r.ctorArgs||t;r.initialize(),s&&(this.set(s),r.ctorArgs=null),r.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(i9(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===ki.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return jf(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return nl(ye.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return Pf(this,t,r),this}watch(t,r,s){return c9(this,t,r,s)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,r){return this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}class Jl{constructor(){this._emitter=new Jl.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(i=null){this.target=i,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(i,n){const a=this._listenersMap&&this._listenersMap.get(i);if(!a)return!1;const l=this.target||this;return[...a].forEach(d=>{d.call(l,n)}),a.length>0}on(i,n){if(Array.isArray(i)){const l=i.map(d=>this.on(d,n));return Ey(l)}if(i.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const a=this._listenersMap.get(i)||[];return a.push(n),this._listenersMap.set(i,a),{remove:()=>{const l=this._listenersMap&&this._listenersMap.get(i)||[],d=l.indexOf(n);d>=0&&l.splice(d,1)}}}once(i,n){const a=this.on(i,l=>{a.remove(),n.call(null,l)});return a}hasEventListener(i){const n=this._listenersMap&&this._listenersMap.get(i);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=s=>{let i=class extends s{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return i=o([M("esri.core.Evented")],i),i};let r=class extends wt{constructor(){super(...arguments),this._emitter=new Jl.EventEmitter(this)}destroy(){this._emitter.clear()}emit(s,i){return this._emitter.emit(s,i)}on(s,i){return this._emitter.on(s,i)}once(s,i){return this._emitter.once(s,i)}hasEventListener(s){return this._emitter.hasEventListener(s)}};r=o([M("esri.core.Evented")],r),e.EventedAccessor=r})(Jl||(Jl={}));const ep=Jl;var Xe;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(Xe||(Xe={}));function _1(e){return(t,r)=>{t[r]=e}}class B9{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new wT(this._observers,t)}notify(){const t=this._observers.slice();for(let r=0;r<t.length;++r){const s=t[r];s.onInvalidated(),s.onCommitted()}}}var ln;class H9{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const fs=new mn(H9,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),G9=()=>{};function Gm(e){return e?e instanceof pa?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function Wm(e){if(e&&e.length)return e[0]}function W9(e,t,r,s){const i=Math.min(e.length-r,t.length-s);let n=0;for(;n<i&&e[r+n]===t[s+n];)n++;return n}function QT(e,t,r,s){t&&t.forEach((i,n,a)=>{e.push(i),QT(e,r.call(s,i,n,a),r,s)})}const Tn=new Set,kn=new Set,Mn=new Set,Jm=new Map;let J9=0,pa=ln=class extends ep.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new B9,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:J9++})}static isCollection(e){return e!=null&&e instanceof ln}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof ln?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Le(this._observable),this._items}set items(e){this._emitBeforeChanges(Xe.ADD)||(this._splice(0,this.length,Gm(e)),this._emitAfterChanges(Xe.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const r=this._chgListeners,s={removed:!1,callback:t};return r.push(s),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=G9,s.removed=!0,r.splice(r.indexOf(s),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Le(this._observable),this._emitBeforeChanges(Xe.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(Xe.ADD),this}addMany(e,t=this._items.length){if(Le(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(Xe.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,Gm(e)),this._emitAfterChanges(Xe.ADD),this}at(e){if(Le(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Le(this._observable),!this.length||this._emitBeforeChanges(Xe.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(Xe.REMOVE),e}clone(){return Le(this._observable),this._createNewInstance({items:this._items.map(U)})}concat(...e){Le(this._observable);const t=e.map(Gm);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Le(this._observable),!this.length||this._emitBeforeChanges(Xe.REMOVE))return;const r=this._splice(0,this.length),s=r.length;for(let i=0;i<s;i++)e.call(t,r[i],i,r);this._emitAfterChanges(Xe.REMOVE)}every(e,t){return Le(this._observable),this._items.every(e,t)}filter(e,t){let r;return Le(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Le(this._observable),this._items.find(e,t)}findIndex(e,t){return Le(this._observable),this._items.findIndex(e,t)}flatten(e,t){Le(this._observable);const r=[];return QT(r,this,e,t),new ln(r)}forEach(e,t){return Le(this._observable),this._items.forEach(e,t)}getItemAt(e){return Le(this._observable),this._items[e]}getNextIndex(e){Le(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Le(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Le(this._observable),this._items.indexOf(e,t)}join(e=","){return Le(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Le(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Le(this._observable);const r=this._items.map(e,t);return new ln({items:r})}reorder(e,t=this.length-1){Le(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(Xe.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(Xe.MOVE)}return e}}pop(){if(Le(this._observable),!this.length||this._emitBeforeChanges(Xe.REMOVE))return;const e=Wm(this._splice(this.length-1,1));return this._emitAfterChanges(Xe.REMOVE),e}push(...e){return Le(this._observable),this._emitBeforeChanges(Xe.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(Xe.ADD)),this.length}reduce(e,t){Le(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Le(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Le(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Le(this._observable),e<0||e>=this.length||this._emitBeforeChanges(Xe.REMOVE))return;const t=Wm(this._splice(e,1));return this._emitAfterChanges(Xe.REMOVE),t}removeMany(e){if(Le(this._observable),!e||!e.length||this._emitBeforeChanges(Xe.REMOVE))return[];const t=e instanceof ln?e.toArray():e,r=this._items,s=[],i=t.length;for(let n=0;n<i;n++){const a=t[n],l=r.indexOf(a);if(l>-1){const d=1+W9(t,r,n+1,l+1),f=this._splice(l,d);f&&f.length>0&&s.push.apply(s,f),n+=d-1}}return this._emitAfterChanges(Xe.REMOVE),s}reverse(){if(Le(this._observable),this._emitBeforeChanges(Xe.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(Xe.MOVE),this}shift(){if(Le(this._observable),!this.length||this._emitBeforeChanges(Xe.REMOVE))return;const e=Wm(this._splice(0,1));return this._emitAfterChanges(Xe.REMOVE),e}slice(e=0,t=this.length){return Le(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Le(this._observable),this._items.some(e,t)}sort(e){if(Le(this._observable),!this.length||this._emitBeforeChanges(Xe.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(Xe.MOVE),this}splice(e,t,...r){Le(this._observable);const s=(t?Xe.REMOVE:0)|(r.length?Xe.ADD:0);if(this._emitBeforeChanges(s))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(s),i}toArray(){return Le(this._observable),this._items.slice()}toJSON(){return Le(this._observable),this.toArray()}toLocaleString(){return Le(this._observable),this._items.toLocaleString()}toString(){return Le(this._observable),this._items.toString()}unshift(...e){return Le(this._observable),!e.length||this._emitBeforeChanges(Xe.ADD)||(this._splice(0,0,e),this._emitAfterChanges(Xe.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const s=this._items,i=this.itemType;let n,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Oy(()=>this._dispatchChange())),t){if(a=s.splice(e,t),this.hasEventListener("before-remove")){const l=fs.acquire();l.target=this,l.cancellable=!0;for(let d=0,f=a.length;d<f;d++)n=a[d],l.reset(n),this.emit("before-remove",l),l.defaultPrevented&&(a.splice(d,1),s.splice(e,0,n),e+=1,d-=1,f-=1);fs.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=fs.acquire();l.target=this,l.cancellable=!1;const d=a.length;for(let f=0;f<d;f++)l.reset(a[f]),this.emit("after-remove",l);fs.release(l)}}if(r&&r.length){if(i){const h=[];for(const y of r){const v=i.ensureType(y);v==null&&y!=null||h.push(v)}r=h}const l=this.hasEventListener("before-add"),d=this.hasEventListener("after-add"),f=e===this.length;if(l||d){const h=fs.acquire();h.target=this,h.cancellable=!0;const y=fs.acquire();y.target=this,y.cancellable=!1;for(const v of r)l?(h.reset(v),this.emit("before-add",h),h.defaultPrevented||(f?s.push(v):s.splice(e++,0,v),this._set("length",s.length),d&&(y.reset(v),this.emit("after-add",y)))):(f?s.push(v):s.splice(e++,0,v),this._set("length",s.length),y.reset(v),this.emit("after-add",y));fs.release(y),fs.release(h)}else{if(f)for(const h of r)s.push(h);else s.splice(e,0,...r);this._set("length",s.length)}}return(r&&r.length||a&&a.length)&&this._notifyChangeEvent(r,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=fs.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,fs.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=fs.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),fs.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;Tn.clear(),kn.clear(),Mn.clear();for(const{added:d,removed:f}of r){if(d)if(Mn.size===0&&kn.size===0)for(const h of d)Tn.add(h);else for(const h of d)kn.has(h)?(Mn.add(h),kn.delete(h)):Mn.has(h)||Tn.add(h);if(f)if(Mn.size===0&&Tn.size===0)for(const h of f)kn.add(h);else for(const h of f)Tn.has(h)?Tn.delete(h):(Mn.delete(h),kn.add(h))}const s=Ys.acquire();Tn.forEach(d=>{s.push(d)});const i=Ys.acquire();kn.forEach(d=>{i.push(d)});const n=this._items,a=t.items,l=Ys.acquire();if(Mn.forEach(d=>{a.indexOf(d)!==n.indexOf(d)&&l.push(d)}),t.listeners&&(s.length||i.length||l.length)){const d={target:this,added:s,removed:i,moved:l},f=t.listeners.length;for(let h=0;h<f;h++){const y=t.listeners[h];y.removed||y.callback.call(this,d)}}Ys.release(s),Ys.release(i),Ys.release(l)}Tn.clear(),kn.clear(),Mn.clear()}};pa.ofType=e=>{if(!e)return ln;if(Jm.has(e))return Jm.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const s in e.typeMap){const i=e.typeMap[s].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends ln{};return o([_1({Type:e,ensureType:typeof e=="function"?at(e):Ai(e)})],r.prototype,"itemType",void 0),r=o([M(`esri.core.Collection<${t}>`)],r),Jm.set(e,r),r},o([c()],pa.prototype,"length",void 0),o([c()],pa.prototype,"items",null),pa=ln=o([M("esri.core.Collection")],pa);const yt=pa;class S1{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new S1;return this._values.forEach((s,i)=>{t&&t.has(i)||r.set(i,U(s.value),s.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const s=this._values.get(t);return r==null||(s==null?void 0:s.origin)===r?s==null?void 0:s.value:void 0}originOf(t){var r,s;return(r=(s=this._values.get(t))==null?void 0:s.origin)!=null?r:Ve.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(s=>{var i;return((i=this._values.get(s))==null?void 0:i.origin)===t})}set(t,r,s){if((s=this._normalizeOrigin(s))===Ve.DEFAULTS){const i=this._values.get(t);if(i&&i.origin!=null&&i.origin>s)return}this._values.set(t,new K9(r,s))}delete(t,r){var s;(r=this._normalizeOrigin(r))!=null&&((s=this._values.get(t))==null?void 0:s.origin)!==r||this._values.delete(t)}has(t,r){var s;return(r=this._normalizeOrigin(r))!=null?((s=this._values.get(t))==null?void 0:s.origin)===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},s)=>t(r,s))}_normalizeOrigin(t){if(t!=null)return t===Ve.DEFAULTS?t:Ve.USER}}class K9{constructor(t,r){this.value=t,this.origin=r}}function ZT(e,t,r){t.keys().forEach(i=>{r.set(i,t.get(i),Ve.DEFAULTS)});const s=e.metadatas;Object.keys(s).forEach(i=>{e.internalGet(i)&&r.set(i,e.internalGet(i),Ve.DEFAULTS)})}function Q9(e,t,r){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const s=e.read.source;if(typeof s=="string"){if(s===t||s.indexOf(".")>-1&&s.indexOf(t)===0&&vS(s,r))return!0}else for(const i of s)if(i===t||i.indexOf(".")>-1&&i.indexOf(t)===0&&vS(i,r))return!0;return!1}function Z9(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function Y9(e,t,r,s,i){let n=g0(t[r],i);Z9(n)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))n=g0(t[a],i),Q9(n,r,s)&&(e[a]=!0)}function X9(e,t,r,s){const i=r.metadatas,n=w1(i[t],"any",s),a=n&&n.default;if(a===void 0)return;const l=typeof a=="function"?a.call(e,t,s):a;l!==void 0&&r.set(t,l)}const YT={origin:"service"};function XT(e,t,r=YT){if(!t||typeof t!="object")return;const s=Tr(e),i=s.metadatas,n={};for(const a of Object.getOwnPropertyNames(t))Y9(n,i,a,t,r);s.setDefaultOrigin(r.origin);for(const a of Object.getOwnPropertyNames(n)){const l=g0(i[a],r).read,d=l&&l.source;let f;f=d&&typeof d=="string"?Jd(t,d):t[a],l&&l.reader&&(f=l.reader.call(e,f,t,r)),f!==void 0&&s.set(a,f)}if(!r||!r.ignoreDefaults){s.setDefaultOrigin("defaults");for(const a of Object.getOwnPropertyNames(i))n[a]||X9(e,a,s,r)}s.setDefaultOrigin("user")}function eL(e,t,r,s=YT){var i;const n=Ie(q({},s),{messages:[]});r(n),(i=n.messages)==null||i.forEach(a=>{a.type!=="warning"||e.loaded?s&&s.messages&&s.messages.push(a):e.loadWarnings.push(a)})}const tL=ye.getLogger("esri.core.accessorSupport.write");function rL(e,t,r,s,i){var n,a;const l={};return(n=t.write)==null||(a=n.writer)==null||a.call(e,s,l,r,i),l}function ek(e,t,r,s,i,n){if(!s||!s.write)return!1;const a=e.get(r);if(!i&&s.write.overridePolicy){const l=s.write.overridePolicy.call(e,a,r,n);l!==void 0&&(i=l)}if(i||(i=s.write),!i||i.enabled===!1)return!1;if((a===null&&!i.allowNull&&!i.writerEnsuresNonNull||a===void 0)&&i.isRequired){const l=new Z("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return l&&n&&n.messages?n.messages.push(l):l&&!n&&tL.error(l.name,l.message),!1}return!(a===void 0||a===null&&!i.allowNull&&!i.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(r)===Ve.DEFAULTS)&&sL(e,r,n,s,a)||!i.ignoreOrigin&&n&&n.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<hn(n.origin))}function sL(e,t,r,s,i){const n=s.default;if(n===void 0)return!1;if(s.defaultEquals!=null)return s.defaultEquals(i);if(typeof n=="function"){if(Array.isArray(i)){const a=n.call(e,t,r);return l1(a,i)}return!1}return n===i}function tk(e,t,r,s){const i=Tr(e),n=i.metadatas,a=JT(n[t],s);return!!a&&ek(e,i,t,a,r,s)}function rk(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return hh(t,e.toJSON());const s=Tr(e),i=s.metadatas;for(const l in i){const d=JT(i[l],r);if(!ek(e,s,l,d,void 0,r))continue;const f=e.get(l),h=rL(e,d,d.write&&typeof d.write.target=="string"?d.write.target:l,f,r);var n,a;Object.keys(h).length>0&&(t=hh(t,h),r!=null&&(n=r.resources)!=null&&(a=n.pendingOperations)!=null&&a.length&&Promise.all(r.resources.pendingOperations).then(()=>hh(t,h)),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:l,oldOrigin:TP(s.store.originOf(l)),newOrigin:r.origin}))}return t}const Py=e=>{let t=class extends e{constructor(...r){super(...r);const s=Tr(this),i=s.store,n=new S1;s.store=n,ZT(s,i,n)}read(r,s){XT(this,r,s)}write(r={},s){return rk(this,r,s)}toJSON(r){return this.write({},r)}static fromJSON(r,s){return iL.call(this,r,s)}};return t=o([M("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function iL(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let X=class extends Py(wt){};X=o([M("esri.core.JSONSupport")],X);const nL=Object.prototype.toString;function oL(e){const t="__accessorMetadata__"in e?at(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return aL.apply(this,r)}}function aL(e,t,r,s){Qd(e,t).cast=s}function lL(e){return function(t,r){Qd(t,e).cast=t[r]}}function jt(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&nL.call(e[0])==="[object Function]"?oL(e[0]):e.length===1&&typeof e[0]=="string"?lL(e[0]):void 0}function ce(e,t,r){let s,i;return t===void 0||Array.isArray(t)?(i=e,r=t,s=[void 0]):(i=t,s=Array.isArray(e)?e:[e]),(n,a)=>{const l=n.constructor.prototype;s.forEach(d=>{const f=g1(n,d,i);f.read&&typeof f.read=="object"||(f.read={}),f.read.reader=l[a],r&&(f.read.source=(f.read.source||[]).concat(r))})}}function me(e,t,r){let s,i;return t===void 0?(i=e,s=[void 0]):typeof t!="string"?(i=e,s=[void 0],r=t):(i=t,s=Array.isArray(e)?e:[e]),(n,a)=>{const l=n.constructor.prototype;for(const d of s){const f=g1(n,d,i);f.write&&typeof f.write=="object"||(f.write={}),r&&(f.write.target=r),f.write.writer=l[a]}}}var nu;function uL(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,s="range"in e?e.range[1]:e.maxValue;if(+t<r||+t>s)return nu.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(r=>r==null||r.code!==t))return nu.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(nu||(nu={}));var Oa;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Oa||(Oa={}));let u;const w={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(u=2e3;u<=2045;u++)w[u]=0;for(u=2056;u<=2065;u++)w[u]=0;for(u=2067;u<=2135;u++)w[u]=0;for(u=2137;u<=2154;u++)w[u]=0;for(u=2161;u<=2170;u++)w[u]=0;for(u=2172;u<=2193;u++)w[u]=0;for(u=2195;u<=2198;u++)w[u]=0;for(u=2200;u<=2203;u++)w[u]=0;for(u=2205;u<=2217;u++)w[u]=0;for(u=2222;u<=2224;u++)w[u]=1;for(u=2225;u<=2250;u++)w[u]=2;for(u=2251;u<=2253;u++)w[u]=1;for(u=2257;u<=2264;u++)w[u]=2;for(u=2274;u<=2279;u++)w[u]=2;for(u=2280;u<=2282;u++)w[u]=1;for(u=2283;u<=2289;u++)w[u]=2;for(u=2290;u<=2292;u++)w[u]=0;for(u=2308;u<=2313;u++)w[u]=0;for(u=2315;u<=2491;u++)w[u]=0;for(u=2494;u<=2866;u++)w[u]=0;for(u=2867;u<=2869;u++)w[u]=1;for(u=2870;u<=2888;u++)w[u]=2;for(u=2891;u<=2895;u++)w[u]=2;for(u=2896;u<=2898;u++)w[u]=1;for(u=2902;u<=2908;u++)w[u]=2;for(u=2915;u<=2920;u++)w[u]=2;for(u=2921;u<=2923;u++)w[u]=1;for(u=2924;u<=2930;u++)w[u]=2;for(u=2931;u<=2962;u++)w[u]=0;for(u=2964;u<=2968;u++)w[u]=2;for(u=2969;u<=2973;u++)w[u]=0;for(u=2975;u<=2991;u++)w[u]=0;for(u=2995;u<=3051;u++)w[u]=0;for(u=3054;u<=3079;u++)w[u]=0;for(u=3081;u<=3088;u++)w[u]=0;for(u=3092;u<=3101;u++)w[u]=0;for(u=3106;u<=3138;u++)w[u]=0;for(u=3146;u<=3151;u++)w[u]=0;for(u=3153;u<=3166;u++)w[u]=0;for(u=3168;u<=3172;u++)w[u]=0;for(u=3174;u<=3203;u++)w[u]=0;for(u=3294;u<=3358;u++)w[u]=0;for(u=3367;u<=3403;u++)w[u]=0;for(u=3408;u<=3416;u++)w[u]=0;for(u=3417;u<=3438;u++)w[u]=2;for(u=3441;u<=3446;u++)w[u]=2;for(u=3447;u<=3450;u++)w[u]=0;for(u=3451;u<=3459;u++)w[u]=2;for(u=3460;u<=3478;u++)w[u]=0;for(u=3554;u<=3559;u++)w[u]=0;for(u=3560;u<=3570;u++)w[u]=2;for(u=3571;u<=3581;u++)w[u]=0;for(u=3594;u<=3597;u++)w[u]=0;for(u=3601;u<=3604;u++)w[u]=0;for(u=3637;u<=3639;u++)w[u]=0;for(u=3665;u<=3667;u++)w[u]=0;for(u=3693;u<=3695;u++)w[u]=0;for(u=3701;u<=3727;u++)w[u]=0;for(u=3728;u<=3739;u++)w[u]=2;for(u=3740;u<=3751;u++)w[u]=0;for(u=3753;u<=3760;u++)w[u]=2;for(u=3761;u<=3773;u++)w[u]=0;for(u=3775;u<=3777;u++)w[u]=0;for(u=3779;u<=3781;u++)w[u]=0;for(u=3783;u<=3785;u++)w[u]=0;for(u=3788;u<=3791;u++)w[u]=0;for(u=3797;u<=3802;u++)w[u]=0;for(u=3814;u<=3816;u++)w[u]=0;for(u=3825;u<=3829;u++)w[u]=0;for(u=3832;u<=3841;u++)w[u]=0;for(u=3844;u<=3852;u++)w[u]=0;for(u=3873;u<=3885;u++)w[u]=0;for(u=3890;u<=3893;u++)w[u]=0;for(u=3907;u<=3912;u++)w[u]=0;for(u=3942;u<=3950;u++)w[u]=0;for(u=3968;u<=3970;u++)w[u]=0;for(u=3973;u<=3976;u++)w[u]=0;for(u=3986;u<=3989;u++)w[u]=0;for(u=3994;u<=3997;u++)w[u]=0;for(u=4048;u<=4051;u++)w[u]=0;for(u=4056;u<=4063;u++)w[u]=0;for(u=4093;u<=4096;u++)w[u]=0;for(u=4390;u<=4398;u++)w[u]=0;for(u=4399;u<=4413;u++)w[u]=2;for(u=4418;u<=4433;u++)w[u]=2;for(u=4455;u<=4457;u++)w[u]=2;for(u=4484;u<=4489;u++)w[u]=0;for(u=4491;u<=4554;u++)w[u]=0;for(u=4568;u<=4589;u++)w[u]=0;for(u=4652;u<=4656;u++)w[u]=0;for(u=4766;u<=4800;u++)w[u]=0;for(u=5014;u<=5016;u++)w[u]=0;for(u=5069;u<=5072;u++)w[u]=0;for(u=5105;u<=5130;u++)w[u]=0;for(u=5173;u<=5188;u++)w[u]=0;for(u=5253;u<=5259;u++)w[u]=0;for(u=5269;u<=5275;u++)w[u]=0;for(u=5292;u<=5311;u++)w[u]=0;for(u=5329;u<=5331;u++)w[u]=0;for(u=5343;u<=5349;u++)w[u]=0;for(u=5355;u<=5357;u++)w[u]=0;for(u=5387;u<=5389;u++)w[u]=0;for(u=5459;u<=5463;u++)w[u]=0;for(u=5479;u<=5482;u++)w[u]=0;for(u=5518;u<=5520;u++)w[u]=0;for(u=5530;u<=5539;u++)w[u]=0;for(u=5550;u<=5552;u++)w[u]=0;for(u=5562;u<=5583;u++)w[u]=0;for(u=5623;u<=5625;u++)w[u]=2;for(u=5631;u<=5639;u++)w[u]=0;for(u=5649;u<=5653;u++)w[u]=0;for(u=5663;u<=5680;u++)w[u]=0;for(u=5682;u<=5685;u++)w[u]=0;for(u=5875;u<=5877;u++)w[u]=0;for(u=5896;u<=5899;u++)w[u]=0;for(u=5921;u<=5940;u++)w[u]=0;for(u=6050;u<=6125;u++)w[u]=0;for(u=6244;u<=6275;u++)w[u]=0;for(u=6328;u<=6348;u++)w[u]=0;for(u=6350;u<=6356;u++)w[u]=0;for(u=6366;u<=6372;u++)w[u]=0;for(u=6381;u<=6387;u++)w[u]=0;for(u=6393;u<=6404;u++)w[u]=0;for(u=6480;u<=6483;u++)w[u]=0;for(u=6511;u<=6514;u++)w[u]=0;for(u=6579;u<=6581;u++)w[u]=0;for(u=6619;u<=6624;u++)w[u]=0;for(u=6625;u<=6627;u++)w[u]=2;for(u=6628;u<=6632;u++)w[u]=0;for(u=6634;u<=6637;u++)w[u]=0;for(u=6669;u<=6692;u++)w[u]=0;for(u=6707;u<=6709;u++)w[u]=0;for(u=6720;u<=6723;u++)w[u]=0;for(u=6732;u<=6738;u++)w[u]=0;for(u=6931;u<=6933;u++)w[u]=0;for(u=6956;u<=6959;u++)w[u]=0;for(u=7005;u<=7007;u++)w[u]=0;for(u=7057;u<=7070;u++)w[u]=2;for(u=7074;u<=7082;u++)w[u]=0;for(u=7109;u<=7118;u++)w[u]=0;for(u=7119;u<=7127;u++)w[u]=1;for(u=7374;u<=7376;u++)w[u]=0;for(u=7528;u<=7586;u++)w[u]=0;for(u=7587;u<=7645;u++)w[u]=2;for(u=7692;u<=7696;u++)w[u]=0;for(u=7755;u<=7787;u++)w[u]=0;for(u=7791;u<=7795;u++)w[u]=0;for(u=7799;u<=7801;u++)w[u]=0;for(u=7803;u<=7805;u++)w[u]=0;for(u=7825;u<=7831;u++)w[u]=0;for(u=7845;u<=7859;u++)w[u]=0;for(u=8013;u<=8032;u++)w[u]=0;for(u=8065;u<=8068;u++)w[u]=1;for(u=8518;u<=8529;u++)w[u]=2;for(u=8533;u<=8536;u++)w[u]=2;for(u=8538;u<=8540;u++)w[u]=2;for(u=8677;u<=8679;u++)w[u]=0;for(u=8836;u<=8840;u++)w[u]=0;for(u=8857;u<=8859;u++)w[u]=0;for(u=8908;u<=8910;u++)w[u]=0;for(u=9154;u<=9159;u++)w[u]=0;for(u=9205;u<=9218;u++)w[u]=0;for(u=9271;u<=9273;u++)w[u]=0;for(u=9295;u<=9297;u++)w[u]=0;for(u=9356;u<=9360;u++)w[u]=0;for(u=9404;u<=9407;u++)w[u]=0;for(u=9476;u<=9482;u++)w[u]=0;for(u=9487;u<=9494;u++)w[u]=0;for(u=9697;u<=9699;u++)w[u]=0;for(u=20002;u<=20032;u++)w[u]=0;for(u=20062;u<=20092;u++)w[u]=0;for(u=20135;u<=20138;u++)w[u]=0;for(u=20248;u<=20258;u++)w[u]=0;for(u=20348;u<=20358;u++)w[u]=0;for(u=20436;u<=20440;u++)w[u]=0;for(u=20822;u<=20824;u++)w[u]=0;for(u=20904;u<=20932;u++)w[u]=0;for(u=20934;u<=20936;u++)w[u]=0;for(u=21004;u<=21032;u++)w[u]=0;for(u=21035;u<=21037;u++)w[u]=0;for(u=21095;u<=21097;u++)w[u]=0;for(u=21148;u<=21150;u++)w[u]=0;for(u=21207;u<=21264;u++)w[u]=0;for(u=21307;u<=21364;u++)w[u]=0;for(u=21413;u<=21423;u++)w[u]=0;for(u=21453;u<=21463;u++)w[u]=0;for(u=21473;u<=21483;u++)w[u]=0;for(u=21780;u<=21782;u++)w[u]=0;for(u=21891;u<=21894;u++)w[u]=0;for(u=21896;u<=21899;u++)w[u]=0;for(u=22171;u<=22177;u++)w[u]=0;for(u=22181;u<=22187;u++)w[u]=0;for(u=22191;u<=22197;u++)w[u]=0;for(u=22234;u<=22236;u++)w[u]=0;for(u=22521;u<=22525;u++)w[u]=0;for(u=22991;u<=22994;u++)w[u]=0;for(u=23028;u<=23038;u++)w[u]=0;for(u=23830;u<=23853;u++)w[u]=0;for(u=23866;u<=23872;u++)w[u]=0;for(u=23877;u<=23884;u++)w[u]=0;for(u=23886;u<=23894;u++)w[u]=0;for(u=23946;u<=23948;u++)w[u]=0;for(u=24311;u<=24313;u++)w[u]=0;for(u=24342;u<=24347;u++)w[u]=0;for(u=24370;u<=24374;u++)w[u]=10;for(u=24375;u<=24381;u++)w[u]=0;for(u=24718;u<=24721;u++)w[u]=0;for(u=24817;u<=24821;u++)w[u]=0;for(u=24877;u<=24882;u++)w[u]=0;for(u=24891;u<=24893;u++)w[u]=0;for(u=25391;u<=25395;u++)w[u]=0;for(u=25828;u<=25838;u++)w[u]=0;for(u=26191;u<=26195;u++)w[u]=0;for(u=26391;u<=26393;u++)w[u]=0;for(u=26701;u<=26722;u++)w[u]=0;for(u=26729;u<=26799;u++)w[u]=2;for(u=26801;u<=26803;u++)w[u]=2;for(u=26811;u<=26813;u++)w[u]=2;for(u=26847;u<=26870;u++)w[u]=2;for(u=26891;u<=26899;u++)w[u]=0;for(u=26901;u<=26923;u++)w[u]=0;for(u=26929;u<=26946;u++)w[u]=0;for(u=26948;u<=26998;u++)w[u]=0;for(u=27037;u<=27040;u++)w[u]=0;for(u=27205;u<=27232;u++)w[u]=0;for(u=27258;u<=27260;u++)w[u]=0;for(u=27391;u<=27398;u++)w[u]=0;for(u=27561;u<=27564;u++)w[u]=0;for(u=27571;u<=27574;u++)w[u]=0;for(u=27581;u<=27584;u++)w[u]=0;for(u=27591;u<=27594;u++)w[u]=0;for(u=28191;u<=28193;u++)w[u]=0;for(u=28348;u<=28358;u++)w[u]=0;for(u=28402;u<=28432;u++)w[u]=0;for(u=28462;u<=28492;u++)w[u]=0;for(u=29118;u<=29122;u++)w[u]=0;for(u=29168;u<=29172;u++)w[u]=0;for(u=29177;u<=29185;u++)w[u]=0;for(u=29187;u<=29195;u++)w[u]=0;for(u=29900;u<=29903;u++)w[u]=0;for(u=30161;u<=30179;u++)w[u]=0;for(u=30491;u<=30494;u++)w[u]=0;for(u=30729;u<=30732;u++)w[u]=0;for(u=31251;u<=31259;u++)w[u]=0;for(u=31265;u<=31268;u++)w[u]=0;for(u=31275;u<=31279;u++)w[u]=0;for(u=31281;u<=31297;u++)w[u]=0;for(u=31461;u<=31469;u++)w[u]=0;for(u=31491;u<=31495;u++)w[u]=0;for(u=31917;u<=31922;u++)w[u]=0;for(u=31965;u<=32e3;u++)w[u]=0;for(u=32001;u<=32003;u++)w[u]=2;for(u=32005;u<=32031;u++)w[u]=2;for(u=32033;u<=32060;u++)w[u]=2;for(u=32064;u<=32067;u++)w[u]=2;for(u=32074;u<=32077;u++)w[u]=2;for(u=32081;u<=32086;u++)w[u]=0;for(u=32107;u<=32130;u++)w[u]=0;for(u=32133;u<=32158;u++)w[u]=0;for(u=32164;u<=32167;u++)w[u]=2;for(u=32180;u<=32199;u++)w[u]=0;for(u=32201;u<=32260;u++)w[u]=0;for(u=32301;u<=32360;u++)w[u]=0;for(u=32601;u<=32662;u++)w[u]=0;for(u=32664;u<=32667;u++)w[u]=2;for(u=32701;u<=32761;u++)w[u]=0;for(u=53001;u<=53004;u++)w[u]=0;for(u=53008;u<=53019;u++)w[u]=0;for(u=53021;u<=53032;u++)w[u]=0;for(u=53034;u<=53037;u++)w[u]=0;for(u=53042;u<=53046;u++)w[u]=0;for(u=53074;u<=53080;u++)w[u]=0;for(u=54001;u<=54004;u++)w[u]=0;for(u=54008;u<=54019;u++)w[u]=0;for(u=54021;u<=54032;u++)w[u]=0;for(u=54034;u<=54037;u++)w[u]=0;for(u=54042;u<=54046;u++)w[u]=0;for(u=54048;u<=54053;u++)w[u]=0;for(u=54074;u<=54080;u++)w[u]=0;for(u=54098;u<=54101;u++)w[u]=0;for(u=102001;u<=102040;u++)w[u]=0;for(u=102042;u<=102063;u++)w[u]=0;for(u=102065;u<=102067;u++)w[u]=0;for(u=102070;u<=102117;u++)w[u]=0;for(u=102122;u<=102216;u++)w[u]=0;for(u=102221;u<=102377;u++)w[u]=0;for(u=102382;u<=102388;u++)w[u]=0;for(u=102389;u<=102398;u++)w[u]=2;for(u=102399;u<=102444;u++)w[u]=0;for(u=102445;u<=102447;u++)w[u]=2;for(u=102448;u<=102458;u++)w[u]=0;for(u=102459;u<=102468;u++)w[u]=2;for(u=102469;u<=102499;u++)w[u]=0;for(u=102500;u<=102519;u++)w[u]=1;for(u=102520;u<=102524;u++)w[u]=0;for(u=102525;u<=102529;u++)w[u]=2;for(u=102530;u<=102588;u++)w[u]=0;for(u=102590;u<=102598;u++)w[u]=0;for(u=102601;u<=102603;u++)w[u]=0;for(u=102605;u<=102628;u++)w[u]=0;for(u=102629;u<=102646;u++)w[u]=2;for(u=102648;u<=102700;u++)w[u]=2;for(u=102701;u<=102703;u++)w[u]=0;for(u=102707;u<=102730;u++)w[u]=2;for(u=102733;u<=102758;u++)w[u]=2;for(u=102767;u<=102900;u++)w[u]=0;for(u=102901;u<=102933;u++)w[u]=2;for(u=102934;u<=102950;u++)w[u]=13;for(u=102951;u<=102960;u++)w[u]=0;for(u=102965;u<=102969;u++)w[u]=0;for(u=102971;u<=102973;u++)w[u]=0;for(u=102975;u<=102989;u++)w[u]=0;for(u=102990;u<=102992;u++)w[u]=1;for(u=102997;u<=103002;u++)w[u]=0;for(u=103003;u<=103008;u++)w[u]=2;for(u=103009;u<=103011;u++)w[u]=0;for(u=103012;u<=103014;u++)w[u]=2;for(u=103019;u<=103021;u++)w[u]=0;for(u=103022;u<=103024;u++)w[u]=2;for(u=103029;u<=103031;u++)w[u]=0;for(u=103032;u<=103034;u++)w[u]=2;for(u=103065;u<=103068;u++)w[u]=0;for(u=103074;u<=103076;u++)w[u]=0;for(u=103077;u<=103079;u++)w[u]=1;for(u=103080;u<=103082;u++)w[u]=0;for(u=103083;u<=103085;u++)w[u]=2;for(u=103090;u<=103093;u++)w[u]=0;for(u=103097;u<=103099;u++)w[u]=0;for(u=103100;u<=103102;u++)w[u]=2;for(u=103107;u<=103109;u++)w[u]=0;for(u=103110;u<=103112;u++)w[u]=2;for(u=103113;u<=103116;u++)w[u]=0;for(u=103117;u<=103120;u++)w[u]=2;for(u=103153;u<=103157;u++)w[u]=0;for(u=103158;u<=103162;u++)w[u]=2;for(u=103163;u<=103165;u++)w[u]=0;for(u=103166;u<=103168;u++)w[u]=1;for(u=103169;u<=103171;u++)w[u]=2;for(u=103186;u<=103188;u++)w[u]=0;for(u=103189;u<=103191;u++)w[u]=2;for(u=103192;u<=103195;u++)w[u]=0;for(u=103196;u<=103199;u++)w[u]=2;for(u=103200;u<=103224;u++)w[u]=0;for(u=103225;u<=103227;u++)w[u]=1;for(u=103232;u<=103237;u++)w[u]=0;for(u=103238;u<=103243;u++)w[u]=2;for(u=103244;u<=103246;u++)w[u]=0;for(u=103247;u<=103249;u++)w[u]=2;for(u=103254;u<=103256;u++)w[u]=0;for(u=103257;u<=103259;u++)w[u]=2;for(u=103264;u<=103266;u++)w[u]=0;for(u=103267;u<=103269;u++)w[u]=2;for(u=103300;u<=103375;u++)w[u]=0;for(u=103381;u<=103383;u++)w[u]=0;for(u=103384;u<=103386;u++)w[u]=1;for(u=103387;u<=103389;u++)w[u]=0;for(u=103390;u<=103392;u++)w[u]=2;for(u=103397;u<=103399;u++)w[u]=0;for(u=103400;u<=103471;u++)w[u]=2;for(u=103476;u<=103478;u++)w[u]=0;for(u=103479;u<=103481;u++)w[u]=2;for(u=103486;u<=103488;u++)w[u]=0;for(u=103489;u<=103491;u++)w[u]=2;for(u=103492;u<=103495;u++)w[u]=0;for(u=103496;u<=103499;u++)w[u]=2;for(u=103528;u<=103543;u++)w[u]=0;for(u=103544;u<=103548;u++)w[u]=2;for(u=103549;u<=103551;u++)w[u]=0;for(u=103552;u<=103554;u++)w[u]=1;for(u=103555;u<=103557;u++)w[u]=2;for(u=103558;u<=103560;u++)w[u]=0;for(u=103571;u<=103573;u++)w[u]=0;for(u=103574;u<=103576;u++)w[u]=2;for(u=103577;u<=103580;u++)w[u]=0;for(u=103581;u<=103583;u++)w[u]=2;for(u=103595;u<=103694;u++)w[u]=0;for(u=103696;u<=103699;u++)w[u]=0;for(u=103700;u<=103793;u++)w[u]=2;for(u=103794;u<=103872;u++)w[u]=0;for(u=103900;u<=103971;u++)w[u]=2;const cL={102113:!0,102100:!0,3857:!0,3785:!0},dL={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},jS='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',jp=[-20037508342788905e-9,20037508342788905e-9],Rp=[-20037508342787e-6,20037508342787e-6],sk={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:jp,origin:Rp,dx:1e-5},102100:{wkTemplate:jS,valid:jp,origin:Rp,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:jp,origin:Rp,dx:1e-5},3857:{wkTemplate:jS,valid:jp,origin:Rp,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function bu(e,t){return!we(e)&&!we(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||Ca(e)&&Ca(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function Wc(e){return Ri(e)&&e.wkid?sk[e.wkid]:null}function ik(e){return!!Ri(e)&&(e.wkid?w[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function pL(e){return!(Ly(e)||Fy(e))}function _d(e){return Ri(e)&&e.wkid===4326}function hL(e){return Ri(e)&&e.wkid===Oa.CGCS2000}function Ca(e){return Ri(e)&&e.wkid!=null&&cL[e.wkid]===!0}function fL(e){return Ri(e)&&e.wkid===32662}function $1(e){return e===Oa.GCSMARS2000||e===Oa.GCSMARS2000_SPHERE}function Ly(e){return Ri(e)&&e.wkid!=null&&$1(e.wkid)}function x1(e){return e===Oa.GCSMOON2000}function Fy(e){return Ri(e)&&e.wkid!=null&&x1(e.wkid)}function yL(e){return Ri(e)&&e.wkid!=null&&dL[e.wkid]===!0}function Ri(e){return G(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const nk={wkid:4326,wkt:Gd(sk[4326].wkTemplate,{Central_Meridian:"0.0"})},mL={wkid:102100,latestWkid:3857},gL={wkid:32662};var di;let st=di=class extends X{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return di.WebMercator;if(e.wkid===4326)return di.WGS84}const t=new di;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return _d(this)}get isWebMercator(){return Ca(this)}get isGeographic(){return ik(this)}get isWrappable(){return yL(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===di.WGS84)return di.WGS84;if(this===di.WebMercator)return di.WebMercator;const e=new di;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=U(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return t==null||s?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return bu(this,e)}toJSON(e){return this.write(void 0,e)}};st.GCS_NAD_1927=null,st.WGS84=null,st.WebMercator=null,st.PlateCarree=null,o([c({readOnly:!0})],st.prototype,"isWGS84",null),o([c({readOnly:!0})],st.prototype,"isWebMercator",null),o([c({readOnly:!0})],st.prototype,"isGeographic",null),o([c({readOnly:!0})],st.prototype,"isWrappable",null),o([c({type:Bt,json:{write:!0}})],st.prototype,"latestWkid",void 0),o([c({type:Bt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],st.prototype,"wkid",void 0),o([c({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],st.prototype,"wkt",void 0),o([me("wkt"),me("web-scene","wkt")],st.prototype,"writeWkt",null),o([c({type:Bt,json:{write:!0}})],st.prototype,"vcsWkid",void 0),o([c({type:Bt,json:{write:!0}})],st.prototype,"latestVcsWkid",void 0),o([c()],st.prototype,"imageCoordinateSystem",void 0),st=di=o([M("esri.geometry.SpatialReference")],st),st.prototype.toJSON.isDefaultToJSON=!0,st.GCS_NAD_1927=new st({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),st.WGS84=new st(nk),st.WebMercator=new st(mL),st.PlateCarree=new st(gL),Object.freeze&&(Object.freeze(st.GCS_NAD_1927),Object.freeze(st.WGS84),Object.freeze(st.WebMercator));const Ue=st;let pi=class extends X{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ue.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Ue)return e;if(e!=null){const r=new Ue;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};o([c()],pi.prototype,"type",void 0),o([c({readOnly:!0})],pi.prototype,"cache",null),o([c({readOnly:!0})],pi.prototype,"extent",null),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],pi.prototype,"hasM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],pi.prototype,"hasZ",void 0),o([c({type:Ue,json:{write:!0}})],pi.prototype,"spatialReference",void 0),o([ce("spatialReference")],pi.prototype,"readSpatialReference",null),pi=o([M("esri.geometry.Geometry")],pi);const xo=pi;function vL(e,t,r,s){var i;return e.x=e.x+t,e.y=e.y+r,s!=null&&(e.z=((i=e.z)!=null?i:0)+s),e}function bL(e,t){const r=e.x-t.x,s=e.y-t.y,i=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+s*s+i*i)}class E1{constructor(t,r,s,i){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=s;const n=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*n,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const ls=new E1(6378137,1/298.257223563,3e5,.006694379990137799),tp=new E1(3396190,1/169.8944472236118,23e4),rp=new E1(1737400,0,0),wL=57.29577951308232,_L=.017453292519943;function RS(e){return e*wL}function PS(e){return e*_L}function SL(e){return Math.PI/2-2*Math.atan(Math.exp(-e/ls.radius))}function b0(e){return e.wkid!=null||e.wkt!=null}const Km=[0,0];function Uf(e,t,r,s,i){const n=e,a=i;if(a.spatialReference=r,"x"in n&&"x"in a)[a.x,a.y]=t(n.x,n.y,Km,s);else if("xmin"in n&&"xmin"in a)[a.xmin,a.ymin]=t(n.xmin,n.ymin,Km,s),[a.xmax,a.ymax]=t(n.xmax,n.ymax,Km,s);else if("paths"in n&&"paths"in a||"rings"in n&&"rings"in a){const l="paths"in n?n.paths:n.rings,d=[];let f;for(let h=0;h<l.length;h++){const y=l[h];f=[],d.push(f);for(let v=0;v<y.length;v++)f.push(t(y[v][0],y[v][1],[0,0],s)),y[v].length>2&&f[v].push(y[v][2]),y[v].length>3&&f[v].push(y[v][3])}"paths"in a?a.paths=d:a.rings=d}else if("points"in n&&"points"in a){const l=n.points,d=[];for(let f=0;f<l.length;f++)d[f]=t(l[f][0],l[f][1],[0,0],s),l[f].length>2&&d[f].push(l[f][2]),l[f].length>3&&d[f].push(l[f][3]);a.points=d}return i}function Jc(e,t){const r=e&&(b0(e)?e:e.spatialReference),s=t&&(b0(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!s)&&(!!bu(s,r)||Ca(s)&&_d(r)||Ca(r)&&_d(s))}function T1(e,t){if(we(e))return null;const r=e.spatialReference,s=t&&(b0(t)?t:t.spatialReference);return Jc(r,s)?bu(r,s)?U(e):Ca(s)?Uf(e,ga,Ue.WebMercator,!1,U(e)):_d(s)?Uf(e,Kl,Ue.WGS84,!1,U(e)):null:null}function ga(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const s=PS(t);return r[0]=PS(e)*ls.radius,r[1]=ls.halfSemiMajorAxis*Math.log((1+Math.sin(s))/(1-Math.sin(s))),r}function Kl(e,t,r=[0,0],s=!1){const i=RS(e/ls.radius);return r[0]=s?i:i-360*Math.floor((i+180)/360),r[1]=RS(Math.PI/2-2*Math.atan(Math.exp(-t/ls.radius))),r}function Kc(e,t=!1,r=U(e)){return Uf(e,ga,Ue.WebMercator,t,r)}function ec(e,t=!1,r=U(e)){return Uf(e,Kl,Ue.WGS84,t,r)}var gh;const Vu=[0,0];function LS(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const Pp=ye.getLogger("esri.geometry.Point");let Or=gh=class extends xo{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}normalizeCtorArgs(e,t,r,s,i){let n;if(Array.isArray(e))n=e,i=t,e=n[0],t=n[1],r=n[2],s=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,r=n.z,s=n.m,(i=n.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new Ue(i)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)Pp.warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)Pp.warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&i&&i.isWebMercator){const l=ga(n.longitude,n.latitude,Vu);e=l[0],t=l[1]}}}else LS(r)?(i=r,r=null):LS(s)&&(i=s,s=null);const a={x:e,y:t};return a.x==null&&a.y!=null?Pp.warn(".y=","Y coordinate was defined without an X coordinate"):a.y==null&&a.x!=null&&Pp.warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(a.spatialReference=i),r!=null&&(a.z=r),s!=null&&(a.m=s),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Kl(t,r,Vu)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",ga(r,e,Vu)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Kl(e,t,Vu)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",ga(e,t,Vu)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new gh;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return gh.copy(e,this),this}equals(e){if(we(e))return!1;const{x:t,y:r,z:s,m:i,spatialReference:n}=this,{z:a,m:l}=e;let{x:d,y:f,spatialReference:h}=e;if(!n.equals(h))if(n.isWebMercator&&h.isWGS84)[d,f]=ga(d,f),h=n;else{if(!n.isWGS84||!h.isWebMercator)return!1;[d,f]=Kl(d,f),h=n}return t===d&&r===f&&s===a&&i===l&&n.wkid===h.wkid}offset(e,t,r){return vL(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=Wc(this.spatialReference);if(!e)return this;let t=this.x;const[r,s]=e.valid,i=2*s;let n;return t>s?(n=Math.ceil(Math.abs(t-s)/i),t-=n*i):t<r&&(n=Math.ceil(Math.abs(t-r)/i),t+=n*i),this._set("x",t),this}distance(e){return bL(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],Or.prototype,"cache",null),o([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Or.prototype,"hasM",null),o([c({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Or.prototype,"hasZ",null),o([c({type:Number})],Or.prototype,"latitude",null),o([c({type:Number})],Or.prototype,"longitude",null),o([c({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),jt(e=>isNaN(e)?e:Xd(e))],Or.prototype,"x",void 0),o([me("x")],Or.prototype,"writeX",null),o([ce("x")],Or.prototype,"readX",null),o([c({type:Number,json:{write:!0}})],Or.prototype,"y",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Or.prototype,"z",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Or.prototype,"m",void 0),Or=gh=o([M("esri.geometry.Point")],Or),Or.prototype.toJSON.isDefaultToJSON=!0;const ct=Or,Qm=[0,0];function k1(e,t){return!!G(t)&&jr(e,t.x,t.y,t.z)}function $L(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!ou(e,r))return!1;return!0}function xL(e,t){const{xmin:r,ymin:s,zmin:i,xmax:n,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?jr(e,r,s,i)&&jr(e,r,a,i)&&jr(e,n,a,i)&&jr(e,n,s,i)&&jr(e,r,s,l)&&jr(e,r,a,l)&&jr(e,n,a,l)&&jr(e,n,s,l):jr(e,r,s)&&jr(e,r,a)&&jr(e,n,a)&&jr(e,n,s)}function ou(e,t){return jr(e,t[0],t[1])}function EL(e,t){return jr(e,t[0],t[1],t[2])}function jr(e,t,r,s){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(s==null||!e.hasZ||s>=e.zmin&&s<=e.zmax)}function TL(e,t){return Qm[1]=t.y,Qm[0]=t.x,ok(e,Qm)}function ok(e,t){return kL(e.rings,t)}function kL(e,t){if(!e)return!1;if(ML(e))return FS(!1,e,t);let r=!1;for(let s=0,i=e.length;s<i;s++)r=FS(r,e[s],t);return r}function ML(e){return!Array.isArray(e[0][0])}function FS(e,t,r){const[s,i]=r;let n=e,a=0;for(let l=0,d=t.length;l<d;l++){a++,a===d&&(a=0);const[f,h]=t[l],[y,v]=t[a];(h<i&&v>=i||v<i&&h>=i)&&f+(i-h)/(v-h)*(y-f)<s&&(n=!n)}return n}function IL(e,t){return k1(e,t)}function ak(e,t){const r=e.hasZ&&t.hasZ;let s,i,n;if(e.xmin<=t.xmin){if(s=t.xmin,e.xmax<s)return!1}else if(s=e.xmin,t.xmax<s)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function OL(e,t){const{points:r,hasZ:s}=t,i=s?EL:ou;for(const n of r)if(i(e,n))return!0;return!1}const Aa=[0,0],ja=[0,0],Ra=[0,0],Pa=[0,0],CL=[Aa,ja,Ra,Pa],lk=[[Ra,Aa],[Aa,ja],[ja,Pa],[Pa,Ra]];function AL(e,t){Aa[0]=e.xmin,Aa[1]=e.ymax,ja[0]=e.xmax,ja[1]=e.ymax,Ra[0]=e.xmin,Ra[1]=e.ymin,Pa[0]=e.xmax,Pa[1]=e.ymin;for(const r of CL)if(ok(t,r))return!0;for(const r of t.rings){if(!r.length)continue;let s=r[0];if(ou(e,s))return!0;for(let i=1;i<r.length;i++){const n=r[i];if(ou(e,n)||uk(s,n,lk))return!0;s=n}}return!1}function jL(e,t){Aa[0]=e.xmin,Aa[1]=e.ymax,ja[0]=e.xmax,ja[1]=e.ymax,Ra[0]=e.xmin,Ra[1]=e.ymin,Pa[0]=e.xmax,Pa[1]=e.ymin;const r=t.paths;for(const s of r){if(!r.length)continue;let i=s[0];if(ou(e,i))return!0;for(let n=1;n<s.length;n++){const a=s[n];if(ou(e,a)||uk(i,a,lk))return!0;i=a}}return!1}const nr=[0,0];function RL(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const n=r[i],a=r[i+1];for(let l=t+1;l<e.length;l++)for(let d=0;d<e[l].length-1;d++){const f=e[l][d],h=e[l][d+1];if(qf(n,a,f,h,nr)&&!(nr[0]===n[0]&&nr[1]===n[1]||nr[0]===f[0]&&nr[1]===f[1]||nr[0]===a[0]&&nr[1]===a[1]||nr[0]===h[0]&&nr[1]===h[1]))return!0}}const s=r.length;if(!(s<=4))for(let i=0;i<s-3;i++){let n=s-1;i===0&&(n=s-2);const a=r[i],l=r[i+1];for(let d=i+2;d<n;d++){const f=r[d],h=r[d+1];if(qf(a,l,f,h,nr)&&!(nr[0]===a[0]&&nr[1]===a[1]||nr[0]===f[0]&&nr[1]===f[1]||nr[0]===l[0]&&nr[1]===l[1]||nr[0]===h[0]&&nr[1]===h[1]))return!0}}}return!1}function uk(e,t,r){for(let s=0;s<r.length;s++)if(qf(e,t,r[s][0],r[s][1]))return!0;return!1}function qf(e,t,r,s,i){const[n,a]=e,[l,d]=t,[f,h]=r,[y,v]=s,b=y-f,$=n-f,T=l-n,j=v-h,L=a-h,W=d-a,O=j*T-b*W;if(O===0)return!1;const p=(b*L-j*$)/O,m=(T*L-W*$)/O;return p>=0&&p<=1&&m>=0&&m<=1&&(i&&(i[0]=n+p*(l-n),i[1]=a+p*(d-a)),!0)}function ck(e){switch(e){case"esriGeometryEnvelope":case"extent":return ak;case"esriGeometryMultipoint":case"multipoint":return OL;case"esriGeometryPoint":case"point":return IL;case"esriGeometryPolygon":case"polygon":return AL;case"esriGeometryPolyline":case"polyline":return jL}}var ys;function PL(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function In(e,t,r){return t==null?r:r==null?t:e(t,r)}let Zt=ys=class extends xo{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,s,i){return PL(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Ue.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:s,spatialReference:i??Ue.WGS84}}static fromBounds(e,t){return new ys({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new ys({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new ct({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new ys;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Jc(t,r)&&(e=t.isWebMercator?Kc(e):ec(e,!0)),e.type==="point"?k1(this,e):e.type==="extent"&&xL(this,e)}equals(e){if(this===e)return!0;if(we(e))return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Jc(t,r)&&(e=t.isWebMercator?Kc(e):ec(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,s=this.height*t;if(this.xmin+=r,this.ymin+=s,this.xmax-=r,this.ymax-=s,this.hasZ){const i=(this.zmax-this.zmin)*t;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*t;this.mmin+=i,this.mmax-=i}return this}intersects(e){if(we(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Jc(t,r)&&(e=t.isWebMercator?Kc(e):ec(e,!0)),ck(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=In(Math.min,this.zmin,e.zmin),this.zmax=In(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=In(Math.min,this.mmin,e.mmin),this.mmax=In(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:we(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=In(Math.max,this.zmin,e.zmin),this.zmax=In(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=In(Math.max,this.mmin,e.mmin),this.mmax=In(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=Wc(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const s=t.isWebMercator?ec(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(s.x=this._normalizeX(s.x,e).x),this.spatialReference=new Ue(Gd(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:s.x}))}return this}_getCM(e){let t=null;const[r,s]=e.valid,i=this.xmin,n=this.xmax;return i>=r&&i<=s&&n>=r&&n<=s||(t=this.center),t}_normalize(e,t,r){const s=this.spatialReference;if(!s)return this;if(!(r=r||Wc(s)))return this;const i=this._getParts(r).map(l=>l.extent);if(i.length<2)return i[0]||this;if(i.length>2)return e?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(e)return this._shiftCM(r);if(t)return i;let n=!0,a=!0;return i.forEach(l=>{l.hasZ||(n=!1),l.hasM||(a=!1)}),{rings:i.map(l=>{const d=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(n){const f=(l.zmax-l.zmin)/2;for(let h=0;h<d.length;h++)d[h].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let h=0;h<d.length;h++)d[h].push(f)}return d}),hasZ:n,hasM:a,spatialReference:s}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:n,spatialReference:a}=this,l=this.width,d=this.xmin,f=this.xmax;let h;e=e||Wc(a);const[y,v]=e.valid;h=this._normalizeX(this.xmin,e);const b=h.x,$=h.frameId;h=this._normalizeX(this.xmax,e);const T=h.x,j=h.frameId,L=b===T&&l>0;if(l>2*v){const W=new ys(d<f?b:T,i,v,n,a),O=new ys(y,i,d<f?T:b,n,a),p=new ys(0,i,v,n,a),m=new ys(y,i,0,n,a),g=[],_=[];W.contains(p)&&g.push($),W.contains(m)&&_.push($),O.contains(p)&&g.push(j),O.contains(m)&&_.push(j);for(let E=$+1;E<j;E++)g.push(E),_.push(E);t.push({extent:W,frameIds:[$]},{extent:O,frameIds:[j]},{extent:p,frameIds:g},{extent:m,frameIds:_})}else b>T||L?t.push({extent:new ys(b,i,v,n,a),frameIds:[$]},{extent:new ys(y,i,T,n,a),frameIds:[j]}):t.push({extent:new ys(b,i,T,n,a),frameIds:[$]});this.cache._parts=t}const r=this.hasZ,s=this.hasM;if(r||s){const i={};r&&(i.zmin=this.zmin,i.zmax=this.zmax),s&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(i)}return t}_normalizeX(e,t){const[r,s]=t.valid,i=2*s;let n,a=0;return e>s?(n=Math.ceil(Math.abs(e-s)/i),e-=n*i,a=n):e<r&&(n=Math.ceil(Math.abs(e-r)/i),e+=n*i,a=-n),{x:e,frameId:a}}};o([c({readOnly:!0})],Zt.prototype,"cache",null),o([c({readOnly:!0})],Zt.prototype,"center",null),o([c({readOnly:!0})],Zt.prototype,"extent",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Zt.prototype,"hasM",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Zt.prototype,"hasZ",null),o([c({readOnly:!0})],Zt.prototype,"height",null),o([c({readOnly:!0})],Zt.prototype,"width",null),o([c({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Zt.prototype,"xmin",void 0),o([c({type:Number,json:{write:!0}})],Zt.prototype,"ymin",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Zt.prototype,"mmin",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Zt.prototype,"zmin",void 0),o([c({type:Number,json:{write:!0}})],Zt.prototype,"xmax",void 0),o([c({type:Number,json:{write:!0}})],Zt.prototype,"ymax",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Zt.prototype,"mmax",void 0),o([c({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Zt.prototype,"zmax",void 0),Zt=ys=o([M("esri.geometry.Extent")],Zt),Zt.prototype.toJSON.isDefaultToJSON=!0;const Dt=Zt;function au(e,t,r=!1){let{hasM:s,hasZ:i}=e;Array.isArray(t)?t.length!==4||s||i?t.length===3&&r&&!s?(i=!0,s=!1):t.length===3&&s&&i&&(s=!1,i=!1):(s=!0,i=!0):(i=!i&&t.hasZ&&(!s||t.hasM),s=!s&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=s}var w0;function NS(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function LL(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Cn=w0=class extends xo{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):LL(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const s=r.points&&r.points[0];return s&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=s.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=s.length>3:r.hasM===void 0&&(r.hasM=s.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Dt,r=this.hasZ,s=this.hasM,i=r?3:2,n=e[0],a=NS(Math.min),l=NS(Math.max);let d,f,h,y,[v,b]=n,[$,T]=n;for(let j=0,L=e.length;j<L;j++){const W=e[j],[O,p]=W;if(v=a(v,O),b=a(b,p),$=l($,O),T=l(T,p),r&&W.length>2){const m=W[2];d=a(d,m),h=l(h,m)}if(s&&W.length>i){const m=W[i];f=a(f,m),y=l(y,m)}}return t.xmin=v,t.ymin=b,t.xmax=$,t.ymax=T,t.spatialReference=this.spatialReference,r?(t.zmin=d,t.zmax=h):(t.zmin=null,t.zmax=null),s?(t.mmin=f,t.mmax=y):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=U(this.points)}addPoint(e){return au(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:U(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new w0(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let s=2;return this.hasZ&&(r.z=t[2],s=3),this.hasM&&(r.m=t[s]),new ct(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new ct(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(au(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};o([c({readOnly:!0})],Cn.prototype,"cache",null),o([c()],Cn.prototype,"extent",null),o([c({type:[[Number]],json:{write:{isRequired:!0}}})],Cn.prototype,"points",void 0),o([me("points")],Cn.prototype,"writePoints",null),Cn=w0=o([M("esri.geometry.Multipoint")],Cn),Cn.prototype.toJSON.isDefaultToJSON=!0;const Ny=Cn;function FL(e,t){const r=t[0]-e[0],s=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+s*s+i*i)}return Math.sqrt(r*r+s*s)}function NL(e,t,r){const s=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[s,i,e[2]+r*(t[2]-e[2])]:[s,i]}function DL(e,t){return NL(e,t,.5)}function dk(e,t,r){const s=e.length;let i=0,n=0,a=0;for(let l=0;l<s;l++){const d=e[l],f=e[(l+1)%s];let h=2;i+=d[0]*f[1]-f[0]*d[1],d.length>2&&f.length>2&&r&&(n+=d[0]*f[2]-f[0]*d[2],h=3),d.length>h&&f.length>h&&t&&(a+=d[0]*f[h]-f[0]*d[h])}return i<=0&&n<=0&&a<=0}function zL(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function pk(e){return e?VL(e.rings,e.hasZ):null}function VL(e,t){if(!e||!e.length)return null;const r=[],s=[],i=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,a=e.length;n<a;n++){const l=UL(e[n],t,i);l&&s.push(l)}if(s.sort((n,a)=>{let l=n[2]-a[2];return l===0&&t&&(l=n[4]-a[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<i[0]||r[0]>i[1]||r[1]<i[2]||r[1]>i[3]||t&&(r[2]<i[4]||r[2]>i[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?qL(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function UL(e,t,r){let s=0,i=0,n=0,a=0,l=0;const d=e.length?e[0][0]:0,f=e.length?e[0][1]:0,h=e.length&&t?e[0][2]:0;for(let v=0;v<e.length;v++){const b=e[v],$=e[(v+1)%e.length],[T,j,L]=b,W=T-d,O=j-f,p=t?L-h:void 0,[m,g,_]=$,E=m-d,k=g-f,S=t?_-h:void 0,A=W*k-E*O;if(a+=A,s+=(W+E)*A,i+=(O+k)*A,t&&b.length>2&&$.length>2){const H=W*S-E*p;n+=(p+S)*H,l+=H}T<r[0]&&(r[0]=T),T>r[1]&&(r[1]=T),j<r[2]&&(r[2]=j),j>r[3]&&(r[3]=j),t&&(L<r[4]&&(r[4]=L),L>r[5]&&(r[5]=L))}if(a>0&&(a*=-1),l>0&&(l*=-1),!a)return null;a*=.5,l*=.5;const y=[s/(6*a)+d,i/(6*a)+f,a];return t&&(r[4]===r[5]||l===0?(y[3]=(r[4]+r[5])/2,y[4]=0):(y[3]=n/(6*l)+h,y[4]=l)),y}function qL(e,t){const r=t?[0,0,0]:[0,0],s=t?[0,0,0]:[0,0];let i=0,n=0,a=0,l=0;for(let d=0,f=e.length;d<f-1;d++){const h=e[d],y=e[d+1];if(h&&y){r[0]=h[0],r[1]=h[1],s[0]=y[0],s[1]=y[1],t&&h.length>2&&y.length>2&&(r[2]=h[2],s[2]=y[2]);const v=FL(r,s);if(v){i+=v;const b=DL(h,y);n+=v*b[0],a+=v*b[1],t&&b.length>2&&(l+=v*b[2])}}}return i>0?t?[n/i,a/i,l/i]:[n/i,a/i]:e.length?e[0]:null}function hk(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function fk(e){return e.points!==void 0}function yk(e){return e.x!==void 0&&e.y!==void 0}function mk(e){return e.paths!==void 0}function gk(e){return e.rings!==void 0}function vk(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}const no=vk(Math.min),oo=vk(Math.max);function BL(e,t){return mk(t)?lu(e,t.paths,!1,!1):gk(t)?lu(e,t.rings,!1,!1):fk(t)?M1(e,t.points,!1,!1,!1,!1):hk(t)?bk(e,t):(yk(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function HL(e,t){return mk(t)?lu(e,t.paths,!0,!1):gk(t)?lu(e,t.rings,!0,!1):fk(t)?M1(e,t.points,!0,!1,!0,!1):hk(t)?bk(e,t,!0,!1,!0,!1):(yk(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function lu(e,t,r,s){const i=r?3:2;if(!t.length||!t[0].length)return null;let n,a,l,d,[f,h]=t[0][0],[y,v]=t[0][0];for(let b=0;b<t.length;b++){const $=t[b];for(let T=0;T<$.length;T++){const j=$[T],[L,W]=j;if(f=no(f,L),h=no(h,W),y=oo(y,L),v=oo(v,W),r&&j.length>2){const O=j[2];n=no(n,O),a=oo(a,O)}if(s&&j.length>i){const O=j[i];l=no(n,O),d=oo(a,O)}}}return r?s?(e[0]=f,e[1]=h,e[2]=n,e[3]=l,e[4]=y,e[5]=v,e[6]=a,e[7]=d,e.length=8,e):(e[0]=f,e[1]=h,e[2]=n,e[3]=y,e[4]=v,e[5]=a,e.length=6,e):s?(e[0]=f,e[1]=h,e[2]=l,e[3]=y,e[4]=v,e[5]=d,e.length=6,e):(e[0]=f,e[1]=h,e[2]=y,e[3]=v,e.length=4,e)}function bk(e,t,r,s,i,n){const a=t.xmin,l=t.xmax,d=t.ymin,f=t.ymax;let h=t.zmin,y=t.zmax,v=t.mmin,b=t.mmax;return i?(h=h||0,y=y||0,n?(v=v||0,b=b||0,e[0]=a,e[1]=d,e[2]=h,e[3]=v,e[4]=l,e[5]=f,e[6]=y,e[7]=b,e):(e[0]=a,e[1]=d,e[2]=h,e[3]=l,e[4]=f,e[5]=y,e)):n?(v=v||0,b=b||0,e[0]=a,e[1]=d,e[2]=v,e[3]=l,e[4]=f,e[5]=b,e):(e[0]=a,e[1]=d,e[2]=l,e[3]=f,e)}function M1(e,t,r,s,i,n){const a=r?3:2,l=s&&n,d=r&&i;if(!t.length||!t[0].length)return null;let f,h,y,v,[b,$]=t[0],[T,j]=t[0];for(let L=0;L<t.length;L++){const W=t[L],[O,p]=W;if(b=no(b,O),$=no($,p),T=oo(T,O),j=oo(j,p),d&&W.length>2){const m=W[2];f=no(f,m),h=oo(h,m)}if(l&&W.length>a){const m=W[a];y=no(f,m),v=oo(h,m)}}return i?(f=f||0,h=h||0,n?(y=y||0,v=v||0,e[0]=b,e[1]=$,e[2]=f,e[3]=y,e[4]=T,e[5]=j,e[6]=h,e[7]=v,e):(e[0]=b,e[1]=$,e[2]=f,e[3]=T,e[4]=j,e[5]=h,e)):n?(y=y||0,v=v||0,e[0]=b,e[1]=$,e[2]=y,e[3]=T,e[4]=j,e[5]=v,e):(e[0]=b,e[1]=$,e[2]=T,e[3]=j,e)}function GL(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function WL(e){return e.points!==void 0}function JL(e){return e.x!==void 0&&e.y!==void 0}function KL(e){return e.paths!==void 0}function QL(e){return e.rings!==void 0}const I1=[];function wk(e,t,r,s){return{xmin:e,ymin:t,xmax:r,ymax:s}}function _k(e,t,r,s,i,n){return{xmin:e,ymin:t,zmin:r,xmax:s,ymax:i,zmax:n}}function Sk(e,t,r,s,i,n){return{xmin:e,ymin:t,mmin:r,xmax:s,ymax:i,mmax:n}}function $k(e,t,r,s,i,n,a,l){return{xmin:e,ymin:t,zmin:r,mmin:s,xmax:i,ymax:n,zmax:a,mmax:l}}function O1(e,t=!1,r=!1){return t?r?$k(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):_k(e[0],e[1],e[2],e[3],e[4],e[5]):r?Sk(e[0],e[1],e[2],e[3],e[4],e[5]):wk(e[0],e[1],e[2],e[3])}function ZL(e){return e?GL(e)?e:JL(e)?XL(e):QL(e)?C1(e):KL(e)?xk(e):WL(e)?YL(e):null:null}function YL(e){const{hasZ:t,hasM:r,points:s}=e;return O1(M1(I1,s,t,r),t,r)}function XL(e){const{x:t,y:r,z:s,m:i}=e,n=i!=null;return s!=null?n?$k(t,r,s,i,t,r,s,i):_k(t,r,s,t,r,s):n?Sk(t,r,i,t,r,i):wk(t,r,t,r)}function C1(e){const{hasZ:t,hasM:r,rings:s}=e,i=lu(I1,s,t,r);return i?O1(i,t,r):null}function xk(e){const{hasZ:t,hasM:r,paths:s}=e,i=lu(I1,s,t,r);return i?O1(i,t,r):null}var vh;function DS(e){return!Array.isArray(e[0])}let hi=vh=class extends xo{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let s=!1,i=!1;for(const a of t)a.hasZ&&(s=!0),a.hasM&&(i=!0);const n={rings:t.map(function(a){const l=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const d=a.zmin+.5*(a.zmax-a.zmin);for(let f=0;f<l.length;f++)l[f].push(d)}if(i&&a.hasM){const d=a.mmin+.5*(a.mmax-a.mmin);for(let f=0;f<l.length;f++)l[f].push(d)}return l}),spatialReference:r};return s&&(n.hasZ=!0),i&&(n.hasM=!0),new vh(n)}normalizeCtorArgs(e,t){let r,s,i=null,n=null;return e&&!Array.isArray(e)?(i=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,s=e.hasM):i=e,i=i||[],t=t||Ue.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),n=i[0]&&i[0][0],n&&(r===void 0&&s===void 0?(r=n.length>2,s=n.length>3):r===void 0?r=s?n.length>3:n.length>2:s===void 0&&(s=r?n.length>3:n.length>2)),{rings:i,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=pk(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new ct;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=C1(this);if(!t)return null;const r=new Dt(t);return r.spatialReference=e,r}get isSelfIntersecting(){return RL(this.rings)}writeRings(e,t){t.rings=U(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(DS(e)){const s=[];for(let i=0,n=e.length;i<n;i++)s[i]=e[i].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new vh;return e.spatialReference=this.spatialReference,e.rings=U(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(we(e))return!1;const t=this.spatialReference,r=e.spatialReference;if(G(t)!==G(r)||G(t)&&G(r)&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const s=([i,n,a,l],[d,f,h,y])=>i===d&&n===f&&(a==null&&h==null||a===h)&&(l==null&&y==null||l===y);for(let i=0;i<this.rings.length;i++){const n=this.rings[i],a=e.rings[i];if(!l1(n,a,s))return!1}return!0}contains(e){if(!e)return!1;const t=T1(e,this.spatialReference);return TL(this,G(t)?t:e)}isClockwise(e){let t;return t=DS(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e,dk(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],s=this.hasZ,i=this.hasM;return s&&!i?new ct(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new ct(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new ct(r[0],r[1],r[2],r[3],this.spatialReference):new ct(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(au(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ct(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,s=t.map(i=>new ct(i,r));return this.notifyChange("rings"),s}setPoint(e,t,r){return this._validateInputs(e,t)?(au(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const s=this.rings[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],hi.prototype,"cache",null),o([c({readOnly:!0})],hi.prototype,"centroid",null),o([c({readOnly:!0})],hi.prototype,"extent",null),o([c({readOnly:!0})],hi.prototype,"isSelfIntersecting",null),o([c({type:[[[Number]]],json:{write:{isRequired:!0}}})],hi.prototype,"rings",void 0),o([me("rings")],hi.prototype,"writeRings",null),hi=vh=o([M("esri.geometry.Polygon")],hi),hi.prototype.toJSON.isDefaultToJSON=!0;const Va=hi;var _0;function e7(e){return!Array.isArray(e[0])}let An=_0=class extends xo{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,s,i=null,n=null;return e&&!Array.isArray(e)?(i=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,s=e.hasM):i=e,i=i||[],t=t||Ue.WGS84,i.length&&i[0]&&i[0][0]!=null&&typeof i[0][0]=="number"&&(i=[i]),n=i[0]&&i[0][0],n&&(r===void 0&&s===void 0?(r=n.length>2,s=!1):r===void 0?r=!s&&n.length>3:s===void 0&&(s=!r&&n.length>3)),{paths:i,spatialReference:t,hasZ:r,hasM:s}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=xk(this);if(!t)return null;const r=new Dt(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=U(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(e7(e)){const s=[];for(let i=0,n=e.length;i<n;i++)s[i]=e[i].toArray();t[r]=s}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new _0;return e.spatialReference=this.spatialReference,e.paths=U(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],s=this.hasZ,i=this.hasM;return s&&!i?new ct(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new ct(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new ct(r[0],r[1],r[2],r[3],this.spatialReference):new ct(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(au(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,s=t.map(i=>new ct(i,r));return this.notifyChange("paths"),s}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new ct(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(au(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const s=this.paths[e];if(r&&(t<0||t>s.length)||!r&&(t<0||t>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};o([c({readOnly:!0})],An.prototype,"cache",null),o([c({readOnly:!0})],An.prototype,"extent",null),o([c({type:[[[Number]]],json:{write:{isRequired:!0}}})],An.prototype,"paths",void 0),o([me("paths")],An.prototype,"writePaths",null),An=_0=o([M("esri.geometry.Polyline")],An),An.prototype.toJSON.isDefaultToJSON=!0;const wu=An;class je{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=r,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=s=>this.fromJSON(s),this.write=(s,i,n)=>{const a=this.toJSON(s);a!==void 0&&Wr(n,a,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const r=this.apiToJSON[t];return this.options.useNumericKeys?+r:r}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const s in t)r[t[s]]=s;return r}_getKeysSorted(t){const r=[];for(const s in t)r.push(s);return r.sort(),r}}function ur(){return function(e,t){return new je(e,q({ignoreUnknown:!0},t))}}const Ek=ur()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),S0=ur()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function A1(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function j1(e){return e.points!==void 0}function R1(e){return e.x!==void 0&&e.y!==void 0}function P1(e){return e.paths!==void 0}function Ql(e){return e.rings!==void 0}function us(e){return we(e)?null:e instanceof xo?e:R1(e)?ct.fromJSON(e):P1(e)?wu.fromJSON(e):Ql(e)?Va.fromJSON(e):j1(e)?Ny.fromJSON(e):A1(e)?Dt.fromJSON(e):null}function vo(e){return e?R1(e)?"esriGeometryPoint":P1(e)?"esriGeometryPolyline":Ql(e)?"esriGeometryPolygon":A1(e)?"esriGeometryEnvelope":j1(e)?"esriGeometryMultipoint":null:null}const t7={esriGeometryPoint:ct,esriGeometryPolyline:wu,esriGeometryPolygon:Va,esriGeometryEnvelope:Dt,esriGeometryMultipoint:Ny};function Tk(e){return e&&t7[e]||null}const Ua={base:xo,key:"type",typeMap:{extent:Dt,multipoint:Ny,point:ct,polyline:wu,polygon:Va}};Ai(Ua);let Zm;function bo(){return Zm||(Zm=(async()=>{const e=await Ne(()=>import("./arcadeUtils.67fe3f3d.js"),["./arcadeUtils.67fe3f3d.js","./number.99a58907.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js"],import.meta.url).then(function(t){return t.aA});return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Zm}const r7=(e,t,r)=>_u.create(e,t,r,null,["$feature"]),s7=(e,t,r)=>_u.create(e,t,r,null,["$feature","$view"]),i7=(e,t,r,s)=>_u.create(e,t,r,s,["$feature","$view"]);class _u{constructor(t,r,s,i,n,a,l,d){this.script=t,this.evaluate=n;const f=Array.isArray(l)?l:l.fields;this.fields=f,this._syntaxTree=i,this._arcade=r,this._arcadeDictionary=s,this._arcadeFeature=a,this._spatialReference=d,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,s,i,n,a){const{arcade:l,Feature:d,Dictionary:f}=await bo(),h=Ue.fromJSON(r),y=l.parseScript(t,a),v=n.reduce((m,g)=>Ie(q({},m),{[g]:null}),{});let b=null;G(i)&&(b=new f(i),b.immutable=!0,v.$config=null);const $=l.scriptUsesGeometryEngine(y)&&l.enableGeometrySupport(),T=l.scriptUsesFeatureSet(y)&&l.enableFeatureSetSupport(),j=l.scriptIsAsync(y)&&l.enableAsyncSupport(),L={vars:v,spatialReference:h,useAsync:!!j},W=new f;W.immutable=!1,W.setField("scale",0);const O=l.compileScript(y,L),p=m=>("$view"in m&&m.$view&&(W.setField("scale",m.$view.scale),m.$view=W),b&&(m.$config=b),O({vars:m,spatialReference:h}));return await Promise.all([$,T,j]),new _u(t,l,f,y,p,new d,s,h)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const n7=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],o7=["field","normalizationField"];function $0(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(zS(n7,r,t),"visualVariables"in r&&r.visualVariables)for(const s of r.visualVariables)zS(o7,s,t)}}function zS(e,t,r){if(e)for(const s of e){const i=Hd(s,t),n=i&&typeof i!="function"&&r.get(i);n&&Wr(s,n.name,t)}}function L1(e,t){if(e!=null&&t!=null&&t.fields.length)if("startField"in e){const r=t.get(e.startField),s=t.get(e.endField);e.startField=r&&r.name||null,e.endField=s&&s.name||null}else{const r=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=r&&r.name||null,e.endTimeField=s&&s.name||null}}const Ym=new Set;function a7(e,t){return e&&t?(Ym.clear(),F1(Ym,e,t),Array.from(Ym).sort()):[]}function F1(e,t,r){var s;if(r)if(t!=null&&(s=t.fields)!=null&&s.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)si(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)e.add(i)}}function si(e,t,r){if(typeof r=="string")if(t){const s=t.get(r);s&&e.add(s.name)}else e.add(r)}async function $n(e,t,r){var s;if(!r)return;const{arcadeUtils:i}=await bo(),n=i.extractFieldNames(r,t==null||(s=t.fields)==null?void 0:s.map(a=>a.name));for(const a of n)si(e,t,a)}async function l7(e,t,r){if(r&&r!=="1=1"){const s=(await Ne(()=>import("./WhereClause.f94bd0a6.js"),[],import.meta.url)).WhereClause.create(r,t);if(!s.isStandardized)throw new Z("fieldUtils:collectFilterFields","Where clause is not standardized");F1(e,t,s.fieldNames)}}function u7({displayField:e,fields:t}){return e||(t&&t.length?Xm(t,"name-or-title")||Xm(t,"unique-identifier")||Xm(t,"type-or-category")||c7(t):null)}function c7(e){for(const t of e){if(!t||!t.name)continue;const r=t.name.toLowerCase();if(r.indexOf("name")>-1||r.indexOf("title")>-1)return t.name}return null}function Xm(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function d7(e,t){const{labelingInfo:r,fieldsIndex:s}=t;r&&r.length&&await Promise.all(r.map(i=>p7(e,s,i)))}async function p7(e,t,r){if(!r)return;const s=r.getLabelExpression(),i=r.where;if(s.type==="arcade")await $n(e,t,s.expression);else{const n=s.expression.match(/{[^}]*}/g);n&&n.forEach(a=>{si(e,t,a.slice(1,-1))})}await l7(e,t,i)}function kk(e){const t=e.defaultValue;return t!==void 0&&Ok(e,t)?t:e.nullable?null:void 0}function Mk(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function h7(e){return e===null||Mk(e)}const N1="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function f7(e){return e===null||N1(e)}function Ik(e){return e!=null&&typeof e=="string"}function y7(e){return e===null||Ik(e)}function m7(){return!0}function Ok(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?f7:N1;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?h7:Mk;break;case"string":case"esriFieldTypeString":r=e.nullable?y7:Ik;break;default:r=m7}return arguments.length===1?r:r(t)}const g7=["integer","small-integer","single","double"],v7=new Set([...g7,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function D1(e){return e!=null&&v7.has(e.type)}function b7(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var Bf,Hf;function w7(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function _7(e,t){return e.nullable&&t===null?null:D1(e)&&!S7(e.type,Number(t))?Bf.OUT_OF_RANGE:Ok(e,t)?e.domain?uL(e.domain,t):null:Hf.INVALID_TYPE}function S7(e,t){const r=typeof e=="string"?Ck(e):e;return!!r&&(r.isInteger?N1(t)&&t>=r.min&&t<=r.max:t>=r.min&&t<=r.max)}function Ck(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return $7;case"esriFieldTypeInteger":case"integer":return x7;case"esriFieldTypeSingle":case"single":return E7;case"esriFieldTypeDouble":case"double":return T7}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Bf||(Bf={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Hf||(Hf={}));const $7={min:-32768,max:32767,isInteger:!0},x7={min:-2147483648,max:2147483647,isInteger:!0},E7={min:-34e37,max:12e37,isInteger:!1},T7={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function k7(e,t,r){switch(e){case nu.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case nu.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Hf.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case Bf.OUT_OF_RANGE:{const{min:s,max:i}=Ck(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${s} to ${i}`}}}let bh=class extends X{constructor(e){super(e),this.type=null}};o([c({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],bh.prototype,"type",void 0),bh=o([M("esri.popup.content.Content")],bh);const qa=bh;var x0;let Fo=x0=class extends qa{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new x0({description:this.description,displayType:this.displayType,title:this.title})}};o([c({type:String,json:{write:!0}})],Fo.prototype,"description",void 0),o([c({type:["auto","preview","list"],json:{write:!0}})],Fo.prototype,"displayType",void 0),o([c({type:String,json:{write:!0}})],Fo.prototype,"title",void 0),o([c({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Fo.prototype,"type",void 0),Fo=x0=o([M("esri.popup.content.AttachmentsContent")],Fo);const Sd=Fo;var E0;let No=E0=class extends qa{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new E0({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?U(this.outFields):null})}};o([c()],No.prototype,"creator",void 0),o([c()],No.prototype,"destroyer",void 0),o([c()],No.prototype,"outFields",void 0),o([c({type:["custom"],readOnly:!0})],No.prototype,"type",void 0),No=E0=o([M("esri.popup.content.CustomContent")],No);const M7=No;var T0;let ol=T0=class extends X{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new T0({title:this.title,expression:this.expression})}};o([c({type:String,json:{write:!0}})],ol.prototype,"title",void 0),o([c({type:String,json:{write:!0}})],ol.prototype,"expression",void 0),o([c({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],ol.prototype,"returnType",void 0),ol=T0=o([M("esri.popup.ElementExpressionInfo")],ol);const I7=ol;var k0;let tc=k0=class extends qa{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new k0({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};o([c({type:I7,json:{write:!0}})],tc.prototype,"expressionInfo",void 0),o([c({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],tc.prototype,"type",void 0),tc=k0=o([M("esri.popup.content.ExpressionContent")],tc);const z1=tc;function $e(e,t={}){var r;const s=e instanceof je?e:new je(e,t),i={type:(r=t==null?void 0:t.ignoreUnknown)==null||r?s.apiValues:String,json:{type:s.jsonValues,read:(t==null||!t.readOnly)&&{reader:s.read},write:{writer:s.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(i.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(i.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(i.json.name=t.name),c(i)}const $d=ur()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});$d.toJSON.bind($d);$d.fromJSON.bind($d);var VS,US,qS;let O7,Qc;const BS=(VS=(US=globalThis.esriConfig)==null?void 0:US.locale)!=null?VS:(qS=globalThis.dojoConfig)==null?void 0:qS.locale;function Ak(){var e,t;return(e=BS??((t=globalThis.navigator)==null?void 0:t.language))!=null?e:"en"}function ii(){return Qc===void 0&&(Qc=Ak()),Qc}const Zc=[];function jk(e){return Zc.push(e),{remove(){Zc.splice(Zc.indexOf(e),1)}}}const M0=[];function V1(e){return M0.push(e),{remove(){Zc.splice(M0.indexOf(e),1)}}}function C7(){var e;const t=(e=O7)!=null?e:Ak();Qc!==t&&(Qc=t,[...M0].forEach(r=>{r.call(null,t)}),[...Zc].forEach(r=>{r.call(null,t)}))}globalThis.addEventListener==null||globalThis.addEventListener("languagechange",C7);const ui={year:"numeric",month:"numeric",day:"numeric"},Uu={year:"numeric",month:"long",day:"numeric"},qu={year:"numeric",month:"short",day:"numeric"},Bu={year:"numeric",month:"long",weekday:"long",day:"numeric"},ms={hour:"numeric",minute:"numeric"},Rs=Ie(q({},ms),{second:"numeric"}),U1={"short-date":ui,"short-date-short-time":q(q({},ui),ms),"short-date-short-time-24":Ie(q(q({},ui),ms),{hour12:!1}),"short-date-long-time":q(q({},ui),Rs),"short-date-long-time-24":Ie(q(q({},ui),Rs),{hour12:!1}),"short-date-le":ui,"short-date-le-short-time":q(q({},ui),ms),"short-date-le-short-time-24":Ie(q(q({},ui),ms),{hour12:!1}),"short-date-le-long-time":q(q({},ui),Rs),"short-date-le-long-time-24":Ie(q(q({},ui),Rs),{hour12:!1}),"long-month-day-year":Uu,"long-month-day-year-short-time":q(q({},Uu),ms),"long-month-day-year-short-time-24":Ie(q(q({},Uu),ms),{hour12:!1}),"long-month-day-year-long-time":q(q({},Uu),Rs),"long-month-day-year-long-time-24":Ie(q(q({},Uu),Rs),{hour12:!1}),"day-short-month-year":qu,"day-short-month-year-short-time":q(q({},qu),ms),"day-short-month-year-short-time-24":Ie(q(q({},qu),ms),{hour12:!1}),"day-short-month-year-long-time":q(q({},qu),Rs),"day-short-month-year-long-time-24":Ie(q(q({},qu),Rs),{hour12:!1}),"long-date":Bu,"long-date-short-time":q(q({},Bu),ms),"long-date-short-time-24":Ie(q(q({},Bu),ms),{hour12:!1}),"long-date-long-time":q(q({},Bu),Rs),"long-date-long-time-24":Ie(q(q({},Bu),Rs),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ms,"long-time":Rs},xd=ur()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});xd.apiValues;xd.toJSON.bind(xd);xd.fromJSON.bind(xd);const A7={ar:"ar-u-nu-latn-ca-gregory"};let wh=new WeakMap,Rk=U1["short-date-short-time"];function j7(e){const t=e||Rk;if(!wh.has(t)){const r=ii(),s=A7[ii()]||r;wh.set(t,new Intl.DateTimeFormat(s,t))}return wh.get(t)}function Pk(e){return U1[e]||null}function La(e,t){return j7(t).format(e)}V1(()=>{wh=new WeakMap,Rk=U1["short-date-short-time"]});const R7={ar:"ar-u-nu-latn"};let _h=new WeakMap,Lk={};function P7(e){const t=e||Lk;if(!_h.has(t)){const r=ii(),s=R7[ii()]||r;_h.set(t,new Intl.NumberFormat(s,e))}return _h.get(t)}function L7(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function uu(e,t){return P7(t).format(e)}V1(()=>{_h=new WeakMap,Lk={}});var I0;let Do=I0=class extends X{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new I0({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?La(e,q(q({},Pk(this.dateFormat)),this.dateTimeFormatOptions)):uu(e,L7(this))}};o([$e($d)],Do.prototype,"dateFormat",void 0),o([c({type:Object,json:{read:!1}})],Do.prototype,"dateTimeFormatOptions",void 0),o([c({type:Boolean,json:{write:!0}})],Do.prototype,"digitSeparator",void 0),o([c({type:Bt,json:{write:!0}})],Do.prototype,"places",void 0),Do=I0=o([M("esri.popup.support.FieldInfoFormat")],Do);const Sh=Do;var O0;let Ls=O0=class extends X{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new O0({fieldName:this.fieldName,format:this.format?U(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};o([c({type:String,json:{write:!0}})],Ls.prototype,"fieldName",void 0),o([c({type:Sh,json:{write:!0}})],Ls.prototype,"format",void 0),o([c({type:Boolean,json:{write:!0,default:!1}})],Ls.prototype,"isEditable",void 0),o([c({type:String,json:{write:!0}})],Ls.prototype,"label",void 0),o([$e(new je({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ls.prototype,"stringFieldOption",void 0),o([c({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ls.prototype,"statisticType",void 0),o([c({type:String,json:{write:!0}})],Ls.prototype,"tooltip",void 0),o([c({type:Boolean,json:{write:!0}})],Ls.prototype,"visible",void 0),Ls=O0=o([M("esri.popup.FieldInfo")],Ls);const q1=Ls;var C0;let qi=C0=class extends qa{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new C0(U({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};o([c({type:Object,json:{write:!0}})],qi.prototype,"attributes",void 0),o([c({type:String,json:{write:!0}})],qi.prototype,"description",void 0),o([c({type:[q1]})],qi.prototype,"fieldInfos",void 0),o([me("fieldInfos")],qi.prototype,"writeFieldInfos",null),o([c({type:String,json:{write:!0}})],qi.prototype,"title",void 0),o([c({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],qi.prototype,"type",void 0),qi=C0=o([M("esri.popup.content.FieldsContent")],qi);const Ed=qi;let zo=class extends X{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};o([c({type:String,json:{write:!0}})],zo.prototype,"altText",void 0),o([c({type:String,json:{write:!0}})],zo.prototype,"caption",void 0),o([c({type:String,json:{write:!0}})],zo.prototype,"title",void 0),o([c({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],zo.prototype,"type",void 0),zo=o([M("esri.popup.content.mixins.MediaInfo")],zo);const B1=zo;var A0;let rc=A0=class extends wt{constructor(e){super(e),this.tooltip=null,this.value=null}clone(){return new A0({tooltip:this.tooltip,value:this.value})}};o([c()],rc.prototype,"tooltip",void 0),o([c()],rc.prototype,"value",void 0),rc=A0=o([M("esri.popup.content.support.ChartMediaInfoValueSeries")],rc);const F7=rc;var j0;let Vo=j0=class extends X{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new j0({fields:U(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};o([c({type:[String],json:{write:!0}})],Vo.prototype,"fields",void 0),o([c({type:String,json:{write:!0}})],Vo.prototype,"normalizeField",void 0),o([c({type:[F7],json:{read:!1}})],Vo.prototype,"series",void 0),o([c({type:String,json:{write:!0}})],Vo.prototype,"tooltipField",void 0),Vo=j0=o([M("esri.popup.content.support.ChartMediaInfoValue")],Vo);const N7=Vo;let sc=class extends B1{constructor(e){super(e),this.type=null,this.value=null}};o([c({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],sc.prototype,"type",void 0),o([c({type:N7,json:{write:!0}})],sc.prototype,"value",void 0),sc=o([M("esri.popup.content.mixins.ChartMediaInfo")],sc);const Dy=sc,zy=ur()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var R0;let $h=R0=class extends Dy{constructor(e){super(e),this.type="bar-chart"}clone(){return new R0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:zy.write}})],$h.prototype,"type",void 0),$h=R0=o([M("esri.popup.content.BarChartMediaInfo")],$h);const Fk=$h;var P0;let xh=P0=class extends Dy{constructor(e){super(e),this.type="column-chart"}clone(){return new P0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:zy.write}})],xh.prototype,"type",void 0),xh=P0=o([M("esri.popup.content.ColumnChartMediaInfo")],xh);const Nk=xh;var L0;let ic=L0=class extends X{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new L0({linkURL:this.linkURL,sourceURL:this.sourceURL})}};o([c({type:String,json:{write:!0}})],ic.prototype,"linkURL",void 0),o([c({type:String,json:{write:!0}})],ic.prototype,"sourceURL",void 0),ic=L0=o([M("esri.popup.content.support.ImageMediaInfoValue")],ic);const D7=ic;var F0;let al=F0=class extends B1{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new F0({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};o([c({type:Number,json:{write:!0}})],al.prototype,"refreshInterval",void 0),o([c({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],al.prototype,"type",void 0),o([c({type:D7,json:{write:!0}})],al.prototype,"value",void 0),al=F0=o([M("esri.popup.content.ImageMediaInfo")],al);const Dk=al;var N0;let Eh=N0=class extends Dy{constructor(e){super(e),this.type="line-chart"}clone(){return new N0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:zy.write}})],Eh.prototype,"type",void 0),Eh=N0=o([M("esri.popup.content.LineChartMediaInfo")],Eh);const zk=Eh;var D0;let Th=D0=class extends Dy{constructor(e){super(e),this.type="pie-chart"}clone(){return new D0({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};o([c({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:zy.write}})],Th.prototype,"type",void 0),Th=D0=o([M("esri.popup.content.PieChartMediaInfo")],Th);const Vk=Th,Uk={base:B1,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Fk,"column-chart":Nk,"line-chart":zk,"pie-chart":Vk,image:Dk}};var z0;let Fs=z0=class extends qa{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?Dk.fromJSON(t):t.type==="barchart"?Fk.fromJSON(t):t.type==="columnchart"?Nk.fromJSON(t):t.type==="linechart"?zk.fromJSON(t):t.type==="piechart"?Vk.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new z0(U({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};o([c()],Fs.prototype,"activeMediaInfoIndex",void 0),o([c({type:Object,json:{write:!0}})],Fs.prototype,"attributes",void 0),o([c({type:String,json:{write:!0}})],Fs.prototype,"description",void 0),o([c({types:[Uk]})],Fs.prototype,"mediaInfos",void 0),o([ce("mediaInfos")],Fs.prototype,"readMediaInfos",null),o([me("mediaInfos")],Fs.prototype,"writeMediaInfos",null),o([c({type:String,json:{write:!0}})],Fs.prototype,"title",void 0),o([c({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Fs.prototype,"type",void 0),Fs=z0=o([M("esri.popup.content.MediaContent")],Fs);const Gf=Fs;var V0;let nc=V0=class extends qa{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new V0({text:this.text})}};o([c({type:String,json:{write:!0}})],nc.prototype,"text",void 0),o([c({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],nc.prototype,"type",void 0),nc=V0=o([M("esri.popup.content.TextContent")],nc);const Wf=nc,z7={base:null,key:"type",typeMap:{attachment:Sd,media:Gf,text:Wf,expression:z1,field:Ed}};var U0;let Uo=U0=class extends X{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new U0({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};o([c({type:String,json:{write:!0}})],Uo.prototype,"name",void 0),o([c({type:String,json:{write:!0}})],Uo.prototype,"title",void 0),o([c({type:String,json:{write:!0}})],Uo.prototype,"expression",void 0),o([c({type:["string","number"],json:{write:!0}})],Uo.prototype,"returnType",void 0),Uo=U0=o([M("esri.popup.ExpressionInfo")],Uo);const qk=Uo;var q0;let oc=q0=class extends X{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new q0({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};o([c({type:Boolean,json:{write:!0}})],oc.prototype,"returnTopmostRaster",void 0),o([c({type:Boolean,json:{write:!0}})],oc.prototype,"showNoDataRecords",void 0),oc=q0=o([M("esri.popup.LayerOptions")],oc);const V7=oc;var B0;let ac=B0=class extends X{constructor(e){super(e),this.field=null,this.order=null}clone(){return new B0({field:this.field,order:this.order})}};o([c({type:String,json:{write:!0}})],ac.prototype,"field",void 0),o([c({type:["asc","desc"],json:{write:!0}})],ac.prototype,"order",void 0),ac=B0=o([M("esri.popup.support.RelatedRecordsInfoFieldOrder")],ac);const Bk=ac;var H0;let lc=H0=class extends X{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new H0({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?U(this.orderByFields):null})}};o([c({type:Boolean,json:{write:!0}})],lc.prototype,"showRelatedRecords",void 0),o([c({type:[Bk],json:{write:!0}})],lc.prototype,"orderByFields",void 0),lc=H0=o([M("esri.popup.RelatedRecordsInfo")],lc);const U7=lc;let q7=0;const sp=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+q7++})}};return t=o([M("esri.core.Identifiable")],t),t};let HS=class extends sp(class{}){};HS=o([M("esri.core.Identifiable")],HS);var G0;let Ns=G0=class extends sp(wt){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new G0({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};o([c()],Ns.prototype,"active",void 0),o([c()],Ns.prototype,"className",void 0),o([c()],Ns.prototype,"disabled",void 0),o([c()],Ns.prototype,"id",void 0),o([c()],Ns.prototype,"indicator",void 0),o([c()],Ns.prototype,"title",void 0),o([c()],Ns.prototype,"type",void 0),o([c()],Ns.prototype,"visible",void 0),Ns=G0=o([M("esri.support.actions.ActionBase")],Ns);const H1=Ns;var W0;let kh=W0=class extends H1{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new W0({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};o([c()],kh.prototype,"image",void 0),kh=W0=o([M("esri.support.Action.ActionButton")],kh);const B7=kh;var J0;let uc=J0=class extends H1{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new J0({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};o([c()],uc.prototype,"image",void 0),o([c()],uc.prototype,"value",void 0),uc=J0=o([M("esri.support.Action.ActionToggle")],uc);const H7=uc;var K0;const G7=yt.ofType({key:"type",defaultKeyValue:"button",base:H1,typeMap:{button:B7,toggle:H7}}),W7={base:qa,key:"type",typeMap:{media:Gf,custom:M7,text:Wf,attachments:Sd,fields:Ed,expression:z1}},Hk="esri.PopupTemplate",J7=ye.getLogger(Hk),K7=["attachments","fields","media","text","expression"];let Gt=K0=class extends X{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>Ai(W7,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||vu(e)?e:(J7.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,r,s){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(i=>K7.indexOf(i.type)!==-1).map(i=>i&&i.toJSON(s)),t.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(t):i.type==="media"?this._writeMediaContent(i,t):i.type==="text"&&this._writeTextContent(i,t)})):t.description=e}writeFieldInfos(e,t,r,s){const{content:i}=this,n=Array.isArray(i)?i:null;if(e){const a=n?n.filter(d=>d.type==="fields"):[],l=a.length&&a.every(d=>{var f;return(f=d.fieldInfos)==null?void 0:f.length});t.fieldInfos=e.filter(Boolean).map(d=>{const f=d.toJSON(s);return l&&(f.visible=!1),f})}if(n)for(const a of n)a.type==="fields"&&this._writeFieldsContent(a,t)}writeLayerOptions(e,t,r,s){t[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?U(e.toArray()):[];return new K0({actions:t,content:Array.isArray(this.content)?U(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?U(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?U(this.fieldInfos):null,layerOptions:this.layerOptions?U(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?U(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?U(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),F1(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=U(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach(s=>{const i=t.fieldInfos.find(n=>n.fieldName.toLowerCase()===s.fieldName.toLowerCase());i?i.visible=!0:t.fieldInfos.push(s)}):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=U(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:r}){const s={description:!1,mediaInfos:!1};return r.map(i=>i.type==="media"?(i.mediaInfos||!t||s.mediaInfos||(i.mediaInfos=t,s.mediaInfos=!0),Gf.fromJSON(i)):i.type==="text"?(i.text||!e||s.description||(i.text=e,s.description=!0),Wf.fromJSON(i)):i.type==="attachments"?Sd.fromJSON(i):i.type==="fields"?Ed.fromJSON(i):i.type==="expression"?z1.fromJSON(i):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r}){const s=[];return e?s.push(new Wf({text:e})):s.push(new Ed),Array.isArray(t)&&t.length&&s.push(Gf.fromJSON({mediaInfos:t})),r&&s.push(Sd.fromJSON({displayType:"auto"})),s.length?s:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((s,i)=>[...s,...this._getMediaInfoFields(i)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:s}=e,i=s||{},{fields:n=[],normalizeField:a,tooltipField:l,sourceURL:d,linkURL:f}=i,h=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(d),...this._extractFieldNames(f),...n];return a&&h.push(a),l&&h.push(l),h}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map(s=>$n(e,t,s.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>t.indexOf("relationships/")===-1&&t.indexOf("expression/")===-1):[]}_getActionsFields(e){return e?e.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:t,title:r,type:s}=e,i=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(i)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const s=/\{(\w+):.+\}/,i=r.filter(n=>!(n.indexOf("{relationships/")===0||n.indexOf("{expression/")===0)).map(n=>n.replace(s,"{$1}"));return i?i.map(n=>n.slice(1,-1)):[]}};o([c({type:G7})],Gt.prototype,"actions",void 0),o([c()],Gt.prototype,"content",void 0),o([jt("content")],Gt.prototype,"castContent",null),o([ce("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],Gt.prototype,"readContent",null),o([me("content",{popupElements:{type:yt.ofType(z7)},showAttachments:{type:Boolean},mediaInfos:{type:yt.ofType(Uk)},description:{type:String}})],Gt.prototype,"writeContent",null),o([c({type:[qk],json:{write:!0}})],Gt.prototype,"expressionInfos",void 0),o([c({type:[q1]})],Gt.prototype,"fieldInfos",void 0),o([me("fieldInfos")],Gt.prototype,"writeFieldInfos",null),o([c({type:V7})],Gt.prototype,"layerOptions",void 0),o([me("layerOptions")],Gt.prototype,"writeLayerOptions",null),o([c({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Gt.prototype,"lastEditInfoEnabled",void 0),o([c()],Gt.prototype,"outFields",void 0),o([c()],Gt.prototype,"overwriteActions",void 0),o([c()],Gt.prototype,"returnGeometry",void 0),o([c({json:{type:String}})],Gt.prototype,"title",void 0),o([me("title")],Gt.prototype,"writeTitle",null),o([c({type:U7,json:{write:!0}})],Gt.prototype,"relatedRecordsInfo",void 0),Gt=K0=o([M(Hk)],Gt);const Ba=Gt,Jf={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Gk(e){return Jf[e]||Jf[e.toLowerCase()]}function G1(e){var t;return(t=Jf[e])!=null?t:Jf[e.toLowerCase()]}function Q7(e){return[...G1(e)]}function eg(e,t,r){r<0&&++r,r>1&&--r;const s=6*r;return s<1?e+(t-e)*s:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Wk(e,t,r,s=1){const i=(e%360+360)%360/360,n=r<=.5?r*(t+1):r+t-r*t,a=2*r-n;return[Math.round(255*eg(a,n,i+1/3)),Math.round(255*eg(a,n,i)),Math.round(255*eg(a,n,i-1/3)),s]}function Z7(e){const t=e.length>5,r=t?8:4,s=(1<<r)-1,i=t?1:17,n=t?e.length===9:e.length===5;let a=+("0x"+e.substr(1));if(isNaN(a))return null;const l=[0,0,0,1];let d;return n&&(d=a&s,a>>=r,l[3]=i*d/255),d=a&s,a>>=r,l[2]=i*d,d=a&s,a>>=r,l[1]=i*d,d=a&s,a>>=r,l[0]=i*d,l}function W1(){return[0,0,0]}function Y7(e){return[e[0],e[1],e[2]]}function J1(e,t,r){return[e,t,r]}function X7(e){const t=W1(),r=Math.min(3,e.length);for(let s=0;s<r;++s)t[s]=e[s];return t}function eF(e,t){return new Float64Array(e,t,3)}function tF(){return W1()}function rF(){return J1(1,1,1)}const sF=tF(),iF=rF(),Et=1e-6,nF=Math.random;function K1(e){const t=e[0],r=e[1],s=e[2];return Math.sqrt(t*t+r*r+s*s)}function oF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Jk(e,t,r,s){return e[0]=t,e[1]=r,e[2]=s,e}function aF(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function lF(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function uF(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function cF(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function dF(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(r*r+s*s+i*i)}function pF(e,t){const r=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return r*r+s*s+i*i}function hF(e){const t=e[0],r=e[1],s=e[2];return t*t+r*r+s*s}function fF(e,t){const r=t[0],s=t[1],i=t[2];let n=r*r+s*s+i*i;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n),e}function yF(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mF(e,t,r){const s=t[0],i=t[1],n=t[2],a=r[0],l=r[1],d=r[2];return e[0]=i*d-n*l,e[1]=n*a-s*d,e[2]=s*l-i*a,e}function gF(e,t,r,s){const i=t[0],n=t[1],a=t[2];return e[0]=i+s*(r[0]-i),e[1]=n+s*(r[1]-n),e[2]=a+s*(r[2]-a),e}function vF(e,t,r){const s=t[0],i=t[1],n=t[2];return e[0]=r[0]*s+r[4]*i+r[8]*n+r[12],e[1]=r[1]*s+r[5]*i+r[9]*n+r[13],e[2]=r[2]*s+r[6]*i+r[10]*n+r[14],e}function bF(e,t,r){const s=t[0],i=t[1],n=t[2];return e[0]=s*r[0]+i*r[3]+n*r[6],e[1]=s*r[1]+i*r[4]+n*r[7],e[2]=s*r[2]+i*r[5]+n*r[8],e}function wF(e,t,r){const s=r[0],i=r[1],n=r[2],a=r[3],l=t[0],d=t[1],f=t[2];let h=i*f-n*d,y=n*l-s*f,v=s*d-i*l,b=i*v-n*y,$=n*h-s*v,T=s*y-i*h;const j=2*a;return h*=j,y*=j,v*=j,b*=2,$*=2,T*=2,e[0]=l+h+b,e[1]=d+y+$,e[2]=f+v+T,e}function _F(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function SF(e,t,r){const s=r[0]-t[0],i=r[1]-t[1],n=r[2]-t[2];let a=s*s+i*i+n*n;return a>0?(a=1/Math.sqrt(a),e[0]=s*a,e[1]=i*a,e[2]=n*a,e):(e[0]=0,e[1]=0,e[2]=0,e)}const $F=K1;function xF(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function EF(e,t,r,s,i){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e}function TF(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function kF(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function MF(e){const t=e[0],r=e[1],s=e[2],i=e[3];return Math.sqrt(t*t+r*r+s*s+i*i)}function IF(e){const t=e[0],r=e[1],s=e[2],i=e[3];return t*t+r*r+s*s+i*i}function OF(e,t){const r=t[0],s=t[1],i=t[2],n=t[3];let a=r*r+s*s+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),e[0]=r*a,e[1]=s*a,e[2]=i*a,e[3]=n*a),e}function CF(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function AF(e,t,r,s){const i=t[0],n=t[1],a=t[2],l=t[3];return e[0]=i+s*(r[0]-i),e[1]=n+s*(r[1]-n),e[2]=a+s*(r[2]-a),e[3]=l+s*(r[3]-l),e}function jF(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function RF(e,t){const r=e[0],s=e[1],i=e[2],n=e[3],a=t[0],l=t[1],d=t[2],f=t[3];return Math.abs(r-a)<=Et*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=Et*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(i-d)<=Et*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(n-f)<=Et*Math.max(1,Math.abs(n),Math.abs(f))}const GS=new Float32Array(1);function PF(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ip(e,t,r){return Math.min(Math.max(e,t),r)}function LF(e){return(e&e-1)==0}function FF(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function NF(e,t,r){return e+(t-e)*r}function DF(e){return e*Math.PI/180}function zF(e){return 180*e/Math.PI}function VF(e){return Math.acos(ip(e,-1,1))}function Kk(e){return Math.asin(ip(e,-1,1))}function UF(e){return Qk(Math.max(-WS,Math.min(e,WS)))}function Qk(e){return GS[0]=e,GS[0]}function qF(e,t){const r=K1(e),s=Kk(e[2]/r),i=Math.atan2(e[1]/r,e[0]/r);return Jk(t,r,s,i),t}const WS=Qk(34028234663852886e22);function Lp(e){return ip(Ay(e),0,255)}function Fp(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class qt{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,r,s,i=new qt){return i.r=Math.round(t.r+(r.r-t.r)*s),i.g=Math.round(t.g+(r.g-t.g)*s),i.b=Math.round(t.b+(r.b-t.b)*s),i.a=t.a+(r.a-t.a)*s,i._sanitize()}static fromRgb(t,r){const s=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(s){const i=s[2].split(/\s*,\s*/),n=s[1];if(n==="rgb"&&i.length===3||n==="rgba"&&i.length===4){const a=i[0];if(a.charAt(a.length-1)==="%"){const l=i.map(d=>2.56*parseFloat(d));return i.length===4&&(l[3]=parseFloat(i[3])),qt.fromArray(l,r)}return qt.fromArray(i.map(l=>parseFloat(l)),r)}if(n==="hsl"&&i.length===3||n==="hsla"&&i.length===4)return qt.fromArray(Wk(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),r)}return null}static fromHex(t,r=new qt){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const s=t.length===4?4:8,i=(1<<s)-1;let n=+("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach(a=>{const l=n&i;n>>=s,r[a]=s===4?17*l:l}),r.a=1,r)}static fromArray(t,r=new qt){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const s=Gk(t)?G1(t):null;return s&&qt.fromArray(s,r)||qt.fromRgb(t,r)||qt.fromHex(t,r)}static fromJSON(t){return t&&new qt([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return G(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return G(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if(typeof t=="string")qt.fromString(t,this);else if(Array.isArray(t))qt.fromArray(t,this);else{var r,s,i,n;this._set((r=t.r)!=null?r:0,(s=t.g)!=null?s:0,(i=t.b)!=null?i:0,(n=t.a)!=null?n:1),t instanceof qt||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),s=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${s.length<2?"0"+s:s}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=qt.AlphaMode.ALWAYS){const r=Lp(this.r),s=Lp(this.g),i=Lp(this.b);return t===qt.AlphaMode.ALWAYS||this.a!==1?[r,s,i,Lp(255*this.a)]:[r,s,i]}clone(){return new qt(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return G(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Fp(this.r,0,255)),this.g=Math.round(Fp(this.g,0,255)),this.b=Math.round(Fp(this.b,0,255)),this.a=Fp(this.a,0,1),this}_set(t,r,s,i){this.r=t,this.g=r,this.b=s,this.a=i}}qt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(qt||(qt={}));const Ge=qt,JS=new je({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let BF=0,ll=class extends X{constructor(e){super(e),this.id="sym"+BF++,this.type=null,this.color=new Ge([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};o([c({type:JS.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:JS.write}}})],ll.prototype,"type",void 0),o([c({type:Ge,json:{write:{allowNull:!0}}})],ll.prototype,"color",void 0),o([ce("color")],ll.prototype,"readColor",null),ll=o([M("esri.symbols.Symbol")],ll);const Nr=ll;var Q0;let jn=Q0=class extends Nr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const r in e)t[r]=e[r]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(i=>{const n=i.valueExpressionInfo;return $n(e,t,n.expression)});await Promise.all(s)}}}clone(){return new Q0({data:U(this.data)})}hash(){return xy(JSON.stringify(this.data)).toString()}};o([c({json:{write:!1}})],jn.prototype,"color",void 0),o([c({json:{write:!0}})],jn.prototype,"data",void 0),o([ce("data",["symbol"])],jn.prototype,"readData",null),o([me("data",{})],jn.prototype,"writeData",null),o([$e({CIMSymbolReference:"cim"},{readOnly:!0})],jn.prototype,"type",void 0),jn=Q0=o([M("esri.symbols.CIMSymbol")],jn);const np=jn;let ul=class extends X{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,r){e||(t[r]=e)}};o([c({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ul.prototype,"enabled",void 0),o([me("enabled")],ul.prototype,"writeEnabled",null),o([c({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],ul.prototype,"type",void 0),ul=o([M("esri.symbols.Symbol3DLayer")],ul);const Pi=ul,HF=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,GF="screenUtils.toPt: input not recognized!",Zk=96;function WF(e){return e?e/72*Zk:0}function bn(e){return e?72*e/Zk:0}function Ye(e){if(typeof e=="string"){const t=e.match(HF);if(t){const r=Number(t[1]),s=t[3]&&t[3].toLowerCase(),i=e.charAt(0)==="-",n=s==="px"?bn(r):r;return i?-n:n}return console.warn(GF),null}return e}function JF(e=0,t=0){return{x:e,y:t}}function Yk(e){const t=Ay(100*(1-e));return Math.max(0,Math.min(t,100))}function Td(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function KF(e,t){const r=t.transparency!=null?Td(t.transparency):1,s=t.color;return s&&Array.isArray(s)?new Ge([s[0]||0,s[1]||0,s[2]||0,r]):null}function QF(e,t){t.color=e.toJSON().slice(0,3);const r=Yk(e.a);r!==0&&(t.transparency=r)}const Eo={type:Ge,json:{type:[Bt],default:null,read:{source:["color","transparency"],reader:KF},write:{target:{color:{type:[Bt]},transparency:{type:Bt}},writer:QF}}},ji={type:Number,cast:Ye,json:{write:!0}};let qo=class extends X{constructor(e){super(e),this.color=new Ge([0,0,0,1]),this.extensionLength=0,this.size=bn(1)}clone(){}cloneProperties(){return{color:U(this.color),size:this.size,extensionLength:this.extensionLength}}};o([c({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],qo.prototype,"type",void 0),o([c(Eo)],qo.prototype,"color",void 0),o([c(Ie(q({},ji),{json:{write:{overridePolicy:e=>({enabled:!!e})}}}))],qo.prototype,"extensionLength",void 0),o([c(ji)],qo.prototype,"size",void 0),qo=o([M("esri.symbols.edges.Edges3D")],qo);const Q1=qo;var Z0;let Mh=Z0=class extends Q1{constructor(e){super(e),this.type="sketch"}clone(){return new Z0(this.cloneProperties())}};o([$e({sketch:"sketch"},{readOnly:!0})],Mh.prototype,"type",void 0),Mh=Z0=o([M("esri.symbols.edges.SketchEdges3D")],Mh);const ZF=Mh;var Y0;let Ih=Y0=class extends Q1{constructor(e){super(e),this.type="solid"}clone(){return new Y0(this.cloneProperties())}};o([$e({solid:"solid"},{readOnly:!0})],Ih.prototype,"type",void 0),Ih=Y0=o([M("esri.symbols.support.SolidEdges3D")],Ih);const YF=Ih,Z1={types:{key:"type",base:Q1,typeMap:{solid:YF,sketch:ZF}},json:{write:!0}};var X0;let Ms=X0=class extends X{constructor(e){super(e),this.color=null}clone(){const e={color:G(this.color)?this.color.clone():null};return new X0(e)}};o([c(Eo)],Ms.prototype,"color",void 0),Ms=X0=o([M("esri.symbols.support.Symbol3DMaterial")],Ms);var ev;let Rn=ev=class extends Pi{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new ev({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:G(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};o([$e({Extrude:"extrude"},{readOnly:!0})],Rn.prototype,"type",void 0),o([c({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Rn.prototype,"size",void 0),o([c({type:Ms,json:{write:!0}})],Rn.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Rn.prototype,"castShadows",void 0),o([c(Z1)],Rn.prototype,"edges",void 0),Rn=ev=o([M("esri.symbols.ExtrudeSymbol3DLayer")],Rn);const Y1=Rn;let cc=class extends Nr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};o([$e({esriSLS:"simple-line"},{readOnly:!0})],cc.prototype,"type",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],cc.prototype,"width",void 0),cc=o([M("esri.symbols.LineSymbol")],cc);const XF=cc,eN=["begin","end","begin-end"],Xk=["arrow","circle","square","diamond","cross","x"];var tv;let fi=tv=class extends X{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,s){(s==null?void 0:s.origin)==="web-map"?t[r]="arrow":t[r]=e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,s){(s==null?void 0:s.origin)==="web-map"||(t[r]=e)}clone(){return new tv({color:U(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};o([c({type:["begin","end","begin-end"],json:{write:!0}})],fi.prototype,"placement",void 0),o([$e({"line-marker":"line-marker"},{readOnly:!0}),c({json:{origins:{"web-map":{write:!1}}}})],fi.prototype,"type",void 0),o([c({type:Xk})],fi.prototype,"style",void 0),o([me("style")],fi.prototype,"writeStyle",null),o([c({type:Ge,value:null,json:{write:{allowNull:!0}}})],fi.prototype,"color",null),o([ce("color")],fi.prototype,"readColor",null),o([me("color")],fi.prototype,"writeColor",null),fi=tv=o([M("esri.symbols.LineSymbolMarker")],fi);const tN=fi;var rv;const tg=new je({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Bi=rv=class extends XF{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,s,i,n){if(e&&typeof e!="string")return e;const a={};return e!=null&&(a.style=e),t!=null&&(a.color=t),r!=null&&(a.width=Ye(r)),s!=null&&(a.cap=s),i!=null&&(a.join=i),n!=null&&(a.miterLimit=Ye(n)),a}clone(){var e;return new rv({color:U(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};o([$e({esriSLS:"simple-line"},{readOnly:!0})],Bi.prototype,"type",void 0),o([c({type:tg.apiValues,json:{read:tg.read,write:tg.write}})],Bi.prototype,"style",void 0),o([c({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Bi.prototype,"cap",void 0),o([c({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&(r==null||r.origin==null)})}}})],Bi.prototype,"join",void 0),o([c({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":tN}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Bi.prototype,"marker",void 0),o([c({type:Number,json:{read:!1,write:!1}})],Bi.prototype,"miterLimit",void 0),Bi=rv=o([M("esri.symbols.SimpleLineSymbol")],Bi);const cs=Bi;let dc=class extends Nr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};o([c({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":cs}},json:{default:null,write:!0}})],dc.prototype,"outline",void 0),o([c({type:["simple-fill","picture-fill"],readOnly:!0})],dc.prototype,"type",void 0),dc=o([M("esri.symbols.FillSymbol")],dc);const eM=dc;let Oh=class extends X{constructor(e){super(e)}clone(){}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Oh.prototype,"type",void 0),Oh=o([M("esri.symbols.patterns.LinePattern3D")],Oh);const tM=Oh,rN=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var sv;const sN=ur()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let pc=sv=class extends tM{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new sv(e)}};o([c({type:["style"]})],pc.prototype,"type",void 0),o([$e(sN),c({type:rN})],pc.prototype,"style",void 0),pc=sv=o([M("esri.symbols.patterns.LineStylePattern3D")],pc);const X1=pc;let Ch=class extends X{constructor(e){super(e)}clone(){}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ch.prototype,"type",void 0),Ch=o([M("esri.symbols.patterns.Pattern3D")],Ch);const rM=Ch,iN=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var iv;let hc=iv=class extends rM{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new iv(e)}};o([c({type:["style"]})],hc.prototype,"type",void 0),o([c({type:iN,json:{read:!0,write:!0}})],hc.prototype,"style",void 0),hc=iv=o([M("esri.symbols.patterns.StylePattern3D")],hc);const sM=hc,nN={types:{key:"type",base:rM,typeMap:{style:sM}},json:{write:!0}},iM={types:{key:"type",base:tM,typeMap:{style:X1}},json:{write:!0}},Yc=new Ge("white");new Ge("black");const oN=new Ge([255,255,255,0]);function aN(e){return e.r===0&&e.g===0&&e.b===0}var nv;let Xc=nv=class extends Ms{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:G(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new nv(e)}};o([$e({multiply:"multiply",replace:"replace",tint:"tint"})],Xc.prototype,"colorMixMode",void 0),Xc=nv=o([M("esri.symbols.support.Symbol3DFillMaterial")],Xc);function Vy(e=bN){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function e_(e,t,r,s,i,n,a=Vy()){return a[0]=e,a[1]=t,a[2]=r,a[3]=s,a[4]=i,a[5]=n,a}function lN(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function uN(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function cN(e){return e[0]>=e[3]?0:e[3]-e[0]}function dN(e){return e[1]>=e[4]?0:e[4]-e[1]}function pN(e){return e[2]>=e[5]?0:e[5]-e[2]}function hN(e,t=[0,0,0]){return t[0]=cN(e),t[1]=dN(e),t[2]=pN(e),t}function fN(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function yN(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function nM(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function mN(e){return e?nM(e,ov):Vy(ov)}function gN(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function KS(e){return e.length===6}function vN(e,t,r){if(we(e)||we(t))return e===t;if(!KS(e)||!KS(t))return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}const ov=[1/0,1/0,1/0,-1/0,-1/0,-1/0],bN=[0,0,0,0,0,0];Vy();function wN(e,{isPrimitive:t,width:r,depth:s,height:i}){const n=t?10:1;if(r==null&&i==null&&s==null)return[n*e[0],n*e[1],n*e[2]];const a=J1(r,s,i);let l;for(let d=0;d<3;d++){const f=a[d];if(f!=null){l=f/e[d];break}}for(let d=0;d<3;d++)a[d]==null&&(a[d]=e[d]*l);return a}const _N=e_(-.5,-.5,-.5,.5,.5,.5),SN=e_(-.5,-.5,0,.5,.5,1),$N=e_(-.5,-.5,0,.5,.5,.5);function xN(e){switch(e){case"sphere":case"cube":case"diamond":return _N;case"cylinder":case"cone":case"inverted-cone":return SN;case"tetrahedron":return $N;default:return}}const t_=["butt","square","round"],EN=[...t_,"none"],oM=["miter","bevel","round"];var av;let Bo=av=class extends X{constructor(e){super(e),this.color=new Ge([0,0,0,1]),this.size=bn(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:G(this.color)?this.color.clone():null,size:this.size,pattern:G(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new av(e)}};o([c(Eo)],Bo.prototype,"color",void 0),o([c(ji)],Bo.prototype,"size",void 0),o([c(iM)],Bo.prototype,"pattern",void 0),o([c({type:t_,json:{default:"butt",write:{overridePolicy(){return{enabled:G(this.pattern)}}}}})],Bo.prototype,"patternCap",void 0),Bo=av=o([M("esri.symbols.support.Symbol3DOutline")],Bo);var Ah;let Hi=Ah=class extends Pi{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:G(this.edges)?this.edges.clone():null,enabled:this.enabled,material:G(this.material)?this.material.clone():null,pattern:G(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:G(this.outline)?this.outline.clone():null};return new Ah(e)}static fromSimpleFillSymbol(e){var t,r,s,i,n,a;const l=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new X1({style:e.outline.style}):null,d={size:(t=(r=e.outline)==null?void 0:r.width)!=null?t:0,color:((s=(i=e.outline)==null?void 0:i.color)!=null?s:Yc).clone(),pattern:l};return l&&(n=e.outline)!=null&&n.cap&&(d.patternCap=e.outline.cap),new Ah({material:new Xc({color:((a=e.color)!=null?a:oN).clone()}),pattern:e.style&&e.style!=="solid"?new sM({style:e.style}):null,outline:d})}};o([$e({Fill:"fill"},{readOnly:!0})],Hi.prototype,"type",void 0),o([c({type:Xc,json:{write:!0}})],Hi.prototype,"material",void 0),o([c(nN)],Hi.prototype,"pattern",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Hi.prototype,"castShadows",void 0),o([c({type:Bo,json:{write:!0}})],Hi.prototype,"outline",void 0),o([c(Z1)],Hi.prototype,"edges",void 0),Hi=Ah=o([M("esri.symbols.FillSymbol3DLayer")],Hi);const op=Hi,TN=["none","underline","line-through"],kN=["normal","italic","oblique"],MN=["normal","lighter","bold","bolder"],aM={type:Number,cast:e=>{const t=Xd(e);return t===0?1:ip(t,.1,4)},nonNullable:!0},IN=["left","right","center","justify"],ON=["left","right","center"],CN=["baseline","top","middle","bottom"],AN={type:IN,nonNullable:!0},jN={type:ON,nonNullable:!0},lM={type:CN,nonNullable:!0};var lv;let Gi=lv=class extends X{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Ye(e)}clone(){return new lv({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};o([c({type:TN,json:{default:"none",write:!0}})],Gi.prototype,"decoration",void 0),o([c({type:String,json:{write:!0}})],Gi.prototype,"family",void 0),o([c({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Gi.prototype,"size",void 0),o([jt("size")],Gi.prototype,"castSize",null),o([c({type:kN,json:{default:"normal",write:!0}})],Gi.prototype,"style",void 0),o([c({type:MN,json:{default:"normal",write:!0}})],Gi.prototype,"weight",void 0),Gi=lv=o([M("esri.symbols.Font")],Gi);const Uy=Gi,RN=ye.getLogger("esri.core.urlUtils"),Su=rt.request,QS="esri/config: esriConfig.request.proxyUrl is not set.",uM=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,cM=/^\s*http:/i,PN=/^\s*https:/i,LN=/^\s*file:/i,FN=/:\d+$/,NN=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,DN=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),zN=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Ta{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(DN);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(zN),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}const Np={},VN=new Ta(rt.applicationUrl);let Er=VN;const UN=BN();let r_=UN;const dM=()=>Er,qN=()=>r_;function BN(){const e=Er.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${Er.scheme}://${Er.host}${Er.port!=null?`:${Er.port}`:""}`}${t}`}function Kr(e){const t={path:null,query:null},r=new Ta(e),s=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.substring(0,s),t.query=s_(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function s_(e){const t=e.split("&"),r={};for(const s of t){if(!s)continue;const i=s.indexOf("=");let n,a;i<0?(n=decodeURIComponent(s),a=""):(n=decodeURIComponent(s.slice(0,i)),a=decodeURIComponent(s.slice(i+1)));let l=r[n];typeof l=="string"&&(l=r[n]=[l]),Array.isArray(l)?l.push(a):r[n]=a}return r}function ZS(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function cu(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const s=e[r];if(s==null)return"";const i=encodeURIComponent(r)+"=",n=t&&t[r];return n?i+encodeURIComponent(n(s)):Array.isArray(s)?s.map(a=>ZS(a)?i+encodeURIComponent(JSON.stringify(a)):i+encodeURIComponent(a)).join("&"):ZS(s)?i+encodeURIComponent(JSON.stringify(s)):i+encodeURIComponent(s)}).filter(r=>r).join("&"):""}function HN(e=!1){let t,r=Su.proxyUrl;if(typeof e=="string"){t=mM(e);const s=ap(e);s&&(r=s.proxyUrl)}else t=!!e;if(!r)throw RN.warn(QS),new Z("urlutils:proxy-not-set",QS);return t&&uv()&&(r=By(r)),Kr(r)}function GN(e){const t=ap(e);let r,s;if(t){const i=i_(t.proxyUrl);r=i.path,s=i.query?s_(i.query):null}if(r){const i=Kr(e);e=r+"?"+i.path;const n=cu(q(q({},s),i.query));n&&(e=`${e}?${n}`)}return e}const Hu={path:"",query:""};function i_(e){const t=e.indexOf("?");return t!==-1?(Hu.path=e.slice(0,t),Hu.query=e.slice(t+1)):(Hu.path=e,Hu.query=null),Hu}function pM(e){return e=(e=Kf(e=oD(e=i_(e).path),!0)).toLowerCase()}function WN(e){const t={proxyUrl:e.proxyUrl,urlPrefix:pM(e.urlPrefix)},r=Su.proxyRules,s=t.urlPrefix;let i=r.length;for(let n=0;n<r.length;n++){const a=r[n].urlPrefix;if(s.indexOf(a)===0){if(s.length===a.length)return-1;i=n;break}a.indexOf(s)===0&&(i=n+1)}return r.splice(i,0,t),i}function ap(e){const t=Su.proxyRules,r=pM(e);for(let s=0;s<t.length;s++)if(r.indexOf(t[s].urlPrefix)===0)return t[s]}function hM(e,t){return e=YS(e),t=YS(t),Kf(e)===Kf(t)}function YS(e){const t=(e=Is(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function fM(e){const t=s=>s==null||s instanceof RegExp&&s.test(e)||typeof s=="string"&&e.startsWith(s),r=Su.interceptors;if(r){for(const s of r)if(Array.isArray(s.urls)){if(s.urls.some(t))return s}else if(t(s.urls))return s}return null}function kd(e,t,r=!1){const s=dv(e),i=dv(t);return!(!r&&s.scheme!==i.scheme)&&s.host!=null&&i.host!=null&&s.host.toLowerCase()===i.host.toLowerCase()&&s.port===i.port}function n_(e){if(typeof e=="string"){if(!Gr(e))return!0;e=dv(e)}if(kd(e,Er))return!0;const t=Su.trustedServers||[];for(let r=0;r<t.length;r++){const s=JN(t[r]);for(let i=0;i<s.length;i++)if(kd(e,s[i]))return!0}return!1}function JN(e){return Np[e]||(a_(e)||xn(e)?Np[e]=[new Ta(Ts(e))]:Np[e]=[new Ta(`http://${e}`),new Ta(`https://${e}`)]),Np[e]}function Ts(e,t=r_,r){return xn(e)?r&&r.preserveProtocolRelative?e:Er.scheme==="http"&&Er.authority===Ha(e).slice(2)?`http:${e}`:`https:${e}`:a_(e)?e:Fa(e[0]==="/"?iD(t):t,e)}function qy(e,t=r_,r){if(!Gr(e))return e;const s=Is(e),i=s.toLowerCase(),n=Is(t).toLowerCase().replace(/\/+$/,""),a=r?Is(r).toLowerCase().replace(/\/+$/,""):null;if(a&&n.indexOf(a)!==0)return e;const l=(y,v,b)=>(b=y.indexOf(v,b))===-1?y.length:b;let d=l(i,"/",i.indexOf("//")+2),f=-1;for(;i.slice(0,d+1)===n.slice(0,d)+"/"&&(f=d+1,d!==i.length);)d=l(i,"/",d+1);if(f===-1||a&&f<a.length)return e;e=s.slice(f);const h=n.slice(f-1).replace(/[^/]+/g,"").length;if(h>0)for(let y=0;y<h;y++)e=`../${e}`;else e=`./${e}`;return e}function Is(e){return e=uD(e=lD(e=aD(e=Ts(e=e.trim()))))}function Fa(...e){const t=e.filter(G);if(!t||!t.length)return;const r=[];if(Gr(t[0])){const i=t[0],n=i.indexOf("//");n!==-1&&(r.push(i.slice(0,n+1)),rD(t[0])&&(r[0]+="/"),t[0]=i.slice(n+2))}else t[0][0]==="/"&&r.push("");const s=t.reduce((i,n)=>n?i.concat(n.split("/")):i,[]);for(let i=0;i<s.length;i++){const n=s[i];n===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!n&&i===s.length-1||n&&(n!=="."||r.length===0))&&r.push(n)}return r.join("/")}function Ha(e,t=!1){if(lp(e)||To(e))return null;let r=e.indexOf("://");if(r===-1&&xn(e))r=2;else{if(r===-1)return null;r+=3}const s=e.indexOf("/",r);return s!==-1&&(e=e.slice(0,s)),t&&(e=Kf(e,!0)),e}function Gr(e){return xn(e)||a_(e)}function lp(e){return e!=null&&e.slice(0,5)==="blob:"}function To(e){return e.slice(0,5)==="data:"}function KN(e){const t=o_(e);if(!t||!t.isBase64)return null;const r=atob(t.data),s=new Uint8Array(r.length);for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return s.buffer}function QN(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const ZN=/^data:(.*?)(;base64)?,(.*)$/;function o_(e){const t=e.match(ZN);if(!t)return null;const[,r,s,i]=t;return{mediaType:r,isBase64:!!s,data:i}}function yM(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function YN(e,t){XN(e,t)||eD(e,t)}function XN(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const s=URL.createObjectURL(e);return r.download=t,r.href=s,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),!0}function eD(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function xn(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function a_(e){return uM.test(e)}function mM(e){return PN.test(e)||Er.scheme==="https"&&xn(e)}function tD(e){return cM.test(e)||Er.scheme==="http"&&xn(e)}function rD(e){return LN.test(e)}function By(e){return xn(e)?`https:${e}`:e.replace(cM,"https:")}function sD(){return Er.scheme==="http"}function uv(){return Er.scheme==="https"}function Kf(e,t=!1){return xn(e)?e.slice(2):(e=e.replace(uM,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function iD(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function gM(e){let t=0;if(Gr(e)){const s=e.indexOf("//");s!==-1&&(t=s+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function nD(e,t){if(!e)return"";const r=Kr(e).path.replace(/\/+$/,""),s=r.substring(r.lastIndexOf("/")+1);if(t==null||!t.length)return s;const i=new RegExp(`.(${t.join("|")})$`,"ig");return s.replace(i,"")}function oD(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function l_(e){return e.replace(/\/+$/,"")}function aD(e){if(/^https?:\/\//i.test(e)){const t=i_(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function lD(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function uD(e){const t=Su.httpsDomains;if(!tD(e))return e;const r=e.indexOf("/",7);let s;if(s=r===-1?e:e.slice(0,r),s=s.toLowerCase().slice(7),FN.test(s)){if(!s.endsWith(":80"))return e;s=s.slice(0,-3),e=e.replace(":80","")}return sD()&&s===Er.authority&&!NN.test(e)||(uv()&&s===Er.authority||t&&t.some(i=>s===i||s.endsWith(`.${i}`))||uv()&&!ap(e))&&(e=By(e)),e}function cv(e,t,r){if(!(t&&r&&e&&Gr(e)))return e;const s=e.indexOf("//"),i=e.indexOf("/",s+2),n=e.indexOf(":",s+2),a=Math.min(i<0?e.length:i,n<0?e.length:n);return e.slice(s+2,a).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,s+2)}${r}${e.slice(a)}`}function dv(e){return typeof e=="string"?new Ta(Ts(e)):(e.scheme||(e.scheme=Er.scheme),e)}function vM(e,t){const r=Kr(e),s=Object.keys(r.query||{});return s.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${s.join(", ")}.`),r.path}function bM(e,t,r){const s=Kr(e),i=s.query||{};return i[t]=String(r),`${s.path}?${cu(i)}`}function pv(e,t){const r=Kr(e),s=r.query||{};for(const n in t)s[n]=t[n];const i=cu(s);return i?`${r.path}?${i}`:r.path}function cD(e){if(we(e))return null;const t=e.match(dD);return t?t[1]:null}const dD=/.*?\.([^\/]*)$/;function Ga(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=Ts(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const s=qy(e,t.portalItem.itemUrl);hD.test(s)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(s).path)}return hv(e,t&&t.portal)}function $u(e,t,r=du.YES){if(!e)return e;!Gr(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let s=Ts(e);if(t){const i=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(i){const n=hv(i,t.portal);s=qy(hv(s,t.portal),n,n),s!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(s)}}return s=fD(s,t&&t.portal),Gr(s)&&(s=Is(s)),t!=null&&t.resources&&t!=null&&t.portalItem&&!Gr(s)&&!To(s)&&r===du.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s)}),s}function Hy(e,t,r){return Ga(e,r)}function wo(e,t,r,s){const i=$u(e,s);i!==void 0&&(t[r]=i)}const pD=/\/items\/([^\/]+)\/resources\//,hD=/^\.\/resources\//;function wM(e){const t=G(e)?e.match(pD):null;return G(t)?t[1]:null}function fD(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?cv(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function hv(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,s=dM();return kd(s,`${s.scheme}://${r}`)?cv(e,t.portalHostname,r):cv(e,r,t.portalHostname)}var du;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(du||(du={}));const yD=Object.freeze({__proto__:null,fromJSON:Ga,toJSON:$u,read:Hy,write:wo,itemIdFromResourceUrl:wM,get MarkKeep(){return du}});var fv;const mD=ur()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Ho=fv=class extends X{constructor(e){super(e)}readHref(e,t,r){return e?Ga(e,r):t.dataURI}writeHref(e,t,r,s){e&&(To(e)?t.dataURI=e:(t.href=$u(e,s),Gr(t.href)&&(t.href=Is(t.href))))}clone(){return new fv({href:this.href,primitive:this.primitive})}};o([c({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Ho.prototype,"href",void 0),o([ce("href")],Ho.prototype,"readHref",null),o([me("href",{href:{type:String},dataURI:{type:String}})],Ho.prototype,"writeHref",null),o([$e(mD)],Ho.prototype,"primitive",void 0),Ho=fv=o([M("esri.symbols.support.IconSymbol3DLayerResource")],Ho);var yv;let Cl=yv=class extends wt{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new yv({x:this.x,y:this.y})}};o([c({type:Number})],Cl.prototype,"x",void 0),o([c({type:Number})],Cl.prototype,"y",void 0),Cl=yv=o([M("esri.symbols.support.Symbol3DAnchorPosition2D")],Cl);var mv;let fc=mv=class extends X{constructor(e){super(e),this.color=new Ge([0,0,0,1]),this.size=bn(1)}clone(){const e={color:G(this.color)?this.color.clone():null,size:this.size};return new mv(e)}};o([c(Eo)],fc.prototype,"color",void 0),o([c(ji)],fc.prototype,"size",void 0),fc=mv=o([M("esri.symbols.support.Symbol3DIconOutline")],fc);var cl;const gD=ye.getLogger("esri.symbols.IconSymbol3DLayer");let yi=cl=class extends Pi{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new cl({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:G(this.material)?this.material.clone():null,outline:G(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Yc,r=XS(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Yc).clone()}:null;return new cl({size:e.size,resource:{primitive:bD(e.style)},material:{color:t},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||aN(e.color)?Yc:e.color,r=XS(e);return new cl({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new cl({resource:{href:yM({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function XS(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,s=e8(e.xoffset),i=e8(e.yoffset);return(s||i)&&t&&r?{x:-s/t,y:i/r}:null}function e8(e){return isFinite(e)?e:0}o([c({type:Ms,json:{write:!0}})],yi.prototype,"material",void 0),o([c({type:Ho,json:{write:!0}})],yi.prototype,"resource",void 0),o([$e({Icon:"icon"},{readOnly:!0})],yi.prototype,"type",void 0),o([c(ji)],yi.prototype,"size",void 0),o([$e({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),c({json:{default:"center"}})],yi.prototype,"anchor",void 0),o([c({type:Cl,json:{type:[Number],read:{reader:e=>new Cl({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yi.prototype,"anchorPosition",void 0),o([c({type:fc,json:{write:!0}})],yi.prototype,"outline",void 0),yi=cl=o([M("esri.symbols.IconSymbol3DLayer")],yi);const vD={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function bD(e){return vD[e]||(gD.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const ao=yi;function _M(e,t,r=yt){return t||(t=new r),t===e||(t.removeAll(),wD(e)?t.addMany(e):e&&t.add(e)),t}function SM(e){return e}function wD(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}const $M="20220404",xM="ecb69ff5e08a61c162de0ddc0b1f397ed5d4071b",u_="4.23",_D={async request(e,t){var r;const{default:s}=await Promise.resolve().then(function(){return MM}),i=e.options,n=i.responseType;i.signal=t==null?void 0:t.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":["blob","json","text"].includes(n)&&(r=fM(e.url))!=null&&r.after?n:"array-buffer";const a=await s(e.url,i),l={data:a.data,ssl:a.ssl};switch(a.requestOptions.responseType){case"native-request-init":return delete l.data.signal,l;case"blob":l.data=await l.data.arrayBuffer();break;case"json":l.data=new TextEncoder().encode(JSON.stringify(l.data)).buffer;break;case"text":l.data=new TextEncoder().encode(l.data).buffer}return{result:l,transferList:[l.data]}}};let Ct;function SD(e){Ct=e}function $D(e){const t=Ct&&Ct.findCredential(e);return t&&t.token?bM(e,"token",t.token):e}Y("host-webworker")||(Y("edge")||Y("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const xD=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function c_(e){const t=Ha(e,!0);return t&&t.endsWith(".arcgis.com")&&!xD.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function EM(e,t,r=!1,s){return new Promise((i,n)=>{if(go(s))return void n(t8());let a=()=>{f(),n(new Error(`Unable to load ${t}`))},l=()=>{const h=e;f(),i(h)},d=()=>{if(!e)return;const h=e;f(),h.src="",n(t8())};const f=()=>{Y("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",l)),a=null,l=null,e=null,G(s)&&s.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};G(s)&&s.addEventListener("abort",d),Y("esri-image-decode")?e.decode().then(l,a):(e.addEventListener("error",a),e.addEventListener("load",l))})}function t8(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function Tt(e,t){var r;const s=To(e),i=lp(e);i||s||(e=Is(e));const n={url:e,requestOptions:q({},t)};let a=fM(e);if(a){const h=await AD(a,n);if(h!=null)return{data:h,getHeader:d_,requestOptions:n.requestOptions,url:n.url};a.after||a.error||(a=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"){if(Y("host-webworker")||Y("host-node"))throw ei("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n)}else if(s)throw ei("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),n);if(t.method==="head"){if(t.body)throw ei("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(s||i)throw ei("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await ID(),Qf)return Qf.execute(e,t);const l=new AbortController;vn(t,()=>l.abort());const d={controller:l,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:nn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},f=await RD(d);return(r=a)==null||r.after==null||r.after(f),f}let Qf;const nn=rt.request,TM="FormData"in globalThis,ED=[499,498,403,401],TD=["COM_0056","COM_0057","SB_0008"],kD=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],d_=()=>null,gv=Symbol();function MD(e){const t=Ha(e);t&&!Tt._corsServers.includes(t)&&Tt._corsServers.push(t)}function r8(e){const t=Ha(e);return!t||t.endsWith(".arcgis.com")||Tt._corsServers.includes(t)||n_(t)}function ei(e,t,r,s){let i="Error";const n={url:r.url,requestOptions:r.requestOptions,getHeader:d_,ssl:!1};if(t instanceof Z)return t.details?(t.details=U(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const a=s&&(f=>s.headers.get(f)),l=s&&s.status,d=t.message;d&&(i=d),a&&(n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=gv in t?t[gv]:t}return oi(t)?gr():new Z(e,i,n)}async function ID(){Y("host-webworker")?Qf||(Qf=await Ne(()=>import("./request.71b63180.js"),[],import.meta.url)):Tt._abortableFetch||(Tt._abortableFetch=globalThis.fetch.bind(globalThis))}async function vv(){Ct||await Ne(()=>import("./IdentityManager.7e3aa91f.js"),[],import.meta.url)}async function OD(e){const t=e.params.url,r=e.params.requestOptions,s=e.controller.signal,i=r.body;let n=null,a=null,l=null;if(TM&&"HTMLFormElement"in globalThis&&(i instanceof FormData?n=i:i instanceof HTMLFormElement&&(a=i,n=new FormData(a))),typeof i=="string"&&(l=i),e.fetchOptions={cache:r.cacheBust&&!Tt._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",redirect:"follow",signal:s},(n||l)&&(e.fetchOptions.body=n||l),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||n&&n.get&&n.get("token")||a&&a.elements.token),!e.hasToken&&rt.apiKey&&c_(t)&&(r.query||(r.query={}),r.query.token=rt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!kM(t)&&!go(s)){let d;r.authMode==="immediate"?(await vv(),d=await Ct.getCredential(t,{signal:s}),e.credential=d):r.authMode==="no-prompt"?(await vv(),d=await Ct.getCredential(t,{prompt:!1,signal:s}).catch(()=>{}),e.credential=d):Ct&&(d=Ct.findCredential(t)),d&&(e.credentialToken=d.token,e.useSSL=!!d.ssl)}}function kM(e){return kD.some(t=>t.test(e))}async function CD(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions,i=lp(t)||To(t),n=r.responseType||"json",a=i?0:r.timeout!=null?r.timeout:nn.timeout;let l=!1;if(!i){e.useSSL&&(t=By(t)),r.cacheBust&&s.cache==="default"&&(t=bM(t,"request.preventCache",Date.now()));let v=q({},r.query);e.credentialToken&&(v.token=e.credentialToken);let b=cu(v);Y("esri-url-encodes-apostrophe")&&(b=b.replace(/'/g,"%27"));const $=t.length+1+b.length;let T;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||$>nn.maxUrlLength;const j=r.useProxy||!!ap(t);if(j){const L=HN(t);T=L.path,!l&&T.length+1+$>nn.maxUrlLength&&(l=!0),L.query&&(v=q(q({},L.query),v))}if(s.method==="HEAD"&&(l||j)){if(l)throw $>nn.maxUrlLength?ei("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ei("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(j)throw ei("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=pv(t,v):(s.body=cu(v),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=pv(t,v),j&&(e.useProxy=!0,t=`${T}?${t}`),v.token&&TM&&s.body instanceof FormData){const L=s.body;L.set?L.set("token",v.token):L.append("token",v.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!kd(t,dM())){if(n_(t))e.withCredentials=!0;else if(Ct){const L=Ct.findServerInfo(t);L&&L.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(s.credentials="include")}let d,f,h=0,y=!1;a>0&&(h=setTimeout(()=>{y=!0,e.controller.abort()},a));try{if(r.responseType==="native-request-init")f=s,f.url=t;else if(r.responseType!=="image"||s.cache!=="default"||s.method!=="GET"||l||jD(r.headers)||!i&&!e.useProxy&&nn.proxyUrl&&!r8(t)){if(d=await Tt._abortableFetch(t,s),e.useProxy||MD(t),r.responseType==="native")f=d;else if(s.method!=="HEAD")if(d.ok){switch(n){case"array-buffer":f=await d.arrayBuffer();break;case"blob":case"image":f=await d.blob();break;default:f=await d.text()}if(h&&(clearTimeout(h),h=0),n==="json"||n==="xml"||n==="document")if(f)switch(n){case"json":f=JSON.parse(f);break;case"xml":f=s8(f,"application/xml");break;case"document":f=s8(f,"text/html")}else f=null;if(f){if(n==="array-buffer"||n==="blob"){const v=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(v)&&f[n==="blob"?"size":"byteLength"]<=750)try{const b=await new Response(f).json();b.error&&(f=b)}catch{}}n==="image"&&f instanceof Blob&&(f=await i8(URL.createObjectURL(f),e,!0))}}else f=await d.text()}else f=await i8(t,e)}catch(v){if(v.name==="AbortError")throw y?new Error("Timeout exceeded"):gr("Request canceled");if(!(!d&&v instanceof TypeError&&nn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||r8(t))throw v;e.redoRequest=!0,WN({proxyUrl:nn.proxyUrl,urlPrefix:Ha(t)})}finally{h&&clearTimeout(h)}return[d,f]}async function AD(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers=q(q({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=q(q({},t.requestOptions.query),e.query)),e.before){let r,s;try{s=await e.before(t)}catch(i){r=ei("request:interceptor",i,t)}if((s instanceof Error||s instanceof Z)&&(r=ei("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}function jD(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function s8(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function RD(e){var t,r;let s,i;await OD(e);try{do[s,i]=await CD(e);while(!await PD(e,s,i))}catch(l){const d=ei("request:server",l,e.params,s);throw d.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(d),d}const n=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)&&!e.hasToken&&!e.credentialToken&&(t=i)!=null&&(r=t.user)!=null&&r.username&&!n_(n)){const l=Ha(n,!0);l&&nn.trustedServers.push(l)}const a=e.credential;if(a&&Ct){const l=Ct.findServerInfo(a.server);let d=l&&l.owningSystemUrl;if(d){d=d.replace(/\/?$/,"/sharing");const f=Ct.findCredential(d,a.userId);f&&Ct._getIdenticalSvcIdx(d,f)===-1&&f.resources.unshift(d)}}return{data:i,getHeader:s?l=>s.headers.get(l):d_,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function PD(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||s.responseType==="native"||s.responseType==="native-request-init")return!0;let i,n,a,l;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[gv]=r,i;r!=null&&r.error&&(i=r.error),i&&(n=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,l=i.messageCode,l=l&&l.toUpperCase());const d=s.authMode;if(n===403&&(a===4||i.message&&i.message.toLowerCase().indexOf("ssl")>-1&&i.message.toLowerCase().indexOf("permission")===-1)){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(d!=="no-prompt"||n===498)&&ED.indexOf(n)!==-1&&!kM(e.params.url)&&(n!==403||TD.indexOf(l)===-1&&(a==null||a===2&&e.credentialToken))){await vv();try{const f=await Ct.getCredential(e.params.url,{error:ei("request:server",i,e.params),prompt:d!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=f,e.credentialToken=f.token,e.useSSL=e.useSSL||f.ssl,!1}catch(f){if(d==="no-prompt")return e.credential=null,e.credentialToken=null,!1;i=f}}if(i)throw i;return!0}function i8(e,t,r=!1){const s=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,EM(i,e,r,s)}Tt._abortableFetch=null,Tt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var MM=Object.freeze(Object.defineProperty({__proto__:null,default:Tt},Symbol.toStringTag,{value:"Module"})),to;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(to||(to={}));class LD{constructor(t){this.instance=t,this._resolver=Ia(),this._status=to.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=to.RESOLVED,this._cleanUp()},()=>{this._status=to.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===to.RESOLVED}isRejected(){return this._status===to.REJECTED}isFulfilled(){return this._status!==to.PENDING}abort(){this._resolver.reject(gr())}when(t,r){return this._resolver.promise.then(t,r)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=Ia(),r=[...this._resolvingPromises,t.promise],s=this._allPromise=Promise.all(r);s.then(()=>{this.isFulfilled()||this._allPromise!==s||this._resolver.resolve(this.instance)},i=>{this.isFulfilled()||this._allPromise!==s||oi(i)||this._resolver.reject(i)}),t.resolve()}}const Gy=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new LD(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,s){return new Promise((i,n)=>{this._promiseProps.when(i,n)}).then(r,s)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=o([M("esri.core.Promise")],t),t};let bv=class extends Gy(wt){};bv=o([M("esri.core.Promise")],bv);const FD="not-loaded",ND="loading",DD="failed",n8="loaded",IM=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(s=>{const i=this.load.bind(this);this.load=n=>{const a=new Promise((l,d)=>{const f=Iy(n,d);this.destroyed&&d(new Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(l,d).finally(()=>{f&&f.remove()})});if(this.loadStatus===FD){this._set("loadStatus",ND);const l=this._loadController=new AbortController;i({signal:l.signal}),vn(l.signal,()=>{this._promiseProps.abort()})}return s(),a}})),this.when(()=>{this._set("loadStatus",n8),this._loadController=null},s=>{this._set("loadStatus",DD),this._set("loadError",s),this._loadController=null})}get loaded(){return this.loadStatus===n8}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new Z("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort()),this}};return o([c({readOnly:!0})],t.prototype,"loaded",null),o([c({readOnly:!0})],t.prototype,"loadError",void 0),o([c({clonable:!1})],t.prototype,"loadStatus",void 0),o([c({type:[Jr],readOnly:!0})],t.prototype,"loadWarnings",null),t=o([M("esri.core.Loadable")],t),t};let yc=class extends IM(bv){};yc=o([M("esri.core.Loadable")],yc),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=IM,e.isLoadable=t}(yc||(yc={}));const up=yc;var wv;const zD=new je({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let gs=wv=class extends wt{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new wv({categories:this.categories?U(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,s;if(this.categories&&(r=this.categories.map(a=>Array.isArray(a)?JSON.stringify(a):a)),this.extent){const a=T1(this.extent,Ue.WGS84);G(a)&&(s=`${a.xmin},${a.ymin},${a.xmax},${a.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const n={categories:r,bbox:s,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(a=>zD.toJSON(a.trim())).join(","),n.sortOrder=this.sortOrder),{query:q(q({},t),n)}}};o([c()],gs.prototype,"categories",void 0),o([c()],gs.prototype,"disableExtraQuery",void 0),o([c({type:Dt})],gs.prototype,"extent",void 0),o([c()],gs.prototype,"filter",void 0),o([c()],gs.prototype,"num",void 0),o([c()],gs.prototype,"query",void 0),o([c()],gs.prototype,"sortField",void 0),o([c()],gs.prototype,"sortOrder",null),o([c()],gs.prototype,"start",void 0),gs=wv=o([M("esri.portal.PortalQueryParams")],gs);const dn=gs;let Go=class extends wt{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};o([c()],Go.prototype,"nextQueryParams",void 0),o([c()],Go.prototype,"queryParams",void 0),o([c()],Go.prototype,"results",void 0),o([c()],Go.prototype,"total",void 0),Go=o([M("esri.portal.PortalQueryResult")],Go);const VD=Go;let Wi=class extends X{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};o([c({type:Date})],Wi.prototype,"created",void 0),o([c()],Wi.prototype,"id",void 0),o([c()],Wi.prototype,"portal",void 0),o([c()],Wi.prototype,"title",void 0),o([c({readOnly:!0})],Wi.prototype,"url",null),o([c()],Wi.prototype,"username",void 0),Wi=o([M("esri.portal.PortalFolder")],Wi);const UD=Wi;let Yt=class extends X{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(s=>s.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=at(dn,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new dn,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new dn,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const i=new dn;return i.disableExtraQuery=!0,i.num=1,i.query=s,this.portal.queryGroups(i,t)}throw new Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],i=new dn;return i.num=1,i.query=`typekeywords:"${e}"`,s.queryItems(i,t)}throw new Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const i=s&&s.categorySchema;return i&&i.length?i:[]}):[])}};o([c()],Yt.prototype,"access",void 0),o([c({type:Date})],Yt.prototype,"created",void 0),o([c()],Yt.prototype,"description",void 0),o([c()],Yt.prototype,"id",void 0),o([c()],Yt.prototype,"isInvitationOnly",void 0),o([c({type:Date})],Yt.prototype,"modified",void 0),o([c()],Yt.prototype,"owner",void 0),o([c()],Yt.prototype,"portal",void 0),o([c()],Yt.prototype,"snippet",void 0),o([c()],Yt.prototype,"sortField",void 0),o([c()],Yt.prototype,"sortOrder",void 0),o([c()],Yt.prototype,"tags",void 0),o([c()],Yt.prototype,"thumbnail",void 0),o([c({readOnly:!0})],Yt.prototype,"thumbnailUrl",null),o([c()],Yt.prototype,"title",void 0),o([c({readOnly:!0})],Yt.prototype,"url",null),Yt=o([M("esri.portal.PortalGroup")],Yt);const _v=Yt;var qD=Object.freeze(Object.defineProperty({__proto__:null,default:_v},Symbol.toStringTag,{value:"Module"})),Sv;let gt=Sv=class extends X{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,s=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),r!=null&&(typeof r=="string"?i.query.text=r:typeof r=="object"&&(i.query.text=JSON.stringify(r))));let n=this.userContentUrl;return s&&(n+="/"+(typeof s=="string"?s:s.id)),this.portal._request(n+"/addItem",i).then(a=>(t.id=a.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal._request(t,s).then(()=>{e.forEach(i=>{i.id=null,i.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let r;return r=t&&t.folders?t.folders.map(s=>{const i=UD.fromJSON(s);return i.portal=this.portal,i}):[],r})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const s=_v.fromJSON(r);return s.portal=this.portal,s}):[],t})}fetchItems(e){e||(e={});let t,r=this.userContentUrl;return e.folder&&(r+="/"+e.folder.id),Promise.resolve().then(function(){return k6}).then(({default:s})=>{t=s;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(r,{query:i})}).then(s=>{let i;return s&&s.items?(i=s.items.map(n=>{const a=t.fromJSON(n);return a.portal=this.portal,a}),Promise.all(i.map(n=>n.load())).catch(n=>n).then(()=>({items:i,nextStart:s.nextStart,total:s.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new _v({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Sv;return t.sourceJSON=e,t.read(e),t}};o([c()],gt.prototype,"access",void 0),o([c({type:Date})],gt.prototype,"created",void 0),o([c()],gt.prototype,"culture",void 0),o([c()],gt.prototype,"description",void 0),o([c()],gt.prototype,"email",void 0),o([c()],gt.prototype,"favGroupId",void 0),o([c()],gt.prototype,"fullName",void 0),o([c({type:Date})],gt.prototype,"modified",void 0),o([c()],gt.prototype,"orgId",void 0),o([c()],gt.prototype,"portal",void 0),o([c()],gt.prototype,"preferredView",void 0),o([c()],gt.prototype,"privileges",void 0),o([c()],gt.prototype,"region",void 0),o([c()],gt.prototype,"role",void 0),o([c()],gt.prototype,"roleId",void 0),o([c()],gt.prototype,"sourceJSON",void 0),o([c()],gt.prototype,"thumbnail",void 0),o([c({readOnly:!0})],gt.prototype,"thumbnailUrl",null),o([c()],gt.prototype,"units",void 0),o([c({readOnly:!0})],gt.prototype,"userContentUrl",null),o([c({readOnly:!0})],gt.prototype,"url",null),o([c()],gt.prototype,"username",void 0),o([c()],gt.prototype,"userType",void 0),gt=Sv=o([M("esri.portal.PortalUser")],gt);const p_=gt;var BD=Object.freeze(Object.defineProperty({__proto__:null,default:p_},Symbol.toStringTag,{value:"Module"})),Yr;let rg;const o8={PortalGroup:()=>Promise.resolve().then(function(){return qD}),PortalItem:()=>Promise.resolve().then(function(){return k6}),PortalUser:()=>Promise.resolve().then(function(){return BD})};let ae=Yr=class extends Py(up){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=rt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)rt.request.trustedServers.indexOf(t)===-1&&rt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return hd(ye.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=p_.fromJSON(e),t.portal=this),t}load(e){const t=Ne(()=>import("./Basemap.46b3dbda.js"),["./Basemap.46b3dbda.js","./loadAll.51bab948.js","./writeUtils.9777855b.js"],import.meta.url).then(({default:r})=>{ni(e),rg=r}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(r=>{if(Ct){const s=Ct;this.credential=s.findCredential(this.restUrl),this.credential||this.authMode!==Yr.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=s.on("credential-create",()=>{s.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){nl(ye.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(await Ne(()=>import("./ClosestFacilityTask.bbb6c127.js"),["./ClosestFacilityTask.bbb6c127.js","./NAMessage.02be29bb.js","./GPMessage.a9c78ba8.js","./normalizeUtils.ee0c0026.js","./DirectionsFeatureSet.2870e0b0.js"],import.meta.url)).default(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Ne(()=>import("./ElevationLayer.60054432.js"),["./ElevationLayer.60054432.js","./ArcGISCachedService.be1421fb.js","./TilemapCache.9b802af8.js","./TileInfo.0392fab3.js","./aaBoundingRect.c817757e.js","./byteSizeEstimations.4dc27031.js"],import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async createGeometryService(){nl(ye.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(await Ne(()=>import("./GeometryService.f285dd34.js"),[],import.meta.url)).default({url:e})}async createPrintTask(){nl(ye.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(await Ne(()=>import("./PrintTask.cbd19ac7.js"),["./PrintTask.cbd19ac7.js","./normalizeUtils.ee0c0026.js","./GPMessage.a9c78ba8.js","./floorFilterUtils.69d5f98f.js"],import.meta.url)).default(e)}async createRouteTask(){nl(ye.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(await Ne(()=>import("./RouteTask.0b4fbea7.js"),["./RouteTask.0b4fbea7.js","./route.e766e3a7.js","./NAMessage.02be29bb.js","./GPMessage.a9c78ba8.js","./normalizeUtils.ee0c0026.js","./DirectionsFeatureSet.2870e0b0.js"],import.meta.url)).default(e)}async createServiceAreaTask(){nl(ye.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(await Ne(()=>import("./ServiceAreaTask.f76cecee.js"),["./ServiceAreaTask.f76cecee.js","./NAMessage.02be29bb.js","./GPMessage.a9c78ba8.js","./normalizeUtils.ee0c0026.js"],import.meta.url)).default(e)}fetchBasemaps(e,t){const r=new dn;return r.query=e||(rt.apiKey&&c_(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then(s=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',s.total){const i=s.results[0];return r.sortField=i.sortField||"name",r.sortOrder=i.sortOrder||"desc",i.queryItems(r,t)}return null}).then(s=>{let i;return i=s&&s.total?s.results.filter(n=>n.type==="Web Map").map(n=>new rg({portalItem:n})):[],i})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):go(e)?Promise.reject(gr()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new dn;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const i of t)s.push(`(title:"${i.title}" AND owner:${i.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then(i=>i.results)}return go(e)?Promise.reject(gr()):Promise.resolve([])}fetchRegions(e){var t;const r=((t=this.user)==null?void 0:t.culture)||this.culture||ii();return this._request(this.restUrl+"/portals/regions",Ie(q({},e),{query:{culture:r}}))}fetchSettings(e){var t;const r=((t=this.user)==null?void 0:t.culture)||this.culture||ii();return this._request(this.restUrl+"/portals/self/settings",Ie(q({},e),{query:{culture:r}}))}static getDefault(){return Yr._default&&!Yr._default.destroyed||(Yr._default=new Yr),Yr._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Yr({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new Z("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i=q({authMode:e,query:{culture:ii().toLowerCase()}},r);return i.authMode==="auto"&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(s,i)}_queryPortal(e,t,r,s){const i=at(dn,t),n=a=>this._request(this.restUrl+e,q(q({},i.toRequestOptions(this)),s)).then(l=>{const d=i.clone();return d.start=l.nextStart,new VD({nextQueryParams:d,queryParams:i,total:l.total,results:Yr._resultsToTypedArray(a,{portal:this},l,s)})}).then(l=>Promise.all(l.results.map(d=>typeof d.when=="function"?d.when():l)).then(()=>l,d=>(gu(d),l)));return r&&o8[r]?o8[r]().then(({default:a})=>(ni(s),n(a))):n()}_signIn(){if(this.authMode===Yr.AUTH_MODE_ANONYMOUS)return Promise.reject(new Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Ct?Ct.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then(s=>{const i=Yr._resultsToTypedArray(r,{portal:this},s);return Promise.all(i.map(n=>typeof n.when=="function"?n.when():s)).then(()=>i,()=>i)})}_readBasemap(e){if(e){const t=rg.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const r=q({f:"json"},t.query),{authMode:s=this.authMode===Yr.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:i=null,cacheBust:n=!1,method:a="auto",responseType:l="json",signal:d}=t,f={authMode:s,body:i,cacheBust:n,method:a,query:r,responseType:l,timeout:0,signal:d};return Tt(this._normalizeSSL(e),f).then(h=>h.data)}static _resultsToTypedArray(e,t,r,s){let i;if(r){const n=G(s)?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,t);return typeof l.load=="function"&&l.load(n),l}))}else i=[];return i}};ae.AUTH_MODE_ANONYMOUS="anonymous",ae.AUTH_MODE_AUTO="auto",ae.AUTH_MODE_IMMEDIATE="immediate",o([c()],ae.prototype,"access",void 0),o([c()],ae.prototype,"allSSL",void 0),o([c()],ae.prototype,"authMode",void 0),o([c()],ae.prototype,"authorizedCrossOriginDomains",void 0),o([ce("authorizedCrossOriginDomains")],ae.prototype,"readAuthorizedCrossOriginDomains",null),o([c()],ae.prototype,"basemapGalleryGroupQuery",void 0),o([c()],ae.prototype,"bingKey",void 0),o([c()],ae.prototype,"canListApps",void 0),o([c()],ae.prototype,"canListData",void 0),o([c()],ae.prototype,"canListPreProvisionedItems",void 0),o([c()],ae.prototype,"canProvisionDirectPurchase",void 0),o([c()],ae.prototype,"canSearchPublic",void 0),o([c()],ae.prototype,"canShareBingPublic",void 0),o([c()],ae.prototype,"canSharePublic",void 0),o([c()],ae.prototype,"canSignInArcGIS",void 0),o([c()],ae.prototype,"canSignInIDP",void 0),o([c()],ae.prototype,"colorSetsGroupQuery",void 0),o([c()],ae.prototype,"commentsEnabled",void 0),o([c({type:Date})],ae.prototype,"created",void 0),o([c()],ae.prototype,"credential",void 0),o([c()],ae.prototype,"culture",void 0),o([c()],ae.prototype,"currentVersion",void 0),o([c()],ae.prototype,"customBaseUrl",void 0),o([c()],ae.prototype,"defaultBasemap",void 0),o([ce("defaultBasemap")],ae.prototype,"readDefaultBasemap",null),o([c()],ae.prototype,"defaultDevBasemap",void 0),o([ce("defaultDevBasemap")],ae.prototype,"readDefaultDevBasemap",null),o([c({type:Dt})],ae.prototype,"defaultExtent",void 0),o([c()],ae.prototype,"defaultVectorBasemap",void 0),o([ce("defaultVectorBasemap")],ae.prototype,"readDefaultVectorBasemap",null),o([c()],ae.prototype,"description",void 0),o([c()],ae.prototype,"devBasemapGalleryGroupQuery",void 0),o([c()],ae.prototype,"eueiEnabled",void 0),o([c({readOnly:!0})],ae.prototype,"extraQuery",null),o([c()],ae.prototype,"featuredGroups",void 0),o([c()],ae.prototype,"featuredItemsGroupQuery",void 0),o([c()],ae.prototype,"galleryTemplatesGroupQuery",void 0),o([c()],ae.prototype,"livingAtlasGroupQuery",void 0),o([c()],ae.prototype,"hasCategorySchema",void 0),o([c()],ae.prototype,"helpBase",void 0),o([c()],ae.prototype,"helperServices",void 0),o([c()],ae.prototype,"helpMap",void 0),o([c()],ae.prototype,"homePageFeaturedContent",void 0),o([c()],ae.prototype,"homePageFeaturedContentCount",void 0),o([c()],ae.prototype,"httpPort",void 0),o([c()],ae.prototype,"httpsPort",void 0),o([c()],ae.prototype,"id",void 0),o([c()],ae.prototype,"ipCntryCode",void 0),o([c({readOnly:!0})],ae.prototype,"isOrganization",null),o([c()],ae.prototype,"isPortal",void 0),o([c()],ae.prototype,"isReadOnly",void 0),o([c()],ae.prototype,"layerTemplatesGroupQuery",void 0),o([c()],ae.prototype,"maxTokenExpirationMinutes",void 0),o([c({type:Date})],ae.prototype,"modified",void 0),o([c()],ae.prototype,"name",void 0),o([c()],ae.prototype,"portalHostname",void 0),o([c()],ae.prototype,"portalMode",void 0),o([c()],ae.prototype,"portalProperties",void 0),o([c()],ae.prototype,"region",void 0),o([c({readOnly:!0})],ae.prototype,"restUrl",null),o([c()],ae.prototype,"rotatorPanels",void 0),o([c()],ae.prototype,"showHomePageDescription",void 0),o([c()],ae.prototype,"sourceJSON",void 0),o([c()],ae.prototype,"staticImagesUrl",void 0),o([c({readOnly:!0,json:{read:!1}})],ae.prototype,"stylesGroupQuery",null),o([c({json:{name:"2DStylesGroupQuery"}})],ae.prototype,"stylesGroupQuery2d",void 0),o([c({json:{name:"stylesGroupQuery"}})],ae.prototype,"stylesGroupQuery3d",void 0),o([c()],ae.prototype,"supportsHostedServices",void 0),o([c()],ae.prototype,"symbolSetsGroupQuery",void 0),o([c()],ae.prototype,"templatesGroupQuery",void 0),o([c()],ae.prototype,"thumbnail",void 0),o([c({readOnly:!0})],ae.prototype,"thumbnailUrl",null),o([c()],ae.prototype,"units",void 0),o([c()],ae.prototype,"url",void 0),o([c()],ae.prototype,"urlKey",void 0),o([ce("urlKey")],ae.prototype,"readUrlKey",null),o([c()],ae.prototype,"user",void 0),o([ce("user")],ae.prototype,"readUser",null),o([c()],ae.prototype,"useStandardizedQuery",void 0),o([c()],ae.prototype,"useVectorBasemaps",void 0),o([c()],ae.prototype,"vectorBasemapGalleryGroupQuery",void 0),ae=Yr=o([M("esri.portal.Portal")],ae);const Fr=ae;ye.getLogger("esri.core.Clonable");const En=e=>{let t=class extends e{clone(){const r=JE(Tr(this),"unable to clone instance of non-accessor class"),s=r.metadatas,i=r.store,n={},a=new Map;for(const f in s){const h=s[f],y=i==null?void 0:i.originOf(f),v=h.clonable;if(h.readOnly||v===!1||y!==Ve.USER&&y!==Ve.DEFAULTS&&y!==Ve.WEB_MAP&&y!==Ve.WEB_SCENE)continue;const b=this[f];let $=null;$=typeof v=="function"?v(b):v==="reference"?b:i0(b),b!=null&&$==null||(y===Ve.DEFAULTS?a.set(f,$):n[f]=$)}const l=new(Object.getPrototypeOf(this)).constructor(n);if(a.size){var d;const f=(d=Tr(l))==null?void 0:d.store;if(f)for(const[h,y]of a)f.set(h,y,Ve.DEFAULTS)}return l}};return t=o([M("esri.core.Clonable")],t),t};let a8=class extends En(wt){};a8=o([M("esri.core.Clonable")],a8);let Wo=class extends En(X){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return G(e)&&e.placement===this.placement&&e.style===this.style&&(we(this.color)&&we(e.color)||G(this.color)&&G(e.color)&&this.color.toJSON()===e.color.toJSON())}};o([c({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Wo.prototype,"type",void 0),o([c({type:eN,json:{default:"begin-end",write:!0}})],Wo.prototype,"placement",void 0),o([c({type:Xk,json:{default:"arrow",write:!0}})],Wo.prototype,"style",void 0),o([c({type:Ge,json:{type:[Bt],default:null,write:!0}})],Wo.prototype,"color",void 0),Wo=o([M("esri.symbols.LineStyleMarker3D")],Wo);const $v=Wo;var jh;let mi=jh=class extends Pi{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=bn(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:G(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:G(this.pattern)?this.pattern.clone():null,marker:G(this.marker)?this.marker.clone():null};return new jh(e)}static fromSimpleLineSymbol(e){var t,r,s;const i={enabled:!0,size:(t=e.width)!=null?t:bn(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new X1({style:e.style}):null,material:new Ms({color:(e.color||Yc).clone()}),marker:e.marker?new $v({placement:e.marker.placement,style:e.marker.style,color:(r=(s=e.marker.color)==null?void 0:s.clone())!=null?r:null}):null};return new jh(i)}};o([c({type:Ms,json:{write:!0}})],mi.prototype,"material",void 0),o([$e({Line:"line"},{readOnly:!0})],mi.prototype,"type",void 0),o([c({type:oM,json:{write:!0,default:"miter"}})],mi.prototype,"join",void 0),o([c({type:t_,json:{write:!0,default:"butt"}})],mi.prototype,"cap",void 0),o([c(ji)],mi.prototype,"size",void 0),o([c(iM)],mi.prototype,"pattern",void 0),o([c({types:{key:"type",base:$v,typeMap:{style:$v}},json:{write:!0}})],mi.prototype,"marker",void 0),mi=jh=o([M("esri.symbols.LineSymbol3DLayer")],mi);const xu=mi;var xv;const HD=ur()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let mc=xv=class extends X{clone(){return new xv({href:this.href,primitive:this.primitive})}};o([c({type:String,json:{read:Hy,write:wo}})],mc.prototype,"href",void 0),o([$e(HD)],mc.prototype,"primitive",void 0),mc=xv=o([M("esri.symbols.support.ObjectSymbol3DLayerResource")],mc);var Ev;let ha=Ev=class extends wt{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Ev({x:this.x,y:this.y,z:this.z})}};o([c({type:Number})],ha.prototype,"x",void 0),o([c({type:Number})],ha.prototype,"y",void 0),o([c({type:Number})],ha.prototype,"z",void 0),ha=Ev=o([M("esri.symbols.support.Symbol3DAnchorPosition3D")],ha);var Tv;let br=Tv=class extends Pi{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Tv({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:G(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};o([c({type:Ms,json:{write:!0}})],br.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],br.prototype,"castShadows",void 0),o([c({type:mc,json:{write:!0}})],br.prototype,"resource",void 0),o([$e({Object:"object"},{readOnly:!0})],br.prototype,"type",void 0),o([c({type:Number,json:{write:!0}})],br.prototype,"width",void 0),o([c({type:Number,json:{write:!0}})],br.prototype,"height",void 0),o([c({type:Number,json:{write:!0}})],br.prototype,"depth",void 0),o([$e({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),c({json:{default:"origin"}})],br.prototype,"anchor",void 0),o([c({type:ha,json:{type:[Number],read:{reader:e=>new ha({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],br.prototype,"anchorPosition",void 0),o([c({type:Number,json:{write:!0}})],br.prototype,"heading",void 0),o([c({type:Number,json:{write:!0}})],br.prototype,"tilt",void 0),o([c({type:Number,json:{write:!0}})],br.prototype,"roll",void 0),o([c({readOnly:!0})],br.prototype,"isPrimitive",null),br=Tv=o([M("esri.symbols.ObjectSymbol3DLayer")],br);const Wy=br;var kv;let Cr=kv=class extends Pi{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new kv({enabled:this.enabled,material:G(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};o([c({type:Ms,json:{write:!0}})],Cr.prototype,"material",void 0),o([c({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Cr.prototype,"castShadows",void 0),o([$e({Path:"path"},{readOnly:!0})],Cr.prototype,"type",void 0),o([c({type:["circle","quad"],json:{write:!0,default:"circle"}})],Cr.prototype,"profile",void 0),o([c({type:oM,json:{write:!0,default:"miter"}})],Cr.prototype,"join",void 0),o([c({type:EN,json:{write:!0,default:"butt"}})],Cr.prototype,"cap",void 0),o([c({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Cr.prototype,"width",void 0),o([ce("width",["width","size","height"])],Cr.prototype,"readWidth",null),o([c({type:Number,json:{write:!0}})],Cr.prototype,"height",void 0),o([ce("height",["height","size","width"])],Cr.prototype,"readHeight",null),o([c({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Cr.prototype,"anchor",void 0),o([c({type:["heading","all"],json:{write:!0,default:"all"}})],Cr.prototype,"profileRotation",void 0),Cr=kv=o([M("esri.symbols.PathSymbol3DLayer")],Cr);const h_=Cr;var Mv;let Al=Mv=class extends X{constructor(){super(...arguments),this.color=new Ge([0,0,0,1]),this.size=0}clone(){const e={color:U(this.color),size:this.size};return new Mv(e)}};o([c(Eo)],Al.prototype,"color",void 0),o([c(ji)],Al.prototype,"size",void 0),Al=Mv=o([M("esri.symbols.support.Symbol3DHalo")],Al);let ed=class extends En(X){constructor(e){super(e),this.color=null}};o([c(Eo)],ed.prototype,"color",void 0),ed=o([M("esri.symbols.support.Symbol3DTextBackground")],ed);var Rh;let zr=Rh=class extends Pi{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){G(e)&&G(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,s){const i=Ie(q({},s),{textSymbol3D:!0});t.font=e.write({},i),delete t.font.size}get size(){return G(this._userSize)?this._userSize:G(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,G(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Rh({enabled:this.enabled,font:this.font&&U(this.font),halo:this.halo&&U(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:G(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:U(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Rh({font:G(e.font)?e.font.clone():new Uy,halo:GD(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Ms({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new ed({color:e.backgroundColor.clone()}):null})}};function GD(e,t){return e&&t>0?new Al({color:U(e),size:t}):null}o([c({type:Uy,json:{write:!0}})],zr.prototype,"font",null),o([me("font")],zr.prototype,"writeFont",null),o([c({type:Al,json:{write:!0}})],zr.prototype,"halo",void 0),o([c(Ie(q({},jN),{json:{default:"center",write:!0}}))],zr.prototype,"horizontalAlignment",void 0),o([c(Ie(q({},aM),{json:{default:1,write:!0}}))],zr.prototype,"lineHeight",void 0),o([c({type:Ms,json:{write:!0}})],zr.prototype,"material",void 0),o([c({type:ed,json:{write:!0}})],zr.prototype,"background",void 0),o([c(ji)],zr.prototype,"size",null),o([c({type:String,json:{write:!0}})],zr.prototype,"text",void 0),o([$e({Text:"text"},{readOnly:!0})],zr.prototype,"type",void 0),o([c(Ie(q({},lM),{json:{default:"baseline",write:!0}}))],zr.prototype,"verticalAlignment",void 0),zr=Rh=o([M("esri.symbols.TextSymbol3DLayer")],zr);const Eu=zr;var Iv;let Pn=Iv=class extends Pi{constructor(e){super(e),this.color=Ov.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Iv({color:U(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};o([c({type:Ge,nonNullable:!0,json:{type:[Bt],write:(e,t,r)=>t[r]=e.toArray(Ge.AlphaMode.UNLESS_OPAQUE),default:()=>Ov.clone(),defaultEquals:e=>e.toCss(!0)===Ov.toCss(!0)}})],Pn.prototype,"color",void 0),o([$e({Water:"water"},{readOnly:!0})],Pn.prototype,"type",void 0),o([c({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Pn.prototype,"waterbodySize",void 0),o([c({type:Number,json:{write:!0,default:null}})],Pn.prototype,"waveDirection",void 0),o([c({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Pn.prototype,"waveStrength",void 0),Pn=Iv=o([M("esri.symbols.WaterSymbol3DLayer")],Pn);const Ov=new Ge([0,119,190]),f_=Pn;var Cv;let Jo=Cv=class extends wt{constructor(){super(...arguments),this.portal=null}clone(){return new Cv({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};o([c({type:String})],Jo.prototype,"name",void 0),o([c({type:String})],Jo.prototype,"styleUrl",void 0),o([c({type:String})],Jo.prototype,"styleName",void 0),o([c({type:Fr})],Jo.prototype,"portal",void 0),Jo=Cv=o([M("esri.symbols.support.StyleOrigin")],Jo);const Zf=Jo;var Av;let Zl=Av=class extends wt{clone(){return new Av({url:this.url})}};o([c({type:String})],Zl.prototype,"url",void 0),Zl=Av=o([M("esri.symbols.support.Thumbnail")],Zl);const OM={icon:ao,object:Wy,line:xu,path:h_,fill:op,extrude:Y1,text:Eu,water:f_},WD=yt.ofType({base:Pi,key:"type",typeMap:OM,errorContext:"symbol-layer"}),JD=ye.getLogger("esri.symbols.Symbol3D");let gi=class extends Nr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||yt;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.initialized&&JD.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){_M(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const s=Ga(e.styleUrl,r);return new Zf({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new Zf({portal:r&&r.portal||Fr.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new Jr("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,s){if(e.styleUrl&&e.name){let i=$u(e.styleUrl,s);Gr(i)&&(i=Is(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&s&&s.portal&&!hM(e.portal.restUrl,s.portal.restUrl)?s&&s.messages&&s.messages.push(new Jr("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Pi||e&&OM[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};o([c({json:{read:!1,write:!1}})],gi.prototype,"color",null),o([c({type:WD,nonNullable:!0,json:{write:!0}}),jt(SM)],gi.prototype,"symbolLayers",null),o([c({type:Zf})],gi.prototype,"styleOrigin",void 0),o([ce("styleOrigin")],gi.prototype,"readStyleOrigin",null),o([me("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],gi.prototype,"writeStyleOrigin",null),o([c({type:Zl,json:{read:!1}})],gi.prototype,"thumbnail",void 0),o([c({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],gi.prototype,"type",void 0),gi=o([M("esri.symbols.Symbol3D")],gi);const Tu=gi;let gc=class extends X{constructor(e){super(e),this.visible=!0}clone(){}};o([c({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],gc.prototype,"type",void 0),o([c({readOnly:!0})],gc.prototype,"visible",void 0),gc=o([M("esri.symbols.callouts.Callout3D")],gc);const CM=gc;var jv;let Ph=jv=class extends X{constructor(){super(...arguments),this.color=new Ge("white")}clone(){return new jv({color:U(this.color)})}};o([c(Eo)],Ph.prototype,"color",void 0),Ph=jv=o([M("esri.symbols.callouts.LineCallout3DBorder")],Ph);const KD=Ph;var Rv;let Ln=Rv=class extends CM{constructor(e){super(e),this.type="line",this.color=new Ge([0,0,0,1]),this.size=bn(1),this.border=null}get visible(){return this.size>0&&G(this.color)&&this.color.a>0}clone(){return new Rv({color:U(this.color),size:this.size,border:U(this.border)})}};o([$e({line:"line"},{readOnly:!0})],Ln.prototype,"type",void 0),o([c(Eo)],Ln.prototype,"color",void 0),o([c(ji)],Ln.prototype,"size",void 0),o([c({type:KD,json:{write:!0}})],Ln.prototype,"border",void 0),o([c({readOnly:!0})],Ln.prototype,"visible",null),Ln=Rv=o([M("esri.symbols.callouts.LineCallout3D")],Ln);const QD=Ln;function y_(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function AM(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!y_(e)}const jM={types:{key:"type",base:CM,typeMap:{line:QD}},json:{write:!0}};var Pv;let fa=Pv=class extends X{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new Pv({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};o([c(ji)],fa.prototype,"screenLength",void 0),o([c({type:Number,json:{write:!0,default:0}})],fa.prototype,"minWorldLength",void 0),o([c({type:Number,json:{write:!0}})],fa.prototype,"maxWorldLength",void 0),fa=Pv=o([M("esri.symbols.support.Symbol3DVerticalOffset")],fa);var Lh;const RM=yt.ofType({base:null,key:"type",typeMap:{text:Eu}});let Fn=Lh=class extends Tu{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new RM,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return AM(this)}hasVisibleVerticalOffset(){return y_(this)}clone(){return new Lh({styleOrigin:U(this.styleOrigin),symbolLayers:U(this.symbolLayers),thumbnail:U(this.thumbnail),callout:U(this.callout),verticalOffset:U(this.verticalOffset)})}static fromTextSymbol(e){return new Lh({symbolLayers:[Eu.fromTextSymbol(e)]})}};o([c({type:fa,json:{write:!0}})],Fn.prototype,"verticalOffset",void 0),o([c(jM)],Fn.prototype,"callout",void 0),o([c({json:{read:!1,write:!1}})],Fn.prototype,"styleOrigin",void 0),o([c({type:RM})],Fn.prototype,"symbolLayers",void 0),o([$e({LabelSymbol3D:"label-3d"},{readOnly:!0})],Fn.prototype,"type",void 0),Fn=Lh=o([M("esri.symbols.LabelSymbol3D")],Fn);const Jy=Fn;var Fh;const PM=yt.ofType({base:null,key:"type",typeMap:{line:xu,path:h_}}),ZD=yt.ofType({base:null,key:"type",typeMap:{line:xu,path:h_}});let vc=Fh=class extends Tu{constructor(e){super(e),this.symbolLayers=new PM,this.type="line-3d"}clone(){return new Fh({styleOrigin:U(this.styleOrigin),symbolLayers:U(this.symbolLayers),thumbnail:U(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Fh({symbolLayers:[xu.fromSimpleLineSymbol(e)]})}};o([c({type:PM,json:{type:ZD}})],vc.prototype,"symbolLayers",void 0),o([$e({LineSymbol3D:"line-3d"},{readOnly:!0})],vc.prototype,"type",void 0),vc=Fh=o([M("esri.symbols.LineSymbol3D")],vc);const Ky=vc;let Nn=class extends Nr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};o([c({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Nn.prototype,"angle",void 0),o([c({type:["simple-marker","picture-marker"],readOnly:!0})],Nn.prototype,"type",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],Nn.prototype,"xoffset",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],Nn.prototype,"yoffset",void 0),o([c({type:Number,cast:e=>e==="auto"?e:Ye(e),json:{write:!0}})],Nn.prototype,"size",void 0),Nn=o([M("esri.symbols.MarkerSymbol")],Nn);const LM=Nn;var Lv;const FM=yt.ofType({base:null,key:"type",typeMap:{fill:op}});let bc=Lv=class extends Tu{constructor(e){super(e),this.symbolLayers=new FM,this.type="mesh-3d"}clone(){return new Lv({styleOrigin:U(this.styleOrigin),symbolLayers:U(this.symbolLayers),thumbnail:U(this.thumbnail)})}};o([c({type:FM})],bc.prototype,"symbolLayers",void 0),o([$e({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],bc.prototype,"type",void 0),bc=Lv=o([M("esri.symbols.MeshSymbol3D")],bc);const m_=bc;function YD(e,t,r){return t.imageData?yM({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):NM(t.url,r)}function NM(e,t){return ez(t)&&!Gr(e)&&t.layer.parsedUrl?Fa(t.layer.parsedUrl.path,"images",e):Ga(e,t)}function XD(e,t,r,s){if(To(e)){const i=o_(e);t.contentType=i.mediaType,t.imageData=i.data,r&&r.imageData===t.imageData&&r.url&&wo(r.url,t,"url",s)}else wo(e,t,"url",s)}const DM={json:{read:{source:["imageData","url"],reader:YD},write:{writer(e,t,r,s){XD(e,t,this.source,s)}}}},zM={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const s={};return t.imageData&&(s.imageData=t.imageData),t.contentType&&(s.contentType=t.contentType),t.url&&(s.url=NM(t.url,r)),s}}}};function ez(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var Fv;let vs=Fv=class extends eM{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t&&(i.outline=t),r!=null&&(i.width=Ye(r)),s!=null&&(i.height=Ye(s)),i}clone(){const e=new Fv({color:U(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",U(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};o([$e({esriPFS:"picture-fill"},{readOnly:!0})],vs.prototype,"type",void 0),o([c(DM)],vs.prototype,"url",void 0),o([c({type:Number,json:{write:!0}})],vs.prototype,"xscale",void 0),o([c({type:Number,json:{write:!0}})],vs.prototype,"yscale",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],vs.prototype,"width",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],vs.prototype,"height",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],vs.prototype,"xoffset",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],vs.prototype,"yoffset",void 0),o([c(zM)],vs.prototype,"source",void 0),vs=Fv=o([M("esri.symbols.PictureFillSymbol")],vs);const VM=vs;var Nv;let Ds=Nv=class extends LM{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t!=null&&(s.width=Ye(t)),r!=null&&(s.height=Ye(r)),s}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new Nv({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",U(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};o([c({json:{write:!1}})],Ds.prototype,"color",void 0),o([$e({esriPMS:"picture-marker"},{readOnly:!0})],Ds.prototype,"type",void 0),o([c(DM)],Ds.prototype,"url",void 0),o([c(zM)],Ds.prototype,"source",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],Ds.prototype,"height",void 0),o([ce("height",["height","size"])],Ds.prototype,"readHeight",null),o([c({type:Number,cast:Ye,json:{write:!0}})],Ds.prototype,"width",void 0),o([c({json:{write:!1}})],Ds.prototype,"size",void 0),Ds=Nv=o([M("esri.symbols.PictureMarkerSymbol")],Ds);const ku=Ds;var Dn;const UM=yt.ofType({base:null,key:"type",typeMap:{icon:ao,object:Wy,text:Eu}});let Ko=Dn=class extends Tu{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new UM,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return AM(this)}hasVisibleVerticalOffset(){return y_(this)}clone(){return new Dn({verticalOffset:U(this.verticalOffset),callout:U(this.callout),styleOrigin:U(this.styleOrigin),symbolLayers:U(this.symbolLayers),thumbnail:U(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new Dn({symbolLayers:[ao.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new Dn({symbolLayers:[ao.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var t,r;return((t=e.data)==null||(r=t.symbol)==null?void 0:r.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new Dn({symbolLayers:[ao.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new Dn({symbolLayers:[ao.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new Dn({symbolLayers:[Eu.fromTextSymbol(e)]})}};o([c({type:fa,json:{write:!0}})],Ko.prototype,"verticalOffset",void 0),o([c(jM)],Ko.prototype,"callout",void 0),o([c({type:UM,json:{origins:{"web-scene":{write:!0}}}})],Ko.prototype,"symbolLayers",void 0),o([$e({PointSymbol3D:"point-3d"},{readOnly:!0})],Ko.prototype,"type",void 0),Ko=Dn=o([M("esri.symbols.PointSymbol3D")],Ko);const va=Ko;var wc;const qM=yt.ofType({base:null,key:"type",typeMap:{extrude:Y1,fill:op,icon:ao,line:xu,object:Wy,text:Eu,water:f_}}),tz=yt.ofType({base:null,key:"type",typeMap:{extrude:Y1,fill:op,icon:ao,line:xu,object:Wy,water:f_}});let dl=wc=class extends Tu{constructor(e){super(e),this.symbolLayers=new qM,this.type="polygon-3d"}writeSymbolLayers(e,t,r,s){const i=e.filter(n=>n.type!=="text");if(s&&s.messages&&i.length<e.length){const n=e.find(a=>a.type==="text");s.messages.push(new Z("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:n}))}t[r]=i.map(n=>n.write({},s)).toArray()}clone(){return new wc({styleOrigin:U(this.styleOrigin),symbolLayers:U(this.symbolLayers),thumbnail:U(this.thumbnail)})}static fromJSON(e){const t=new wc;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const r=t.symbolLayers.getItemAt(0),s=t.symbolLayers.getItemAt(1);!s.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:G(s.material)?s.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new wc({symbolLayers:[op.fromSimpleFillSymbol(e)]})}};o([c({type:qM,json:{type:tz}})],dl.prototype,"symbolLayers",void 0),o([me("web-scene","symbolLayers")],dl.prototype,"writeSymbolLayers",null),o([$e({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],dl.prototype,"type",void 0),dl=wc=o([M("esri.symbols.PolygonSymbol3D")],dl);const cp=dl;var Dv;const sg=new je({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Qo=Dv=class extends eM{constructor(...e){super(...e),this.color=new Ge([0,0,0,.25]),this.outline=new cs,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t&&(s.outline=t),r&&(s.color=r),s}clone(){return new Dv({color:U(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};o([c()],Qo.prototype,"color",void 0),o([c()],Qo.prototype,"outline",void 0),o([$e({esriSFS:"simple-fill"},{readOnly:!0})],Qo.prototype,"type",void 0),o([c({type:sg.apiValues,json:{read:sg.read,write:sg.write}})],Qo.prototype,"style",void 0),Qo=Dv=o([M("esri.symbols.SimpleFillSymbol")],Qo);const ko=Qo;var zv;const ig=new je({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let vi=zv=class extends LM{constructor(...e){super(...e),this.color=new Ge([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new cs}normalizeCtorArgs(e,t,r,s){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t!=null&&(i.size=Ye(t)),r&&(i.outline=r),s&&(i.color=s),i}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new zv({angle:this.angle,color:U(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};o([c()],vi.prototype,"color",void 0),o([me("color")],vi.prototype,"writeColor",null),o([$e({esriSMS:"simple-marker"},{readOnly:!0})],vi.prototype,"type",void 0),o([c()],vi.prototype,"size",void 0),o([c({type:ig.apiValues,json:{read:ig.read,write:ig.write}})],vi.prototype,"style",void 0),o([c({type:String,json:{write:!0}})],vi.prototype,"path",null),o([c({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":cs}},json:{default:null,write:!0}})],vi.prototype,"outline",void 0),vi=zv=o([M("esri.symbols.SimpleMarkerSymbol")],vi);const Wa=vi;var Vv;let $t=Vv=class extends Nr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Uy,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.text=e),t&&(s.font=t),r&&(s.color=r),s}writeLineWidth(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}castLineWidth(e){return Ye(e)}writeLineHeight(e,t,r,s){s&&typeof s!="string"?s.origin:t[r]=e}clone(){return new Vv({angle:this.angle,backgroundColor:U(this.backgroundColor),borderLineColor:U(this.borderLineColor),borderLineSize:this.borderLineSize,color:U(this.color),font:this.font&&this.font.clone(),haloColor:U(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};o([c({type:Ge,json:{write:!0}})],$t.prototype,"backgroundColor",void 0),o([c({type:Ge,json:{write:!0}})],$t.prototype,"borderLineColor",void 0),o([c({type:Number,json:{write:!0}})],$t.prototype,"borderLineSize",void 0),o([c({type:Uy,json:{write:!0}})],$t.prototype,"font",void 0),o([c(Ie(q({},AN),{json:{write:!0}}))],$t.prototype,"horizontalAlignment",void 0),o([c({type:Boolean,json:{write:!0}})],$t.prototype,"kerning",void 0),o([c({type:Ge,json:{write:!0}})],$t.prototype,"haloColor",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],$t.prototype,"haloSize",void 0),o([c({type:Boolean,json:{write:!0}})],$t.prototype,"rightToLeft",void 0),o([c({type:Boolean,json:{write:!0}})],$t.prototype,"rotated",void 0),o([c({type:String,json:{write:!0}})],$t.prototype,"text",void 0),o([$e({esriTS:"text"},{readOnly:!0})],$t.prototype,"type",void 0),o([c(Ie(q({},lM),{json:{write:!0}}))],$t.prototype,"verticalAlignment",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],$t.prototype,"xoffset",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],$t.prototype,"yoffset",void 0),o([c({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],$t.prototype,"angle",void 0),o([c({type:Number,json:{write:!0}})],$t.prototype,"width",void 0),o([c({type:Number})],$t.prototype,"lineWidth",void 0),o([me("lineWidth")],$t.prototype,"writeLineWidth",null),o([jt("lineWidth")],$t.prototype,"castLineWidth",null),o([c(aM)],$t.prototype,"lineHeight",void 0),o([me("lineHeight")],$t.prototype,"writeLineHeight",null),$t=Vv=o([M("esri.symbols.TextSymbol")],$t);const Mo=$t;var Uv;const rz=ye.getLogger("esri.symbols.WebStyleSymbol");let bi=Uv=class extends Nr{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new Uv({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=await sz();ni(t);const s=r.resolveWebStyleSymbol(this,{portal:this.portal},e,t);return s.catch(i=>{rz.error("#fetchSymbol()","Failed to create symbol from style",i)}),s}};function sz(){return Ne(()=>import("./webStyleSymbolUtils.d2ce7fe4.js"),["./webStyleSymbolUtils.d2ce7fe4.js","./devEnvironmentUtils.592c8a7b.js"],import.meta.url)}o([c({json:{write:!1}})],bi.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],bi.prototype,"styleName",void 0),o([c({type:Fr,json:{write:!1}})],bi.prototype,"portal",void 0),o([c({type:String,json:{read:Hy,write:wo}})],bi.prototype,"styleUrl",void 0),o([c({type:Zl,json:{read:!1}})],bi.prototype,"thumbnail",void 0),o([c({type:String,json:{write:!0}})],bi.prototype,"name",void 0),o([$e({styleSymbolReference:"web-style"},{readOnly:!0})],bi.prototype,"type",void 0),bi=Uv=o([M("esri.symbols.WebStyleSymbol")],bi);const Ja=bi;function iz(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function qv(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const fo={base:Nr,key:"type",typeMap:{"simple-fill":ko,"picture-fill":VM,"picture-marker":ku,"simple-line":cs,"simple-marker":Wa,text:Mo,"label-3d":Jy,"line-3d":Ky,"mesh-3d":m_,"point-3d":va,"polygon-3d":cp,"web-style":Ja,cim:np},errorContext:"symbol"},nz={base:Nr,key:"type",typeMap:{"picture-marker":ku,"simple-marker":Wa,text:Mo,"web-style":Ja,cim:np},errorContext:"symbol"},oz=za({types:fo}),g_={base:Nr,key:"type",typeMap:{"simple-fill":ko,"picture-fill":VM,"picture-marker":ku,"simple-line":cs,"simple-marker":Wa,text:Mo,"line-3d":Ky,"mesh-3d":m_,"point-3d":va,"polygon-3d":cp,"web-style":Ja,cim:np},errorContext:"symbol"},az={base:Nr,key:"type",typeMap:{text:Mo,"label-3d":Jy},errorContext:"symbol"},l8={base:Nr,key:"type",typeMap:{"line-3d":Ky,"mesh-3d":m_,"point-3d":va,"polygon-3d":cp,"web-style":Ja,cim:np},errorContext:"symbol"},lz={base:Nr,key:"type",typeMap:{"label-3d":Jy},errorContext:"symbol"},BM=Ai(fo);var Bv;let _c=Bv=class extends X{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new Bv({minValue:this.minValue,maxValue:this.maxValue})}};o([c({type:Number,json:{write:!0}})],_c.prototype,"minValue",void 0),o([c({type:Number,json:{write:!0}})],_c.prototype,"maxValue",void 0),_c=Bv=o([M("esri.renderer.support.AuthoringInfoClassBreakInfo")],_c);const uz=_c;var Hv;let Zo=Hv=class extends X{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new Hv({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:U(this.classBreakInfos)})}};o([c({type:String,json:{write:!0}})],Zo.prototype,"field",void 0),o([c({type:String,json:{write:!0}})],Zo.prototype,"normalizationField",void 0),o([c({type:String,json:{write:!0}})],Zo.prototype,"label",void 0),o([c({type:[uz],json:{write:!0}})],Zo.prototype,"classBreakInfos",void 0),Zo=Hv=o([M("esri.renderers.support.AuthoringInfoFieldInfo")],Zo);const u8=Zo;var Gv;const Dp=new je({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),zp=new je({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),c8={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},d8=["high-to-low","above-and-below","centered-on","extremes"],p8=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],h8=["seconds","minutes","hours","days","months","years"];let Vr=Gv=class extends X{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new Gv({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};o([c({types:c8,json:{write:!0}})],Vr.prototype,"endTime",void 0),o([jt("endTime")],Vr.prototype,"castEndTime",null),o([c({type:String,json:{write:!0}})],Vr.prototype,"field",void 0),o([c({type:Number,json:{write:!0}})],Vr.prototype,"maxSliderValue",void 0),o([c({type:Number,json:{write:!0}})],Vr.prototype,"minSliderValue",void 0),o([c({types:c8,json:{write:!0}})],Vr.prototype,"startTime",void 0),o([jt("startTime")],Vr.prototype,"castStartTime",null),o([c({type:Dp.apiValues,value:null,json:{type:Dp.jsonValues,read:Dp.read,write:Dp.write}})],Vr.prototype,"style",null),o([c({type:p8,value:null,json:{type:p8,origins:{"web-scene":{type:d8,write:{writer:(e,t)=>{d8.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],Vr.prototype,"theme",null),o([c({type:zp.apiValues,json:{type:zp.jsonValues,read:zp.read,write:zp.write}})],Vr.prototype,"type",void 0),o([c({type:h8,json:{type:h8,write:!0}})],Vr.prototype,"units",void 0),Vr=Gv=o([M("esri.renderers.support.AuthoringInfoVisualVariable")],Vr);const cz=Vr;let Nh=class extends X{constructor(e){super(e),this.type=null}};o([c({readOnly:!0,json:{read:!1,write:!0}})],Nh.prototype,"type",void 0),Nh=o([M("esri.rest.support.ColorRamp")],Nh);const v_=Nh;var Wv;let Yo=Wv=class extends v_{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new Wv({fromColor:U(this.fromColor),toColor:U(this.toColor),algorithm:this.algorithm})}};o([$e({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Yo.prototype,"algorithm",void 0),o([c({type:Ge,json:{type:[Bt],write:!0}})],Yo.prototype,"fromColor",void 0),o([c({type:Ge,json:{type:[Bt],write:!0}})],Yo.prototype,"toColor",void 0),o([c({type:["algorithmic"]})],Yo.prototype,"type",void 0),Yo=Wv=o([M("esri.rest.support.AlgorithmicColorRamp")],Yo);const b_=Yo;var Jv;let Sc=Jv=class extends v_{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new Jv({colorRamps:U(this.colorRamps)})}};o([c({type:[b_],json:{write:!0}})],Sc.prototype,"colorRamps",void 0),o([c({type:["multipart"]})],Sc.prototype,"type",void 0),Sc=Jv=o([M("esri.rest.support.MultipartColorRamp")],Sc);const w_=Sc,HM={key:"type",base:v_,typeMap:{algorithmic:b_,multipart:w_}};function GM(e){return e&&e.type?e.type==="algorithmic"?b_.fromJSON(e):e.type==="multipart"?w_.fromJSON(e):null:null}var Kv;const jo=new je({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),Vp=new je({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),f8=new je({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),y8=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],dz=["high-to-low","above-and-below","above","below","90-10"],pz=["flow-line","wave-front"],hz=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Vt=Kv=class extends X{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return GM(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new Kv({classificationMethod:this.classificationMethod,colorRamp:U(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:U(this.field1),field2:U(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};o([c({type:jo.apiValues,value:null,json:{type:jo.jsonValues,read:jo.read,write:jo.write,origins:{"web-document":{default:"manual",type:jo.jsonValues,read:jo.read,write:jo.write}}}})],Vt.prototype,"classificationMethod",null),o([c({types:HM,json:{write:!0}})],Vt.prototype,"colorRamp",void 0),o([ce("colorRamp")],Vt.prototype,"readColorRamp",null),o([c({type:[String],value:null,json:{write:!0}})],Vt.prototype,"fields",null),o([c({type:u8,value:null,json:{write:!0}})],Vt.prototype,"field1",null),o([c({type:u8,value:null,json:{write:!0}})],Vt.prototype,"field2",null),o([c({type:pz,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vt.prototype,"flowTheme",null),o([c({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Vt.prototype,"focus",null),o([c({type:Number,value:null,json:{type:Bt,write:!0}})],Vt.prototype,"numClasses",null),o([c({type:y8,json:{type:y8,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Vt.prototype,"lengthUnit",void 0),o([c({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vt.prototype,"maxSliderValue",void 0),o([c({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vt.prototype,"minSliderValue",void 0),o([c({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Vt.prototype,"statistics",null),o([c({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Vt.prototype,"standardDeviationInterval",null),o([c({type:Vp.apiValues,value:null,json:{type:Vp.jsonValues,read:Vp.read,write:Vp.write,origins:{"web-scene":{type:f8.jsonValues,write:{writer:f8.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],Vt.prototype,"type",null),o([c({type:[cz],json:{write:!0}})],Vt.prototype,"visualVariables",void 0),o([c({type:hz,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vt.prototype,"univariateSymbolStyle",null),o([c({type:dz,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vt.prototype,"univariateTheme",null),Vt=Kv=o([M("esri.renderers.support.AuthoringInfo")],Vt);const WM=Vt,ng=new je({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let $c=class extends X{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};o([c({type:WM,json:{write:!0}})],$c.prototype,"authoringInfo",void 0),o([c({type:ng.apiValues,readOnly:!0,json:{type:ng.jsonValues,read:!1,write:{writer:ng.write,ignoreOrigin:!0}}})],$c.prototype,"type",void 0),$c=o([M("esri.renderers.Renderer")],$c);const Io=$c;var Qv;let Dh=Qv=class extends X{constructor(){super(...arguments),this.title=null}clone(){return new Qv({title:this.title})}};o([c({type:String,json:{write:!0}})],Dh.prototype,"title",void 0),Dh=Qv=o([M("esri.renderers.support.LegendOptions")],Dh);const Qy=Dh;var Zv;let zh=Zv=class extends Qy{constructor(){super(...arguments),this.showLegend=null}clone(){return new Zv({title:this.title,showLegend:this.showLegend})}};o([c({type:Boolean,json:{write:!0}})],zh.prototype,"showLegend",void 0),zh=Zv=o([M("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],zh);const JM=zh,fz=ye.getLogger("esri.renderers.visualVariables.VisualVariable"),og=new je({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let zs=class extends X{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(fz.error(".field: field must be a string value"),null):Yd(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};o([c()],zs.prototype,"index",void 0),o([c({type:og.apiValues,readOnly:!0,json:{read:og.read,write:og.write}})],zs.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],zs.prototype,"field",void 0),o([jt("field")],zs.prototype,"castField",null),o([c({type:String,json:{write:!0}})],zs.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],zs.prototype,"valueExpressionTitle",void 0),o([c({readOnly:!0})],zs.prototype,"arcadeRequired",null),o([c({type:JM,json:{write:!0}})],zs.prototype,"legendOptions",void 0),zs=o([M("esri.renderers.visualVariables.VisualVariable")],zs);const dp=zs;var Yv;let Xo=Yv=class extends X{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new Yv({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};o([c({type:Ge,json:{type:[Bt],write:!0}})],Xo.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],Xo.prototype,"label",void 0),o([c({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],Xo.prototype,"value",void 0),o([me("value")],Xo.prototype,"writeValue",null),Xo=Yv=o([M("esri.renderers.visualVariables.support.ColorStop")],Xo);const KM=Xo;var Xv;let ea=Xv=class extends dp{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new Xv({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],ea.prototype,"cache",null),o([c({type:["color"],json:{type:["colorInfo"]}})],ea.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],ea.prototype,"normalizationField",void 0),o([c({type:[KM],json:{write:!0}})],ea.prototype,"stops",null),ea=Xv=o([M("esri.renderers.visualVariables.ColorVariable")],ea);const QM=ea;var eb;let zn=eb=class extends X{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Td(t.transparency)}writeOpacity(e,t,r){t[r]=Yk(e)}clone(){return new eb({label:this.label,opacity:this.opacity,value:this.value})}};o([c({type:String,json:{write:!0}})],zn.prototype,"label",void 0),o([c({type:Number,json:{type:Bt,write:{target:"transparency"}}})],zn.prototype,"opacity",void 0),o([ce("opacity",["transparency"])],zn.prototype,"readOpacity",null),o([me("opacity")],zn.prototype,"writeOpacity",null),o([c({type:Number,json:{write:!0}})],zn.prototype,"value",void 0),zn=eb=o([M("esri.renderers.visualVariables.support.OpacityStop")],zn);const yz=zn;var tb;let ta=tb=class extends dp{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",e)}clone(){return new tb({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],ta.prototype,"cache",null),o([c({type:["opacity"],json:{type:["transparencyInfo"]}})],ta.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],ta.prototype,"normalizationField",void 0),o([c({type:[yz],json:{write:!0}})],ta.prototype,"stops",null),ta=tb=o([M("esri.renderers.visualVariables.OpacityVariable")],ta);const ZM=ta;var rb;let Ji=rb=class extends dp{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,s){if(s&&s.messages){const i=`visualVariables[${this.index}]`;s.messages.push(new Z("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:i+".valueExpressionTitle",context:s}))}}clone(){return new rb({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};o([c({readOnly:!0})],Ji.prototype,"cache",null),o([c({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Ji.prototype,"axis",void 0),o([c({type:["rotation"],json:{type:["rotationInfo"]}})],Ji.prototype,"type",void 0),o([c({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Ji.prototype,"rotationType",void 0),o([c({type:String,json:{write:!0}})],Ji.prototype,"valueExpressionTitle",void 0),o([me("web-scene","valueExpressionTitle")],Ji.prototype,"writeValueExpressionTitleWebScene",null),Ji=rb=o([M("esri.renderers.visualVariables.RotationVariable")],Ji);const __=Ji;var sb;let pl=sb=class extends X{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new sb({label:this.label,size:this.size,value:this.value})}};o([c({type:String,json:{write:!0}})],pl.prototype,"label",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],pl.prototype,"size",void 0),o([c({type:Number,json:{write:!0}})],pl.prototype,"value",void 0),pl=sb=o([M("esri.renderers.visualVariables.support.SizeStop")],pl);const mz=pl;var ib;let Vh=ib=class extends JM{constructor(){super(...arguments),this.customValues=null}clone(){return new ib({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};o([c({type:[Number],json:{write:!0}})],Vh.prototype,"customValues",void 0),Vh=ib=o([M("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],Vh);const gz=Vh;var fn,er;function ba(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Md(e){return e!=null&&!isNaN(e)&&isFinite(e)}function YM(e){return e.valueExpression?fn.Expression:e.field&&typeof e.field=="string"?fn.Field:fn.Unknown}function vz(e,t){const r=t||YM(e),s=e.valueUnit||"unknown";return r===fn.Unknown?er.Constant:e.stops?er.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?er.ClampedLinear:s==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?er.Proportional:er.Additive:er.Identity:er.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(fn||(fn={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(er||(er={}));function bz(e){if(!e)return null;const t={};for(const r in e){const s=us(e[r]);s&&(t[r]=s)}return Object.keys(t).length!==0?t:null}function wz(e){if(!G(e))return null;const t={};for(const r in e){const s=e[r];s&&(t[r]=s.toJSON())}return Object.keys(t).length!==0?t:null}let Ur=class extends En(X){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Hl(),configurable:!0})}normalizeCtorArgs(e,t,r,s){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:s}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&G(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:wz(this.aggregateGeometries),geometry:G(this.geometry)?this.geometry.toJSON():null,symbol:G(this.symbol)?this.symbol.toJSON():null,attributes:q({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){G(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,r,s){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:r};e==="attributes"&&(i.attributeName=s),this.layer.graphicChanged(i)}};o([c({value:null,json:{read:bz}})],Ur.prototype,"aggregateGeometries",null),o([c({value:null})],Ur.prototype,"attributes",null),o([c({value:null,types:Ua,json:{read:us}})],Ur.prototype,"geometry",null),o([c({type:Boolean})],Ur.prototype,"isAggregate",void 0),o([c({clonable:"reference"})],Ur.prototype,"layer",void 0),o([c({type:Ba})],Ur.prototype,"popupTemplate",void 0),o([c({clonable:"reference"})],Ur.prototype,"sourceLayer",void 0),o([c({value:null,types:fo})],Ur.prototype,"symbol",null),o([c({type:Boolean,value:!0})],Ur.prototype,"visible",null),Ur=o([M("esri.Graphic")],Ur),function(e){e.generateUID=Hl}(Ur||(Ur={}));const wn=Ur;function _z(e){}function S_(e){return new Ue({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const XM=S_(ls),Yf=S_(tp),Xf=S_(rp),Sz=new Ue({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${ls.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function $z(e){return e&&(Ly(e)||e===Yf)?Yf:e&&(Fy(e)||e===Xf)?Xf:XM}function xz(e){return e&&(Ly(e)||e===Yf)?tp:e&&(Fy(e)||e===Xf)?rp:ls}function Ez(e){return $1(e)?tp:x1(e)?rp:ls}const eI=39.37,Tz=ls.radius*Math.PI/200,tI=/UNIT\[([^\]]+)\]\]$/i,ka=w,rI=/UNIT\[([^\]]+)\]/i,kz=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Mz=ur()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),ci=e=>e*e,On=e=>e*e*e,Id={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ci(.001)},"square-centimeters":{inBaseUnits:ci(.01)},"square-decimeters":{inBaseUnits:ci(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ci(1e3)},"square-inches":{inBaseUnits:ci(.0254)},"square-feet":{inBaseUnits:ci(.3048)},"square-yards":{inBaseUnits:ci(.9144)},"square-miles":{inBaseUnits:ci(1609.344)},"square-us-feet":{inBaseUnits:ci(1200/3937)},acres:{inBaseUnits:.0015625*ci(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*On(.001)},"cubic-centimeters":{inBaseUnits:1e3*On(.01)},"cubic-decimeters":{inBaseUnits:1e3*On(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*On(1e3)},"cubic-inches":{inBaseUnits:1e3*On(.0254)},"cubic-feet":{inBaseUnits:1e3*On(.3048)},"cubic-yards":{inBaseUnits:1e3*On(.9144)},"cubic-miles":{inBaseUnits:1e3*On(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Iz=function(){const e={};for(const t in Id)for(const r in Id[t].units)e[r]=t;return e}();function Oz(e,t,r){return e*Id[r].units[t].inBaseUnits}function Cz(e,t,r){return e/Id[r].units[t].inBaseUnits}function nb(e){const t=Iz[e];if(t)return t;throw new Error("unknown type")}function m8(e,t=null){return t=t||nb(e),Id[t].baseUnit===e}function ss(e,t,r){if(t===r)return e;const s=nb(t);if(s!==nb(r))throw new Error("incompatible units");const i=m8(t,s)?e:Oz(e,t,s);return m8(r,s)?i:Cz(i,r,s)}function Az(e,t,r){return ss(e,t,"meters")/(r*Math.PI/180)}function sI(e){return Mz.fromJSON(e.toLowerCase())||null}function Od(e){if(e&&typeof e=="object"&&!pL(e))return 1;const t=Mu(e);return t>1e5?1:t}function jz(e){return Mu(e)>=(e instanceof Ue?xz(e).metersPerDegree:1e5)?"meters":oI(e)}function Mu(e,t=ls.metersPerDegree){return iI(e,!0)||t}function iI(e,t=!1){let r,s,i=null;if(e!=null&&(typeof e=="object"?(r=e.wkid,s=e.wkt):typeof e=="number"?r=e:typeof e=="string"&&(s=e)),r){if($1(r))return tp.metersPerDegree;if(x1(r))return rp.metersPerDegree;i=ka.values[ka[r]],!i&&t&&kz.has(r)&&(i=Tz)}else s&&(lI(s)?i=g8(tI.exec(s),i):aI(s)&&(i=g8(rI.exec(s),i)));return i}function g8(e,t){return e&&e[1]?nI(e[1]):t}function nI(e){return parseFloat(e.split(",")[1])}function oI(e){let t,r,s=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,r=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(r=e)),t)s=ka.units[ka[t]];else if(r){const i=lI(r)?tI:aI(r)?rI:null;if(i){const n=i.exec(r);n&&n[1]&&(s=Pz(n[1]))}}return G(s)?sI(s):null}function aI(e){return/^GEOCCS/i.test(e)}function lI(e){return/^PROJCS/i.test(e)}const Rz=1e-7;function Pz(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||ka.units.indexOf(r)===-1){const s=nI(e);r=null;const i=ka.values;for(let n=0;n<i.length;++n)if(Math.abs(s-i[n])<Rz){r=ka.units[n];break}}return r}const uI={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},cI={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Lz=ur()(uI),Fz=ur()(cI);ur()(q(q({},uI),cI));const dI={inches:ss(1,"meters","inches"),feet:ss(1,"meters","feet"),"us-feet":ss(1,"meters","us-feet"),yards:ss(1,"meters","yards"),miles:ss(1,"meters","miles"),"nautical-miles":ss(1,"meters","nautical-miles"),millimeters:ss(1,"meters","millimeters"),centimeters:ss(1,"meters","centimeters"),decimeters:ss(1,"meters","decimeters"),meters:ss(1,"meters","meters"),kilometers:ss(1,"meters","kilometers"),"decimal-degrees":1/Az(1,"meters",ls.radius)},_o=ye.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),v8=new wn,Uh=Math.PI,Nz=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function Dz(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find($=>$.type==="color"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void _o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const i=typeof t=="number",n=i?null:t,a=n&&n.attributes;let l=i?t:null;const d=s.field,{ipData:f,hasExpression:h}=s.cache;let y=s.cache.compiledFunc;if(!d&&!h){const $=s.stops;return $&&$[0]&&$[0].color}if(typeof l!="number")if(h){if(!G(r)||!G(r.arcade))return void _o.error("Use of arcade expressions requires an arcade context");const $={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},T=r.arcade.arcadeUtils,j=T.getViewInfo($),L=T.createExecContext(n,j);if(!y){const W=T.createSyntaxTree(s.valueExpression);y=T.createFunction(W),s.cache.compiledFunc=y}l=T.executeFunction(y,L)}else a&&(l=a[d]);const v=s.normalizationField,b=a?parseFloat(a[v]):void 0;if(l!=null&&(!v||i||!isNaN(b)&&b!==0)){isNaN(b)||i||(l/=b);const $=x_(l,f);if($){const T=$[0],j=$[1],L=T===j?s.stops[T].color:Ge.blendColors(s.stops[T].color,s.stops[j].color,$[2],G(r)?r.color:void 0);return new Ge(L)}}}function zz(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find($=>$.type==="opacity"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void _o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const i=typeof t=="number",n=i?null:t,a=n&&n.attributes;let l=i?t:null;const d=s.field,{ipData:f,hasExpression:h}=s.cache;let y=s.cache.compiledFunc;if(!d&&!h){const $=s.stops;return $&&$[0]&&$[0].opacity}if(typeof l!="number")if(h){if(we(r)||we(r.arcade))return void _o.error("Use of arcade expressions requires an arcade context");const $={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},T=r.arcade.arcadeUtils,j=T.getViewInfo($),L=T.createExecContext(n,j);if(!y){const W=T.createSyntaxTree(s.valueExpression);y=T.createFunction(W),s.cache.compiledFunc=y}l=T.executeFunction(y,L)}else a&&(l=a[d]);const v=s.normalizationField,b=a?parseFloat(a[v]):void 0;if(l!=null&&(!v||i||!isNaN(b)&&b!==0)){isNaN(b)||i||(l/=b);const $=x_(l,f);if($){const T=$[0],j=$[1];if(T===j)return s.stops[T].opacity;{const L=s.stops[T].opacity;return L+(s.stops[j].opacity-L)*$[2]}}}}function Vz(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="rotation"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void _o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const i=s.axis||"heading",n=i==="heading"&&s.rotationType==="arithmetic"?90:0,a=i==="heading"&&s.rotationType==="arithmetic"?-1:1,l=typeof t=="number"?null:t,d=l&&l.attributes,f=s.field,{hasExpression:h}=s.cache;let y=s.cache.compiledFunc,v=0;if(!f&&!h)return v;if(h){if(we(r)||we(r.arcade))return void _o.error("Use of arcade expressions requires an arcade context");const b={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},$=r.arcade.arcadeUtils,T=$.getViewInfo(b),j=$.createExecContext(l,T);if(!y){const L=$.createSyntaxTree(s.valueExpression);y=$.createFunction(L),s.cache.compiledFunc=y}v=$.executeFunction(y,j)}else d&&(v=d[f]||0);return v=typeof v!="number"||isNaN(v)?null:n+a*v,v}function Uz(e,t,r){const s=typeof t=="number",i=s?null:t,n=i&&i.attributes;let a=s?t:null;const{isScaleDriven:l}=e.cache;let d=e.cache.compiledFunc;if(l){const h=G(r)?r.scale:void 0,y=G(r)?r.view:void 0;a=h==null||y==="3d"?qz(e):h}else if(!s)switch(e.inputValueType){case fn.Expression:{if(we(r)||we(r.arcade))return void _o.error("Use of arcade expressions requires an arcade context");const h={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(h),b=y.createExecContext(i,v);if(!d){const $=y.createSyntaxTree(e.valueExpression);d=y.createFunction($),e.cache.compiledFunc=d}a=y.executeFunction(d,b);break}case fn.Field:n&&(a=n[e.field]);break;case fn.Unknown:a=null}if(!Md(a))return null;if(s||!e.normalizationField)return a;const f=n?parseFloat(n[e.normalizationField]):null;return Md(f)&&f!==0?a/f:null}function qz(e){let t=null,r=null;const s=e.stops;return s?(t=s[0].value,r=s[s.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function $_(e,t,r){const s="visualVariables"in e&&e.visualVariables?e.visualVariables.find(n=>n.type==="size"):e;if(!s)return;if(s.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void _o.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const i=Qz(Uz(s,t,r),s,t,r,s.cache.ipData);return i==null||isNaN(i)?0:i}function as(e,t,r){return e==null?null:ba(e)?$_(e,t,r):Md(e)?e:null}function pI(e,t,r){return Md(r)&&e>r?r:Md(t)&&e<t?t:e}function Bz(e,t,r,s){return e+(as(t.minSize,r,s)||t.minDataValue)}function Hz(e,t,r){const s=e.stops;let i=s&&s.length&&s[0].size;return i==null&&(i=e.minSize),as(i,t,r)}function Gz(e,t,r,s){const i=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=as(t.minSize,r,s),a=as(t.maxSize,r,s),l=G(s)?s.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return a;if(t.scaleBy==="area"&&l){const d=l==="circle",f=d?Uh*(n/2)**2:n*n,h=f+i*((d?Uh*(a/2)**2:a*a)-f);return d?2*Math.sqrt(h/Uh):Math.sqrt(h)}return n+i*(a-n)}function Wz(e,t,r,s){const i=G(s)?s.shape:void 0,n=e/t.minDataValue,a=as(t.minSize,r,s),l=as(t.maxSize,r,s);let d=null;return d=i==="circle"?2*Math.sqrt(n*(a/2)**2):i==="square"||i==="diamond"||i==="image"?Math.sqrt(n*a**2):n*a,pI(d,a,l)}function Jz(e,t,r,s,i){const[n,a,l]=x_(e,i);if(n===a)return as(t.stops[n].size,r,s);{const d=as(t.stops[n].size,r,s);return d+(as(t.stops[a].size,r,s)-d)*l}}function Kz(e,t,r,s){const i=(G(s)&&s.resolution?s.resolution:1)*dI[t.valueUnit],n=as(t.minSize,r,s),a=as(t.maxSize,r,s),{valueRepresentation:l}=t;let d=null;return d=l==="area"?2*Math.sqrt(e/Uh)/i:l==="radius"||l==="distance"?2*e/i:e/i,pI(d,n,a)}function Qz(e,t,r,s,i){switch(t.transformationType){case er.Additive:return Bz(e,t,r,s);case er.Constant:return Hz(t,r,s);case er.ClampedLinear:return Gz(e,t,r,s);case er.Proportional:return Wz(e,t,r,s);case er.Stops:return Jz(e,t,r,s,i);case er.RealWorldSize:return Kz(e,t,r,s);case er.Identity:return e;case er.Unknown:return null}}function Zz(e,t,r){const{isScaleDriven:s}=e.cache;if(!(s&&r==="3d"||t))return null;const i={scale:t,view:r};let n=as(e.minSize,v8,i),a=as(e.maxSize,v8,i);if(n!=null||a!=null){if(n>a){const l=a;a=n,n=l}return{minSize:n,maxSize:a}}}function x_(e,t){if(!t)return;let r=0,s=t.length-1;return t.some((i,n)=>e<i?(s=n,!0):(r=n,!1)),[r,s,(e-t[r])/(t[s]-t[r])]}function Yz(e,t,r){const s=["proportional","proportional","proportional"];for(const i of e){const n=i.useSymbolValue?"symbol-value":$_(i,t,r);switch(i.axis){case"width":s[0]=n;break;case"depth":s[1]=n;break;case"height":s[2]=n;break;case"width-and-depth":s[0]=n,s[1]=n;break;case"all":case void 0:case null:s[0]=n,s[1]=n,s[2]=n;break;default:i.axis}}return s}var ob;const sl=ye.getLogger("esri.renderers.visualVariables.SizeVariable"),Up=new je({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),ab=new je({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function b8(e){if(e!=null)return typeof e=="string"||typeof e=="number"?Ye(e):e.type==="size"?ba(e)?e:(delete(e=q({},e)).type,new Ze(e)):void 0}function w8(e,t,r){if(typeof e!="object")return e;const s=new Ze;return s.read(e,r),s}let Ze=ob=class extends dp{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:Nz.test(this.valueExpression)}}set expression(e){sl.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){ba(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),ba(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return YM(this)}set maxDataValue(e){e&&this.stops&&(sl.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(sl.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return b8(e)}readMaxSize(e,t,r){return w8(e,t,r)}set minDataValue(e){e&&this.stops&&(sl.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(sl.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return b8(e)}readMinSize(e,t,r){return w8(e,t,r)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,r)=>t.value-r.value):e&&(sl.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return vz(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,s){if(e==="$view.scale"){if(s&&s.messages){const i=this.index,n=typeof i=="string"?i:`visualVariables[${i}]`;s.messages.push(new Z("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:s}))}}else t[r]=e}readValueUnit(e){return e?ab.read(e):null}clone(){return new ob({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:ba(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:ba(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===er.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===er.Stops){const e=this.stops,t=e.map(s=>s.size).reverse(),r=e.length;for(let s=0;s<r;s++)e[s].size=t[s];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};o([c({readOnly:!0})],Ze.prototype,"cache",null),o([c({type:Up.apiValues,json:{type:Up.jsonValues,origins:{"web-map":{read:!1}},read:Up.read,write:Up.write}})],Ze.prototype,"axis",void 0),o([c({type:String,value:null,json:{read:!1}})],Ze.prototype,"expression",null),o([c()],Ze.prototype,"index",null),o([c({type:String,readOnly:!0})],Ze.prototype,"inputValueType",null),o([c({type:gz,json:{write:!0}})],Ze.prototype,"legendOptions",void 0),o([c({type:Number,value:null,json:{write:!0}})],Ze.prototype,"maxDataValue",null),o([c({type:Number,value:null,json:{write:!0}})],Ze.prototype,"maxSize",null),o([jt("maxSize")],Ze.prototype,"castMaxSize",null),o([ce("maxSize")],Ze.prototype,"readMaxSize",null),o([c({type:Number,value:null,json:{write:!0}})],Ze.prototype,"minDataValue",null),o([c({type:Number,value:null,json:{write:!0}})],Ze.prototype,"minSize",null),o([jt("minSize")],Ze.prototype,"castMinSize",null),o([ce("minSize")],Ze.prototype,"readMinSize",null),o([c({type:String,json:{write:!0}})],Ze.prototype,"normalizationField",void 0),o([c({readOnly:!0})],Ze.prototype,"arcadeRequired",null),o([c({type:String})],Ze.prototype,"scaleBy",void 0),o([c({type:[mz],value:null,json:{write:!0}})],Ze.prototype,"stops",null),o([c({type:["outline"],json:{write:!0}})],Ze.prototype,"target",void 0),o([c({type:String,readOnly:!0})],Ze.prototype,"transformationType",null),o([c({type:["size"],json:{type:["sizeInfo"]}})],Ze.prototype,"type",void 0),o([c({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Ze.prototype,"useSymbolValue",void 0),o([c({type:String,json:{write:!0}})],Ze.prototype,"valueExpression",void 0),o([ce("valueExpression",["valueExpression","expression"])],Ze.prototype,"readValueExpression",null),o([me("web-scene","valueExpression")],Ze.prototype,"writeValueExpressionWebScene",null),o([c({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Ze.prototype,"valueRepresentation",void 0),o([c({type:ab.apiValues,json:{write:ab.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Ze.prototype,"valueUnit",void 0),o([ce("valueUnit")],Ze.prototype,"readValueUnit",null),Ze=ob=o([M("esri.renderers.visualVariables.SizeVariable")],Ze);const E_=Ze,Xz=ye.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),e2={color:QM,size:E_,opacity:ZM,rotation:__},t2=new je({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),r2=/^\[([^\]]+)\]$/i;let qh=class extends wt{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,r)=>{let s=null;return s=t.target===r.target?0:t.target?1:-1,s});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:s,rotationType:i}=t,n=s&&s.match(r2),a=n&&n[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:i,field:a})),e)return e.map(l=>{const d=t2.read(l.type),f=e2[d];f||(Xz.warn(`Unknown variable type: ${d}`),r&&r.messages&&r.messages.push(new Jr("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:l,context:r})));const h=new f;return h.read(l,r),h})}writeVariables(e,t){const r=[];for(const s of e){const i=s.toJSON(t);i&&r.push(i)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};o([c()],qh.prototype,"visualVariables",null),qh=o([M("esri.renderers.visualVariables.VisualVariableFactory")],qh);const s2=qh,i2={base:dp,key:"type",typeMap:{opacity:ZM,color:QM,rotation:__,size:E_}},Iu=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new s2}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,s,i){return this._vvFactory.readVariables(r,s,i)}writeVisualVariables(r,s,i,n){s[i]=this._vvFactory.writeVariables(r,n)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const r of this.visualVariables)if(r.arcadeRequired)return!0;return!1}hasVisualVariables(r,s){return r?this.getVisualVariablesForType(r,s).length>0:this.getVisualVariablesForType("size",s).length>0||this.getVisualVariablesForType("color",s).length>0||this.getVisualVariablesForType("opacity",s).length>0||this.getVisualVariablesForType("rotation",s).length>0}getVisualVariablesForType(r,s){const i=this.visualVariables;return i?i.filter(n=>n.type===r&&(typeof s=="string"?n.target===s:s!==!1||!n.target)):[]}async collectVVRequiredFields(r,s){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const n of i)n&&(n.field&&si(r,s,n.field),n.normalizationField&&si(r,s,n.normalizationField),n.valueExpression&&await $n(r,s,n.valueExpression))}};return o([c({types:[i2],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),o([ce("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),o([me("visualVariables")],t.prototype,"writeVisualVariables",null),t=o([M("esri.renderers.mixins.VisualVariablesMixin")],t),t},Gu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function n2(e,t=Gu){if(!e)return{symbol:null};const{retainId:r=Gu.retainId,ignoreDrivers:s=Gu.ignoreDrivers,hasLabelingContext:i=Gu.hasLabelingContext,retainCIM:n=Gu.retainCIM}=t;let a;if(qv(e)||e instanceof Ja)a=e.clone();else if(e.type==="cim"){var l,d;const f=(l=e.data)==null||(d=l.symbol)==null?void 0:d.type;if(f!=="CIMPointSymbol")return{error:new Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${f||"unknown"}' is unsupported in 3D`,{symbol:e})};a=n?e.clone():va.fromCIMSymbol(e)}else if(e instanceof cs)a=Ky.fromSimpleLineSymbol(e);else if(e instanceof Wa)a=va.fromSimpleMarkerSymbol(e);else if(e instanceof ku)a=va.fromPictureMarkerSymbol(e);else if(e instanceof ko)a=cp.fromSimpleFillSymbol(e);else{if(!(e instanceof Mo))return{error:new Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=i?Jy.fromTextSymbol(e):va.fromTextSymbol(e)}if(r&&a.type!=="cim"&&(a.id=e.id),s&&qv(a))for(let f=0;f<a.symbolLayers.length;++f)a.symbolLayers.getItemAt(f)._ignoreDrivers=!0;return{symbol:a}}function ey(e,t,r,s){const i=hI(e,{},{context:s,isLabelSymbol:!1});G(i)&&(t[r]=i)}function _8(e,t,r,s){const i=hI(e,{},{context:s,isLabelSymbol:!0});G(i)&&(t[r]=i)}function hI(e,t,r){if(we(e))return null;const{context:s,isLabelSymbol:i}=r;if(s&&s.origin==="web-scene"&&!(e instanceof Tu)&&!(e instanceof Ja)){const n=n2(e,{retainCIM:!0,hasLabelingContext:i});return G(n.symbol)?n.symbol.write(t,s):(s.messages&&s.messages.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:s,error:n.error})),null)}return s&&s.origin==="web-map"&&e.type==="web-style"?(s.messages&&s.messages.push(new Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:s})),null):e.write(t,s)}function o2(e,t){return oz(e,null,t)}const pp={types:g_,json:{write:{writer:ey},origins:{"web-scene":{types:l8,write:{writer:ey},read:{reader:za({types:l8})}}}}},fI={types:{base:Nr,key:"type",typeMap:{"simple-fill":fo.typeMap["simple-fill"],"picture-fill":fo.typeMap["picture-fill"],"polygon-3d":fo.typeMap["polygon-3d"]}},json:{write:{writer:ey},origins:{"web-scene":{type:cp,write:{writer:ey}}}}};var lb;let Vn=lb=class extends X{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new lb({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};o([c({type:String,json:{write:!0}})],Vn.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Vn.prototype,"label",void 0),o([c({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Vn.prototype,"minValue",void 0),o([c({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Vn.prototype,"maxValue",void 0),o([c(pp)],Vn.prototype,"symbol",void 0),Vn=lb=o([M("esri.renderers.support.ClassBreakInfo")],Vn);const Cd=Vn;var ub;const qp=ye.getLogger("esri.renderers.ClassBreaksRenderer"),yI="log",Bh="percent-of-total",Hh="field",Bp=new je({esriNormalizeByLog:yI,esriNormalizeByPercentOfTotal:Bh,esriNormalizeByField:Hh}),a2=at(Cd);let Wt=ub=class extends Iu(Io){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let s=t.minValue;return e.map(i=>{const n=new Cd;return n.read(i,r),n.minValue==null&&(n.minValue=s),n.maxValue==null&&(n.maxValue=n.minValue),s=n.maxValue,n})}writeClassBreakInfos(e,t,r,s){const i=e.map(n=>n.write({},s));this._areClassBreaksConsecutive()&&i.forEach(n=>delete n.classMinValue),t[r]=i}castField(e){return e==null?e:typeof e=="function"?(qp.error(".field: field must be a string value"),null):Yd(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=this.normalizationTotal!=null;return t||r?(e=t&&Hh||r&&Bh||null,t&&r&&qp.warn("warning: both normalizationField and normalizationTotal are set!")):e!==Hh&&e!==Bh||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let s=null;s=typeof e=="number"?new Cd({minValue:e,maxValue:t,symbol:BM(r)}):a2(U(e)),this.classBreakInfos.push(s),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let s=0;s<r;s++){const i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(s,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(we(t)||we(t.arcade))&&qp.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;this.valueExpression&&(we(t)||we(t.arcade))&&(r=Ie(q({},r),{arcade:await bo()}));const s=this.getBreakIndex(e,r);return s!==-1?this.classBreakInfos[s]:null}getSymbol(e,t){if(this.valueExpression&&(we(t)||we(t.arcade)))return void qp.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(we(t)||we(t.arcade))){const i=await bo(),{arcadeUtils:n}=i;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r=Ie(q({},r),{arcade:i})}const s=this.getBreakIndex(e,r);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((s,i)=>s+i.getMeshHash(),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new ub({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:U(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:U(this.visualVariables),legendOptions:U(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(s=>s.collectRequiredFields(e,t)),$n(e,t,this.valueExpression)];si(e,t,this.field),si(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:n}=a1(t,{});let a=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const l=n.arcadeUtils;if(!a){const f=l.createSyntaxTree(this.valueExpression);a=l.createFunction(f),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=this.valueExpression;const d=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._getBreakIndexfromInfos(d)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,s=this.normalizationType;let i=parseFloat(r[t]);if(s){const n=this.normalizationTotal,a=parseFloat(r[this.normalizationField]);if(s===yI)i=Math.log(i)*Math.LOG10E;else if(s!==Bh||isNaN(n)){if(s===Hh&&!isNaN(a)){if(isNaN(i)||isNaN(a))return-1;i/=a}}else i=i/n*100}return this._getBreakIndexfromInfos(i)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]<=e&&(t?e<=s[1]:e<s[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};o([c(fI)],Wt.prototype,"backgroundFillSymbol",void 0),o([c({type:[Cd]})],Wt.prototype,"classBreakInfos",void 0),o([ce("classBreakInfos")],Wt.prototype,"readClassBreakInfos",null),o([me("classBreakInfos")],Wt.prototype,"writeClassBreakInfos",null),o([c({type:String,json:{write:!0}})],Wt.prototype,"defaultLabel",void 0),o([c(pp)],Wt.prototype,"defaultSymbol",void 0),o([c({type:String,json:{write:!0}})],Wt.prototype,"field",void 0),o([jt("field")],Wt.prototype,"castField",null),o([c({type:Boolean})],Wt.prototype,"isMaxInclusive",void 0),o([c({type:Qy,json:{write:!0}})],Wt.prototype,"legendOptions",void 0),o([c({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Wt.prototype,"minValue",null),o([c({type:String,json:{write:!0}})],Wt.prototype,"normalizationField",void 0),o([c({type:Number,cast:e=>Xd(e),json:{write:!0}})],Wt.prototype,"normalizationTotal",void 0),o([c({type:Bp.apiValues,value:null,json:{type:Bp.jsonValues,read:Bp.read,write:Bp.write}})],Wt.prototype,"normalizationType",null),o([$e({classBreaks:"class-breaks"})],Wt.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Wt.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Wt.prototype,"valueExpressionTitle",void 0),Wt=ub=o([M("esri.renderers.ClassBreaksRenderer")],Wt);const T_=Wt,ag=-3;var ro;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(ro||(ro={}));class l2{constructor(t,r,s){this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,r,s,i=0){this._storage.put(this._namespace+t,r,s,i)}get(t){const r=this._storage.get(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}pop(t){const r=this._storage.pop(this._namespace+t);return r===void 0?++this._miss:++this._hit,r}updateSize(t,r,s){this._storage.updateSize(this._namespace+t,r,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class mI{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new md,this._users=new md}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,r,s,i){const n=this._db.get(t);if(n&&(this._size-=n.size,this._db.delete(t),n.entry!==r&&this._notifyRemove(t,n.entry,ro.ALL)),s>this._maxSize)return void this._notifyRemove(t,r,ro.ALL);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return void console.warn("Refusing to cache entry with invalid size "+s);const a=1+Math.max(i,ag)-ag;this._db.set(t,{entry:r,size:s,lifetime:a,lives:a}),this._size+=s,this._checkSizeLimit()}updateSize(t,r,s){const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size;s>this._maxSize;){const n=this._notifyRemove(t,r,ro.SOME);if(!(G(n)&&n>0))return void this._db.delete(t);s=n}i.size=s,this._size+=s,this._checkSizeLimit()}}pop(t){const r=this._db.get(t);if(r)return this._size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(t){const r=this._db.get(t);if(r!==void 0)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},s=new Array;this._db.forEach((a,l)=>{const d=a.lifetime;s[d]=(s[d]||0)+a.size,this._users.forAll(f=>{const h=f.namespace;if(l.startsWith(h)){const y=r[h]||0;r[h]=y+a.size}})});const i={};this._users.forAll(a=>{const l=a.namespace;if(!isNaN(a.hitRate)&&a.hitRate>0){const d=r[l]||0;r[l]=d,i[l]=Math.round(100*a.hitRate)+"%"}else i[l]="0%"});const n=Object.keys(r);n.sort((a,l)=>r[l]-r[a]),n.forEach(a=>t[a]=Math.round(r[a]/2**20)+"MB / "+i[a]);for(let a=s.length-1;a>=0;--a){const l=s[a];l&&(t["Priority "+(a+ag-1)]=Math.round(l/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((r,s)=>{s.startsWith(t)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,ro.ALL))})}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,ro.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,s){let i;return this._removeFuncs.some(n=>{if(t.startsWith(n[0])){const a=n[1](r,s);return typeof a=="number"&&(i=a),!0}return!1}),i}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,r]of this._db){if(this._db.delete(t),r.lives<=1){this._size-=r.size;const s=this._notifyRemove(t,r.entry,ro.SOME);G(s)&&s>0&&(this._size+=s,r.lives=r.lifetime,r.size=s,this._db.set(t,r))}else--r.lives,this._db.set(t,r);if(this._size<=.9*this.maxSize)return}}}class gI{constructor(t,r){this._storage=new mI,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}put(t,r,s){this._storage.put(t,r,s,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const S8=ye.getLogger("esri.renderers.support.DictionaryLoader"),u2={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class k_{constructor(t,r,s){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new gI(100),this.url=t,this.config=r,this.fieldMap=s}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let s;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{s=await this._dictionaryPromise}catch(b){if(oi(b))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const b of this._symbolFields){const $=this.fieldMap[b];if($&&t.attributes[$]!=null){const T=""+t.attributes[$];i[b]=T}else i[b]=""}const n=s(i,r);if(!n||typeof n!="string")return null;const a=xy(n).toString(),l=this._symbolCache.get(a);if(l)return l.catch(()=>{this._symbolCache.pop(a)}),l;const d=n.split(";"),f=[],h=[];for(const b of d)if(b)if(b.includes("po:")){const $=b.substr(3).split("|");if($.length===3){const T=$[0],j=$[1];let L=$[2];if(j==="DashTemplate")L=L.split(" ").map(W=>Number(W));else if(j==="Color"){const W=new Ge(L).toRgba();L=[W[0],W[1],W[2],255*W[3]]}else L=Number(L);h.push({primitiveName:T,propertyName:j,value:L})}}else if(b.includes("|")){for(const $ of b.split("|"))if(this._itemNames.has($)){f.push($);break}}else this._itemNames.has(b)&&f.push(b);const y=!G(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",v=this._cimPartsToCIMSymbol(f,h,y,r);return this._symbolCache.put(a,v,1),v}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void S8.error("no valid URL!");const r=G(t)?t.abortOptions:null,s=Tt(this.url+"/resources/styles/dictionary-info.json",q({responseType:"json",query:{f:"json"}},r)),[{data:i}]=await Promise.all([s,bo()]);if(!i)throw this._dictionaryPromise=null,new Z("esri.renderers.DictionaryRenderer","Bad dictionary data!");const n=i.expression,a=i.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=a.symbol;const l={};if(this.config){const f=this.config;for(const h in f)l[h]=f[h]}if(a.configuration)for(const f of a.configuration)l.hasOwnProperty(f.name)||(l[f.name]=f.value);const d=[];if(G(t)&&t.fields&&this.fieldMap)for(const f of this._symbolFields){const h=this.fieldMap[f],y=t.fields.filter(v=>v.name===h);y.length>0&&d.push(Ie(q({},y[0]),{name:f}))}return this._dictionaryPromise=i7(n,G(t)?t.spatialReference:null,d,l).then(f=>{const h={scale:0};return(y,v)=>{const b=f.repurposeFeature({geometry:null,attributes:y});return h.scale=G(v)?v.scale:void 0,f.evaluate({$feature:b,$view:h})}}).catch(f=>(S8.error("Creating dictinoary expression failed:",f),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,r,s,i){const n=new Array(t.length);for(let d=0;d<t.length;d++)n[d]=this._getSymbolPart(t[d],i);const a=await Promise.all(n),l=this.fieldMap;for(const d of a)vI(d,l);return new np({data:this._combineSymbolParts(a,r,s)})}async _getSymbolPart(t,r){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(n=>n.data);const s=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),i=Tt(s,q({responseType:"json",query:{f:"json"}},r));this._ongoingRequests.set(t,i);try{return(await i).data}catch(n){return this._ongoingRequests.delete(t),Promise.reject(n)}}_combineSymbolParts(t,r,s){if(!t||t.length===0)return null;const i=q({},t[0]);if(t.length>1){i.symbolLayers=[];for(const n of t){const a=n;i.symbolLayers.unshift(...a.symbolLayers)}}return s&&(i.callout=u2),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:r}}}function vI(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let s=r.length;for(;s--;){const i=r[s];i&&i.enable!==!1&&i.type==="CIMVectorMarker"&&c2(i,t)}}function c2(e,t){const r=e.markerGraphics;if(r)for(const s of r){if(!s)continue;const i=s.symbol;if(i)switch(i.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":vI(i,t);break;case"CIMTextSymbol":i.fieldMap=t}}}var d2=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:k_},Symbol.toStringTag,{value:"Module"})),cb;let Vs=cb=class extends Iu(Io){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new k_(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,s){s!=null&&s.origin||super.writeVisualVariables(e,t,r,s)}clone(){return new cb({config:U(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:U(this.fieldMap),url:U(this.url),visualVariables:U(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await $n(e,t,this.scaleExpression);for(const r in this.fieldMap){const s=this.fieldMap[r];t.has(s)&&e.add(s)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};o([c({type:k_})],Vs.prototype,"_loader",null),o([c({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Vs.prototype,"config",void 0),o([c({type:Object,json:{write:!0}})],Vs.prototype,"fieldMap",void 0),o([c({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Vs.prototype,"scaleExpression",void 0),o([me("scaleExpression")],Vs.prototype,"writeData",null),o([c({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],Vs.prototype,"scaleExpressionTitle",void 0),o([c({type:String,json:{write:!0}})],Vs.prototype,"url",void 0),o([me("visualVariables")],Vs.prototype,"writeVisualVariables",null),Vs=cb=o([M("esri.renderers.DictionaryRenderer")],Vs);const p2=Vs;function it(e,t){const r=t?Ie(q({},t),{source:e}):e;return c({aliasOf:r})}var db;const h2=ye.getLogger("esri.renderers.support.AttributeColorInfo");let Ki=db=class extends X{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(h2.error(".field: field must be a string value"),null):Yd(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new db({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};o([c({type:Ge,json:{type:[Number],write:!0}})],Ki.prototype,"color",void 0),o([c({type:String,json:{write:!0}})],Ki.prototype,"field",void 0),o([jt("field")],Ki.prototype,"castField",null),o([c({type:String,json:{write:!0}})],Ki.prototype,"label",void 0),o([c({type:String,json:{write:!0}})],Ki.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Ki.prototype,"valueExpressionTitle",void 0),Ki=db=o([M("esri.renderers.support.AttributeColorInfo")],Ki);const f2=Ki;var pb;let Gh=pb=class extends X{constructor(){super(...arguments),this.unit=null}clone(){return new pb({unit:this.unit})}};o([c({type:String,json:{write:!0}})],Gh.prototype,"unit",void 0),Gh=pb=o([M("esri.renderers.support.DotDensityLegendOptions")],Gh);const y2=Gh;var hb;let wr=hb=class extends Iu(Io){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Ge([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new cs,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new ko({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new hb({attributes:U(this.attributes),backgroundColor:U(this.backgroundColor),dotBlendingEnabled:U(this.dotBlendingEnabled),dotShape:U(this.dotShape),dotSize:U(this.dotSize),dotValue:U(this.dotValue),legendOptions:U(this.legendOptions),outline:U(this.outline),referenceScale:U(this.referenceScale),visualVariables:U(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await $n(e,t,r.valueExpression),r.field&&e.add(r.field)}};o([c({type:[f2],json:{write:!0}})],wr.prototype,"attributes",void 0),o([c({type:Ge,json:{write:!0}})],wr.prototype,"backgroundColor",void 0),o([c({type:Boolean}),it("dotBlendingEnabled")],wr.prototype,"blendDots",void 0),o([c({type:Boolean,json:{write:!0}})],wr.prototype,"dotBlendingEnabled",void 0),o([c({type:String,json:{write:!1}})],wr.prototype,"dotShape",void 0),o([c({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],wr.prototype,"dotSize",void 0),o([c({type:y2,json:{write:!0}})],wr.prototype,"legendOptions",void 0),o([c({type:cs,json:{default:null,write:!0}})],wr.prototype,"outline",void 0),o([c({type:Number,json:{write:!0}})],wr.prototype,"dotValue",void 0),o([c({type:Number}),it("dotValue")],wr.prototype,"referenceDotValue",void 0),o([c({type:Number,json:{write:!0}})],wr.prototype,"referenceScale",void 0),o([c({type:Number,json:{write:!0}})],wr.prototype,"seed",void 0),o([$e({dotDensity:"dot-density"})],wr.prototype,"type",void 0),wr=hb=o([M("esri.renderers.DotDensityRenderer")],wr);const m2=wr;var fb;let xc=fb=class extends X{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new fb({color:this.color,ratio:this.ratio})}};o([c({type:Ge,json:{write:!0}})],xc.prototype,"color",void 0),o([c({type:Number,json:{write:!0}})],xc.prototype,"ratio",void 0),xc=fb=o([M("esri.renderers.support.HeatmapColorStop")],xc);const Wh=xc;var yb;let Us=yb=class extends Io{constructor(e){super(e),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new Wh({ratio:0,color:new Ge("rgba(255, 140, 0, 0)")}),new Wh({ratio:.75,color:new Ge("rgba(255, 140, 0, 1)")}),new Wh({ratio:.9,color:new Ge("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const r=this.field;r&&typeof r=="string"&&si(e,t,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new yb({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:U(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};o([c({type:Number,json:{write:!0}})],Us.prototype,"blurRadius",void 0),o([c({type:Number})],Us.prototype,"referenceScale",void 0),o([c({type:[Wh],json:{write:!0}})],Us.prototype,"colorStops",void 0),o([c({type:String,json:{write:!0}})],Us.prototype,"field",void 0),o([c({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:r==null})}}})],Us.prototype,"fieldOffset",void 0),o([c({type:Number,json:{write:!0}})],Us.prototype,"maxPixelIntensity",void 0),o([c({type:Number,json:{write:!0}})],Us.prototype,"minPixelIntensity",void 0),o([$e({heatmap:"heatmap"})],Us.prototype,"type",void 0),Us=yb=o([M("esri.renderers.HeatmapRenderer")],Us);const g2=Us;var mb;let ra=mb=class extends Iu(Io){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(r=>r.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new mb({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:U(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};o([c({type:String,json:{write:!0}})],ra.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],ra.prototype,"label",void 0),o([c(pp)],ra.prototype,"symbol",void 0),o([$e({simple:"simple"})],ra.prototype,"type",void 0),ra=mb=o([M("esri.renderers.SimpleRenderer")],ra);const Zy=ra,v2=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function gb(e){return e instanceof wt}function $8(e){return e instanceof yt?Object.keys(e.items):gb(e)?Tr(e).keys():e?Object.keys(e):[]}function Hp(e,t){return e instanceof yt?e.items[t]:e[t]}function b2(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function td(e){return e?e.declaredClass:null}function bI(e,t){const r=e.diff;if(r&&typeof r=="function")return r(e,t);const s=$8(e),i=$8(t);if(s.length===0&&i.length===0)return;if(!s.length||!i.length||b2(e,t))return{type:"complete",oldValue:e,newValue:t};const n=i.filter(y=>s.indexOf(y)===-1),a=s.filter(y=>i.indexOf(y)===-1),l=s.filter(y=>i.indexOf(y)>-1&&Hp(e,y)!==Hp(t,y)).concat(n,a).sort(),d=td(e);if(d&&v2.indexOf(d)>-1&&l.length)return{type:"complete",oldValue:e,newValue:t};let f;const h=gb(e)&&gb(t);for(const y of l){const v=Hp(e,y),b=Hp(t,y);let $;(h||typeof v!="function"&&typeof b!="function")&&v!==b&&(v==null&&b==null||($=r&&r[y]&&typeof r[y]=="function"?r[y](v,b):typeof v=="object"&&typeof b=="object"&&td(v)===td(b)?bI(v,b):{type:"complete",oldValue:v,newValue:b},G($)&&(G(f)?f.diff[y]=$:f={type:"partial",diff:{[y]:$}})))}return f}function wI(e,t){if(we(e))return!1;const r=t.split(".");let s=e;for(const i of r){if(s.type==="complete")return!0;if(s.type!=="partial")return!1;{const n=s.diff[i];if(!n)return!1;s=n}}return!0}function w2(e,t){for(const r of t)if(wI(e,r))return!0;return!1}function _I(e,t){if(!(typeof e=="function"||typeof t=="function"||we(e)&&we(t)))return we(e)||we(t)||typeof e=="object"&&typeof t=="object"&&td(e)!==td(t)?{type:"complete",oldValue:e,newValue:t}:bI(e,t)}var vb;let Un=vb=class extends X{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new vb({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};o([c({type:String,json:{write:!0}})],Un.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],Un.prototype,"label",void 0),o([c(pp)],Un.prototype,"symbol",void 0),o([c({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],Un.prototype,"value",void 0),o([jt("value")],Un.prototype,"castValue",null),Un=vb=o([M("esri.renderers.support.UniqueValueInfo")],Un);const Ad=Un,_2=()=>!!Y("enable-feature:force-wosr"),lg={};async function S2(e,t){try{return{data:(await $I(e,t)).data,baseUrl:gM(e),styleUrl:e}}catch(r){return gu(r),null}}function $2(e,t,r){const s=t&&t.portal||Fr.getDefault();let i;const n=`${s.url} - ${s.user&&s.user.username} - ${e}`;return lg[n]||(lg[n]=x2(e,s,r).then(a=>(i=a,a.fetchData())).then(a=>({data:a,baseUrl:i.itemUrl,styleName:e}))),lg[n]}function x2(e,t,r){return t.load(r).then(()=>{const s=new dn({disableExtraQuery:!0,query:`owner:${x8} AND type:${E8} AND typekeywords:"${e}"`});return t.queryItems(s,r)}).then(({results:s})=>{let i=null;const n=e.toLowerCase();if(s&&Array.isArray(s)){for(const a of s)if(a.typeKeywords.some(l=>l.toLowerCase()===n)&&a.type===E8&&a.owner===x8){i=a;break}}if(!i)throw new Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)})}function SI(e,t,r){return e.styleUrl?S2(e.styleUrl,r):e.styleName?$2(e.styleName,t,r):Promise.reject(new Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function E2(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function T2(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!_2()){for(const r of e.formatInfos)if(r.type==="gltf")return r.href}return e.webRef}function $I(e,t){const r=q({responseType:"json",query:{f:"json"}},t);return Tt(Is(e),r)}const x8="esri_en",E8="Style",k2="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var Ec;const Ro=ye.getLogger("esri.renderers.UniqueValueRenderer"),M2=at(Ad);let Mt=Ec=class extends Iu(Io){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let s=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<r.length;n++){const a=t.find(l=>l.value===r[n].value);a?_I(a,r[n])?(i.changed.push({type:"complete",oldValue:a,newValue:r[n]}),s=!0):i.unchanged.push({oldValue:a,newValue:r[n]}):(i.added.push(r[n]),s=!0)}for(let n=0;n<t.length;n++)r.find(a=>a.value===t[n].value)||(i.removed.push(t[n]),s=!0);return s?i:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:Yd(e)}writeField(e,t,r,s){typeof e=="string"?t[r]=e:s&&s.messages?s.messages.push(new Z("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Ro.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,r){return r.portal||Fr.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const s=Ga(t.styleUrl,r);return Object.freeze({styleUrl:s})}}writeStyleOrigin(e,t,r,s){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=$u(e.styleUrl,s))}set uniqueValueInfos(e){this.styleOrigin?Ro.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void Ro.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r=typeof e=="object"?M2(e):new Ad({value:e,symbol:BM(t)}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r}removeUniqueValueInfo(e){if(this.styleOrigin)Ro.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let r=t;return this.valueExpression&&(we(t)||we(t.arcade))&&(r=Ie(q({},r),{arcade:await bo()})),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(we(t)||we(t.arcade)))return void Ro.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(we(r)||we(r.arcade))){const i=await bo(),{arcadeUtils:n}=i;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),r=Ie(q({},r),{arcade:i})}const s=this._getUniqueValueInfo(e,r);return s&&s.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new Ec({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:U(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:U(this.visualVariables),legendOptions:U(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:U(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=U(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(U(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map(s=>s.collectRequiredFields(e,t)),$n(e,t,this.valueExpression)];si(e,t,this.field),si(e,t,this.field2),si(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return SI(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(r=>{const s=new Ja({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const i=new Ad({value:r.name,symbol:s});t.push(i),this._valueInfoMap[r.name]=i}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:s,spatialReference:i,arcade:n}=a1(t,{});let a=this._cache.compiledFunc;const l=n.arcadeUtils;if(!a){const f=l.createSyntaxTree(this.valueExpression);a=l.createFunction(f),this._cache.compiledFunc=a}const d=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:s,spatialReference:i})));return this._valueInfoMap[d+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let s;if(typeof t!="function"&&this.field2){const i=this.field2,n=this.field3,a=[];t&&a.push(r[t]),i&&a.push(r[i]),n&&a.push(r[n]),s=a.join(this.fieldDelimiter||"")}else typeof t=="function"?s=t(e):t&&(s=r[t]);return this._valueInfoMap[s+""]}static fromPortalStyle(e,t){const r=new Ec(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||Fr.getDefault());const s=r.populateFromStyle();return s.catch(i=>{Ro.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",i)}),s}static fromStyleUrl(e,t){const r=new Ec(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const s=r.populateFromStyle();return s.catch(i=>{Ro.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",i)}),s}};o([c({readOnly:!0})],Mt.prototype,"_cache",null),o([$e({uniqueValue:"unique-value"})],Mt.prototype,"type",void 0),o([c(fI)],Mt.prototype,"backgroundFillSymbol",void 0),o([c({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Mt.prototype,"field",void 0),o([jt("field")],Mt.prototype,"castField",null),o([me("field")],Mt.prototype,"writeField",null),o([c({type:String,json:{write:!0}})],Mt.prototype,"field2",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"field3",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"valueExpression",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"valueExpressionTitle",void 0),o([c({type:Qy,json:{write:!0}})],Mt.prototype,"legendOptions",void 0),o([c({type:String,json:{write:!0}})],Mt.prototype,"defaultLabel",void 0),o([c(aT(q({},pp),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Mt.prototype,"defaultSymbol",null),o([c({type:String,json:{write:!0}})],Mt.prototype,"fieldDelimiter",void 0),o([c({type:Fr,readOnly:!0})],Mt.prototype,"portal",void 0),o([ce("portal",["styleName"])],Mt.prototype,"readPortal",null),o([c({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Mt.prototype,"styleOrigin",void 0),o([ce("styleOrigin",["styleName","styleUrl"])],Mt.prototype,"readStyleOrigin",null),o([me("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Mt.prototype,"writeStyleOrigin",null),o([c({type:[Ad],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Mt.prototype,"uniqueValueInfos",null),Mt=Ec=o([M("esri.renderers.UniqueValueRenderer")],Mt);const Yy=Mt,M_={key:"type",base:Io,typeMap:{heatmap:g2,simple:Zy,"unique-value":Yy,"class-breaks":T_,"dot-density":m2,dictionary:p2},errorContext:"renderer"},xI={key:"type",base:Io,typeMap:{simple:Zy,"unique-value":Yy,"class-breaks":T_},errorContext:"renderer"},I2=za({types:M_});function EI(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(r&&r.messages&&r.messages.push(new Jr("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):I2(e,t,r):null}let Jh=class extends wt{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!yt.isCollection(e))return this;const r=this._getOrCreateGroup(t);return Array.isArray(e)||yt.isCollection(e)?e.forEach(s=>this._isHandle(s)&&r.push(s)):r.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||yt.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let r=0;r<t.length;r++)t[r].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};o([c({readOnly:!0})],Jh.prototype,"size",null),Jh=o([M("esri.core.Handles")],Jh);const Ka=Jh;class I_{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(n0),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const r=new I_,s=this._originStores[Ve.DEFAULTS];s&&s.forEach((i,n)=>{r.set(n,U(i),Ve.DEFAULTS)});for(let i=Ve.SERVICE;i<n0;i++){const n=this._originStores[i];n&&n.forEach((a,l)=>{t&&t.has(l)||r.set(l,U(a),i)})}return r}get(t,r){const s=r===void 0?this._values:this._originStores[r];return s?s.get(t):void 0}keys(t){const r=t==null?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,s=Ve.USER){let i=this._originStores[s];if(i||(i=new Map,this._originStores[s]=i),i.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=s){const n=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),n!==r}return!1}delete(t,r=Ve.USER){const s=this._originStores[r];if(!s)return;const i=s.get(t);if(s.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let n=r-1;n>=0;n--){const a=this._originStores[n];if(a&&a.has(t)){this._values.set(t,a.get(t)),this._propertyOriginMap.set(t,n);break}}}return i}has(t,r){const s=r===void 0?this._values:this._originStores[r];return!!s&&s.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;const s=this._originStores[r],i=s&&s.get(t),n=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,r),n!==i}originOf(t){return this._propertyOriginMap.get(t)||Ve.DEFAULTS}forEach(t){this._values.forEach(t)}}const TI=e=>{let t=class extends e{constructor(...r){super(...r);const s=Tr(this),i=s.store,n=new I_;s.store=n,ZT(s,i,n)}read(r,s){XT(this,r,s)}getAtOrigin(r,s){const i=ug(this),n=hn(s);if(typeof r=="string")return i.get(r,n);const a={};return r.forEach(l=>{a[l]=i.get(l,n)}),a}originOf(r){return fd(this.originIdOf(r))}originIdOf(r){return ug(this).originOf(r)}revert(r,s){const i=ug(this),n=hn(s),a=Tr(this);let l;l=typeof r=="string"?r==="*"?i.keys(n):[r]:r,l.forEach(d=>{a.invalidate(d),i.revert(d,n),a.commit(d)})}};return t=o([M("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function ug(e){return Tr(e).store}let T8=class extends TI(wt){};T8=o([M("esri.core.ReadOnlyMultiOriginJSONSupport")],T8);const O2=e=>{let t=class extends e{constructor(...r){super(...r)}clear(r,s="user"){return cg(this).delete(r,hn(s))}write(r={},s){return rk(this,r=r||{},s),r}setAtOrigin(r,s,i){Tr(this).setAtOrigin(r,s,hn(i))}removeOrigin(r){const s=cg(this),i=hn(r),n=s.keys(i);for(const a of n)s.originOf(a)===i&&s.set(a,s.get(a,i),Ve.USER)}updateOrigin(r,s){const i=cg(this),n=hn(s),a=this.get(r);for(let l=n+1;l<n0;++l)i.delete(r,l);i.set(r,a,n)}toJSON(r){return this.write({},r)}};return t=o([M("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function cg(e){return Tr(e).store}const O_=e=>{let t=class extends O2(TI(e)){constructor(...r){super(...r)}};return t=o([M("esri.core.MultiOriginJSONSupport")],t),t};let bb=class extends O_(wt){};bb=o([M("esri.core.MultiOriginJSONSupport")],bb);async function C2(e,t){const{WhereClause:r}=await Ne(()=>import("./WhereClause.f94bd0a6.js"),[],import.meta.url);return r.create(e,t)}var wb;let sa=wb=class extends X{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new wb({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};o([c({type:String,json:{write:!0}})],sa.prototype,"expression",void 0),o([c({type:String,json:{write:!0}})],sa.prototype,"name",void 0),o([c({type:["boolean","date","number","string"],json:{write:!0}})],sa.prototype,"returnType",void 0),o([c({type:String,json:{write:!0}})],sa.prototype,"title",void 0),sa=wb=o([M("esri.form.ExpressionInfo")],sa);const A2=sa;let ia=class extends X{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};o([c({type:String,json:{write:!0}})],ia.prototype,"description",void 0),o([c({type:String,json:{write:!0}})],ia.prototype,"label",void 0),o([c()],ia.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],ia.prototype,"visibilityExpression",void 0),ia=o([M("esri.form.elements.Element")],ia);const pu=ia;var _b;let Kh=_b=class extends X{constructor(e){super(e),this.type=null}clone(){return new _b({type:this.type})}};o([c({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],Kh.prototype,"type",void 0),Kh=_b=o([M("esri.form.elements.inputs.AttachmentInput")],Kh);const j2=Kh;var Sb;let na=Sb=class extends pu{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new Sb({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};o([c({type:String,json:{write:!0}})],na.prototype,"attachmentKeyword",void 0),o([c({type:Boolean,json:{write:!0}})],na.prototype,"editable",void 0),o([c({type:j2,json:{read:{source:"inputType"},write:{target:"inputType"}}})],na.prototype,"input",void 0),o([c({type:["attachment"],json:{read:!1,write:!0}})],na.prototype,"type",void 0),na=Sb=o([M("esri.form.elements.AttachmentElement")],na);const k8=na;let Qh=class extends X{constructor(e){super(e),this.type=null}};o([c()],Qh.prototype,"type",void 0),Qh=o([M("esri.form.elements.inputs.Input")],Qh);const Ou=Qh;let Tc=class extends Ou{constructor(e){super(e),this.maxLength=null,this.minLength=0}};o([c({type:Number,json:{write:!0}})],Tc.prototype,"maxLength",void 0),o([c({type:Number,json:{write:!0}})],Tc.prototype,"minLength",void 0),Tc=o([M("esri.form.elements.inputs.TextInput")],Tc);const C_=Tc;var $b;let Zh=$b=class extends C_{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new $b({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["barcode-scanner"],json:{read:!1,write:!0}})],Zh.prototype,"type",void 0),Zh=$b=o([M("esri.form.elements.inputs.BarcodeScannerInput")],Zh);const R2=Zh;var xb;let hl=xb=class extends Ou{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new xb({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};o([c({type:String,json:{write:!0}})],hl.prototype,"noValueOptionLabel",void 0),o([c({type:Boolean,json:{write:!0}})],hl.prototype,"showNoValueOption",void 0),o([c({type:["combo-box"],json:{read:!1,write:!0}})],hl.prototype,"type",void 0),hl=xb=o([M("esri.form.elements.inputs.ComboBoxInput")],hl);const P2=hl;var Eb;function M8(e){return e!=null?new Date(e):null}function I8(e){return e?e.getTime():null}let qs=Eb=class extends Ou{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return M8(t.max)}writeMax(e,t){t.max=I8(e)}readMin(e,t){return M8(t.min)}writeMin(e,t){t.min=I8(e)}clone(){return new Eb({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};o([c({type:Boolean,json:{write:!0}})],qs.prototype,"includeTime",void 0),o([c({type:Date,json:{type:Number,write:!0}})],qs.prototype,"max",void 0),o([ce("max")],qs.prototype,"readMax",null),o([me("max")],qs.prototype,"writeMax",null),o([c({type:Date,json:{type:Number,write:!0}})],qs.prototype,"min",void 0),o([ce("min")],qs.prototype,"readMin",null),o([me("min")],qs.prototype,"writeMin",null),o([c({type:["datetime-picker"],json:{read:!1,write:!0}})],qs.prototype,"type",void 0),qs=Eb=o([M("esri.form.elements.inputs.DateTimePickerInput")],qs);const L2=qs;var Tb;let fl=Tb=class extends Ou{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new Tb({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};o([c({type:String,json:{write:!0}})],fl.prototype,"noValueOptionLabel",void 0),o([c({type:Boolean,json:{write:!0}})],fl.prototype,"showNoValueOption",void 0),o([c({type:["radio-buttons"],json:{read:!1,write:!0}})],fl.prototype,"type",void 0),fl=Tb=o([M("esri.form.elements.inputs.RadioButtonsInput")],fl);const F2=fl;var kb;let yl=kb=class extends Ou{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new kb({offValue:this.offValue,onValue:this.onValue})}};o([c({type:[String,Number],json:{write:!0}})],yl.prototype,"offValue",void 0),o([c({type:[String,Number],json:{write:!0}})],yl.prototype,"onValue",void 0),o([c({type:["switch"],json:{read:!1,write:!0}})],yl.prototype,"type",void 0),yl=kb=o([M("esri.form.elements.inputs.SwitchInput")],yl);const N2=yl;var Mb;let Yh=Mb=class extends C_{constructor(e){super(e),this.type="text-area"}clone(){return new Mb({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["text-area"],json:{read:!1,write:!0}})],Yh.prototype,"type",void 0),Yh=Mb=o([M("esri.form.elements.inputs.TextAreaInput")],Yh);const D2=Yh;var Ib;let Xh=Ib=class extends C_{constructor(e){super(e),this.type="text-box"}clone(){return new Ib({maxLength:this.maxLength,minLength:this.minLength})}};o([c({type:["text-box"],json:{read:!1,write:!0}})],Xh.prototype,"type",void 0),Xh=Ib=o([M("esri.form.elements.inputs.TextBoxInput")],Xh);const z2=Xh,V2={base:Ou,key:"type",typeMap:{"barcode-scanner":R2,"combo-box":P2,"datetime-picker":L2,"radio-buttons":F2,switch:N2,"text-area":D2,"text-box":z2}};var Ob;let kc=Ob=class extends X{constructor(e){super(e),this.name=null,this.code=null}clone(){return new Ob({name:this.name,code:this.code})}};o([c({type:String,json:{write:!0}})],kc.prototype,"name",void 0),o([c({type:[String,Number],json:{write:!0}})],kc.prototype,"code",void 0),kc=Ob=o([M("esri.layers.support.CodedValue")],kc);const U2=kc,q2=new je({inherited:"inherited",codedValue:"coded-value",range:"range"});let Mc=class extends X{constructor(e){super(e),this.name=null,this.type=null}};o([c({type:String,json:{write:!0}})],Mc.prototype,"name",void 0),o([$e(q2)],Mc.prototype,"type",void 0),Mc=o([M("esri.layers.support.Domain")],Mc);const Xy=Mc;var Cb;let Ic=Cb=class extends Xy{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(s=>(String(s.code)===r&&(t=s.name),!!t))}return t}clone(){return new Cb({codedValues:U(this.codedValues),name:this.name})}};o([c({type:[U2],json:{write:!0}})],Ic.prototype,"codedValues",void 0),o([$e({codedValue:"coded-value"})],Ic.prototype,"type",void 0),Ic=Cb=o([M("esri.layers.support.CodedValueDomain")],Ic);const kI=Ic;var Ab;let ef=Ab=class extends Xy{constructor(e){super(e),this.type="inherited"}clone(){return new Ab}};o([$e({inherited:"inherited"})],ef.prototype,"type",void 0),ef=Ab=o([M("esri.layers.support.InheritedDomain")],ef);const MI=ef;var jb;let ml=jb=class extends Xy{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new jb({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};o([c({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],ml.prototype,"maxValue",void 0),o([c({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],ml.prototype,"minValue",void 0),o([$e({range:"range"})],ml.prototype,"type",void 0),ml=jb=o([M("esri.layers.support.RangeDomain")],ml);const II=ml,OI={key:"type",base:Xy,typeMap:{range:II,"coded-value":kI,inherited:MI}};function A_(e){if(!e||!e.type)return null;switch(e.type){case"range":return II.fromJSON(e);case"codedValue":return kI.fromJSON(e);case"inherited":return MI.fromJSON(e)}return null}var Rb;let bs=Rb=class extends pu{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new Rb({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};o([c({types:OI,json:{read:{reader:A_},write:!0}})],bs.prototype,"domain",void 0),o([c({type:Boolean,json:{write:!0}})],bs.prototype,"editable",void 0),o([c({type:String,json:{write:!0}})],bs.prototype,"editableExpression",void 0),o([c({type:String,json:{write:!0}})],bs.prototype,"fieldName",void 0),o([c({type:String,json:{write:!0}})],bs.prototype,"hint",void 0),o([c({types:V2,json:{read:{source:"inputType"},write:{target:"inputType"}}})],bs.prototype,"input",void 0),o([c({type:String,json:{write:!0}})],bs.prototype,"requiredExpression",void 0),o([c({type:String,json:{read:!1,write:!0}})],bs.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],bs.prototype,"valueExpression",void 0),bs=Rb=o([M("esri.form.elements.FieldElement")],bs);const O8=bs;var Pb;let Qi=Pb=class extends pu{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new Pb({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:U(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};o([c({type:Number,json:{write:!0}})],Qi.prototype,"displayCount",void 0),o([c({type:["list"],json:{write:!0}})],Qi.prototype,"displayType",void 0),o([c({type:Boolean,json:{write:!0}})],Qi.prototype,"editable",void 0),o([c({type:[Bk],json:{write:!0}})],Qi.prototype,"orderByFields",void 0),o([c({type:Number,json:{write:!0}})],Qi.prototype,"relationshipId",void 0),o([c({type:["relationship"],json:{read:!1,write:!0}})],Qi.prototype,"type",void 0),Qi=Pb=o([M("esri.form.elements.RelationshipElement")],Qi);const C8=Qi;function CI(e){return{typesWithGroup:{base:pu,key:"type",typeMap:{attachment:k8,field:O8,group:e,relationship:C8}},typesWithoutGroup:{base:pu,key:"type",typeMap:{attachment:k8,field:O8,relationship:C8}}}}function AI(e,t,r=!0){if(!e)return null;const s=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>s[i.type]).map(i=>s[i.type].fromJSON(i))}function jI(e,t,r=!0){if(!e)return null;const s=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(i=>s[i.type]).map(i=>i.toJSON())}function RI(e,t,r=!0){return e?e.map(s=>Ai(r?t.typesWithGroup:t.typesWithoutGroup,s)):null}var Lb;let Ei=Lb=class extends pu{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return RI(e,dg,!1)}readElements(e,t){return AI(t.formElements,dg,!1)}writeElements(e,t){t.formElements=jI(e,dg,!1)}clone(){return new Lb({description:this.description,elements:U(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};o([c({json:{write:!0}})],Ei.prototype,"elements",void 0),o([jt("elements")],Ei.prototype,"castElements",null),o([ce("elements",["formElements"])],Ei.prototype,"readElements",null),o([me("elements")],Ei.prototype,"writeElements",null),o([c({type:["collapsed","expanded"],json:{write:!0}})],Ei.prototype,"initialState",void 0),o([c({type:String,json:{read:!1,write:!0}})],Ei.prototype,"type",void 0),Ei=Lb=o([M("esri.form.elements.GroupElement")],Ei);const dg=CI(Ei),B2=Ei;var Fb;const pg=CI(B2);let wi=Fb=class extends X{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return RI(e,pg)}readElements(e,t){return AI(t.formElements,pg)}writeElements(e,t){t.formElements=jI(e,pg)}clone(){return new Fb({description:this.description,expressionInfos:U(this.expressionInfos),elements:U(this.elements),title:this.title})}};o([c({type:String,json:{write:!0}})],wi.prototype,"description",void 0),o([c({json:{write:!0}})],wi.prototype,"elements",void 0),o([jt("elements")],wi.prototype,"castElements",null),o([ce("elements",["formElements"])],wi.prototype,"readElements",null),o([me("elements")],wi.prototype,"writeElements",null),o([c({type:[A2],json:{write:!0}})],wi.prototype,"expressionInfos",void 0),o([c({type:String,json:{write:!0}})],wi.prototype,"title",void 0),wi=Fb=o([M("esri.form.FormTemplate")],wi);const H2=wi;var Oc;const ty=ur()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),PI=ty.jsonValues.slice();ZE(PI,"orthometric");const rd=ur()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Bs=Oc=class extends X{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return ty.write(e,t,r)}readHeightModel(e,t,r){return ty.read(e)||(r&&r.messages&&r.messages.push(G2(e,{context:r})),null)}readHeightUnit(e,t,r){return rd.read(e)||(r&&r.messages&&r.messages.push(A8(e,{context:r})),null)}readHeightUnitService(e,t,r){return sI(e)||rd.read(e)||(r&&r.messages&&r.messages.push(A8(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new Oc({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=jz(t);return new Oc({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t=q({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new Oc;return t.read(e,{origin:"web-scene"}),t}};function A8(e,t){return new Jr("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function G2(e,t){return new Jr("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}o([c({type:ty.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:PI,default:"ellipsoidal"}}}})],Bs.prototype,"heightModel",void 0),o([me("web-scene","heightModel")],Bs.prototype,"writeHeightModel",null),o([ce(["web-scene","service"],"heightModel")],Bs.prototype,"readHeightModel",null),o([c({type:rd.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:rd.jsonValues,write:rd.write}}}})],Bs.prototype,"heightUnit",void 0),o([ce("web-scene","heightUnit")],Bs.prototype,"readHeightUnit",null),o([ce("service","heightUnit")],Bs.prototype,"readHeightUnitService",null),o([c({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Bs.prototype,"vertCRS",void 0),o([ce("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Bs.prototype,"readVertCRS",null),Bs=Oc=o([M("esri.geometry.HeightModelInfo")],Bs);const LI=Bs;let W2=0;const j8=ye.getLogger("esri.layers.Layer");let Xt=class extends ep.EventedMixin(sp(up)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Dt(-180,-90,180,90,Ue.WGS84),this.id=Date.now().toString(16)+"-layer-"+W2++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ue.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e,r=await Ne(()=>import("./arcgisLayers.d7b85fca.js"),["./arcgisLayers.d7b85fca.js","./lazyLayerLoader.48c99bb1.js"],import.meta.url);try{return await r.fromUrl(t)}catch(s){throw j8.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",s),s}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},r=await Ne(()=>import("./portalLayers.a08ad74d.js"),["./portalLayers.a08ad74d.js","./lazyLayerLoader.48c99bb1.js","./layersLoader.65f14e7f.js","./jsonContext.2f17ab7c.js"],import.meta.url);try{return await r.fromItem(t)}catch(s){const i=t&&t.portalItem,n=i&&i.id||"unset",a=i&&i.portal&&i.portal.url||rt.portalUrl;throw j8.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+n+"')",s),s}}initialize(){this.when().catch(e=>{var t,r;oi(e)||ye.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(r=this.id)!=null?r:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?Kr(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Tt(e,{query:{f:"json"},responseType:"json"})).data;throw new Z("layer:no-attribution-data","Layer does not have attribution data")}};o([c({type:String})],Xt.prototype,"attributionDataUrl",void 0),o([c({type:Dt})],Xt.prototype,"fullExtent",void 0),o([c({readOnly:!0})],Xt.prototype,"hasAttributionData",null),o([c({type:String,clonable:!1})],Xt.prototype,"id",void 0),o([c({type:Boolean,nonNullable:!0})],Xt.prototype,"legendEnabled",void 0),o([c({type:["show","hide","hide-children"]})],Xt.prototype,"listMode",void 0),o([c({type:Number,range:{min:0,max:1},nonNullable:!0})],Xt.prototype,"opacity",void 0),o([c({clonable:!1})],Xt.prototype,"parent",void 0),o([c({readOnly:!0})],Xt.prototype,"parsedUrl",null),o([c({type:Boolean})],Xt.prototype,"popupEnabled",void 0),o([c({type:Boolean})],Xt.prototype,"attributionVisible",void 0),o([c({type:Ue})],Xt.prototype,"spatialReference",void 0),o([c({type:String})],Xt.prototype,"title",void 0),o([c({type:String,readOnly:!0,json:{read:!1}})],Xt.prototype,"type",void 0),o([c()],Xt.prototype,"url",void 0),o([c({type:Boolean,nonNullable:!0})],Xt.prototype,"visible",void 0),Xt=o([M("esri.layers.Layer")],Xt);const FI=Xt;function hu(e,t,r={}){return R_(e,t,r,NI)}function j_(e,t,r={}){return R_(e,t,r,DI)}function R_(e,t,r={},s){let i=null;const n=r.once?(a,l)=>{s(a)&&(Bd(i),t(a,l))}:(a,l)=>{s(a)&&t(a,l)};if(i=h9(e,n,r.sync,r.equals),r.initial){const a=e();n(a,a)}return i}function Nb(e,t,r,s={}){let i=null,n=null,a=null;function l(){i&&n&&(n.remove(),s.onListenerRemove==null||s.onListenerRemove(i),i=null,n=null)}function d(h){s.once&&s.once&&Bd(a),r(h)}const f=hu(e,(h,y)=>{l(),ky(h)&&(i=h,n=Zd(h,t,d),s.onListenerAdd==null||s.onListenerAdd(h))},{sync:s.sync,initial:!0});return a=Wd(()=>{f.remove(),l()}),a}function Db(e,t){return J2(e,DI,t)}function J2(e,t,r){if(go(r))return Promise.reject(gr());const s=e();if(t!=null&&t(s))return Promise.resolve(s);let i=null;function n(){i=Bd(i)}return new Promise((a,l)=>{i=Ey([vn(r,()=>{n(),l(gr())}),R_(e,d=>{n(),a(d)},{sync:!1,once:!0},t??NI)])})}function NI(e){return!0}function DI(e){return!!e}const zI={sync:!0},VI={initial:!0},K2={sync:!0,initial:!0};let sd=class extends wt{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new Ka,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,hu)}addWhen(e,t,r={}){return this._installWatch(e,t,r,j_)}addOnCollectionChange(e,t,{initial:r=!1}={}){const s=++this.handleId;return this.handles.add([Nb(e,"after-changes",this._createSyncUpdatingCallback(),zI),Nb(e,"change",t,{onListenerAdd:r?i=>t({added:i.toArray(),removed:[]}):void 0})],s),{remove:()=>this.handles.remove(s)}}addPromise(e){if(we(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(Gp)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},s){const i=++this.handleId;r.sync||this._installSyncUpdatingWatch(e,i);const n=s(e,t,r);return this.handles.add(n,i),{remove:()=>this.handles.remove(i)}}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),s=hu(e,r,{sync:!0,equals:()=>!1});return this.handles.add(s,t),s}_createSyncUpdatingCallback(){return()=>{this.handles.remove(Gp),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(Oy(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(Gp))}),Gp)}}};o([c({readOnly:!0})],sd.prototype,"updating",void 0),sd=o([M("esri.views.support.WatchUpdatingTracking")],sd);const Gp=-42;var R8;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(R8||(R8={}));const P_=e=>{let t=class extends e{destroy(){var r,s;this.destroyed||((r=this._get("handles"))==null||r.destroy(),(s=this._get("updatingHandles"))==null||s.destroy())}get handles(){return this._get("handles")||new Ka}get updatingHandles(){return this._get("updatingHandles")||new sd}};return o([c({readOnly:!0})],t.prototype,"handles",null),o([c({readOnly:!0})],t.prototype,"updatingHandles",null),t=o([M("esri.core.HandleOwner")],t),t};let zb=class extends P_(wt){};zb=o([M("esri.core.HandleOwner")],zb);var Lr;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Lr||(Lr={}));let Q2=0;function UI(){return Q2++}function Z2(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function ry(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function qI(e,t,r,s){if(t.type===Lr.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Lr.INVOKE&&t.type!==Lr.RESPONSE)return void e.postMessage(t);let i;Z2(r)?(i=P8(r.transferList),t.data=r.result):(i=P8(s),t.data=r),i?e.postMessage(t,i):e.postMessage(t)}function jd(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function P8(e){if(!e||!e.length)return null;if(Y("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(r=>!Y2(r));return t.length?t:null}function Y2(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const X2={statsWorker:()=>Ne(()=>import("./statsWorker.a224c5b0.js"),["./statsWorker.a224c5b0.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js"],import.meta.url),geometryEngineWorker:()=>Ne(()=>import("./geometryEngineWorker.6db57512.js"),["./geometryEngineWorker.6db57512.js","./geometryEngineJSON.374b7c2b.js","./geometryEngineBase.00185eb7.js","./json.48e3ea08.js"],import.meta.url),CSVSourceWorker:()=>Ne(()=>import("./CSVSourceWorker.75cead13.js"),["./CSVSourceWorker.75cead13.js","./number.99a58907.js","./projection.48893569.js","./json.48e3ea08.js","./OptimizedGeometry.c13bbe61.js","./FeatureStore.aac54b2f.js","./aaBoundingRect.c817757e.js","./featureConversionUtils.02102919.js","./OptimizedFeatureSet.1d1ac4b9.js","./PooledRBush.2fce4e13.js","./quickselect.322ec8e1.js","./QueryEngine.15773cbe.js","./normalizeUtils.ee0c0026.js","./ItemCache.d6e3c301.js","./WhereClause.f94bd0a6.js","./QueryEngineCapabilities.5c978644.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js","./clientSideDefaults.8e7f4699.js"],import.meta.url),EdgeProcessingWorker:()=>Ne(()=>import("./EdgeProcessingWorker.7700ae37.js"),["./EdgeProcessingWorker.7700ae37.js","./deduplicate.0b96b48e.js","./BufferView.3a8fcdfb.js","./vec2.b5add486.js","./enums.ad15c731.js","./VertexElementDescriptor.b51b5c8c.js","./InterleavedLayout.a3a82e65.js","./types.9f7dd3d7.js","./VertexAttribute.90c6b2b6.js"],import.meta.url),ElevationSamplerWorker:()=>Ne(()=>import("./ElevationSamplerWorker.2f9ce3e3.js"),["./ElevationSamplerWorker.2f9ce3e3.js","./PooledRBush.2fce4e13.js","./quickselect.322ec8e1.js","./georeference.8cb341e2.js","./quat.3a54dc9b.js","./vec33.c5142060.js","./projection.48893569.js","./BufferView.3a8fcdfb.js","./vec2.b5add486.js"],import.meta.url),FeatureServiceSnappingSourceWorker:()=>Ne(()=>import("./FeatureServiceSnappingSourceWorker.f5e875eb.js"),["./FeatureServiceSnappingSourceWorker.f5e875eb.js","./FeatureStore.aac54b2f.js","./aaBoundingRect.c817757e.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./PooledRBush.2fce4e13.js","./quickselect.322ec8e1.js","./QueryEngine.15773cbe.js","./normalizeUtils.ee0c0026.js","./ItemCache.d6e3c301.js","./WhereClause.f94bd0a6.js","./projection.48893569.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js","./TileInfo.0392fab3.js","./pbfQueryUtils.bd803463.js","./pbf.b3782e8a.js","./query.f3211350.js","./byteSizeEstimations.4dc27031.js"],import.meta.url),GeoJSONSourceWorker:()=>Ne(()=>import("./GeoJSONSourceWorker.397881e6.js"),["./GeoJSONSourceWorker.397881e6.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./FeatureStore.aac54b2f.js","./aaBoundingRect.c817757e.js","./PooledRBush.2fce4e13.js","./quickselect.322ec8e1.js","./QueryEngine.15773cbe.js","./normalizeUtils.ee0c0026.js","./ItemCache.d6e3c301.js","./WhereClause.f94bd0a6.js","./projection.48893569.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js","./geojson.50ebd339.js","./clientSideDefaults.8e7f4699.js","./sourceUtils.9d28a941.js"],import.meta.url),LercWorker:()=>Ne(()=>import("./LercWorker.8fb80361.js"),[],import.meta.url),MemorySourceWorker:()=>Ne(()=>import("./MemorySourceWorker.e2d8c624.js"),["./MemorySourceWorker.e2d8c624.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./objectIdUtils.b29c2bc0.js","./FeatureStore.aac54b2f.js","./aaBoundingRect.c817757e.js","./PooledRBush.2fce4e13.js","./quickselect.322ec8e1.js","./QueryEngine.15773cbe.js","./normalizeUtils.ee0c0026.js","./ItemCache.d6e3c301.js","./WhereClause.f94bd0a6.js","./projection.48893569.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js","./clientSideDefaults.8e7f4699.js","./sourceUtils.9d28a941.js"],import.meta.url),PBFDecoderWorker:()=>Ne(()=>import("./PBFDecoderWorker.39dd8e68.js"),["./PBFDecoderWorker.39dd8e68.js","./byteSizeEstimations.4dc27031.js","./aaBoundingRect.c817757e.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./pbfQueryUtils.bd803463.js","./pbf.b3782e8a.js"],import.meta.url),Pipeline:()=>Ne(()=>import("./Pipeline.681fa64d.js"),["./Pipeline.681fa64d.js","./TileInfo.0392fab3.js","./aaBoundingRect.c817757e.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./QueryEngine.15773cbe.js","./normalizeUtils.ee0c0026.js","./ItemCache.d6e3c301.js","./WhereClause.f94bd0a6.js","./projection.48893569.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js","./quickselect.322ec8e1.js","./ogcFeatureUtils.0a2356b4.js","./geojson.50ebd339.js","./clientSideDefaults.8e7f4699.js","./query.f3211350.js","./pbfQueryUtils.bd803463.js","./pbf.b3782e8a.js","./enums2.2149e694.js","./enums.ad15c731.js","./Texture.e9e45777.js","./context-util.1337370e.js","./TileKey.698ae1a9.js"],import.meta.url).then(function(e){return e.P}),PointCloudWorker:()=>Ne(()=>import("./PointCloudWorker.89262a40.js"),["./PointCloudWorker.89262a40.js","./quat.3a54dc9b.js","./vec3f32.a99d9267.js","./projection.48893569.js","./PointCloudUniqueValueRenderer.d275d12e.js","./VertexAttribute.90c6b2b6.js"],import.meta.url),RasterWorker:()=>Ne(()=>import("./RasterWorker.3c80ff28.js"),["./RasterWorker.3c80ff28.js","./projection.48893569.js","./dataUtils.13421b7a.js","./colorUtils.0c057879.js","./utils2.7e83f9a8.js"],import.meta.url),SceneLayerWorker:()=>Ne(()=>import("./SceneLayerWorker.4bf65605.js"),[],import.meta.url),WFSSourceWorker:()=>Ne(()=>import("./WFSSourceWorker.93c355c0.js"),["./WFSSourceWorker.93c355c0.js","./featureConversionUtils.02102919.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./FeatureStore.aac54b2f.js","./aaBoundingRect.c817757e.js","./PooledRBush.2fce4e13.js","./quickselect.322ec8e1.js","./QueryEngine.15773cbe.js","./normalizeUtils.ee0c0026.js","./ItemCache.d6e3c301.js","./WhereClause.f94bd0a6.js","./projection.48893569.js","./json.48e3ea08.js","./QueryEngineCapabilities.5c978644.js","./utils.eabeeebf.js","./ClassBreaksDefinition.34ca8653.js","./geojson.50ebd339.js","./sourceUtils.9d28a941.js","./wfsUtils.d8417693.js","./xmlUtils.9250d79f.js"],import.meta.url),WorkerTileHandler:()=>Ne(()=>import("./WorkerTileHandler.1d08df09.js"),["./WorkerTileHandler.1d08df09.js","./StyleRepository.0fd4f3b8.js","./enums2.2149e694.js","./enums.ad15c731.js","./VertexElementDescriptor.b51b5c8c.js","./colorUtils.0c057879.js","./Geometry.daada628.js","./TileClipper.dc52ab4d.js","./pbf.b3782e8a.js","./earcut.d72b7070.js"],import.meta.url)},{CLOSE:L8,ABORT:F8,INVOKE:N8,RESPONSE:Wu,OPEN_PORT:D8,ON:eV}=Lr;class tV{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Lr.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class Br{constructor(t,r){this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new tV(s=>this._onInvokeMessage(s)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const r=new MessageChannel;let s;s=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const i=new Br(r.port1,{channel:r,client:s});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=i),Br.clients.set(i,s),r.port2}static loadWorker(t){const r=X2[t];return r?r():Promise.resolve(null)}close(){this._post({type:L8}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,s){const i=s&&s.signal,n=s&&s.transferList;if(!this._port)return Promise.reject(new Z("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));const a=UI();return new Promise((l,d)=>{const f=Iy(i,()=>{var y;const v=this._outJobs.get(a);v&&(this._outJobs.delete(a),(y=v.abortHandle)==null||y.remove(),this._post({type:F8,jobId:a}),d(gr()))}),h={resolve:l,reject:d,abortHandle:f,debugInfo:t};this._outJobs.set(a,h),this._post({type:N8,jobId:a,methodName:t,abortable:i!=null},r,n)})}on(t,r){const s=new MessageChannel;function i(n){r(n.data)}return this._port.postMessage({type:Lr.ON,eventType:t,port:s.port2},[s.port2]),s.port1.addEventListener("message",i),s.port1.start(),{remove(){s.port1.postMessage({type:Lr.CLOSE}),s.port1.close(),s.port1.removeEventListener("message",i)}}}openPort(){const t=new MessageChannel;return this._post({type:D8,port:t.port2}),t.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{var r;(r=t.abortHandle)==null||r.remove(),t.reject(gr(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){G(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const r=jd(t);if(r)switch(r.type){case Wu:this._onResponseMessage(r);break;case N8:this._invokeQueue.push(r);break;case F8:this._onAbortMessage(r);break;case L8:this._onCloseMessage();break;case D8:this._onOpenPortMessage(r);break;case eV:this._onOnMessage(r)}}_onAbortMessage(t){const r=this._inJobs,s=t.jobId,i=r.get(s);this._invokeQueue.push(t),i&&(i.controller&&i.controller.abort(),r.delete(s))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Br.clients.get(this)===t&&t.destroy(),Br.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:r,jobId:s,data:i,abortable:n}=t,a=n?new AbortController:null,l=this._inJobs;let d,f=this._client,h=f[r];try{if(!h&&r&&r.indexOf(".")!==-1){const y=r.split(".");for(let v=0;v<y.length-1;v++)f=f[y[v]],h=f[y[v+1]]}if(typeof h!="function")throw new TypeError(`${r} is not a function`);d=h.call(f,i,{client:this,signal:a?a.signal:null})}catch(y){return void this._post({type:Wu,jobId:s,error:ry(y)})}vu(d)?(l.set(s,{controller:a,promise:d}),d.then(y=>{l.has(s)&&(l.delete(s),this._post({type:Wu,jobId:s},y))},y=>{l.has(s)&&(l.delete(s),oi(y)||this._post({type:Wu,jobId:s,error:ry(y||{message:`Error encountered at method ${r}`})}))})):this._post({type:Wu,jobId:s},d)}_onOpenPortMessage(t){new Br(t.port,{client:this._client})}_onOnMessage(t){const{port:r}=t,s=this._client.on(t.eventType,n=>{r.postMessage(n)}),i=Zd(t.port,"message",n=>{jd(n).type===Lr.CLOSE&&(i.remove(),s.remove(),r.close())})}_onResponseMessage(t){var r;const{jobId:s,error:i,data:n}=t,a=this._outJobs;if(!a.has(s))return;const l=a.get(s);a.delete(s),(r=l.abortHandle)==null||r.remove(),i?l.reject(Z.fromJSON(JSON.parse(i))):l.resolve(n)}_post(t,r,s){return qI(this._port,t,r,s)}}Br.kernelInfo={revision:xM,version:u_,buildDate:$M},Br.clients=new Map;const rV=ye.getLogger("esri.core.workers.Connection");class BI{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,r){return new Promise((s,i)=>{let n=!0;const a=l=>{ni(r.signal),n&&(n=!1,l())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let l=0;l<t.length;++l){const d=t[l];vu(d)?this._clientPromises[l]=d.then(f=>(this._clients[l]=new Br(f,r),a(s),this._clients[l]),()=>(a(i),null)):(this._clients[l]=new Br(d,r),this._clientPromises[l]=Promise.resolve(this._clients[l]),a(s))}})}broadcast(t,r,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const a=this._clientPromises[n];i[n]=a.then(l=>l.invoke(t,r,s))}return i}close(){for(const t of this._clientPromises)t.then(r=>r.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let r=0;r<this._clients.length;++r){const s=this._clients[r];if(s){if(!s.isBusy())return Promise.resolve(s)}else t=t||[],t.push(this._clientPromises[r])}return t?Promise.race(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(t,r,s){let i=null;return Array.isArray(s)?(rV.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:s}):i=s,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(n=>n.invoke(t,r,i))}on(t,r){return Promise.all(this._clientPromises).then(()=>Ey(this._clients.map(s=>s.on(t,r))))}openPorts(){return new Promise(t=>{const r=new Array(this._clientPromises.length);let s=r.length;for(let i=0;i<this._clientPromises.length;++i)this._clientPromises[i].then(n=>{r[i]=n.openPort(),--s==0&&t(r)})})}get test(){return{numClients:this._clients.length}}}const sV=ye.getLogger("esri.assets");function Cu(e){if(!rt.assetsPath)throw sV.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Z("assets:path-not-set","config.assetsPath is not set");return Fa(rt.assetsPath,e)}const HI=ye.getLogger("esri.intl");function L_(e,t,r={}){const{format:s={}}=r;return Gd(e,i=>iV(i,t,s))}function iV(e,t,r){let s,i;const n=e.indexOf(":");if(n===-1?s=e.trim():(s=e.slice(0,n).trim(),i=e.slice(n+1).trim()),!s)return"";const a=Hd(s,t);if(a==null)return"";const l=r[i]||r[s];return l?nV(a,l):i?oV(a,i):F_(a)}function nV(e,t){switch(t.type){case"date":return La(e,t.intlOptions);case"number":return uu(e,t.intlOptions);default:return HI.warn("missing format descriptor for key {key}"),F_(e)}}function oV(e,t){switch(t.toLowerCase()){case"dateformat":return La(e);case"numberformat":return uu(e);default:return HI.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?La(e):/^numberformat/i.test(t)?uu(e):F_(e)}}function F_(e){switch(typeof e){case"string":return e;case"number":return uu(e);case"boolean":return""+e;default:return e instanceof Date?La(e):""}}const z8=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,aV={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function V8(e){var t;return(t=aV[e])!=null&&t}const Cc=[],Yl=new Map;function U8(e){for(const t of Yl.keys())GI(e.pattern,t)&&Yl.delete(t)}function lV(e){return Cc.includes(e)||(U8(e),Cc.unshift(e)),{remove(){const t=Cc.indexOf(e);t>-1&&(Cc.splice(t,1),U8(e))}}}async function N_(e){const t=ii();Yl.has(e)||Yl.set(e,cV(e,t));const r=Yl.get(e);return await dV.add(r),r}function uV(e){if(!z8.test(e))return null;const[,t,r]=z8.exec(e),s=t+(r?"-"+r.toUpperCase():"");return V8(s)?s:V8(t)?t:null}async function cV(e,t){const r=[];for(const s of Cc)if(GI(s.pattern,e))try{return await s.fetchMessageBundle(e,t)}catch(i){r.push(i)}throw r.length?new Z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new Z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function GI(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}V1(()=>{Yl.clear()});const dV=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Ia())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function pV(e,t,r,s){const i=t.exec(r);if(!i)throw new Z("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const n=i[1]?`${i[1]}/`:"",a=i[2],l=uV(s),d=`${n}${a}.json`,f=l?`${n}${a}_${l}.json`:d;let h;try{h=await q8(e(f))}catch(y){if(f===d)throw new Z("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:y});try{h=await q8(e(d))}catch(v){throw new Z("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:v})}}return h}async function q8(e){if(G(B8.fetchBundleAsset))return B8.fetchBundleAsset(e);const t=await Tt(e,{responseType:"text"});return JSON.parse(t.data)}class hV{constructor({base:t="",pattern:r,location:s=new URL(window.location.href)}){let i;i=typeof s=="string"?n=>new URL(n,new URL(s,window.location.href)).href:s instanceof URL?n=>new URL(n,s).href:s,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,r){return pV(this.getAssetUrl,this.matcher,t,r)}}function fV(e){return new hV(e)}const B8={};lV(fV({pattern:"esri/",location:Cu}));const H8={};function yV(e,t){for(const r of e)if(r.name===t.name)return;e.push(t)}function mV(e){var t;const r={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:q({},e.has),map:q({},e.map),packages:e.packages&&e.packages.concat()||[],paths:q({},e.paths)};return e.hasOwnProperty("async")||(r.async=!0),e.hasOwnProperty("isDebug")||(r.isDebug=!1),e.baseUrl||(r.baseUrl=H8.baseUrl),(t=H8.packages)==null||t.forEach(s=>{yV(r.packages,s)}),r}class gV{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...s)=>t[r](...s)})}}class tf{constructor(){this._dispatcher=new gV,this._workerPostMessage({type:Lr.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){yd(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,s){this._dispatcher.addEventListener(t,r,s)}removeEventListener(t,r,s){this._dispatcher.removeEventListener(t,r,s)}_workerPostMessage(t){yd(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const r=jd(t);if(r&&r.type===Lr.OPEN){const{modulePath:s,jobId:i}=r;let n=await Br.loadWorker(s);n||(n=await Ne(()=>import(s),[],import.meta.url));const a=Br.connect(n);this._workerPostMessage({type:Lr.OPENED,jobId:i,data:a})}}}const Vb=ye.getLogger("esri.core.workers"),{HANDSHAKE:vV}=Lr,bV='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Wp,Jp;const G8="Failed to create Worker. Fallback to execute module in main thread";async function wV(){if(!Y("esri-workers")||(Y("mozilla"),0))return W8(new tf);if(!Wp&&!Jp)try{const t=bV.replace('"{CONFIGURATION}"',`'${_V()}'`);Wp=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){Jp=t||{}}let e;if(Wp)try{e=new Worker(Wp,{name:"esri-worker-"+SV++})}catch{Vb.warn(G8,Jp),e=new tf}else Vb.warn(G8,Jp),e=new tf;return W8(e)}async function W8(e){return new Promise(t=>{function r(i){const n=jd(i);n&&n.type===vV&&(e.removeEventListener("message",r),e.removeEventListener("error",s),t(e))}function s(i){i.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",s),Vb.warn("Failed to create Worker. Fallback to execute module in main thread",i),(e=new tf).addEventListener("message",r),e.addEventListener("error",s)}e.addEventListener("message",r),e.addEventListener("error",s)})}function _V(){let e;if(rt.default!=null){const i=q({},rt);delete i.default,e=JSON.parse(JSON.stringify(i))}else e=JSON.parse(JSON.stringify(rt));e.assetsPath=Ts(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=ii(),e.has={"esri-csp-restrictions":Y("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":Y("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":Y("esri-2d-query-centroid-enabled"),"featurelayer-pbf":Y("featurelayer-pbf"),"featurelayer-simplify-thresholds":Y("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":Y("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":Y("featurelayer-simplify-mobile-factor"),"esri-atomics":Y("esri-atomics"),"esri-shared-array-buffer":Y("esri-shared-array-buffer"),"esri-tiles-debug":Y("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":Y("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":Y("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=Ts(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=Ts(e.workers.workerPath):e.workers.workerPath=Ts(Cu("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=rt.workers.loaderConfig,r=mV({baseUrl:t==null?void 0:t.baseUrl,locale:ii(),has:q({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},t==null?void 0:t.has),map:q({},t==null?void 0:t.map),paths:q({},t==null?void 0:t.paths),packages:(t==null?void 0:t.packages)||[]});return JSON.stringify({esriConfig:e,loaderConfig:r,kernelInfo:{version:u_,buildDate:$M,revision:xM}})}let SV=0;const $V=ye.getLogger("esri.core.workers"),{ABORT:J8,INVOKE:xV,OPEN:EV,OPENED:TV,RESPONSE:Ju}=Lr;class D_{constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",s=>{s.preventDefault(),$V.error(s)})}static async create(t){const r=await wV();return new D_(r,t)}terminate(){this.worker.terminate()}async open(t,r={}){const{signal:s}=r,i=UI();return new Promise((n,a)=>{const l={resolve:n,reject:a,abortHandle:Iy(s,()=>{this._outJobs.delete(i),this._post({type:J8,jobId:i})})};this._outJobs.set(i,l),this._post({type:EV,jobId:i,modulePath:t})})}_onMessage(t){const r=jd(t);if(r)switch(r.type){case TV:this._onOpenedMessage(r);break;case Ju:this._onResponseMessage(r);break;case J8:this._onAbortMessage(r);break;case xV:this._onInvokeMessage(r)}}_onAbortMessage(t){const r=this._inJobs,s=t.jobId,i=r.get(s);i&&(i.controller&&i.controller.abort(),r.delete(s))}_onInvokeMessage(t){const{methodName:r,jobId:s,data:i,abortable:n}=t,a=n?new AbortController:null,l=this._inJobs,d=_D[r];let f;try{if(typeof d!="function")throw new TypeError(`${r} is not a function`);f=d.call(null,i,{signal:a?a.signal:null})}catch(h){return void this._post({type:Ju,jobId:s,error:ry(h)})}vu(f)?(l.set(s,{controller:a,promise:f}),f.then(h=>{l.has(s)&&(l.delete(s),this._post({type:Ju,jobId:s},h))},h=>{l.has(s)&&(l.delete(s),h||(h={message:"Error encountered at method"+r}),oi(h)||this._post({type:Ju,jobId:s,error:ry(h||{message:`Error encountered at method ${r}`})}))})):this._post({type:Ju,jobId:s},f)}_onOpenedMessage(t){var r;const{jobId:s,data:i}=t,n=this._outJobs.get(s);n&&(this._outJobs.delete(s),(r=n.abortHandle)==null||r.remove(),n.resolve(i))}_onResponseMessage(t){var r;const{jobId:s,error:i,data:n}=t,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),(r=a.abortHandle)==null||r.remove(),i?a.reject(Z.fromJSON(JSON.parse(i))):a.resolve(n))}_post(t,r,s){return qI(this.worker,t,r,s)}}let wa=Y("esri-workers-debug")?1:Y("host-browser")?navigator.hardwareConcurrency-1:0;wa||(wa=Y("safari")&&Y("mac")||Y("trident")?7:2);let K8=0;const rf=[];async function Kp(e,t){const r=new BI;return await r.open(e,t),r}async function WI(e,t={}){if(typeof e!="string")throw new Z("workers:undefined-module","modulePath is missing");let r=t.strategy||"distributed";if(Y("host-webworker")&&!Y("esri-workers")&&(r="local"),r==="local"){let s=await Br.loadWorker(e);s||(s=await Ne(()=>import(e),[],import.meta.url)),ni(t.signal);const i=t.client||s;return Kp([Br.connect(s)],Ie(q({},t),{client:i}))}if(await kV(),ni(t.signal),r==="dedicated"){const s=K8++%wa;return Kp([await rf[s].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const s=Math.min(t.maxNumWorkers,wa);if(s<wa){const i=new Array(s);for(let n=0;n<s;++n){const a=K8++%wa;i[n]=rf[a].open(e,t)}return Kp(i,t)}}return Kp(rf.map(s=>s.open(e,t)),t)}let Qp=null;async function kV(){if(Qp)return Qp;new AbortController;const e=[];for(let t=0;t<wa;t++){const r=D_.create(t).then(s=>(rf[t]=s,s));e.push(r)}return Qp=Promise.all(e),Qp}function Q8(e,t,r){if(e.hasM==null||e.hasZ)for(const s of t)for(const i of s)i.length>2&&(i[2]*=r)}function JI(e,t,r){if(!e&&!t||!r)return;const s=Od(r);Z8(e,r,s),Z8(t,r,s)}function Z8(e,t,r){if(e)for(const s of e)MV(s.geometry,t,r)}function MV(e,t,r){if(we(e)||!e.spatialReference||bu(e.spatialReference,t))return;const s=Od(e.spatialReference)/r;if(s!==1){if("x"in e)e.z!=null&&(e.z*=s);else if("rings"in e)Q8(e,e.rings,s);else if("paths"in e)Q8(e,e.paths,s);else if("points"in e&&(e.hasM==null||e.hasZ))for(const i of e.points)i.length>2&&(i[2]*=s)}}function KI(e,t,r){if(we(t)||we(r)||r.vcsWkid||bu(t,r))return null;const s=Od(t)/Od(r);if(s===1)return null;switch(e){case"point":case"esriGeometryPoint":return i=>IV(i,s);case"polyline":case"esriGeometryPolyline":return i=>CV(i,s);case"polygon":case"esriGeometryPolygon":return i=>OV(i,s);case"multipoint":case"esriGeometryMultipoint":return i=>AV(i,s);case"extent":case"esriGeometryExtent":return i=>jV(i,s);default:return null}}function IV(e,t){e&&e.z!=null&&(e.z*=t)}function OV(e,t){if(e)for(const r of e.rings)for(const s of r)s.length>2&&(s[2]*=t)}function CV(e,t){if(e)for(const r of e.paths)for(const s of r)s.length>2&&(s[2]*=t)}function AV(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function jV(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}function Ub(e,t,r){if(!r||!r.features||!r.hasZ)return;const s=KI(r.geometryType,t,e.outSpatialReference);if(!we(s))for(const i of r.features)s(i.geometry)}const QI=new je({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var qb;const RV=new je({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let Ar=qb=class extends X{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?r.value:null}readValueType(e,{description:t}){let r;try{r=JSON.parse(t)}catch{}return r?RV.fromJSON(r.fieldValueType):null}clone(){return new qb({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};o([c({type:String,json:{write:!0}})],Ar.prototype,"alias",void 0),o([c({type:[String,Number],json:{write:{allowNull:!0}}})],Ar.prototype,"defaultValue",void 0),o([c()],Ar.prototype,"description",void 0),o([ce("description")],Ar.prototype,"readDescription",null),o([c({types:OI,json:{read:{reader:A_},write:!0}})],Ar.prototype,"domain",void 0),o([c({type:Boolean,json:{write:!0}})],Ar.prototype,"editable",void 0),o([c({type:Bt,json:{write:!0}})],Ar.prototype,"length",void 0),o([c({type:String,json:{write:!0}})],Ar.prototype,"name",void 0),o([c({type:Boolean,json:{write:!0}})],Ar.prototype,"nullable",void 0),o([$e(QI)],Ar.prototype,"type",void 0),o([c()],Ar.prototype,"valueType",void 0),o([ce("valueType",["description"])],Ar.prototype,"readValueType",null),Ar=qb=o([M("esri.layers.support.Field")],Ar);const em=Ar;var Bb;const Hb=new je({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let or=Bb=class extends X{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=Ue.fromJSON(t.spatialReference),s=[];for(let i=0;i<e.length;i++){const n=e[i],a=wn.fromJSON(n),l=n.geometry&&n.geometry.spatialReference;G(a.geometry)&&!l&&(a.geometry.spatialReference=r);const d=n.aggregateGeometries,f=a.aggregateGeometries;if(d&&G(f))for(const h in f){const y=f[h],v=d[h],b=v==null?void 0:v.spatialReference;G(y)&&!b&&(y.spatialReference=r)}s.push(a)}return s}writeGeometryType(e,t,r,s){if(e)return void Hb.write(e,t,r,s);const{features:i}=this;if(i){for(const n of i)if(n&&G(n.geometry))return void Hb.write(n.geometry.type,t,r,s)}}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,s=us(e);return!r&&t.spatialReference&&(s.spatialReference=Ue.fromJSON(t.spatialReference)),s}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r){for(const s of r)if(s&&G(s.geometry)&&s.geometry.spatialReference)return void(t.spatialReference=s.geometry.spatialReference.toJSON())}}clone(){return new Bb(this.cloneProperties())}cloneProperties(){return U({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const s=t.features[r];if(s.geometry){const i=e&&e[r];s.geometry=i&&i.toJSON()||s.geometry}}return t}quantize(e){const{scale:[t,r],translate:[s,i]}=e,n=f=>Math.round((f-s)/t),a=f=>Math.round((i-f)/r),l=this.features,d=this._getQuantizationFunction(this.geometryType,n,a);for(let f=0,h=l.length;f<h;f++)d(l[f].geometry)||(l.splice(f,1),f--,h--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[s,i],scale:[n,a]}=r,l=h=>h*n+s,d=h=>i-h*a,f=this._getHydrationFunction(e,l,d);for(const{geometry:h}of t)G(h)&&f(h);return this.transform=null,this}_quantizePoints(e,t,r){let s,i;const n=[];for(let a=0,l=e.length;a<l;a++){const d=e[a];if(a>0){const f=t(d[0]),h=r(d[1]);f===s&&h===i||(n.push([f-s,h-i]),s=f,i=h)}else s=t(d[0]),i=r(d[1]),n.push([s,i])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return e==="point"?s=>(s.x=t(s.x),s.y=r(s.y),s):e==="polyline"||e==="polygon"?s=>{const i=Ql(s)?s.rings:s.paths,n=[];for(let a=0,l=i.length;a<l;a++){const d=i[a],f=this._quantizePoints(d,t,r);f&&n.push(f)}return n.length>0?(Ql(s)?s.rings=n:s.paths=n,s):null}:e==="multipoint"?s=>{const i=this._quantizePoints(s.points,t,r);return i.length>0?(s.points=i,s):null}:e==="extent"?s=>s:null}_getHydrationFunction(e,t,r){return e==="point"?s=>{s.x=t(s.x),s.y=r(s.y)}:e==="polyline"||e==="polygon"?s=>{const i=Ql(s)?s.rings:s.paths;let n,a;for(let l=0,d=i.length;l<d;l++){const f=i[l];for(let h=0,y=f.length;h<y;h++){const v=f[h];h>0?(n+=v[0],a+=v[1]):(n=v[0],a=v[1]),v[0]=t(n),v[1]=r(a)}}}:e==="extent"?s=>{s.xmin=t(s.xmin),s.ymin=r(s.ymin),s.xmax=t(s.xmax),s.ymax=r(s.ymax)}:e==="multipoint"?s=>{const i=s.points;let n,a;for(let l=0,d=i.length;l<d;l++){const f=i[l];l>0?(n+=f[0],a+=f[1]):(n=f[0],a=f[1]),f[0]=t(n),f[1]=r(a)}}:void 0}};o([c({type:String,json:{write:!0}})],or.prototype,"displayFieldName",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],or.prototype,"exceededTransferLimit",void 0),o([c({type:[wn],json:{write:!0}})],or.prototype,"features",void 0),o([ce("features")],or.prototype,"readFeatures",null),o([c({type:[em],json:{write:!0}})],or.prototype,"fields",void 0),o([c({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:Hb.read}}})],or.prototype,"geometryType",void 0),o([me("geometryType")],or.prototype,"writeGeometryType",null),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],or.prototype,"hasM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],or.prototype,"hasZ",void 0),o([c({types:Ua,json:{write:!0}})],or.prototype,"queryGeometry",void 0),o([ce("queryGeometry")],or.prototype,"readQueryGeometry",null),o([c({type:Ue,json:{write:!0}})],or.prototype,"spatialReference",void 0),o([me("spatialReference")],or.prototype,"writeSpatialReference",null),o([c({json:{write:!0}})],or.prototype,"transform",void 0),or=Bb=o([M("esri.rest.support.FeatureSet")],or),or.prototype.toJSON.isDefaultToJSON=!0;const tm=or;var PV=Object.freeze(Object.defineProperty({__proto__:null,default:tm},Symbol.toStringTag,{value:"Module"}));let LV=0;const hg=ye.getLogger("esri.layers.graphics.sources.MemorySource");let qn=class extends up.LoadableMixin(Gy(P_(yt))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=G(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var e;const t=(e=this.layer)==null?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);Ub(e,this.layer.spatialReference,r);const s=tm.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const i=this.layer.objectIdField;for(const n of s.features){const a=n.attributes[i],l=this._idToClientGraphic.get(a);l&&(n.geometry=l.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new Z("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return Ub(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(r=>({count:r.count,extent:Dt.fromJSON(r.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new Z("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const s=[],i=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const n=f=>"objectId"in f&&f.objectId!=null?f.objectId:"attributes"in f&&f.attributes[t]!=null?f.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const f of e.deleteFeatures){const h=n(f);h!=null&&s.push(h)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const f of e.updateFeatures)if(i.push(this._serializeFeature(f)),a){const h=n(f);h!=null&&a.set(h,f)}}JI(r?r.features:null,i,this.layer.spatialReference);const{fullExtent:l,featureEditResults:d}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:i,deletes:s});return this.fullExtent=l,r&&r.finish(d.uidToObjectId),this._updateClientGraphicIds(a,d),this._createEditsResult(d)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||we(e))return;const r=[];for(const{geometry:s}of e)!G(s)||s.type!=="mesh"||s.hasExtent||s.loaded||r.push(s.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const s=e.get(r.objectId);s!=null&&this._addIdToClientGraphic(s)}for(const r of t.deleteResults)r.success&&this._idToClientGraphic.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new Z("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let s=null;for(let n=0;n<e.length;n++){const a=e[n],l=this._serializeFeature(a);!s&&G(a.geometry)&&(s=a.geometry.type),r[n]=l,t.set(`${l.uid}`,a)}const i=this;return{features:r,inferredGeometryType:s,finish(n){const a=i.sourceJSON.objectIdField;for(const l in n){const d=n[l],f=t.get(l);f&&(f.attributes||(f.attributes={}),d===-1?delete f.attributes[a]:f.attributes[a]=d,i._addIdToClientGraphic(f))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];r!=null&&this._idToClientGraphic.set(r,e)}get layerOrSourceGeometryType(){var e,t,r;return(e=(t=this.layer)==null?void 0:t.geometryType)!=null?e:(r=this.sourceJSON)==null?void 0:r.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),s=(LV++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:t}:{uid:s,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return we(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?Va.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await WI("MemorySourceWorker",{strategy:Y("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:r,objectIdField:s,hasM:i,hasZ:n,timeInfo:a}=this.layer,l=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const d=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",v=>{hg.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),v.preventDefault()}));const f={features:d.features,fields:t&&t.map(v=>v.toJSON()),geometryType:S0.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&i,hasZ:this.layerOrSourceGeometryType==="mesh"||n,objectIdField:s,spatialReference:l?null:r&&r.toJSON(),timeInfo:a?a.toJSON():null},h=await this._connection.invoke("load",f,{signal:e});for(const v of h.warnings)hg.warn(v.message,{layer:this.layer,warning:v});h.featureErrors.length&&hg.warn(`Encountered ${h.featureErrors.length} validation errors while loading features`,h.featureErrors);const y=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(d.inferredGeometryType)&&(y.geometryType=S0.toJSON(d.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),d.finish(h.assignedObjectIds)}};o([_1({Type:wn,ensureType:at(wn)})],qn.prototype,"itemType",void 0),o([c()],qn.prototype,"type",void 0),o([c({constructOnly:!0})],qn.prototype,"layer",void 0),o([c({readOnly:!0})],qn.prototype,"workerGeometryType",null),o([c()],qn.prototype,"sourceJSON",void 0),qn=o([M("esri.layers.graphics.sources.MemorySource")],qn);const Y8=qn;function FV(e){return"portalItem"in e}const ZI=e=>{let t=class extends e{get apiKey(){var r;return this._isOverridden("apiKey")?this._get("apiKey"):FV(this)?(r=this.portalItem)==null?void 0:r.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return o([c({type:String})],t.prototype,"apiKey",null),t=o([M("esri.layers.mixins.APIKeyMixin")],t),t},YI={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},XI=Object.values(YI),e6=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${XI.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),NV=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${XI.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),DV=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function zV(e){return!!e6.test(e)}function hp(e){const t=Kr(e),r=t.path.match(e6)||t.path.match(NV);if(!r)return null;const[,s,i,n,a]=r,l=i.indexOf("/");return{title:rm(l!==-1?i.slice(l+1):i),serverType:YI[n.toLowerCase()],sublayer:a!=null&&a!==""?parseInt(a,10):null,url:{path:s}}}function t6(e){const t=Kr(e).path.match(DV);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function rm(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function r6(e,t){const r=[];if(e){const s=hp(e);G(s)&&s.title&&r.push(s.title)}if(t){const s=rm(t);r.push(s)}if(r.length===2){if(r[0].toLowerCase().indexOf(r[1].toLowerCase())!==-1)return r[0];if(r[1].toLowerCase().indexOf(r[0].toLowerCase())!==-1)return r[1]}return r.join(" - ")}function z_(e){if(!e)return!1;const t=".arcgis.com/",r="//services",s="//tiles",i="//features",n=(e=e.toLowerCase()).indexOf(t)!==-1,a=e.indexOf(r)!==-1||e.indexOf(s)!==-1||e.indexOf(i)!==-1;return n&&a}function s6(e,t){return e&&l_(vM(e,t))}function i6(e){let{url:t}=e;if(!t)return{url:t};t=vM(t,e.logger);const r=Kr(t),s=hp(r.path);let i;if(G(s))s.sublayer!=null&&e.layer.layerId==null&&(i=s.sublayer),t=s.url.path;else if(e.nonStandardUrlAllowed){const n=t6(r.path);G(n)&&(t=n.serviceUrl,i=n.sublayerId)}return{url:l_(t),layerId:i}}function n6(e,t,r,s,i){wo(t,s,"url",i),s.url&&e.layerId!=null&&(s.url=Fa(s.url,r,e.layerId.toString()))}function VV(e){if(!e)return!1;const t=e.toLowerCase(),r=t.indexOf("/services/")!==-1,s=t.indexOf("/mapserver/wmsserver")!==-1,i=t.indexOf("/imageserver/wmsserver")!==-1,n=t.indexOf("/wmsserver")!==-1;return r&&(s||i||n)}const o6=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=hp(this.url);if(G(r)&&r.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",s6(r,ye.getLogger(this.declaredClass)))}};return o([c()],t.prototype,"title",null),o([c({type:String})],t.prototype,"url",null),t=o([M("esri.layers.mixins.ArcGISService")],t),t};function sm(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}sm();function Qa(e,t,r,s,i,n,a,l,d,f,h,y,v,b,$,T,j){return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=l,e[7]=d,e[8]=f,e[9]=h,e[10]=y,e[11]=v,e[12]=b,e[13]=$,e[14]=T,e[15]=j,e}function UV(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Oo(e,t){if(e===t){const r=t[1],s=t[2],i=t[3],n=t[6],a=t[7],l=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=n,e[11]=t[14],e[12]=i,e[13]=a,e[14]=l}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function qV(e,t){const r=t[0],s=t[1],i=t[2],n=t[3],a=t[4],l=t[5],d=t[6],f=t[7],h=t[8],y=t[9],v=t[10],b=t[11],$=t[12],T=t[13],j=t[14],L=t[15],W=r*l-s*a,O=r*d-i*a,p=r*f-n*a,m=s*d-i*l,g=s*f-n*l,_=i*f-n*d,E=h*T-y*$,k=h*j-v*$,S=h*L-b*$,A=y*j-v*T,H=y*L-b*T,B=v*L-b*j;let N=W*B-O*H+p*A+m*S-g*k+_*E;return N?(N=1/N,e[0]=(l*B-d*H+f*A)*N,e[1]=(i*H-s*B-n*A)*N,e[2]=(T*_-j*g+L*m)*N,e[3]=(v*g-y*_-b*m)*N,e[4]=(d*S-a*B-f*k)*N,e[5]=(r*B-i*S+n*k)*N,e[6]=(j*p-$*_-L*O)*N,e[7]=(h*_-v*p+b*O)*N,e[8]=(a*H-l*S+f*E)*N,e[9]=(s*S-r*H-n*E)*N,e[10]=($*g-T*p+L*W)*N,e[11]=(y*p-h*g-b*W)*N,e[12]=(l*k-a*A-d*E)*N,e[13]=(r*A-s*k+i*E)*N,e[14]=(T*O-$*m-j*W)*N,e[15]=(h*m-y*O+v*W)*N,e):null}function BV(e,t,r){const s=t[0],i=t[1],n=t[2],a=t[3],l=t[4],d=t[5],f=t[6],h=t[7],y=t[8],v=t[9],b=t[10],$=t[11],T=t[12],j=t[13],L=t[14],W=t[15];let O=r[0],p=r[1],m=r[2],g=r[3];return e[0]=O*s+p*l+m*y+g*T,e[1]=O*i+p*d+m*v+g*j,e[2]=O*n+p*f+m*b+g*L,e[3]=O*a+p*h+m*$+g*W,O=r[4],p=r[5],m=r[6],g=r[7],e[4]=O*s+p*l+m*y+g*T,e[5]=O*i+p*d+m*v+g*j,e[6]=O*n+p*f+m*b+g*L,e[7]=O*a+p*h+m*$+g*W,O=r[8],p=r[9],m=r[10],g=r[11],e[8]=O*s+p*l+m*y+g*T,e[9]=O*i+p*d+m*v+g*j,e[10]=O*n+p*f+m*b+g*L,e[11]=O*a+p*h+m*$+g*W,O=r[12],p=r[13],m=r[14],g=r[15],e[12]=O*s+p*l+m*y+g*T,e[13]=O*i+p*d+m*v+g*j,e[14]=O*n+p*f+m*b+g*L,e[15]=O*a+p*h+m*$+g*W,e}function HV(e,t,r){const s=r[0],i=r[1],n=r[2];let a,l,d,f,h,y,v,b,$,T,j,L;return t===e?(e[12]=t[0]*s+t[4]*i+t[8]*n+t[12],e[13]=t[1]*s+t[5]*i+t[9]*n+t[13],e[14]=t[2]*s+t[6]*i+t[10]*n+t[14],e[15]=t[3]*s+t[7]*i+t[11]*n+t[15]):(a=t[0],l=t[1],d=t[2],f=t[3],h=t[4],y=t[5],v=t[6],b=t[7],$=t[8],T=t[9],j=t[10],L=t[11],e[0]=a,e[1]=l,e[2]=d,e[3]=f,e[4]=h,e[5]=y,e[6]=v,e[7]=b,e[8]=$,e[9]=T,e[10]=j,e[11]=L,e[12]=a*s+h*i+$*n+t[12],e[13]=l*s+y*i+T*n+t[13],e[14]=d*s+v*i+j*n+t[14],e[15]=f*s+b*i+L*n+t[15]),e}function GV(e,t,r){const s=r[0],i=r[1],n=r[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function WV(e,t,r,s){let i,n,a,l,d,f,h,y,v,b,$,T,j,L,W,O,p,m,g,_,E,k,S,A,H=s[0],B=s[1],N=s[2],J=Math.sqrt(H*H+B*B+N*N);return J<Et?null:(J=1/J,H*=J,B*=J,N*=J,i=Math.sin(r),n=Math.cos(r),a=1-n,l=t[0],d=t[1],f=t[2],h=t[3],y=t[4],v=t[5],b=t[6],$=t[7],T=t[8],j=t[9],L=t[10],W=t[11],O=H*H*a+n,p=B*H*a+N*i,m=N*H*a-B*i,g=H*B*a-N*i,_=B*B*a+n,E=N*B*a+H*i,k=H*N*a+B*i,S=B*N*a-H*i,A=N*N*a+n,e[0]=l*O+y*p+T*m,e[1]=d*O+v*p+j*m,e[2]=f*O+b*p+L*m,e[3]=h*O+$*p+W*m,e[4]=l*g+y*_+T*E,e[5]=d*g+v*_+j*E,e[6]=f*g+b*_+L*E,e[7]=h*g+$*_+W*E,e[8]=l*k+y*S+T*A,e[9]=d*k+v*S+j*A,e[10]=f*k+b*S+L*A,e[11]=h*k+$*S+W*A,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function JV(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function KV(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function QV(e,t,r){let s,i,n,a=r[0],l=r[1],d=r[2],f=Math.sqrt(a*a+l*l+d*d);return f<Et?null:(f=1/f,a*=f,l*=f,d*=f,s=Math.sin(t),i=Math.cos(t),n=1-i,e[0]=a*a*n+i,e[1]=l*a*n+d*s,e[2]=d*a*n-l*s,e[3]=0,e[4]=a*l*n-d*s,e[5]=l*l*n+i,e[6]=d*l*n+a*s,e[7]=0,e[8]=a*d*n+l*s,e[9]=l*d*n-a*s,e[10]=d*d*n+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function ZV(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function YV(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function XV(e,t){if(e===t)return!0;const r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],l=e[5],d=e[6],f=e[7],h=e[8],y=e[9],v=e[10],b=e[11],$=e[12],T=e[13],j=e[14],L=e[15],W=t[0],O=t[1],p=t[2],m=t[3],g=t[4],_=t[5],E=t[6],k=t[7],S=t[8],A=t[9],H=t[10],B=t[11],N=t[12],J=t[13],x=t[14],V=t[15];return Math.abs(r-W)<=Et*Math.max(1,Math.abs(r),Math.abs(W))&&Math.abs(s-O)<=Et*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(i-p)<=Et*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(n-m)<=Et*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(a-g)<=Et*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-_)<=Et*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(d-E)<=Et*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(f-k)<=Et*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-S)<=Et*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(y-A)<=Et*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(v-H)<=Et*Math.max(1,Math.abs(v),Math.abs(H))&&Math.abs(b-B)<=Et*Math.max(1,Math.abs(b),Math.abs(B))&&Math.abs($-N)<=Et*Math.max(1,Math.abs($),Math.abs(N))&&Math.abs(T-J)<=Et*Math.max(1,Math.abs(T),Math.abs(J))&&Math.abs(j-x)<=Et*Math.max(1,Math.abs(j),Math.abs(x))&&Math.abs(L-V)<=Et*Math.max(1,Math.abs(L),Math.abs(V))}function eU(e){const t=Et,r=e[0],s=e[1],i=e[2],n=e[4],a=e[5],l=e[6],d=e[8],f=e[9],h=e[10];return Math.abs(1-(r*r+n*n+d*d))<=t&&Math.abs(1-(s*s+a*a+f*f))<=t&&Math.abs(1-(i*i+l*l+h*h))<=t}const tU=(e,t)=>{const r=Qa(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Oo(r,r)},rU=(e,t)=>{const r=Qa(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Oo(r,r)},sU=(e,t)=>{const r=1-t,s=Qa(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return Oo(s,s)},iU=(e,t)=>{const r=Math.sin(t*Math.PI/180),s=Math.cos(t*Math.PI/180),i=Qa(e,.213+.787*s-.213*r,.715-.715*s-.715*r,.072-.072*s+.928*r,0,.213-.213*s+.143*r,.715+.285*s+.14*r,.072-.072*s-.283*r,0,.213-.213*s-.787*r,.715-.715*s+.715*r,.072+.928*s+.072*r,0,0,0,0,1);return Oo(i,i)},nU=(e,t)=>{const r=1-2*t,s=Qa(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return Oo(s,s)},oU=(e,t)=>{const r=Qa(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Oo(r,r)},aU=(e,t)=>{const r=1-t,s=Qa(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return Oo(s,s)};class im{constructor(t,r,s){this.strength=t,this.radius=r,this.threshold=s,this.type="bloom"}interpolate(t,r,s){this.strength=qr(t.strength,r.strength,s),this.radius=qr(t.radius,r.radius,s),this.threshold=qr(t.threshold,r.threshold,s)}clone(){return new im(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:id(this.radius),strength:this.strength,threshold:this.threshold}}}class nm{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,s){this.radius=Math.round(qr(t.radius,r.radius,s))}clone(){return new nm(this.radius)}toJSON(){return{type:"blur",radius:id(this.radius)}}}class Rd{constructor(t,r){this.type=t,this.amount=r,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,s){this.amount=qr(t.amount,r.amount,s),this._updateMatrix()}clone(){return new Rd(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||sm();switch(this.type){case"brightness":this._colorMatrix=tU(t,this.amount);break;case"contrast":this._colorMatrix=rU(t,this.amount);break;case"grayscale":this._colorMatrix=sU(t,this.amount);break;case"invert":this._colorMatrix=nU(t,this.amount);break;case"saturate":this._colorMatrix=oU(t,this.amount);break;case"sepia":this._colorMatrix=aU(t,this.amount)}}}class om{constructor(t,r,s,i){this.offsetX=t,this.offsetY=r,this.blurRadius=s,this.color=i,this.type="drop-shadow"}interpolate(t,r,s){this.offsetX=qr(t.offsetX,r.offsetX,s),this.offsetY=qr(t.offsetY,r.offsetY,s),this.blurRadius=qr(t.blurRadius,r.blurRadius,s),this.color[0]=Math.round(qr(t.color[0],r.color[0],s)),this.color[1]=Math.round(qr(t.color[1],r.color[1],s)),this.color[2]=Math.round(qr(t.color[2],r.color[2],s)),this.color[3]=qr(t.color[3],r.color[3],s)}clone(){return new om(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:id(this.offsetX),yoffset:id(this.offsetY),blurRadius:id(this.blurRadius),color:t}}}class am{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,s){this.angle=qr(t.angle,r.angle,s),this._updateMatrix()}clone(){return new am(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||sm();this._colorMatrix=iU(t,this.angle)}}class lm{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,s){this.amount=qr(t.amount,r.amount,s)}clone(){return new lm(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function qr(e,t,r){return e+(t-e)*r}function id(e){return Math.round(1e3*bn(e))/1e3}function lU(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new Rd(e.type,0);case"saturate":case"brightness":case"contrast":return new Rd(e.type,1);case"opacity":return new lm(1);case"hue-rotate":return new am(0);case"blur":return new nm(0);case"drop-shadow":return new om(0,0,0,[...G1("transparent")]);case"bloom":return new im(0,0,1)}}function uU(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every((s,i)=>s.type===r[i].type)}function cU(e,t){const r=e.length>t.length?e:t,s=e.length>t.length?t:e;for(let i=s.length;i<r.length;i++)s.push(lU(r[i]))}function dU(e){const t=e[0];return!!t&&"type"in t}var X8,e$,a6={exports:{}};function l6(e){if(!e||e.length===0)return null;if(typeof e=="string"){const r=t$(e);return r&&r.length!==0?r:null}const t=e.map(r=>{if(!Number.isFinite(r.scale)||r.scale<=0)throw new Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:r});return{scale:r.scale,effects:t$(r.value)}});t.sort((r,s)=>s.effects.length-r.effects.length);for(let r=0;r<t.length-1;r++){if(!uU(t[r].effects,t[r+1].effects))throw new Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[r].effects,b:t[r+1].effects});cU(t[r].effects,t[r+1].effects)}return t.sort((r,s)=>s.scale-r.scale),t}function t$(e){let t;if(!e)return[];try{t=a6.exports.parse(e)}catch(r){throw new Z("effect:invalid-syntax","Invalid effect syntax",{value:e,error:r})}return t.map(r=>pU(r))}function pU(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return hU(e);case"opacity":return fU(e);case"hue-rotate":return yU(e);case"blur":return mU(e);case"drop-shadow":return gU(e);case"bloom":return vU(e)}}catch(t){throw t.details.filter=e,t}throw new Z("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function hU(e){let t=1;return Au(e.parameters,1),e.parameters.length===1&&(t=Qs(e.parameters[0])),new Rd(e.name,t)}function fU(e){let t=1;return Au(e.parameters,1),e.parameters.length===1&&(t=Qs(e.parameters[0])),new lm(t)}function yU(e){let t=0;return Au(e.parameters,1),e.parameters.length===1&&(t=xU(e.parameters[0])),new am(t)}function mU(e){let t=0;return Au(e.parameters,1),e.parameters.length===1&&(t=q_(e.parameters[0]),fp(t,e.parameters[0])),new nm(t)}function gU(e){const t=[];let r=null;for(const s of e.parameters)if(s.type==="color"){if(t.length&&Object.freeze(t),r)throw new Z("effect:type-error","Accepts only one color",{});r=EU(s)}else{const i=q_(s);if(Object.isFrozen(t))throw new Z("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(i),t.length===3&&fp(i,s)}if(t.length<2||t.length>3)throw new Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new om(t[0],t[1],t[2]||0,r||u6("black"))}function vU(e){let t=1,r=0,s=0;return Au(e.parameters,3),e.parameters[0]&&(t=Qs(e.parameters[0])),e.parameters[1]&&(r=q_(e.parameters[1]),fp(r,e.parameters[1])),e.parameters[2]&&(s=Qs(e.parameters[2])),new im(t,r,s)}function Au(e,t){if(e.length>t)throw new Z("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function um(e){if(e.type==="color")return"<color>";if(e.unit){if(U_[e.unit])return"<length>";if(V_[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function fp(e,t){if(e<0)throw new Z("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function bU(e){if(e.type!=="quantity"||e.unit!==null)throw new Z("effect:type-error",`Expected <double>, Actual: ${um(e)}`,{term:e})}function wU(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${um(e)}`,{term:e})}e$=function(){function e(i,n){function a(){this.constructor=i}a.prototype=n.prototype,i.prototype=new a}function t(i,n,a,l){var d=Error.call(this,i);return Object.setPrototypeOf&&Object.setPrototypeOf(d,t.prototype),d.expected=n,d.found=a,d.location=l,d.name="SyntaxError",d}function r(i,n,a){return a=a||" ",i.length>n?i:(n-=i.length,i+(a+=a.repeat(n)).slice(0,n))}function s(i,n){var a,l={},d=(n=n!==void 0?n:{}).grammarSource,f={start:He},h=He,y="none",v=")",b=",",$="(",T="%",j="px",L="cm",W="mm",O="in",p="pt",m="pc",g="deg",_="rad",E="grad",k="turn",S="#",A=".",H="e",B=/^[ \t\n\r]/,N=/^[a-z\-]/,J=/^[0-9a-fA-F]/,x=/^[+\-]/,V=/^[0-9]/,K=pt("none"),de=be("none",!1),ke=be(")",!1),ve=be(",",!1),Qe=pt("whitespace"),xt=We([" ","	",`
`,"\r"],!1,!1),Kt=pt("function"),_t=be("(",!1),dt=pt("identifier"),St=We([["a","z"],"-"],!1,!1),Pt=pt("percentage"),Cs=be("%",!1),Qt=pt("length"),ai=be("px",!1),ds=be("cm",!1),C=be("mm",!1),R=be("in",!1),F=be("pt",!1),ee=be("pc",!1),te=pt("angle"),se=be("deg",!1),pe=be("rad",!1),ue=be("grad",!1),le=be("turn",!1),ie=pt("number"),Ee=pt("color"),fe=be("#",!1),he=We([["0","9"],["a","f"],["A","F"]],!1,!1),Me=We(["+","-"],!1,!1),Re=We([["0","9"]],!1,!1),et=be(".",!1),Ke=be("e",!1),sr=function(){return[]},Ht=function(I,Q){return{type:"function",name:I,parameters:Q||[]}},kr=function(I,Q){return Q.length>0?b5(I,Q,3):[I]},cr=function(I){return{type:"quantity",value:I.value,unit:I.unit}},Fi=function(I){return{type:"color",colorType:I.type,value:I.value}},Ya=function(I){return I},dr=function(){return oe()},Mr=function(I){return{value:I,unit:"%"}},Xa=function(I){return{value:I,unit:"px"}},wm=function(I){return{value:I,unit:"cm"}},Lu=function(I){return{value:I,unit:"mm"}},_m=function(I){return{value:I,unit:"in"}},Fu=function(I){return{value:I,unit:"pt"}},el=function(I){return{value:I,unit:"pc"}},yp=function(I){return{value:I,unit:"deg"}},mp=function(I){return{value:I,unit:"rad"}},As=function(I){return{value:I,unit:"grad"}},Ni=function(I){return{value:I,unit:"turn"}},gp=function(I){return{value:I,unit:null}},Sm=function(){return{type:"hex",value:oe()}},Di=function(I){return{type:"function",value:I}},vp=function(){return{type:"named",value:oe()}},bp=function(){return parseFloat(oe())},z=0,Be=0,Co=[{line:1,column:1}],Qr=0,D=[],P=0;if("startRule"in n){if(!(n.startRule in f))throw new Error(`Can't start parsing from rule "`+n.startRule+'".');h=f[n.startRule]}function oe(){return i.substring(Be,z)}function be(I,Q){return{type:"literal",text:I,ignoreCase:Q}}function We(I,Q,re){return{type:"class",parts:I,inverted:Q,ignoreCase:re}}function Lt(){return{type:"end"}}function pt(I){return{type:"other",description:I}}function zt(I){var Q,re=Co[I];if(re)return re;for(Q=I-1;!Co[Q];)Q--;for(re={line:(re=Co[Q]).line,column:re.column};Q<I;)i.charCodeAt(Q)===10?(re.line++,re.column=1):re.column++,Q++;return Co[I]=re,re}function lt(I,Q){var re=zt(I),ze=zt(Q);return{source:d,start:{offset:I,line:re.line,column:re.column},end:{offset:Q,line:ze.line,column:ze.column}}}function ge(I){z<Qr||(z>Qr&&(Qr=z,D=[]),D.push(I))}function ht(I,Q,re){return new t(t.buildMessage(I,Q),I,Q,re)}function He(){var I;return(I=Dr())===l&&(I=Zr()),I}function Dr(){var I,Q;return P++,I=z,ir(),i.substr(z,4)===y?(Q=y,z+=4):(Q=l,P===0&&ge(de)),Q!==l?(ir(),Be=I,I=sr()):(z=I,I=l),P--,I===l&&P===0&&ge(K),I}function Zr(){var I,Q;if(I=[],(Q=li())!==l)for(;Q!==l;)I.push(Q),Q=li();else I=l;return I}function li(){var I,Q,re,ze;return I=z,ir(),(Q=p5())!==l?(ir(),(re=$m())===l&&(re=null),ir(),i.charCodeAt(z)===41?(ze=v,z++):(ze=l,P===0&&ge(ke)),ze!==l?(ir(),Be=I,I=Ht(Q,re)):(z=I,I=l)):(z=I,I=l),I}function $m(){var I,Q,re,ze,pr,kt,hs,wp;if(I=z,(Q=xm())!==l){for(re=[],ze=z,pr=ir(),i.charCodeAt(z)===44?(kt=b,z++):(kt=l,P===0&&ge(ve)),kt===l&&(kt=null),hs=ir(),(wp=xm())!==l?ze=pr=[pr,kt,hs,wp]:(z=ze,ze=l);ze!==l;)re.push(ze),ze=z,pr=ir(),i.charCodeAt(z)===44?(kt=b,z++):(kt=l,P===0&&ge(ve)),kt===l&&(kt=null),hs=ir(),(wp=xm())!==l?ze=pr=[pr,kt,hs,wp]:(z=ze,ze=l);Be=I,I=kr(Q,re)}else z=I,I=l;return I}function xm(){var I,Q;return I=z,(Q=h5())===l&&(Q=f5())===l&&(Q=y5())===l&&(Q=m5()),Q!==l&&(Be=I,Q=cr(Q)),(I=Q)===l&&(I=z,(Q=g5())!==l&&(Be=I,Q=Fi(Q)),I=Q),I}function ir(){var I,Q;for(P++,I=[],B.test(i.charAt(z))?(Q=i.charAt(z),z++):(Q=l,P===0&&ge(xt));Q!==l;)I.push(Q),B.test(i.charAt(z))?(Q=i.charAt(z),z++):(Q=l,P===0&&ge(xt));return P--,Q=l,P===0&&ge(Qe),I}function p5(){var I,Q,re;return P++,I=z,(Q=d3())!==l?(i.charCodeAt(z)===40?(re=$,z++):(re=l,P===0&&ge(_t)),re!==l?(Be=I,I=Ya(Q)):(z=I,I=l)):(z=I,I=l),P--,I===l&&(Q=l,P===0&&ge(Kt)),I}function d3(){var I,Q,re;if(P++,I=z,Q=[],N.test(i.charAt(z))?(re=i.charAt(z),z++):(re=l,P===0&&ge(St)),re!==l)for(;re!==l;)Q.push(re),N.test(i.charAt(z))?(re=i.charAt(z),z++):(re=l,P===0&&ge(St));else Q=l;return Q!==l&&(Be=I,Q=dr()),P--,(I=Q)===l&&(Q=l,P===0&&ge(dt)),I}function h5(){var I,Q,re;return P++,I=z,ir(),(Q=ps())!==l?(i.charCodeAt(z)===37?(re=T,z++):(re=l,P===0&&ge(Cs)),re!==l?(Be=I,I=Mr(Q)):(z=I,I=l)):(z=I,I=l),P--,I===l&&P===0&&ge(Pt),I}function f5(){var I,Q,re;return P++,I=z,ir(),(Q=ps())!==l?(i.substr(z,2)===j?(re=j,z+=2):(re=l,P===0&&ge(ai)),re!==l?(Be=I,I=Xa(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,ir(),(Q=ps())!==l?(i.substr(z,2)===L?(re=L,z+=2):(re=l,P===0&&ge(ds)),re!==l?(Be=I,I=wm(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,ir(),(Q=ps())!==l?(i.substr(z,2)===W?(re=W,z+=2):(re=l,P===0&&ge(C)),re!==l?(Be=I,I=Lu(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,ir(),(Q=ps())!==l?(i.substr(z,2)===O?(re=O,z+=2):(re=l,P===0&&ge(R)),re!==l?(Be=I,I=_m(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,ir(),(Q=ps())!==l?(i.substr(z,2)===p?(re=p,z+=2):(re=l,P===0&&ge(F)),re!==l?(Be=I,I=Fu(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,ir(),(Q=ps())!==l?(i.substr(z,2)===m?(re=m,z+=2):(re=l,P===0&&ge(ee)),re!==l?(Be=I,I=el(Q)):(z=I,I=l)):(z=I,I=l)))))),P--,I===l&&P===0&&ge(Qt),I}function y5(){var I,Q,re;return P++,I=z,(Q=ps())!==l?(i.substr(z,3)===g?(re=g,z+=3):(re=l,P===0&&ge(se)),re!==l?(Be=I,I=yp(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,(Q=ps())!==l?(i.substr(z,3)===_?(re=_,z+=3):(re=l,P===0&&ge(pe)),re!==l?(Be=I,I=mp(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,(Q=ps())!==l?(i.substr(z,4)===E?(re=E,z+=4):(re=l,P===0&&ge(ue)),re!==l?(Be=I,I=As(Q)):(z=I,I=l)):(z=I,I=l),I===l&&(I=z,(Q=ps())!==l?(i.substr(z,4)===k?(re=k,z+=4):(re=l,P===0&&ge(le)),re!==l?(Be=I,I=Ni(Q)):(z=I,I=l)):(z=I,I=l)))),P--,I===l&&(Q=l,P===0&&ge(te)),I}function m5(){var I,Q;return P++,I=z,ir(),(Q=ps())!==l?(Be=I,I=gp(Q)):(z=I,I=l),P--,I===l&&P===0&&ge(ie),I}function g5(){var I,Q,re,ze;if(P++,I=z,i.charCodeAt(z)===35?(Q=S,z++):(Q=l,P===0&&ge(fe)),Q!==l){if(re=[],J.test(i.charAt(z))?(ze=i.charAt(z),z++):(ze=l,P===0&&ge(he)),ze!==l)for(;ze!==l;)re.push(ze),J.test(i.charAt(z))?(ze=i.charAt(z),z++):(ze=l,P===0&&ge(he));else re=l;re!==l?(Be=I,I=Sm()):(z=I,I=l)}else z=I,I=l;return I===l&&(I=z,(Q=li())!==l&&(Be=I,Q=Di(Q)),(I=Q)===l&&(I=z,(Q=d3())!==l&&(Be=I,Q=vp()),I=Q)),P--,I===l&&(Q=l,P===0&&ge(Ee)),I}function ps(){var I,Q,re,ze,pr,kt,hs;for(I=z,x.test(i.charAt(z))?(i.charAt(z),z++):P===0&&ge(Me),Q=z,re=[],V.test(i.charAt(z))?(ze=i.charAt(z),z++):(ze=l,P===0&&ge(Re));ze!==l;)re.push(ze),V.test(i.charAt(z))?(ze=i.charAt(z),z++):(ze=l,P===0&&ge(Re));if(i.charCodeAt(z)===46?(ze=A,z++):(ze=l,P===0&&ge(et)),ze!==l){if(pr=[],V.test(i.charAt(z))?(kt=i.charAt(z),z++):(kt=l,P===0&&ge(Re)),kt!==l)for(;kt!==l;)pr.push(kt),V.test(i.charAt(z))?(kt=i.charAt(z),z++):(kt=l,P===0&&ge(Re));else pr=l;pr!==l?Q=re=[re,ze,pr]:(z=Q,Q=l)}else z=Q,Q=l;if(Q===l)if(Q=[],V.test(i.charAt(z))?(re=i.charAt(z),z++):(re=l,P===0&&ge(Re)),re!==l)for(;re!==l;)Q.push(re),V.test(i.charAt(z))?(re=i.charAt(z),z++):(re=l,P===0&&ge(Re));else Q=l;if(Q!==l){if(re=z,i.charCodeAt(z)===101?(ze=H,z++):(ze=l,P===0&&ge(Ke)),ze!==l){if(x.test(i.charAt(z))?(pr=i.charAt(z),z++):(pr=l,P===0&&ge(Me)),pr===l&&(pr=null),kt=[],V.test(i.charAt(z))?(hs=i.charAt(z),z++):(hs=l,P===0&&ge(Re)),hs!==l)for(;hs!==l;)kt.push(hs),V.test(i.charAt(z))?(hs=i.charAt(z),z++):(hs=l,P===0&&ge(Re));else kt=l;kt!==l?re=ze=[ze,pr,kt]:(z=re,re=l)}else z=re,re=l;re===l&&(re=null),Be=I,I=bp()}else z=I,I=l;return I}function v5(I,Q){return I.map(function(re){return re[Q]})}function b5(I,Q,re){return[I].concat(v5(Q,re))}if((a=h())!==l&&z===i.length)return a;throw a!==l&&z<i.length&&ge(Lt()),ht(D,Qr<i.length?i.charAt(Qr):null,Qr<i.length?lt(Qr,Qr+1):lt(Qr,Qr))}return e(t,Error),t.prototype.format=function(i){var n="Error: "+this.message;if(this.location){var a,l=null;for(a=0;a<i.length;a++)if(i[a].source===this.location.source){l=i[a].text.split(/\r\n|\n|\r/g);break}var d=this.location.start,f=this.location.source+":"+d.line+":"+d.column;if(l){var h=this.location.end,y=r("",d.line.toString().length),v=l[d.line-1],b=d.line===h.line?h.column:v.length+1;n+=`
 --> `+f+`
`+y+` |
`+d.line+" | "+v+`
`+y+" | "+r("",d.column-1)+r("",b-d.column,"^")}else n+=`
 at `+f}return n},t.buildMessage=function(i,n){var a={literal:function(b){return'"'+d(b.text)+'"'},class:function(b){var $=b.parts.map(function(T){return Array.isArray(T)?f(T[0])+"-"+f(T[1]):f(T)});return"["+(b.inverted?"^":"")+$+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(b){return b.description}};function l(b){return b.charCodeAt(0).toString(16).toUpperCase()}function d(b){return b.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+l($)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function($){return"\\x"+l($)})}function f(b){return b.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+l($)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function($){return"\\x"+l($)})}function h(b){return a[b.type](b)}function y(b){var $,T,j=b.map(h);if(j.sort(),j.length>0){for($=1,T=1;$<j.length;$++)j[$-1]!==j[$]&&(j[T]=j[$],T++);j.length=T}switch(j.length){case 1:return j[0];case 2:return j[0]+" or "+j[1];default:return j.slice(0,-1).join(", ")+", or "+j[j.length-1]}}function v(b){return b?'"'+d(b)+'"':"end of input"}return"Expected "+y(i)+" but "+v(n)+" found."},{SyntaxError:t,parse:s}},(X8=a6).exports&&(X8.exports=e$());const V_={deg:1,grad:.9,rad:180/Math.PI,turn:360};function _U(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&V_[e.unit]!=null))throw new Z("effect:type-error",`Expected <angle>, Actual: ${um(e)}`,{term:e})}const U_={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function SU(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&U_[e.unit]!=null))throw new Z("effect:type-error",`Expected <length>, Actual: ${um(e)}`,{term:e})}function Qs(e){wU(e);const t=e.value;return fp(t,e),e.unit==="%"?.01*t:t}function $U(e){return bU(e),fp(e.value,e),e.value}function xU(e){return _U(e),e.value*V_[e.unit]||0}function q_(e){return SU(e),e.value*U_[e.unit]||0}function EU(e){switch(e.colorType){case"hex":return Z7(e.value);case"named":return u6(e.value);case"function":return MU(e.value)}}function u6(e){if(!Gk(e))throw new Z("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return Q7(e)}const TU=/^rgba?/i,kU=/^hsla?/i;function MU(e){if(Au(e.parameters,4),TU.test(e.name))return[Qs(e.parameters[0]),Qs(e.parameters[1]),Qs(e.parameters[2]),e.parameters[3]?Qs(e.parameters[3]):1];if(kU.test(e.name))return Wk($U(e.parameters[0]),Qs(e.parameters[1]),Qs(e.parameters[2]),e.parameters[3]?Qs(e.parameters[3]):1);throw new Z("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function Gb(e,t,r){try{return OU(e)}catch(i){var s;r==null||(s=r.messages)==null||s.push(i)}return null}function Wb(e,t,r,s){try{const i=IU(e);Wr(r,i,t)}catch(i){s.messages&&s.messages.push(i)}}function IU(e){const t=l6(e);return t?dU(t)?t.map(r=>r.toJSON()):t.map(({scale:r,effects:s})=>({scale:r,value:s.map(i=>i.toJSON())})):null}function OU(e){if(!e||e.length===0)return null;if(CU(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:r$(r.value)});return t}return r$(e)}function CU(e){const t=e[0];return!!t&&"scale"in t}function r$(e){if(!e||!e.length)return"";const t=[];for(const r of e){let s=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":s=[Vi(r,"amount")];break;case"blur":s=[Vi(r,"radius","pt")];break;case"hue-rotate":s=[Vi(r,"angle","deg")];break;case"drop-shadow":s=[Vi(r,"xoffset","pt"),Vi(r,"yoffset","pt"),Vi(r,"blurRadius","pt"),AU(r,"color")];break;case"bloom":s=[Vi(r,"strength"),Vi(r,"radius","pt"),Vi(r,"threshold")]}const i=`${r.type}(${s.filter(Boolean).join(" ")})`;l6(i),t.push(i)}return t.join(" ")}function Vi(e,t,r){if(e[t]==null)throw new Z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function AU(e,t){if(e[t]==null)throw new Z("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const c6=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return o([c({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),o([c({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:Gb},write:{allowNull:!0,writer:Wb}}}}})],t.prototype,"effect",void 0),t=o([M("esri.layers.mixins.BlendLayer")],t),t},d6=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return o([c({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,"customParameters",void 0),t=o([M("esri.layers.mixins.CustomParametersMixin")],t),t},s$={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},jU={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function RU(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function Ma(e,t,r){const s=new Date(e.getTime());if(t&&r){const i=jU[r],{getter:n,setter:a,multiplier:l}=i;if(r==="months"){const d=RU(s.getFullYear(),s.getMonth()+t);s.getDate()>d&&s.setDate(d)}s[a](s[n]()+t*l)}return s}function i$(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function PU(e,t,r){return e===0?0:e*s$[t]/s$[r]}var Hs;let is=Hs=class extends X{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return n$}static get empty(){return LU}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(Hs.allTime)}get isEmpty(){return this.equals(Hs.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new Hs({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=G(this.start)?this.start.getTime():this.start,r=G(this.end)?this.end.getTime():this.end,s=G(e.start)?e.start.getTime():e.start,i=G(e.end)?e.end.getTime():e.end;return t===s&&r===i}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=Of(this.start,s=>i$(s,e)),r=Of(this.end,s=>Ma(i$(s,e),1,e));return new Hs({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Hs.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=Ol(this.start,-1/0,l=>l.getTime()),r=Ol(this.end,1/0,l=>l.getTime()),s=Ol(e.start,-1/0,l=>l.getTime()),i=Ol(e.end,1/0,l=>l.getTime());let n,a;if(s>=t&&s<=r?n=s:t>=s&&t<=i&&(n=t),r>=s&&r<=i?a=r:i>=t&&i<=r&&(a=i),!isNaN(n)&&!isNaN(a)){const l=new Hs;return l.start=n===-1/0?null:new Date(n),l.end=a===1/0?null:new Date(a),l}return Hs.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new Hs,{start:s,end:i}=this;return G(s)&&(r.start=Ma(s,e,t)),G(i)&&(r.end=Ma(i,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return n$.clone();const t=G(this.start)&&G(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=G(this.end)&&G(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Hs({start:t,end:r})}};o([c({type:Date,json:{write:{allowNull:!0}}})],is.prototype,"end",void 0),o([ce("end")],is.prototype,"readEnd",null),o([me("end")],is.prototype,"writeEnd",null),o([c({readOnly:!0,json:{read:!1}})],is.prototype,"isAllTime",null),o([c({readOnly:!0,json:{read:!1}})],is.prototype,"isEmpty",null),o([c({type:Date,json:{write:{allowNull:!0}}})],is.prototype,"start",void 0),o([ce("start")],is.prototype,"readStart",null),o([me("start")],is.prototype,"writeStart",null),is=Hs=o([M("esri.TimeExtent")],is);const n$=new is,LU=new is({start:void 0,end:void 0}),Li=is;var Jb;let ya=Jb=class extends X{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new Jb({mapLayerId:e,gdbVersion:t})}};o([$e({mapLayer:"map-layer"})],ya.prototype,"type",void 0),o([c({type:Bt,json:{write:!0}})],ya.prototype,"mapLayerId",void 0),o([c({type:String,json:{write:!0}})],ya.prototype,"gdbVersion",void 0),ya=Jb=o([M("esri.layers.support.source.MapLayerSource")],ya);var Kb;let Zi=Kb=class extends X{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:r,oidFields:s,spatialReference:i,geometryType:n}=this,a={workspaceId:t,query:r,oidFields:s,spatialReference:(e=i==null?void 0:i.clone())!=null?e:void 0,geometryType:n};return new Kb(a)}};o([$e({queryTable:"query-table"})],Zi.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Zi.prototype,"workspaceId",void 0),o([c({type:String,json:{write:!0}})],Zi.prototype,"query",void 0),o([c({type:String,json:{write:!0}})],Zi.prototype,"oidFields",void 0),o([c({type:Ue,json:{write:!0}})],Zi.prototype,"spatialReference",void 0),o([$e(Ek)],Zi.prototype,"geometryType",void 0),Zi=Kb=o([M("esri.layers.support.source.QueryTableDataSource")],Zi);var Qb;let gl=Qb=class extends X{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new Qb({workspaceId:e,dataSourceName:t})}};o([$e({raster:"raster"})],gl.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],gl.prototype,"dataSourceName",void 0),o([c({type:String,json:{write:!0}})],gl.prototype,"workspaceId",void 0),gl=Qb=o([M("esri.layers.support.source.RasterDataSource")],gl);var Zb;let oa=Zb=class extends X{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new Zb({workspaceId:e,gdbVersion:t,dataSourceName:r})}};o([$e({table:"table"})],oa.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],oa.prototype,"workspaceId",void 0),o([c({type:String,json:{write:!0}})],oa.prototype,"gdbVersion",void 0),o([c({type:String,json:{write:!0}})],oa.prototype,"dataSourceName",void 0),oa=Zb=o([M("esri.layers.support.source.TableDataSource")],oa);var Yb,Xb;const FU=ur()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Xr=Yb=class extends X{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return o$()(e,t,r)}castLeftTableSource(e){return Ai(ew(),e)}readRightTableSource(e,t,r){return o$()(e,t,r)}castRightTableSource(e){return Ai(ew(),e)}clone(){var e,t;const{leftTableKey:r,rightTableKey:s,leftTableSource:i,rightTableSource:n,joinType:a}=this,l={leftTableKey:r,rightTableKey:s,leftTableSource:(e=i==null?void 0:i.clone())!=null?e:void 0,rightTableSource:(t=n==null?void 0:n.clone())!=null?t:void 0,joinType:a};return new Yb(l)}};o([$e({joinTable:"join-table"})],Xr.prototype,"type",void 0),o([c({type:String,json:{write:!0}})],Xr.prototype,"leftTableKey",void 0),o([c({type:String,json:{write:!0}})],Xr.prototype,"rightTableKey",void 0),o([c({json:{write:!0}})],Xr.prototype,"leftTableSource",void 0),o([ce("leftTableSource")],Xr.prototype,"readLeftTableSource",null),o([jt("leftTableSource")],Xr.prototype,"castLeftTableSource",null),o([c({json:{write:!0}})],Xr.prototype,"rightTableSource",void 0),o([ce("rightTableSource")],Xr.prototype,"readRightTableSource",null),o([jt("rightTableSource")],Xr.prototype,"castRightTableSource",null),o([$e(FU)],Xr.prototype,"joinType",void 0),Xr=Yb=o([M("esri.layers.support.source.JoinTableDataSource")],Xr);let fg=null;function o$(){return fg||(fg=za({types:ew()})),fg}let yg=null;function ew(){return yg||(yg={key:"type",base:null,typeMap:{"data-layer":Ss,"map-layer":ya}}),yg}const NU={key:"type",base:null,typeMap:{"join-table":Xr,"query-table":Zi,raster:gl,table:oa}};let Ss=Xb=class extends X{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new Xb({fields:e,dataSource:t})}};o([$e({dataLayer:"data-layer"})],Ss.prototype,"type",void 0),o([c({type:[em],json:{write:!0}})],Ss.prototype,"fields",void 0),o([c({types:NU,json:{write:!0}})],Ss.prototype,"dataSource",void 0),Ss=Xb=o([M("esri.layers.support.source.DataLayerSource")],Ss),Ss.from=at(Ss);var tw;const a$=new je({upperLeft:"upper-left",lowerLeft:"lower-left"});let aa=tw=class extends X{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new tw(U({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};o([c({type:Dt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],aa.prototype,"extent",void 0),o([c({type:["view","edit"],json:{write:!0}})],aa.prototype,"mode",void 0),o([c({type:String,json:{read:a$.read,write:a$.write}})],aa.prototype,"originPosition",void 0),o([c({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],aa.prototype,"tolerance",void 0),aa=tw=o([M("esri.rest.support.QuantizationParameters")],aa);const p6=aa;var rw;const l$=new je({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Gs=rw=class extends X{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=U(e))}clone(){return new rw({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:U(this.statisticParameters)})}};o([c({type:Number,json:{write:!0}})],Gs.prototype,"maxPointCount",void 0),o([c({type:Number,json:{write:!0}})],Gs.prototype,"maxRecordCount",void 0),o([c({type:Number,json:{write:!0}})],Gs.prototype,"maxVertexCount",void 0),o([c({type:String,json:{write:!0}})],Gs.prototype,"onStatisticField",void 0),o([c({type:String,json:{write:!0}})],Gs.prototype,"outStatisticFieldName",void 0),o([c({type:String,json:{read:{source:"statisticType",reader:l$.read},write:{target:"statisticType",writer:l$.write}}})],Gs.prototype,"statisticType",void 0),o([c({type:Object})],Gs.prototype,"statisticParameters",void 0),o([me("statisticParameters")],Gs.prototype,"writeStatisticParameters",null),Gs=rw=o([M("esri.rest.support.StatisticDefinition")],Gs);const h6=Gs;var Xl;const DU=new je({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),zU=new je({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let xe=Xl=class extends X{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return jy(Xl,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const s in e){const i=e[s];Array.isArray(i)?r[s]=i.map(n=>n instanceof Date?n.getTime():n):i instanceof Date?r[s]=i.getTime():r[s]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new Xl(U({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:G(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};xe.MAX_MAX_RECORD_COUNT_FACTOR=5,o([c({json:{write:!0}})],xe.prototype,"aggregateIds",void 0),o([c({type:Boolean,json:{write:!0}})],xe.prototype,"cacheHint",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"compactGeometryEnabled",void 0),o([c({json:{write:!0}})],xe.prototype,"datumTransformation",void 0),o([jt("datumTransformation")],xe.prototype,"castDatumTransformation",null),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"defaultSpatialReferenceEnabled",void 0),o([c({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],xe.prototype,"distance",void 0),o([c({type:Ss,json:{write:!0}})],xe.prototype,"dynamicDataSource",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"formatOf3DObjects",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"gdbVersion",void 0),o([c({types:Ua,json:{read:us,write:!0}})],xe.prototype,"geometry",void 0),o([c({type:Number,json:{write:!0}})],xe.prototype,"geometryPrecision",void 0),o([c({type:[String],json:{write:!0}})],xe.prototype,"groupByFieldsForStatistics",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"having",void 0),o([c({type:Date})],xe.prototype,"historicMoment",void 0),o([me("historicMoment")],xe.prototype,"writeHistoricMoment",null),o([c({type:Number,json:{write:!0}})],xe.prototype,"maxAllowableOffset",void 0),o([c({type:Number,cast:e=>e<1?1:e>Xl.MAX_MAX_RECORD_COUNT_FACTOR?Xl.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],xe.prototype,"maxRecordCountFactor",void 0),o([c({type:["xyFootprint"],json:{write:!0}})],xe.prototype,"multipatchOption",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],xe.prototype,"num",void 0),o([c({json:{write:!0}})],xe.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],xe.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],xe.prototype,"outFields",void 0),o([c({type:Ue,json:{name:"outSR",write:!0}})],xe.prototype,"outSpatialReference",void 0),o([c({type:[h6],json:{write:{enabled:!0,overridePolicy(){return{enabled:G(this.outStatistics)&&this.outStatistics.length>0}}}}})],xe.prototype,"outStatistics",void 0),o([c({json:{write:!0}})],xe.prototype,"parameterValues",void 0),o([me("parameterValues")],xe.prototype,"writeParameterValues",null),o([c({type:ct,json:{write:!0}})],xe.prototype,"pixelSize",void 0),o([c({type:p6,json:{write:!0}})],xe.prototype,"quantizationParameters",void 0),o([c({type:[Object],json:{write:!0}})],xe.prototype,"rangeValues",void 0),o([c({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],xe.prototype,"relationParameter",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"resultType",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnCentroid",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnDistinctValues",void 0),o([c({type:Boolean,json:{default:!0,write:!0}})],xe.prototype,"returnExceededLimitFeatures",void 0),o([c({type:Boolean,json:{write:!0}})],xe.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnQueryGeometry",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],xe.prototype,"returnZ",void 0),o([c({type:Ue,json:{write:!0}})],xe.prototype,"sourceSpatialReference",void 0),o([$e(DU,{ignoreUnknown:!1,name:"spatialRel"})],xe.prototype,"spatialRelationship",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],xe.prototype,"start",void 0),o([me("start"),me("num")],xe.prototype,"writeStart",null),o([c({type:String,json:{write:!0}})],xe.prototype,"sqlFormat",void 0),o([c({type:String,json:{write:!0}})],xe.prototype,"text",void 0),o([c({type:Li,json:{write:!0}})],xe.prototype,"timeExtent",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"timeReferenceUnknownClient",void 0),o([$e(zU,{ignoreUnknown:!1}),c({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],xe.prototype,"units",void 0),o([c({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],xe.prototype,"where",void 0),o([me("where")],xe.prototype,"writeWhere",null),xe=Xl=o([M("esri.rest.support.Query")],xe);const ma=xe;var sw;const mg=new je({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),gg=new je({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let _i=sw=class extends X{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:s,timeExtent:i,objectIds:n,units:a,distance:l}=this;return new ma(q({geometry:U(r),objectIds:U(n),spatialRelationship:s,timeExtent:U(i),where:t,units:a,distance:l},e))}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:s,objectIds:i,units:n,distance:a}=this;return new sw({geometry:U(t),objectIds:U(i),spatialRelationship:r,timeExtent:U(s),where:e,units:n,distance:a})}};o([c({type:String,json:{write:!0}})],_i.prototype,"where",void 0),o([c({types:Ua,json:{write:!0}})],_i.prototype,"geometry",void 0),o([c({type:mg.apiValues,json:{name:"spatialRel",read:{reader:mg.read},write:{allowNull:!1,writer:mg.write,overridePolicy(){return{enabled:G(this.geometry)}}}}})],_i.prototype,"spatialRelationship",void 0),o([c({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],_i.prototype,"distance",void 0),o([c({type:[Number],json:{write:!0}})],_i.prototype,"objectIds",void 0),o([c({type:gg.apiValues,json:{read:gg.read,write:{writer:gg.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],_i.prototype,"units",void 0),o([c({type:Li,json:{write:!0}})],_i.prototype,"timeExtent",void 0),_i=sw=o([M("esri.layers.support.FeatureFilter")],_i);const VU=_i;var iw;let la=iw=class extends X{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t!=null&&t.origin){if(r.filter){const n=Object.keys(r.filter);var s;if(n.length>1||n[0]!=="where")return(s=t.messages)==null||s.push(new Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}var i;if("showExcludedLabels"in r)return(i=t.messages)==null||i.push(new Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new iw({filter:G(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};o([c({type:VU,json:{write:{allowNull:!0,writer(e,t,r,s){const i=e==null?void 0:e.write({},s);i&&Object.keys(i).length!==0?Wr(r,i,t):Wr(r,null,t)}}}})],la.prototype,"filter",void 0),o([c({json:{write:!0,origins:{"web-map":{read:{reader:Gb},write:{writer:Wb,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}}}}})],la.prototype,"includedEffect",void 0),o([c({json:{write:!0,origins:{"web-map":{read:{reader:Gb},write:{writer:Wb,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}}}}})],la.prototype,"excludedEffect",void 0),o([c({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],la.prototype,"excludedLabelsVisible",void 0),la=iw=o([M("esri.layers.support.FeatureEffect")],la);const UU=la,f6=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return o([c({type:UU,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],t.prototype,"featureEffect",void 0),t=o([M("esri.layers.mixins.FeatureEffectLayer")],t),t},qU={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function BU(e){if(!e)return e;const{start:t,end:r}=e;return new Li({start:G(t)?Ma(t,-t.getTimezoneOffset(),"minutes"):t,end:G(r)?Ma(r,-r.getTimezoneOffset(),"minutes"):r})}function HU(e){if(!e)return e;const{start:t,end:r}=e;return new Li({start:G(t)?Ma(t,t.getTimezoneOffset(),"minutes"):t,end:G(r)?Ma(r,r.getTimezoneOffset(),"minutes"):r})}var nw;let Ac=nw=class extends X{async collectRequiredFields(e,t){return $n(e,t,this.expression)}clone(){return new nw({expression:this.expression,title:this.title})}};o([c({type:String,json:{write:!0}})],Ac.prototype,"expression",void 0),o([c({type:String,json:{write:!0}})],Ac.prototype,"title",void 0),Ac=nw=o([M("esri.layers.support.FeatureExpressionInfo")],Ac);const u$=Ac;function GU(){const e=Object.keys(dI);return e.sort(),e}const WU=GU();var ow;const Zp=ur()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),c$=new je({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Yi=ow=class extends X{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,r,s){t[r]=e.write({},s),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):G(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new ow({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};o([c({type:u$,json:{write:!0}})],Yi.prototype,"featureExpressionInfo",void 0),o([ce("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Yi.prototype,"readFeatureExpressionInfo",null),o([me("featureExpressionInfo",{featureExpressionInfo:{type:u$},"featureExpression.value":{type:[0]}})],Yi.prototype,"writeFeatureExpressionInfo",null),o([c({type:Zp.apiValues,nonNullable:!0,json:{type:Zp.jsonValues,read:Zp.read,write:{writer:Zp.write,isRequired:!0}}})],Yi.prototype,"mode",null),o([c({type:Number,json:{write:!0}})],Yi.prototype,"offset",void 0),o([c({type:WU,json:{type:String,read:c$.read,write:c$.write}})],Yi.prototype,"unit",null),Yi=ow=o([M("esri.layers.support.ElevationInfo")],Yi);const y6=Yi,m6={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},B_={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},H_={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},g6={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:wo}}},v6={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},b6={value:null,type:y6,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function JU(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const nd={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},w6=Ie(q({},nd),{json:Ie(q({},nd.json),{origins:{"web-document":Ie(q({},nd.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&r.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?Td(t.layerDefinition.drawingInfo.transparency):void 0:Td(t.drawingInfo.transparency)}})}),KU={type:Li,readOnly:!0,get(){var e,t;if((e=this.layer)==null||!e.timeInfo)return null;const{datesInUnknownTimezone:r,timeOffset:s,useViewTime:i}=this.layer,n=(t=this.view)==null?void 0:t.timeExtent;let a=this.layer.timeExtent;r&&(a=HU(a));let l=i?n&&a?n.intersection(a):n||a:a;if(!l||l.isEmpty||l.isAllTime)return l;s&&(l=l.offset(-s.value,s.unit)),r&&(l=BU(l));const d=this._get("timeExtent");return l.equals(d)?d:l}},QU={type:Dt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Dt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(r.spatialReference=Ue.fromJSON(t.spatialReference)),r}}}},read:!1}},_6={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},S6={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},$6={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},x6=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(r,s,i,n){(n&&n.layerContainerType==="ground"||r&&tk(this,i,{},n))&&(s[i]=r)}writeOperationalLayerType(r,s,i,n){!r||n&&n.layerContainerType==="tables"||(s.layerType=r)}writeTitle(r,s){s.title=r||"Layer"}read(r,s){s&&(s.layer=this),eL(this,r,i=>super.read(r,i),s)}write(r,s){if(s!=null&&s.origin){const d=`${s.origin}/${s.layerContainerType||"operational-layers"}`,f=qU[d];let h=f&&f[this.operationalLayerType];var i;if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(h=!1),!h)return(i=s.messages)==null||i.push(new Z("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const n=super.write(r,Ie(q({},s),{layer:this})),a=!!s&&!!s.messages&&!!s.messages.filter(d=>d instanceof Z&&d.name==="web-document-write:property-required").length;var l;return lp(n==null?void 0:n.url)?(s==null||(l=s.messages)==null||l.push(new Z("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&a?null:n}beforeSave(){}};return o([c({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),o([c({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),o([me("listMode")],t.prototype,"writeListMode",null),o([c({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),o([me("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),o([c(nd)],t.prototype,"opacity",void 0),o([c({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),o([me("title")],t.prototype,"writeTitle",null),o([c({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=o([M("esri.layers.mixins.OperationalLayer")],t),t};var aw;const vg=new je({asc:"ascending",desc:"descending"});let vl=aw=class extends X{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new aw({field:this.field,valueExpression:this.valueExpression,order:this.order})}};o([c({type:String,json:{write:!0}})],vl.prototype,"field",void 0),o([c({type:String,json:{write:!0}})],vl.prototype,"valueExpression",void 0),o([c({type:vg.apiValues,json:{read:vg.read,write:vg.write}})],vl.prototype,"order",void 0),vl=aw=o([M("esri.layers.support.OrderByInfo")],vl);const E6=vl;function ZU(e,t,r){if(!e)return null;const s=e.find(n=>!!n.field);if(!s)return null;const i=new E6;return i.read(s,r),[i]}function YU(e,t,r,s){const i=e.find(n=>!!n.field);i&&Wr(r,[i.toJSON()],t)}const T6=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return o([c({type:[E6],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:ZU},write:{target:"layerDefinition.orderBy",writer:YU}}})],t.prototype,"orderBy",void 0),t=o([M("esri.layers.mixins.OrderedLayer")],t),t};function XU(e,t,r){return Mi(e.map((s,i)=>t.apply(r,[s,i])))}function eq(e,t,r){return Mi(e.map((s,i)=>t.apply(r,[s,i]))).then(s=>s.map(i=>i.value))}function G_(e){return we(e)?ET():e.then(t=>({ok:!0,value:t})).catch(t=>({ok:!1,error:t}))}function tq(e){return e.then(t=>({ok:!0,value:t})).catch(t=>(gu(t),{ok:!1,error:t}))}const rq=ye.getLogger("esri.portal.PortalItemResource");let Bn=class extends wt{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?Ie(q({},e),{path:this._normalizePath(e.path,e.portalItem)}):e}set path(e){G(e)&&Gr(e)?rq.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if(we(r))throw new Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:KE(t,"signal")})}async update(e,t){return(await Ne(()=>import("./resourceUtils.21c2134e.js"),[],import.meta.url)).addOrUpdateResource(this,"update",e,t)}hasPath(){return G(this.path)}_normalizePath(e,t){return we(e)?e:(e=e.replace(/^\/+/,""),G(t)&&Gr(e)&&(e=qy(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};o([c()],Bn.prototype,"portalItem",void 0),o([c({type:String,value:null})],Bn.prototype,"path",null),o([jt("path")],Bn.prototype,"_castPath",null),o([c({type:String,readOnly:!0})],Bn.prototype,"url",null),o([c({type:String,readOnly:!0})],Bn.prototype,"itemRelativeUrl",null),Bn=o([M("esri.portal.PortalItemResource")],Bn);const sq=Bn;let jc=class extends wt{constructor(e){super(e),this.created=null,this.rating=null}};o([c()],jc.prototype,"created",void 0),o([c()],jc.prototype,"rating",void 0),jc=o([M("esri.portal.PortalRating")],jc);const bg=jc;var bl;let De=bl=class extends Py(up){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return jy(bl,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return e==="Feature Service"||e==="Feature Collection"?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":e==="Image Service"?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?r="Scene Layer":e==="Media Service"?r="Media Layer":e==="Scene Package"?r="Scene Layer Package":e==="Stream Service"?r="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":e==="Geocoding Service"?r="Locator":e==="Geoenrichment Service"?r="GeoEnrichment Service":e==="Microsoft Powerpoint"?r="Microsoft PowerPoint":e==="GeoJson"?r="GeoJSON":e==="Globe Service"?r="Globe Layer":e==="Vector Tile Service"?r="Tile Layer":e==="netCDF"?r="NetCDF":e==="Map Service"?r=t.indexOf("Spatiotemporal")===-1&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&t.indexOf("Relational")===-1?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?r="Big Data File Share":e==="Compact Tile Package"?r="Tile Package (tpkx)":e==="OGCFeatureServer"?r="OGC Feature Layer":e==="web mapping application"&&t.indexOf("configurableApp")>-1&&(r="Instant App"),r}readExtent(e){return e&&e.length?new Dt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",s="16";let i,n=!1,a=!1,l=!1,d=!1,f=!1,h=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(n=t.indexOf("Hosted Service")>-1,e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(a=t.indexOf("Table")>-1,l=t.indexOf("Route Layer")>-1,d=t.indexOf("Markup")>-1,f=t.indexOf("Spatiotemporal")!==-1,h=t.indexOf("UtilityNetwork")!==-1,i=f&&a?"spatiotemporaltable":a?"table":l?"routelayer":d?"markup":f?"spatiotemporal":n?"featureshosted":h?"utilitynetwork":"features"):i=e==="map service"||e==="wms"||e==="wmts"?n||t.indexOf("Tiled")>-1||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="media service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):i=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.indexOf("configurableApp")>-1?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.indexOf("ArcGIS Pro")>-1||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":"maps",i?Cu(r+i+s+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=Fr.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:G(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof bg&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new bg({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:U(this.applicationProxies),avgRating:this.avgRating,categories:U(this.categories),created:U(this.created),culture:this.culture,description:this.description,extent:U(this.extent),groupCategories:U(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:U(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:U(this.screenshots),size:this.size,snippet:this.snippet,tags:U(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:U(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new bl({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",Ie(q({responseType:e},t),{query:{token:this.apiKey}}))}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",q({query:{token:this.apiKey}},e)).then(t=>t.rating!=null?(t.created=new Date(t.created),new bg(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",q({query:Ie(q({},e),{token:this.apiKey})},t),bl)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const s in r.query)r.query[s]===null&&(r.query[s]="");return r.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?r.query.text=t:typeof t=="object"&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then(()=>this.reload())}):Promise.reject(new Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if(typeof t=="string")To(t)?s.query={data:t}:s.query={url:Ts(t)},G(r)&&(s.query.filename=r);else{const i=new FormData;G(r)?i.append("file",t,r):i.append("file",t),s.body=i}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,s).then(()=>this.reload())}):Promise.reject(new Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await Ne(()=>import("./resourceUtils.21c2134e.js"),[],import.meta.url)).fetchResources(this,e,t)}async addResource(e,t,r){const s=await Ne(()=>import("./resourceUtils.21c2134e.js"),[],import.meta.url);return e.portalItem=this,s.addOrUpdateResource(e,"add",t,r)}async removeResource(e,t){const r=await Ne(()=>import("./resourceUtils.21c2134e.js"),[],import.meta.url);if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r.removeResource(this,e,t)}async removeAllResources(e){return(await Ne(()=>import("./resourceUtils.21c2134e.js"),[],import.meta.url)).removeAllResources(this,e)}resourceFromPath(e){return new sq({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return d1(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new bl({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};o([c({type:["private","shared","org","public"]})],De.prototype,"access",void 0),o([c()],De.prototype,"accessInformation",void 0),o([c({type:String})],De.prototype,"apiKey",void 0),o([c({json:{read:{source:"appProxies"}}})],De.prototype,"applicationProxies",void 0),o([c()],De.prototype,"avgRating",void 0),o([c()],De.prototype,"categories",void 0),o([c({type:Date})],De.prototype,"created",void 0),o([c()],De.prototype,"culture",void 0),o([c()],De.prototype,"description",void 0),o([c({readOnly:!0})],De.prototype,"displayName",null),o([c({type:Dt})],De.prototype,"extent",void 0),o([ce("extent")],De.prototype,"readExtent",null),o([c()],De.prototype,"groupCategories",void 0),o([c({readOnly:!0})],De.prototype,"iconUrl",null),o([c()],De.prototype,"id",void 0),o([c({readOnly:!0})],De.prototype,"isLayer",null),o([c()],De.prototype,"itemControl",void 0),o([c({readOnly:!0})],De.prototype,"itemUrl",null),o([c()],De.prototype,"licenseInfo",void 0),o([c({type:Date})],De.prototype,"modified",void 0),o([c()],De.prototype,"name",void 0),o([c()],De.prototype,"numComments",void 0),o([c()],De.prototype,"numRatings",void 0),o([c()],De.prototype,"numViews",void 0),o([c()],De.prototype,"owner",void 0),o([c()],De.prototype,"ownerFolder",void 0),o([c({type:Fr})],De.prototype,"portal",void 0),o([c()],De.prototype,"screenshots",void 0),o([c()],De.prototype,"size",void 0),o([c()],De.prototype,"snippet",void 0),o([c()],De.prototype,"sourceJSON",void 0),o([c()],De.prototype,"tags",void 0),o([c()],De.prototype,"thumbnail",void 0),o([c({readOnly:!0})],De.prototype,"thumbnailUrl",null),o([c()],De.prototype,"title",void 0),o([c()],De.prototype,"type",void 0),o([c()],De.prototype,"typeKeywords",void 0),o([c()],De.prototype,"url",void 0),o([c({readOnly:!0})],De.prototype,"userItemUrl",null),De=bl=o([M("esri.portal.PortalItem")],De);const sy=De;var k6=Object.freeze(Object.defineProperty({__proto__:null,default:sy},Symbol.toStringTag,{value:"Module"}));const iq=ye.getLogger("esri.layers.mixins.PortalLayer"),M6=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var r;(r=this.portalItem)==null||r.destroy(),this.portalItem=null}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,s,i){if(s.itemId)return new sy({id:s.itemId,portal:i&&i.portal})}writePortalItem(r,s){r&&r.id&&(s.itemId=r.id)}async loadFromPortal(r,s){if(this.portalItem&&this.portalItem.id)try{const i=await Ne(()=>import("./layersLoader.65f14e7f.js"),["./layersLoader.65f14e7f.js","./lazyLayerLoader.48c99bb1.js","./jsonContext.2f17ab7c.js"],import.meta.url).then(function(n){return n.l});return ni(s),await i.load({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData},s)}catch(i){throw oi(i)||iq.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${i}`),i}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(s=>(gu(s),!0)))}async _fetchUserHasEditingPrivileges(r){const s=this.url?Ct==null?void 0:Ct.findCredential(this.url):null;if(!s)return!0;const i=Yp.credential===s?Yp.user:await this._fetchEditingUser(r);return Yp.credential=s,Yp.user=i,we(i)||i.privileges==null||i.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var s,i;const n=(s=this.portalItem)==null||(i=s.portal)==null?void 0:i.user;if(n)return n;const a=Ct.findServerInfo(this.url);if(a==null||!a.owningSystemUrl)return null;const l=`${a.owningSystemUrl}/sharing/rest`,d=Fr.getDefault();if(d&&d.loaded&&Is(d.restUrl)===Is(l))return d.user;const f=`${l}/community/self`,h=G(r)?r.signal:null,y=await G_(Tt(f,{authMode:"no-prompt",query:{f:"json"},signal:h}));return y.ok?p_.fromJSON(y.value.data):null}read(r,s){s&&(s.layer=this),super.read(r,s)}write(r,s){const i=s&&s.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||Fr.getDefault());return i&&n&&!hM(n.restUrl,i.restUrl)?(s.messages&&s.messages.push(new Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,Ie(q({},s),{layer:this}))}};return o([c({type:sy})],t.prototype,"portalItem",null),o([ce("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),o([me("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),o([c({clonable:!1})],t.prototype,"resourceReferences",void 0),o([c({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=o([M("esri.layers.mixins.PortalLayer")],t),t},Yp={credential:null,user:null},Pd=new yt,od=new WeakMap;function nq(e){I6(e)&&Pd.push(e)}function oq(e){I6(e)&&Pd.includes(e)&&Pd.remove(e)}function I6(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function O6(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:O6(t,e%t):0}let wg=0,Xp=0;function aq(){const e=Date.now();for(const r of Pd)if(r.refreshInterval){var t;e-((t=od.get(r))!=null?t:0)+5>=6e4*r.refreshInterval&&(od.set(r,e),r.refresh(e))}}CT(()=>{const e=Date.now();let t=0;for(const r of Pd)t=O6(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?od.get(r)||od.set(r,e):od.delete(r);if(t!==Xp){if(Xp=t,clearInterval(wg),Xp===0)return void(wg=0);wg=setInterval(aq,Xp)}});const C6=e=>{let t=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=m1(()=>this.hasDataChanged()),this.when().then(()=>{nq(this)},()=>{})}destroy(){oq(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){xT(this._debounceHasDataChanged()).then(s=>{s&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:s})},s=>{ye.getLogger(this.declaredClass).error(s),this.emit("refresh",{dataChanged:!1,error:s})})}async hasDataChanged(){return!0}};return o([c({type:Number,cast:r=>r>=.1?r:r<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),o([c({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),o([c()],t.prototype,"refreshParameters",null),t=o([M("esri.layers.mixins.RefreshableLayer")],t),t},A6=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},s=this.parent;s&&"effectiveScaleRange"in s&&lq(r,s.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===r.minScale&&i.maxScale===r.maxScale?i:r}};return o([c({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),o([c({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),o([c({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=o([M("esri.layers.mixins.ScaleRangeLayer")],t),t};function lq(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const _a=ur()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var lw;let Rc=lw=class extends X{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return PU(this.value,this.unit,"milliseconds")}clone(){return new lw({value:this.value,unit:this.unit})}};o([c({type:Number,json:{write:!0},nonNullable:!0})],Rc.prototype,"value",void 0),o([c({type:_a.apiValues,json:{type:_a.jsonValues,read:_a.read,write:_a.write},nonNullable:!0})],Rc.prototype,"unit",void 0),Rc=lw=o([M("esri.TimeInterval")],Rc);const Ld=Rc;var uw;let wl=uw=class extends X{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new uw({respectsDaylightSaving:e,timezone:t})}};o([c({type:Boolean,json:{write:!0}})],wl.prototype,"respectsDaylightSaving",void 0),o([ce("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],wl.prototype,"readRespectsDaylightSaving",null),o([c({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],wl.prototype,"timezone",void 0),wl=uw=o([M("esri.layers.support.TimeReference")],wl);const uq=wl;var cw;let _r=cw=class extends X{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const r=new Date(t.timeExtent[0]),s=new Date(t.timeExtent[1]);return new Li({start:r,end:s})}writeFullTimeExtent(e,t){e&&G(e.start)&&G(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new Ld({value:t.timeInterval,unit:_a.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new Ld({value:t.defaultTimeInterval,unit:_a.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:r,interval:s,startField:i,timeReference:n,fullTimeExtent:a,trackIdField:l,useTime:d}=this;return new cw({cumulative:e,endField:t,hasLiveData:r,interval:s,startField:i,timeReference:U(n),fullTimeExtent:U(a),trackIdField:l,useTime:d})}};o([c({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],_r.prototype,"cumulative",void 0),o([c({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],_r.prototype,"endField",void 0),o([c({type:Li,json:{write:{enabled:!0,allowNull:!0}}})],_r.prototype,"fullTimeExtent",void 0),o([ce("fullTimeExtent",["timeExtent"])],_r.prototype,"readFullTimeExtent",null),o([me("fullTimeExtent")],_r.prototype,"writeFullTimeExtent",null),o([c({type:Boolean,json:{write:!0}})],_r.prototype,"hasLiveData",void 0),o([c({type:Ld,json:{write:{enabled:!0,allowNull:!0}}})],_r.prototype,"interval",void 0),o([ce("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],_r.prototype,"readInterval",null),o([me("interval")],_r.prototype,"writeInterval",null),o([c({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],_r.prototype,"startField",void 0),o([c({type:uq,json:{write:{enabled:!0,allowNull:!0}}})],_r.prototype,"timeReference",void 0),o([c({type:String,json:{write:{enabled:!0,allowNull:!0}}})],_r.prototype,"trackIdField",void 0),o([c({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],_r.prototype,"useTime",void 0),_r=cw=o([M("esri.layers.support.TimeInfo")],_r);const W_=_r,j6=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,s){const i=s.timeInfo.exportOptions;if(!i)return null;const n=i.timeOffset,a=_a.fromJSON(i.timeOffsetUnits);return n&&a?new Ld({value:n,unit:a}):null}set timeInfo(r){L1(r,this.fieldsIndex),this._set("timeInfo",r)}};return o([c({type:Li,json:{write:!1}})],t.prototype,"timeExtent",void 0),o([c({type:Ld})],t.prototype,"timeOffset",void 0),o([ce("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),o([c({value:null,type:W_,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),o([c({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=o([M("esri.layers.mixins.TemporalLayer")],t),t};var dw;let on=dw=class extends X{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:r,isUnique:s,description:i}=this;return new dw({name:e,fields:t,isAscending:r,isUnique:s,description:i})}};o([c({constructOnly:!0})],on.prototype,"name",void 0),o([c({constructOnly:!0})],on.prototype,"fields",void 0),o([c({constructOnly:!0})],on.prototype,"isAscending",void 0),o([c({constructOnly:!0})],on.prototype,"isUnique",void 0),o([c({constructOnly:!0})],on.prototype,"description",void 0),on=dw=o([M("esri.layers.support.FeatureIndex")],on);let sf=class extends X{constructor(){super(...arguments),this.type=null}};o([c({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],sf.prototype,"type",void 0),sf=o([M("esri.layers.support.FeatureReduction")],sf);const ad=sf;var pw;let _l=pw=class extends X{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new pw({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};o([c({type:String,json:{write:!0}})],_l.prototype,"statisticType",void 0),o([c({type:String,json:{write:!0}})],_l.prototype,"onStatisticField",void 0),o([c({type:String,json:{write:!0}})],_l.prototype,"onStatisticValueExpression",void 0),_l=pw=o([M("esri.layers.support.OutStatistic")],_l);const cq=_l;var hw;let Pc=hw=class extends X{constructor(){super(...arguments),this.name=null}clone(){return new hw({name:this.name,outStatistic:this.outStatistic.clone()})}};o([c({type:String,json:{write:!0}})],Pc.prototype,"name",void 0),o([c({type:cq,json:{write:!0}})],Pc.prototype,"outStatistic",void 0),Pc=hw=o([M("esri.layers.support.AggregateField")],Pc);const dq=Pc,J_="__begin__",K_="__end__",pq=new RegExp(J_,"ig"),hq=new RegExp(K_,"ig"),d$=new RegExp("^"+J_,"i"),p$=new RegExp(K_+"$","i"),iy='"',fq=iy+" + ",yq=" + "+iy;function mq(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function gq(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function cm(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=mq(e.labelExpression),t.type="conventional"),t}function vq(e){const t=cm(e);if(!t)return null;switch(t.type){case"conventional":return fw(t.expression);case"arcade":return t.expression}return null}function bq(e){const t=cm(e);if(!t)return null;switch(t.type){case"conventional":return _q(t.expression);case"arcade":return Q_(t.expression)}return null}function fw(e){let t;return e?(t=Gd(e,r=>J_+'$feature["'+r+'"]'+K_),t=d$.test(t)?t.replace(d$,""):iy+t,t=p$.test(t)?t.replace(p$,""):t+iy,t=t.replace(pq,fq).replace(hq,yq)):t='""',t}const wq=/^\s*\{([^}]+)\}\s*$/i;function _q(e){const t=e.match(wq);return t&&t[1].trim()||null}const Sq=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,$q=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,xq=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function Q_(e){if(!e)return null;let t=Sq.exec(e)||$q.exec(e);return t?t[1]||t[3]:(t=xq.exec(e),t?t[2]:null)}var yw;let Hn=yw=class extends X{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?fw(t.value):e}writeExpression(e,t,r){this.value!=null&&(e=fw(this.value)),e!=null&&(t[r]=e)}clone(){return new yw({expression:this.expression,title:this.title,value:this.value})}};o([c({type:String,json:{write:{writerEnsuresNonNull:!0}}})],Hn.prototype,"expression",void 0),o([ce("expression",["expression","value"])],Hn.prototype,"readExpression",null),o([me("expression")],Hn.prototype,"writeExpression",null),o([c({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Hn.prototype,"title",void 0),o([c({json:{read:!1,write:!1}})],Hn.prototype,"value",void 0),Hn=yw=o([M("esri.layers.support.LabelExpressionInfo")],Hn);const R6=Hn,P6=[252,146,31,255],L6={type:"esriSMS",style:"esriSMSCircle",size:6,color:P6,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},F6={type:"esriSLS",style:"esriSLSSolid",width:.75,color:P6},N6={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Eq={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},D6={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},z6={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},V6={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};Wa.fromJSON(L6);cs.fromJSON(F6);ko.fromJSON(N6);const Tq=Mo.fromJSON(Eq);Wa.fromJSON(D6);cs.fromJSON(z6);ko.fromJSON(V6);var mw;const eh=new je({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function U6(e){return!e||e.origin!=="service"&&!q6(e.layer)}function q6(e){return(e==null?void 0:e.type)==="map-image"}function B6(e){var t,r;return!!q6(e)&&!((t=e.capabilities)==null||(r=t.exportMap)==null||!r.supportsArcadeExpressionForLabeling)}function kq(e){return U6(e)||B6(e.layer)}let Nt=mw=class extends X{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=Tq,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const r=function(s,i,n){switch(i){case"=":return s==n;case"<>":return s!=n;case">":return s>n;case">=":return s>=n;case"<":return s<n;case"<=":return s<=n}return!1};try{if(e==null)return!0;const s=e.split(" ");if(s.length===3)return r(t[s[0]],s[1],s[2]);if(s.length===7){const i=r(t[s[0]],s[1],s[2]),n=s[3],a=r(t[s[4]],s[5],s[6]);switch(n){case"AND":return i&&a;case"OR":return i||a}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=gq(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const s=Q_(this.labelExpressionInfo.expression);s&&(e="["+s+"]")}}e!=null&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,s){if(e==null&&this.labelExpression!=null&&U6(s))e=new R6({expression:this.getLabelExpressionArcade()});else if(!e)return;const i=e.toJSON(s);i.expression&&(t[r]=i)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return cm(this)}getLabelExpressionArcade(){return vq(this)}getLabelExpressionSingleField(){return bq(this)}hash(){return JSON.stringify(this)}clone(){return new mw({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:U(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:U(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};o([c({type:String,json:{write:!0}})],Nt.prototype,"name",void 0),o([c({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Nt.prototype,"allowOverrun",void 0),o([c({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],Nt.prototype,"deconflictionStrategy",void 0),o([c({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&(r==null?void 0:r.origin)==="service"&&B6(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],Nt.prototype,"labelExpression",void 0),o([ce("labelExpression")],Nt.prototype,"readLabelExpression",null),o([me("labelExpression")],Nt.prototype,"writeLabelExpression",null),o([c({type:R6,json:{write:{overridePolicy:(e,t,r)=>kq(r)?{allowNull:!0}:{enabled:!1}}}})],Nt.prototype,"labelExpressionInfo",void 0),o([me("labelExpressionInfo")],Nt.prototype,"writeLabelExpressionInfo",null),o([c({type:eh.apiValues,json:{type:eh.jsonValues,read:eh.read,write:eh.write}})],Nt.prototype,"labelPlacement",void 0),o([c({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Nt.prototype,"labelPosition",void 0),o([c({type:Number})],Nt.prototype,"maxScale",void 0),o([me("maxScale")],Nt.prototype,"writeMaxScale",null),o([c({type:Number})],Nt.prototype,"minScale",void 0),o([me("minScale")],Nt.prototype,"writeMinScale",null),o([c({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],Nt.prototype,"repeatLabel",void 0),o([c({type:Number,cast:Ye,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Nt.prototype,"repeatLabelDistance",void 0),o([c({types:az,json:{origins:{"web-scene":{types:lz,write:_8,default:null}},write:_8,default:null}})],Nt.prototype,"symbol",void 0),o([c({type:Boolean,json:{write:!0}})],Nt.prototype,"useCodedValues",void 0),o([c({type:String,json:{write:!0}})],Nt.prototype,"where",void 0),Nt=mw=o([M("esri.layers.support.LabelClass")],Nt);const dm=Nt;var gw;let es=gw=class extends X{constructor(e){super(e),this.type="cluster",this.clusterRadius=Ye("80px"),this.clusterMinSize=Ye("12px"),this.clusterMaxSize=Ye("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new gw({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:U(this.labelingInfo),labelsVisible:this.labelsVisible,fields:U(this.fields),popupEnabled:this.popupEnabled,popupTemplate:U(this.popupTemplate)})}};o([c({type:["cluster"],readOnly:!0,json:{write:!0}})],es.prototype,"type",void 0),o([c({type:Number,cast:e=>e==="auto"?e:Ye(e),json:{write:!0}})],es.prototype,"clusterRadius",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],es.prototype,"clusterMinSize",void 0),o([c({type:Number,cast:Ye,json:{write:!0}})],es.prototype,"clusterMaxSize",void 0),o([c(B_)],es.prototype,"popupEnabled",void 0),o([c({type:Ba,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],es.prototype,"popupTemplate",void 0),o([c({types:nz})],es.prototype,"symbol",void 0),o([c({type:[dm],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],es.prototype,"labelingInfo",void 0),o([c(H_)],es.prototype,"labelsVisible",void 0),o([c({type:[dq],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],es.prototype,"fields",void 0),es=gw=o([M("esri.layers.support.FeatureReductionCluster")],es);const h$=es;var vw;let nf=vw=class extends ad{constructor(e){super(e),this.type="selection"}clone(){return new vw}};o([c({type:["selection"]})],nf.prototype,"type",void 0),nf=vw=o([M("esri.layers.support.FeatureReductionSelection")],nf);const bw=nf,H6={types:{key:"type",base:ad,typeMap:{selection:bw,cluster:h$}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:ad,typeMap:{selection:h$}}},"web-scene":{types:{key:"type",base:ad,typeMap:{selection:bw}}}}}},f$=new je({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let Gn=class extends En(X){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};o([c({json:{write:!0}})],Gn.prototype,"name",void 0),o([c({json:{write:!0}})],Gn.prototype,"description",void 0),o([c({json:{read:f$.read,write:f$.write}})],Gn.prototype,"drawingTool",void 0),o([c({json:{write:!0}})],Gn.prototype,"prototype",void 0),o([c({json:{write:!0}})],Gn.prototype,"thumbnail",void 0),Gn=o([M("esri.layers.support.FeatureTemplate")],Gn);const pm=Gn;let Xi=class extends En(X){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=A_(e[r]);return t}writeDomains(e,t){const r={};for(const i of Object.keys(e)){var s;e[i]&&(r[i]=(s=e[i])==null?void 0:s.toJSON())}t.domains=r}};o([c({json:{write:!0}})],Xi.prototype,"id",void 0),o([c({json:{write:!0}})],Xi.prototype,"name",void 0),o([c({json:{write:!0}})],Xi.prototype,"domains",void 0),o([ce("domains")],Xi.prototype,"readDomains",null),o([me("domains")],Xi.prototype,"writeDomains",null),o([c({type:[pm],json:{write:!0}})],Xi.prototype,"templates",void 0),Xi=o([M("esri.layers.support.FeatureType")],Xi);const Z_=Xi;function Mq(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function y$(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function m$(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class G6{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const r=[];for(const s of t){const i=s&&s.name;if(i){const n=g$(i);this._fieldsMap.set(i,s),this._fieldsMap.set(n,s),r.push(n),Mq(s)?(this.dateFields.push(s),this._dateFieldsSet.add(s)):D1(s)&&(this._numericFieldsSet.add(s),this.numericFields.push(s)),y$(s)||m$(s)||(s.editable=s.editable==null||!!s.editable,s.nullable=s.nullable==null||!!s.nullable)}}r.sort(),this.uid=r.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)y$(t)||m$(t)||t.nullable||kk(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(g$(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const r=this.get(t);if(r)return r.name}}function g$(e){return e.toLowerCase().trim()}const Iq=ye.getLogger("esri.layers.support.fieldProperties");function W6(){return{fields:{type:[em],value:null},fieldsIndex:{readOnly:!0,get(){return new G6(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||Iq.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return a7(this.fieldsIndex,e)}}}}let Sl=class extends En(X){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};o([c({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Sl.prototype,"shapeAreaField",void 0),o([c({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Sl.prototype,"shapeLengthField",void 0),o([c({type:String,json:{read:e=>Lz.read(e)||Fz.read(e)}})],Sl.prototype,"units",void 0),Sl=o([M("esri.layers.support.GeometryFieldsInfo")],Sl);const Oq=Sl,Cq=/\[([^\[\]]+)\]/gi;function ww(e,t,r){return e?e.map(s=>{const i=new dm;if(i.read(s,r),i.labelExpression){const n=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replace(Cq,(a,l)=>`[${Aq(l,n)}]`)}return i}):null}function Aq(e,t){if(!t)return e;const r=e.toLowerCase();for(let s=0;s<t.length;s++){const i=t[s].name;if(i.toLowerCase()===r)return i}return e}var _w;let $l=_w=class extends X{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new yt}clone(){return new _w({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};o([c({type:String,json:{write:!0}})],$l.prototype,"floorField",void 0),o([c({json:{read:!1,write:!1}})],$l.prototype,"viewAllMode",void 0),o([c({json:{read:!1,write:!1}})],$l.prototype,"viewAllLevelIds",void 0),$l=_w=o([M("esri.layers.support.LayerFloorInfo")],$l);const J6=$l,v$=new je({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),b$=new je({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let ws=class extends En(X){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};o([c({json:{read:v$.read,write:v$.write}})],ws.prototype,"cardinality",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"composite",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"id",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"keyField",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"keyFieldInRelationshipTable",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"name",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"relatedTableId",void 0),o([c({json:{read:!0,write:!0}})],ws.prototype,"relationshipTableId",void 0),o([c({json:{read:b$.read,write:b$.write}})],ws.prototype,"role",void 0),ws=o([M("esri.layers.support.Relationship")],ws);const jq=ws,Ws=[];function K6(e,t){if(z_(e.url))return!0;const{wkid:r}=t;for(const s of Ws){if(e.version>=s[0])return!0;if(typeof s[1]=="function"&&(s[1]=s[1]()),s[1].has(r))return!1}return!0}Ws.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102960;t++)e.add(t);return e}]),Ws.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Ws.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Ws.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Ws.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),Ws.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Ws.push([10.61,()=>new Set([102497])]),Ws.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Ws.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Ws.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function Q6(e,t,r){const s=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(s&&s.type==="unique-value"&&s.styleOrigin){const i=await G_(s.populateFromStyle());if(ni(r),i.ok===!1){const n=i.error;t&&t.messages&&t.messages.push(new Jr("renderer:style-reference",`Failed to create unique value renderer from style reference: ${n.message}`,{error:n,context:t})),e.clear("renderer",t.origin)}}}var Sw;let hr=Sw=class extends X{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new Sw(U({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};o([c({type:[String],json:{write:!0}})],hr.prototype,"attachmentTypes",void 0),o([c({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],hr.prototype,"attachmentsWhere",void 0),o([c({type:[String],json:{write:!0}})],hr.prototype,"keywords",void 0),o([c({type:[Number],json:{write:!0}})],hr.prototype,"globalIds",void 0),o([c({json:{write:!0}})],hr.prototype,"name",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],hr.prototype,"num",void 0),o([c({type:[Number],json:{write:!0}})],hr.prototype,"objectIds",void 0),o([c({type:Boolean,json:{default:!1,write:!0}})],hr.prototype,"returnMetadata",void 0),o([c({type:[Number],json:{write:!0}})],hr.prototype,"size",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],hr.prototype,"start",void 0),o([me("start"),me("num")],hr.prototype,"writeStart",null),o([c({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],hr.prototype,"where",void 0),hr=Sw=o([M("esri.rest.support.AttachmentQuery")],hr),hr.from=at(hr);const Z6=hr;var $w;let It=$w=class extends X{constructor(e){super(e),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new $w(U({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};o([c({type:Ss,json:{write:!0}})],It.prototype,"dynamicDataSource",void 0),o([c({type:String,json:{write:!0}})],It.prototype,"gdbVersion",void 0),o([c({type:Number,json:{write:!0}})],It.prototype,"geometryPrecision",void 0),o([c({type:Date})],It.prototype,"historicMoment",void 0),o([me("historicMoment")],It.prototype,"_writeHistoricMoment",null),o([c({type:Number,json:{write:!0}})],It.prototype,"maxAllowableOffset",void 0),o([c({type:[Number],json:{write:!0}})],It.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],It.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],It.prototype,"outFields",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],It.prototype,"outSpatialReference",void 0),o([c({json:{write:!0}})],It.prototype,"relationshipId",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],It.prototype,"start",void 0),o([me("start"),me("num")],It.prototype,"writeStart",null),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],It.prototype,"num",void 0),o([c({json:{write:!0}})],It.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],It.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],It.prototype,"returnZ",void 0),o([c({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],It.prototype,"where",void 0),It=$w=o([M("esri.rest.support.RelationshipQuery")],It),It.from=at(It);const xw=It;var Ew;let xl=Ew=class extends X{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new Ew({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};o([c({type:[String],json:{write:!0}})],xl.prototype,"groupByFields",void 0),o([c({type:Number,json:{write:!0}})],xl.prototype,"topCount",void 0),o([c({type:[String],json:{write:!0}})],xl.prototype,"orderByFields",void 0),xl=Ew=o([M("esri.rest.support.TopFilter")],xl);const Rq=xl;var Tw;const w$=new je({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),_$=new je({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let vt=Tw=class extends X{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new Tw(U({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};o([c({type:Boolean,json:{write:!0}})],vt.prototype,"cacheHint",void 0),o([c({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],vt.prototype,"distance",void 0),o([c({types:Ua,json:{read:us,write:!0}})],vt.prototype,"geometry",void 0),o([c({type:Number,json:{write:!0}})],vt.prototype,"geometryPrecision",void 0),o([c({type:Number,json:{write:!0}})],vt.prototype,"maxAllowableOffset",void 0),o([c({type:Number,json:{read:{source:"resultRecordCount"}}})],vt.prototype,"num",void 0),o([c({json:{write:!0}})],vt.prototype,"objectIds",void 0),o([c({type:[String],json:{write:!0}})],vt.prototype,"orderByFields",void 0),o([c({type:[String],json:{write:!0}})],vt.prototype,"outFields",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],vt.prototype,"outSpatialReference",void 0),o([c({type:String,json:{write:!0}})],vt.prototype,"resultType",void 0),o([c({json:{write:!0}})],vt.prototype,"returnGeometry",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],vt.prototype,"returnM",void 0),o([c({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],vt.prototype,"returnZ",void 0),o([c({type:Number,json:{read:{source:"resultOffset"}}})],vt.prototype,"start",void 0),o([me("start"),me("num")],vt.prototype,"writeStart",null),o([c({type:String,json:{read:{source:"spatialRel",reader:w$.read},write:{target:"spatialRel",writer:w$.write}}})],vt.prototype,"spatialRelationship",void 0),o([c({type:Li,json:{write:!0}})],vt.prototype,"timeExtent",void 0),o([c({type:Rq,json:{write:!0}})],vt.prototype,"topFilter",void 0),o([c({type:String,json:{read:_$.read,write:{writer:_$.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],vt.prototype,"units",void 0),o([c({type:String,json:{write:!0}})],vt.prototype,"where",void 0),vt=Tw=o([M("esri.rest.support.TopFeaturesQuery")],vt),vt.from=at(vt);const Lc=vt,Pq=["oid","global-id"],Lq=["oid","global-id","guid"];function Y6({displayField:e,editFieldsInfo:t,fields:r,objectIdField:s,title:i},n){if(!r)return null;const a=Uq({editFieldsInfo:t,fields:r,objectIdField:s},n);if(!a.length)return null;const l=Hq({titleBase:i,fields:r,displayField:e}),d=Bq();return new Ba({title:l,content:d,fieldInfos:a})}const Fq=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],Nq=(e,{editFieldsInfo:t,objectIdField:r,visibleFieldNames:s})=>s?s.has(e.name):!X6(e.name,t)&&(!r||e.name!==r)&&!(Pq.indexOf(e.type)>-1)&&!Fq.some(i=>i.test(e.name));function Dq(e,t){const r=e;return t&&(e=e.filter(s=>t.indexOf(s.type)===-1)),e===r&&(e=e.slice()),e.sort(zq),e}function zq(e,t){return e.type==="oid"?-1:t.type==="oid"?1:S$(e)?-1:S$(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function X6(e,t){if(!e||!t)return!1;const{creationDateField:r,creatorField:s,editDateField:i,editorField:n}=t;return[r&&r.toLowerCase(),s&&s.toLowerCase(),i&&i.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())!==-1}function Vq(e,t){return e.editable&&Lq.indexOf(e.type)===-1&&!X6(e.name,t)}function Uq({editFieldsInfo:e,fields:t,objectIdField:r},s){return Dq(t,(s==null?void 0:s.ignoreFieldTypes)||Gq).map(i=>new q1({fieldName:i.name,isEditable:Vq(i,e),label:i.alias,format:qq(i),visible:Nq(i,{editFieldsInfo:e,objectIdField:r,visibleFieldNames:s==null?void 0:s.visibleFieldNames})}))}function qq(e){switch(e.type){case"small-integer":case"integer":case"single":return new Sh({digitSeparator:!0,places:0});case"double":return new Sh({digitSeparator:!0,places:2});case"date":return new Sh({dateFormat:"long-month-day-year"});default:return null}}function Bq(){return[new Ed,new Sd]}function Hq(e){const t=u7(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r}function S$(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const Gq=["geometry","blob","raster","guid","xml"],_g=new je({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),Wq={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Ft="FeatureLayer",$$=ye.getLogger("esri.layers.FeatureLayer");function x$(e){return e&&e instanceof yt}function Ce(e,t,r){return!!(e&&e.hasOwnProperty(t)?e[t]:r)}function th(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function Jq(e){var t;const r=e==null||(t=e.supportedSpatialAggregationStatistics)==null?void 0:t.map(s=>s.toLowerCase());return{envelope:!(r==null||!r.includes("envelopeaggregate")),centroid:!(r==null||!r.includes("centroidaggregate")),convexHull:!(r==null||!r.includes("convexhullaggregate"))}}const Sg=W6();function $g(e,t,r){const s=!(r==null||!r.writeLayerSchema);return{enabled:s,ignoreOrigin:s}}let ne=class extends f6(c6(T6(j6(A6(C6(o6(x6(M6(O_(d6(ZI(En(FI))))))))))))){constructor(...e){super(...e),this._handles=new Ka,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=Ue.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(yt.ofType(on)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Cf(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?q({url:e},t):e}load(e){const t=G(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(s=>this._initLayerProperties(s)));const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(gu).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const s=await this._fetchFirstLayerId(t);s!=null&&(this.layerId=s)}if(!this.url&&!this._hasMemorySource())throw new Z("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,s){this._writeEditingEnabled(e,t,!0,s)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:r.lastEditDate!=null?new Date(r.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,r,s){s!=null&&s.writeLayerSchema&&Wr(r,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeGlobalID")return r.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const r of t.fields)if(r.type==="esriFieldTypeOID")return r.name}}get parsedUrl(){const e=this.url?Kr(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=Fa(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=Fa(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){$0(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){const s=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(s){const i=EI(s,t,r)||void 0;return i||$$.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),i}if(t.defaultSymbol)return t.types&&t.types.length?new Yy({defaultSymbol:xg(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(i=>({id:i.id,symbol:xg(i.symbol,i,r)}))}):new Zy({symbol:xg(t.defaultSymbol,t,r)})}set source(e){const t=this._get("source");t!==e&&(x$(t)&&this._resetMemorySource(t),x$(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof yt?new Y8({layer:this,items:e}):e:null}readSource(e,t){const r=tm.fromJSON(t.featureSet);return new Y8({layer:this,items:r&&r.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const r=t.editFieldsInfo,s=r&&r.creatorField,i=r&&r.editorField;return e=e&&e.map(n=>pm.fromJSON(n)),this._fixTemplates(e,s),this._fixTemplates(e,i),e}readTitle(e,t){const r=t.layerDefinition&&t.layerDefinition.name||t.name,s=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const i=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?r6(this.url,r):r;let n=r;if(!n&&this.url){const a=hp(this.url);G(a)&&(n=a.title)}return n?(this.sublayerTitleMode==="item-title-and-service-name"&&i&&i!==n&&(n=i+" - "+n),rm(n)):void 0}if(this.sublayerTitleMode==="item-title"&&s)return s}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const s=t.fields.find(i=>i.name.toLowerCase()===r);s&&(r=s.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,s=r&&r.creatorField,i=r&&r.editorField;return e&&e.map(n=>(n=Z_.fromJSON(n),this._fixTemplates(n.templates,s),this._fixTemplates(n.templates,i),n))}set url(e){const t=i6({layer:this,url:e,nonStandardUrlAllowed:!0,logger:$$});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,r,s){n6(this,e,null,t,s)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new Z(Ft,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,r){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new Z(Ft,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,r)})}async applyEdits(e,t){const r=await Ne(()=>import("./editingSupport.9e218211.js"),["./editingSupport.9e218211.js","./normalizeUtils.ee0c0026.js"],import.meta.url);return await this.load(),r.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return Y6(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await $T(Ne(()=>import("./FeatureLayerSource.6a1b8953.js"),["./FeatureLayerSource.6a1b8953.js","./clientSideDefaults.8e7f4699.js","./QueryEngineCapabilities.5c978644.js","./query.f3211350.js","./normalizeUtils.ee0c0026.js","./pbfQueryUtils.bd803463.js","./pbf.b3782e8a.js","./OptimizedGeometry.c13bbe61.js","./OptimizedFeatureSet.1d1ac4b9.js","./executeQueryJSON.afe83e4b.js","./featureConversionUtils.02102919.js"],import.meta.url),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new ma,t=this.get("capabilities.data"),r=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,r&&(e.compactGeometryEnabled=r.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:s,timeExtent:i}=this;return e.timeExtent=s!=null&&i!=null?i.offset(-s.value,s.unit):i||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new Z(Ft,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new Z(Ft,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const s=e.attributes?e.attributes[t]:void 0;if(s==null)return null;let i=null;return r.some(n=>{const{id:a}=n;return a!=null&&(a.toString()===s.toString()&&(i=n),!!i)}),i}getFieldDomain(e,t){const r=t&&t.feature,s=this.getFeatureType(r);if(s){const i=s.domains&&s.domains[e];if(i&&i.type!=="inherited")return i}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=Z6.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new Z(Ft,"this layer doesn't support attachments");const{attachmentTypes:r,objectIds:s,globalIds:i,num:n,size:a,start:l,where:d}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const f=s&&s.length>1,h=r&&r.length,y=i&&i.length,v=a&&a.length;if(f||h||y||v||n||l||d)throw new Z(Ft,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(s&&s.length||d))throw new Z(Ft,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new Z(Ft,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(ma.from(e)||this.createQuery(),t)).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this;return r})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(ma.from(e)||this.createQuery(),t);throw new Z(Ft,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(ma.from(e)||this.createQuery(),t);throw new Z(Ft,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(ma.from(e)||this.createQuery(),t);throw new Z(Ft,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(xw.from(e),t);throw new Z(Ft,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(xw.from(e),t);throw new Z(Ft,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Lc.from(e),t).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this;return r});throw new Z(Ft,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Lc.from(e),t);throw new Z(Ft,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Lc.from(e),t);throw new Z(Ft,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Lc.from(e),t);throw new Z(Ft,"Layer source does not support queryFeatureCount capability")})}read(e,t){const r=e.featureCollection;if(r){const s=r.layers;s&&s.length===1&&(super.read(s[0],t),r.showLegend!=null&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var r,s;const i=(t=Ie(q({},t),{writeLayerSchema:(r=(s=t)==null?void 0:s.writeLayerSchema)!=null?r:this._hasMemorySource()})).origin,n=t.layerContainerType,a=t.messages;if(this.isTable){if(i==="web-scene"||i==="web-map"&&n!=="tables")return a&&a.push(new Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return a&&a.push(new Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&i==="web-map"&&n==="tables")return a&&a.push(new Z("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new Z(Ft,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||K6(this,e))}_readEditingEnabled(e,t,r){var s;let i=(s=e.layerDefinition)==null?void 0:s.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&(r==null?void 0:r.origin)==="web-map"&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,r,s){if(!e){var i,n;const a=(i=this.capabilities)!=null&&(n=i.operations)!=null&&n.supportsSync?"Query,Sync":"Query";Wr("layerDefinition.capabilities",a,t),!r||s!=null&&s.writeLayerSchema||(t.capabilities=a)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:r}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[r]?void 0:Promise.reject(new Z(Ft,`feature is missing the identifying attribute ${r}`)):Promise.reject(new Z(Ft,"'attributes' are required on a feature to query attachments")):Promise.reject(new Z(Ft,"A feature is required to add/delete/update attachments")):Promise.reject(new Z(Ft,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Tt(this.url,{query:Ie(q({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:e}).then(t=>{const r=t.data;if(r)return Array.isArray(r.layers)&&r.layers.length>0?r.layers[0].id:Array.isArray(r.tables)&&r.tables.length>0?r.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),$0(this.renderer,this.fieldsIndex),L1(this.timeInfo,this.fieldsIndex),Q6(this,{origin:"service"})}async hasDataChanged(){var e;if((e=this.source)!=null&&e.refresh)try{var t;const{dataChanged:r,updates:s}=await((t=this.source)==null?void 0:t.refresh());if(G(s)&&(this.sourceJSON=q(q({},this.sourceJSON),s),this.read(s,{origin:"service",url:this.parsedUrl})),r)return!0}catch{}if(this.definitionExpression)try{return(await C2(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields&&this.fields.some(function(t){return t.type==="geometry"})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(r=>{const s=r.prototype&&r.prototype.attributes;s&&t&&delete s[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new Z("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new Z("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(e){const t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach(r=>{const s=Wq[r.name];s&&(t[s]=!!r.isEnabled)}),t}_readDataCapabilities(e){return{isVersioned:Ce(e,"isDataVersioned",!1),supportsAttachment:Ce(e,"hasAttachments",!1),supportsM:Ce(e,"hasM",!1),supportsZ:Ce(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:Ce(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const r=e?e.toLowerCase().split(",").map(d=>d.trim()):[],s=r.includes("editing")&&!t.datesInUnknownTimezone;let i=s&&r.includes("create"),n=s&&r.includes("delete"),a=s&&r.includes("update");const l=r.includes("changetracking");return s&&!(i||n||a)&&(i=n=a=!0),{supportsCalculate:Ce(t,"supportsCalculate",!1),supportsTruncate:Ce(t,"supportsTruncate",!1),supportsValidateSql:Ce(t,"supportsValidateSql",!1),supportsAdd:i,supportsDelete:n,supportsEditing:s,supportsChangeTracking:l,supportsQuery:r.includes("query"),supportsQueryAttachments:Ce(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Ce(t,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:a,supportsExceedsLimitStatistics:Ce(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var t;const r=e.advancedQueryCapabilities,s=e.ownershipBasedAccessControlForFeatures,i=e.archivingInfo,n=(t=this.url)==null?void 0:t.includes("MapServer"),a=!Y("mapserver-pbf-enabled")&&n&&this.version<10.81,l=z_(this.url),d=(e.supportedQueryFormats||"").split(",").reduce((f,h)=>{const y=h.toLowerCase().trim();return y&&f.add(y),f},new Set);return{supportsStatistics:Ce(r,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:Ce(r,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Ce(r,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:Jq(r),supportsCentroid:Ce(r,"supportsReturningGeometryCentroid",!1),supportsDistance:Ce(r,"supportsQueryWithDistance",!1),supportsDistinct:Ce(r,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Ce(r,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ce(r,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ce(r,"supportsHavingClause",!1),supportsOrderBy:Ce(r,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Ce(r,"supportsPagination",!1),supportsQuantization:Ce(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ce(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ce(e,"supportsReturningQueryGeometry",!1),supportsResultType:Ce(r,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ce(r,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Ce(r,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ce(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Ce(r,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Ce(s,"allowOthersToQuery",!0),supportsHistoricMoment:Ce(i,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!a&&d.has("pbf"),supportsDisjointSpatialRelationship:Ce(r,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ce(r,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Ce(r,"supportsDefaultSR",!1),supportsCompactGeometry:l,maxRecordCountFactor:th(e,"maxRecordCountFactor",void 0),maxRecordCount:th(e,"maxRecordCount",void 0),standardMaxRecordCount:th(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:th(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,r=Ce(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ce(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ce(e,"allowGeometryUpdates",!0),supportsGlobalId:Ce(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ce(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ce(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ce(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ce(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ce(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ce(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ce(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ce(t,"allowOthersToUpdate",!0)}}};o([c({readOnly:!0,json:{read:!1}})],ne.prototype,"capabilities",void 0),o([ce("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],ne.prototype,"readCapabilities",null),o([c({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ne.prototype,"charts",void 0),o([c({readOnly:!0})],ne.prototype,"createQueryVersion",null),o([c({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],ne.prototype,"copyright",void 0),o([c({type:Boolean})],ne.prototype,"datesInUnknownTimezone",void 0),o([c({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],ne.prototype,"displayField",void 0),o([c({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ne.prototype,"definitionExpression",void 0),o([c({types:fo,readOnly:!0})],ne.prototype,"defaultSymbol",void 0),o([c({type:Ss})],ne.prototype,"dynamicDataSource",void 0),o([c({readOnly:!0})],ne.prototype,"editFieldsInfo",void 0),o([c({type:Boolean})],ne.prototype,"editingEnabled",null),o([ce(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ne.prototype,"readEditingEnabled",null),o([ce("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ne.prototype,"readEditingEnabledFromWebMap",null),o([me(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ne.prototype,"writeEditingEnabled",null),o([me("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ne.prototype,"writeEditingEnabledToWebMap",null),o([c({readOnly:!0})],ne.prototype,"editingInfo",void 0),o([ce("editingInfo")],ne.prototype,"readEditingInfo",null),o([c(b6)],ne.prototype,"elevationInfo",void 0),o([c(H6)],ne.prototype,"featureReduction",void 0),o([c(Ie(q({},Sg.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:$g}}}}}))],ne.prototype,"fields",void 0),o([c(Sg.fieldsIndex)],ne.prototype,"fieldsIndex",void 0),o([c({type:J6,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],ne.prototype,"floorInfo",void 0),o([c({type:H2,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ne.prototype,"formTemplate",void 0),o([c({type:Dt,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],ne.prototype,"fullExtent",void 0),o([c()],ne.prototype,"gdbVersion",void 0),o([c({readOnly:!0,type:Oq,json:{read:{source:"geometryProperties"}}})],ne.prototype,"geometryFieldsInfo",void 0),o([c({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:_g.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:$g,writer(e,t,r){const s=e?_g.toJSON(e):null;s&&Wr(r,s,t)}}}},read:{source:"layerDefinition.geometryType",reader:_g.read}}})],ne.prototype,"geometryType",void 0),o([c({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],ne.prototype,"hasM",void 0),o([c({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],ne.prototype,"hasZ",void 0),o([c({readOnly:!0,type:LI})],ne.prototype,"heightModelInfo",void 0),o([c({type:Date})],ne.prototype,"historicMoment",void 0),o([c(_6)],ne.prototype,"id",void 0),o([c({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ne.prototype,"infoFor3D",void 0),o([c({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ne.prototype,"isTable",void 0),o([ce("service","isTable",["type","geometryType"]),ce("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ne.prototype,"readIsTable",null),o([me("web-map","isTable")],ne.prototype,"writeIsTable",null),o([c(H_)],ne.prototype,"labelsVisible",void 0),o([c({type:[dm],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:ww},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:ww},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],ne.prototype,"labelingInfo",void 0),o([c(w6)],ne.prototype,"opacity",void 0),o([c({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],ne.prototype,"layerId",void 0),o([c(v6)],ne.prototype,"legendEnabled",void 0),o([c({type:["show","hide"]})],ne.prototype,"listMode",void 0),o([c(S6)],ne.prototype,"minScale",void 0),o([ce("service","minScale",["minScale","effectiveMinScale"])],ne.prototype,"readMinScale",null),o([c($6)],ne.prototype,"maxScale",void 0),o([ce("service","maxScale",["maxScale","effectiveMaxScale"])],ne.prototype,"readMaxScale",null),o([c({type:String})],ne.prototype,"globalIdField",void 0),o([ce("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),ce("service","globalIdField",["globalIdField","fields"])],ne.prototype,"readGlobalIdFieldFromService",null),o([c({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:$g}}}}})],ne.prototype,"objectIdField",void 0),o([ce("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),ce("service","objectIdField",["objectIdField","fields"])],ne.prototype,"readObjectIdFieldFromService",null),o([c({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],ne.prototype,"operationalLayerType",void 0),o([c(Sg.outFields)],ne.prototype,"outFields",void 0),o([c({readOnly:!0})],ne.prototype,"parsedUrl",null),o([c({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ne.prototype,"path",void 0),o([c(B_)],ne.prototype,"popupEnabled",void 0),o([c({type:Ba,json:{name:"popupInfo",write:!0}})],ne.prototype,"popupTemplate",void 0),o([c({readOnly:!0})],ne.prototype,"defaultPopupTemplate",null),o([c({type:[jq],readOnly:!0})],ne.prototype,"relationships",void 0),o([c({types:M_,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:xI,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r==null?void 0:r.writeLayerSchema})}}})],ne.prototype,"renderer",null),o([ce("service","renderer",["drawingInfo.renderer","defaultSymbol"]),ce("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ne.prototype,"readRenderer",null),o([c()],ne.prototype,"sourceJSON",void 0),o([c({type:Boolean})],ne.prototype,"returnM",void 0),o([c({type:Boolean})],ne.prototype,"returnZ",void 0),o([c(m6)],ne.prototype,"screenSizePerspectiveEnabled",void 0),o([c({clonable:!1})],ne.prototype,"source",null),o([jt("source")],ne.prototype,"castSource",null),o([ce("portal-item","source",["featureSet"]),ce("web-map","source",["featureSet"])],ne.prototype,"readSource",null),o([c({readOnly:!0})],ne.prototype,"serviceDefinitionExpression",void 0),o([ce("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],ne.prototype,"readServiceDefinitionExpression",null),o([c({type:Ue,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],ne.prototype,"spatialReference",void 0),o([c({type:Number})],ne.prototype,"subtypeCode",void 0),o([c({type:[pm]})],ne.prototype,"templates",void 0),o([ce("templates",["editFieldsInfo","creatorField","editorField","templates"])],ne.prototype,"readTemplates",null),o([c({type:W_})],ne.prototype,"timeInfo",void 0),o([c()],ne.prototype,"title",void 0),o([ce("service","title",["name"]),ce("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ne.prototype,"readTitle",null),o([ce("web-map","title",["layerDefinition.name","title"])],ne.prototype,"readTitleFromWebMap",null),o([c({type:String})],ne.prototype,"sublayerTitleMode",void 0),o([c({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],ne.prototype,"trackIdField",void 0),o([c({json:{read:!1}})],ne.prototype,"type",void 0),o([c({type:String})],ne.prototype,"typeIdField",void 0),o([ce("service","typeIdField"),ce("typeIdField",["layerDefinition.typeIdField"])],ne.prototype,"readTypeIdField",null),o([c({type:[Z_]})],ne.prototype,"types",void 0),o([ce("service","types",["types"]),ce("types",["layerDefinition.types"])],ne.prototype,"readTypes",null),o([c({readOnly:!0,json:{write:!1}})],ne.prototype,"serverGens",void 0),o([c({type:yt.ofType(on),readOnly:!0})],ne.prototype,"indexes",void 0),o([c(g6)],ne.prototype,"url",null),o([me("url")],ne.prototype,"writeUrl",null),o([c({readOnly:!0})],ne.prototype,"userIsAdmin",void 0),o([c({json:{origins:{service:{read:!0}},read:!1}})],ne.prototype,"version",void 0),o([ce("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],ne.prototype,"readVersion",null),o([c({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ne.prototype,"visible",void 0),o([ce("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ne.prototype,"readVisible",null),ne=o([M("esri.layers.FeatureLayer")],ne);const xg=za({types:g_}),hm=ne;var Kq=Object.freeze(Object.defineProperty({__proto__:null,default:hm},Symbol.toStringTag,{value:"Module"}));const Qq=/\?(\.|$)/g;function ny(e,t,r,s){const i=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],n=kw(e,t,r,s);for(const a of i){const l=a.trim().replace(Qq,"$1"),d=e.get(l);r.call(e,d,d,l,e)}return n}function kw(e,t,r,s){return e.watch(t,r,s)}function Zq(e,t,r,s){return eB(e,t,tB,r,s)}function Yq(e,t,r,s,i,n,a){const l={};function d(h){const y=l[h];y&&(n&&n(y.target,h,e,r),y.handle.remove(),delete l[h])}const f=ny(e,t,(h,y,v)=>{d(v),ky(h)&&(l[v]={handle:Zd(h,r,s),target:h},i&&i(h,v,e,r))},a);return{remove(){f.remove();for(const h in l)d(h)}}}function Xq(e,t,r,s,i){const n=e.watch(t,(a,l,d,f)=>{r&&!r(a)||s==null||s.call(e,a,l,d,f)},i);if(Array.isArray(t))for(const a of t){const l=e.get(a);r&&r(l)&&(s==null||s.call(e,l,l,t,e))}else{const a=e.get(t);r&&r(a)&&(s==null||s.call(e,a,a,t,e))}return n}function eB(e,t,r,s,i){const n=typeof s=="function"?s:null,a=typeof s=="object"?s:null;typeof s=="boolean"&&(i=s);let l,d=!1;function f(){l&&(l.remove(),l=null)}const h=Ia();vn(a,()=>{f(),h.reject(gr())});const y={then:h.promise.then.bind(h.promise),catch:h.promise.catch.bind(h.promise),remove:f};return Object.freeze(y),l=Xq(e,t,r,(v,b,$,T)=>{d=!0,f(),n&&n.call(e,v,b,$,T),h.resolve({value:v,oldValue:b,propertyName:$,target:T})},i),d&&f(),y}function tB(e){return!e}function rB(e){return typeof e=="string"?document.getElementById(e):e}function eO(){const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var sB="[object Object]";function iB(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function nB(e,t){return function(r){return e(t(r))}}var oB=Function.prototype,tO=Object.prototype,rO=oB.toString,aB=tO.hasOwnProperty,lB=rO.call(Object),uB=tO.toString,cB=nB(Object.getPrototypeOf,Object);function dB(e){return!!e&&typeof e=="object"}function pB(e){if(!dB(e)||uB.call(e)!=sB||iB(e))return!1;var t=cB(e);if(t===null)return!0;var r=aB.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&rO.call(r)==lB}var hB=pB,jl={exports:{}},Rt={},Fd={exports:{}},Za={};function sO(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function fB(e,t,r){}function yB(e,t,r){}var mB=/javascript\s*\:/img;function gB(e,t){return mB.test(t)?"":t}Za.whiteList=sO();Za.getDefaultWhiteList=sO;Za.onAttr=fB;Za.onIgnoreAttr=yB;Za.safeAttrValue=gB;var vB={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Ku=vB;function bB(e,t){e=Ku.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,s=!1,i=0,n=0,a="";function l(){if(!s){var h=Ku.trim(e.slice(i,n)),y=h.indexOf(":");if(y!==-1){var v=Ku.trim(h.slice(0,y)),b=Ku.trim(h.slice(y+1));if(v){var $=t(i,a.length,v,b,h);$&&(a+=$+"; ")}}}i=n+1}for(;n<r;n++){var d=e[n];if(d==="/"&&e[n+1]==="*"){var f=e.indexOf("*/",n+2);if(f===-1)break;n=f+1,i=n+1,s=!1}else d==="("?s=!0:d===")"?s=!1:d===";"?s||l():d===`
`&&l()}return Ku.trim(a)}var wB=bB,rh=Za,_B=wB;function E$(e){return e==null}function SB(e){var t={};for(var r in e)t[r]=e[r];return t}function iO(e){e=SB(e||{}),e.whiteList=e.whiteList||rh.whiteList,e.onAttr=e.onAttr||rh.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||rh.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||rh.safeAttrValue,this.options=e}iO.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onAttr,n=r.onIgnoreAttr,a=r.safeAttrValue,l=_B(e,function(d,f,h,y,v){var b=s[h],$=!1;if(b===!0?$=b:typeof b=="function"?$=b(y):b instanceof RegExp&&($=b.test(y)),$!==!0&&($=!1),y=a(h,y),!!y){var T={position:f,sourcePosition:d,source:v,isWhite:$};if($){var j=i(h,y,T);return E$(j)?h+":"+y:j}else{var j=n(h,y,T);if(!E$(j))return j}}});return l};var $B=iO;(function(e,t){var r=Za,s=$B;function i(a,l){var d=new s(l);return d.process(a)}t=e.exports=i,t.FilterCSS=s;for(var n in r)t[n]=r[n]})(Fd,Fd.exports);var Y_={indexOf:function(e,t){var r,s;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var s,i;if(Array.prototype.forEach)return e.forEach(t,r);for(s=0,i=e.length;s<i;s++)t.call(r,e[s],s,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},xB=Fd.exports.FilterCSS,EB=Fd.exports.getDefaultWhiteList,oy=Y_;function nO(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var oO=new xB;function TB(e,t,r){}function kB(e,t,r){}function MB(e,t,r){}function IB(e,t,r){}function aO(e){return e.replace(CB,"&lt;").replace(AB,"&gt;")}function OB(e,t,r,s){if(r=hO(r),t==="href"||t==="src"){if(r=oy.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(sh.lastIndex=0,sh.test(r))return""}else if(t==="style"){if(T$.lastIndex=0,T$.test(r)||(k$.lastIndex=0,k$.test(r)&&(sh.lastIndex=0,sh.test(r))))return"";s!==!1&&(s=s||oO,r=s.process(r))}return r=fO(r),r}var CB=/</g,AB=/>/g,jB=/"/g,RB=/&quot;/g,PB=/&#([a-zA-Z0-9]*);?/gim,LB=/&colon;?/gim,FB=/&newline;?/gim,sh=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,T$=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,k$=/u\s*r\s*l\s*\(.*/gi;function lO(e){return e.replace(jB,"&quot;")}function uO(e){return e.replace(RB,'"')}function cO(e){return e.replace(PB,function(r,s){return s[0]==="x"||s[0]==="X"?String.fromCharCode(parseInt(s.substr(1),16)):String.fromCharCode(parseInt(s,10))})}function dO(e){return e.replace(LB,":").replace(FB," ")}function pO(e){for(var t="",r=0,s=e.length;r<s;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return oy.trim(t)}function hO(e){return e=uO(e),e=cO(e),e=dO(e),e=pO(e),e}function fO(e){return e=lO(e),e=aO(e),e}function NB(){return""}function DB(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function s(a){return r?!0:oy.indexOf(e,a)!==-1}var i=[],n=!1;return{onIgnoreTag:function(a,l,d){if(s(a))if(d.isClosing){var f="[/removed]",h=d.position+f.length;return i.push([n!==!1?n:d.position,h]),n=!1,f}else return n||(n=d.position),"[removed]";else return t(a,l,d)},remove:function(a){var l="",d=0;return oy.forEach(i,function(f){l+=a.slice(d,f[0]),d=f[1]}),l+=a.slice(d),l}}}function zB(e){for(var t="",r=0;r<e.length;){var s=e.indexOf("<!--",r);if(s===-1){t+=e.slice(r);break}t+=e.slice(r,s);var i=e.indexOf("-->",s);if(i===-1)break;r=i+3}return t}function VB(e){var t=e.split("");return t=t.filter(function(r){var s=r.charCodeAt(0);return s===127?!1:s<=31?s===10||s===13:!0}),t.join("")}Rt.whiteList=nO();Rt.getDefaultWhiteList=nO;Rt.onTag=TB;Rt.onIgnoreTag=kB;Rt.onTagAttr=MB;Rt.onIgnoreTagAttr=IB;Rt.safeAttrValue=OB;Rt.escapeHtml=aO;Rt.escapeQuote=lO;Rt.unescapeQuote=uO;Rt.escapeHtmlEntities=cO;Rt.escapeDangerHtml5Entities=dO;Rt.clearNonPrintableCharacter=pO;Rt.friendlyAttrValue=hO;Rt.escapeAttrValue=fO;Rt.onIgnoreTagStripAll=NB;Rt.StripTagBody=DB;Rt.stripCommentTag=zB;Rt.stripBlankChar=VB;Rt.cssFilter=oO;Rt.getDefaultCSSWhiteList=EB;var fm={},so=Y_;function UB(e){var t=so.spaceIndex(e);if(t===-1)var r=e.slice(1,-1);else var r=e.slice(1,t+1);return r=so.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function qB(e){return e.slice(0,2)==="</"}function BB(e,t,r){var s="",i=0,n=!1,a=!1,l=0,d=e.length,f="",h="";e:for(l=0;l<d;l++){var y=e.charAt(l);if(n===!1){if(y==="<"){n=l;continue}}else if(a===!1){if(y==="<"){s+=r(e.slice(i,l)),n=l,i=l;continue}if(y===">"){s+=r(e.slice(i,n)),h=e.slice(n,l+1),f=UB(h),s+=t(n,s.length,f,h,qB(h)),i=l+1,n=!1;continue}if(y==='"'||y==="'")for(var v=1,b=e.charAt(l-v);b.trim()===""||b==="=";){if(b==="="){a=y;continue e}b=e.charAt(l-++v)}}else if(y===a){a=!1;continue}}return i<e.length&&(s+=r(e.substr(i))),s}var HB=/[^a-zA-Z0-9_:\.\-]/gim;function GB(e,t){var r=0,s=[],i=!1,n=e.length;function a(y,v){if(y=so.trim(y),y=y.replace(HB,"").toLowerCase(),!(y.length<1)){var b=t(y,v||"");b&&s.push(b)}}for(var l=0;l<n;l++){var d=e.charAt(l),f,h;if(i===!1&&d==="="){i=e.slice(r,l),r=l+1;continue}if(i!==!1&&l===r&&(d==='"'||d==="'")&&e.charAt(l-1)==="="){if(h=e.indexOf(d,l+1),h===-1)break;f=so.trim(e.slice(r+1,h)),a(i,f),i=!1,l=h,r=l+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(h=WB(e,l),h===-1){f=so.trim(e.slice(r,l)),a(f),i=!1,r=l+1;continue}else{l=h-1;continue}else if(h=JB(e,l-1),h===-1){f=so.trim(e.slice(r,l)),f=M$(f),a(i,f),i=!1,r=l+1;continue}else continue}return r<e.length&&(i===!1?a(e.slice(r)):a(i,M$(so.trim(e.slice(r))))),so.trim(s.join(" "))}function WB(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function JB(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function KB(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function M$(e){return KB(e)?e.substr(1,e.length-2):e}fm.parseTag=BB;fm.parseAttr=GB;var QB=Fd.exports.FilterCSS,Ks=Rt,yO=fm,ZB=yO.parseTag,YB=yO.parseAttr,of=Y_;function ih(e){return e==null}function XB(e){var t=of.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=of.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=of.trim(e.slice(0,-1))),{html:e,closing:r}}function eH(e){var t={};for(var r in e)t[r]=e[r];return t}function mO(e){e=eH(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ks.onIgnoreTagStripAll),e.whiteList=e.whiteList||Ks.whiteList,e.onTag=e.onTag||Ks.onTag,e.onTagAttr=e.onTagAttr||Ks.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ks.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ks.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ks.safeAttrValue,e.escapeHtml=e.escapeHtml||Ks.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new QB(e.css))}mO.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,s=r.whiteList,i=r.onTag,n=r.onIgnoreTag,a=r.onTagAttr,l=r.onIgnoreTagAttr,d=r.safeAttrValue,f=r.escapeHtml,h=t.cssFilter;r.stripBlankChar&&(e=Ks.stripBlankChar(e)),r.allowCommentTag||(e=Ks.stripCommentTag(e));var y=!1;if(r.stripIgnoreTagBody){var y=Ks.StripTagBody(r.stripIgnoreTagBody,n);n=y.onIgnoreTag}var v=ZB(e,function(b,$,T,j,L){var W={sourcePosition:b,position:$,isClosing:L,isWhite:s.hasOwnProperty(T)},O=i(T,j,W);if(!ih(O))return O;if(W.isWhite){if(W.isClosing)return"</"+T+">";var p=XB(j),m=s[T],g=YB(p.html,function(E,k){var S=of.indexOf(m,E)!==-1,A=a(T,E,k,S);if(!ih(A))return A;if(S)return k=d(T,E,k,h),k?E+'="'+k+'"':E;var A=l(T,E,k,S);return ih(A)?void 0:A}),j="<"+T;return g&&(j+=" "+g),p.closing&&(j+=" /"),j+=">",j}else{var O=n(T,j,W);return ih(O)?f(j):O}},f);return y&&(v=y.remove(v)),v};var tH=mO;(function(e,t){var r=Rt,s=fm,i=tH;function n(d,f){var h=new i(f);return h.process(d)}t=e.exports=n,t.filterXSS=n,t.FilterXSS=i;for(var a in r)t[a]=r[a];for(var a in s)t[a]=s[a];function l(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}l()&&(self.filterXSS=e.exports)})(jl,jl.exports);var rH=function(){function e(t,r){var s=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,a,l,d){return n==="a"&&a==="href"||(n==="img"||n==="source")&&a==="src"?s.sanitizeUrl(l):jl.exports.safeAttrValue(n,a,l,d)}};var i;t&&!r?i=t:t&&r?(i=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(n){n==="whiteList"?i.whiteList=s._extendObjectOfArrays([s.arcgisWhiteList,t.whiteList||{}]):i[n]=t[n]})):(i=Object.create(this.arcgisFilterOptions),i.whiteList=this.arcgisWhiteList),this.xssFilterOptions=i,this._xssFilter=new jl.exports.FilterXSS(i)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t){var r=this._trim(t.substring(0,t.indexOf(":")));return t==="/"||t==="#"||t[0]==="#"||this.allowedProtocols.indexOf(r.toLowerCase())>-1?jl.exports.escapeAttrValue(t):""},e.prototype.sanitizeHTMLAttribute=function(t,r,s,i){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,s,i):jl.exports.safeAttrValue(t,r,s,i)},e.prototype.validate=function(t,r){r===void 0&&(r={});var s=this.sanitize(t,r);return{isValid:t===s,sanitized:s}},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(s){Object.keys(s).forEach(function(i){Array.isArray(s[i])&&Array.isArray(r[i])?r[i]=r[i].concat(s[i]):r[i]=s[i]})}),r},e.prototype._iterateOverObject=function(t,r){var s=this;r===void 0&&(r={});try{var i=!1,n=void 0;if(Array.isArray(t))n=t.reduce(function(l,d){var f=s.validate(d,r);return f.isValid?l.concat([d]):(i=!0,l.concat([f.sanitized]))},[]);else if(hB(t)){var a=Object.keys(t);n=a.reduce(function(l,d){var f=t[d],h=s.validate(f,r);return h.isValid?l[d]=f:(i=!0,l[d]=h.sanitized),l},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return i?n:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const ym=new Map;function gO(){ym.clear()}function sH(e){return ym.get(e)}function iH(e,t){ym.set(e,t)}function Eg(e){ym.delete(e)}const nH=ye.getLogger("esri.widgets.support.widgetUtils");function oH(e){const t=Ys.acquire();for(let s=0;s<arguments.length;s++){const i=arguments[s],n=typeof i;if(n==="string")t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if(n==="object")for(const a in i)i[a]&&t.push(a)}const r=t.join(" ");return Ys.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(r=>{gO();for(const s of r)e.get(s.target)(s)});return(r,s,i)=>(e.has(r)&&nH.error("Already observing element",r),e.set(r,s),t.observe(r,i),Wd(()=>{t.unobserve(r),e.delete(r)}))})();function Fc(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const aH=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],lH=aH.reduce((e,t)=>(e[t]=[],e),{}),uH=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],vO=new rH({whiteList:lH,onTagAttr:(e,t,r)=>{const s=`${t}="${r}"`;if(uH.includes(t))return s},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function cH(e,t){const r=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=r.top+r.height,n=s.top+s.height,a=r.top,l=s.top;(i>n||a<l)&&e.scrollIntoView({block:"end"})}function bO(e){return e==="Enter"||e===" "}const wO="http://www.w3.org/",mm=`${wO}2000/svg`,_O=`${wO}1999/xlink`;let ay,I$=[],X_=(e,t)=>{let r={};return Object.keys(e).forEach(s=>{r[s]=e[s]}),t&&Object.keys(t).forEach(s=>{r[s]=t[s]}),r},e3=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),SO=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},dH=(e,t,r)=>{if(t.vnodeSelector!==""){for(let s=r;s<e.length;s++)if(e3(e[s],t))return s}return-1},Tg=(e,t,r,s)=>{let i=e[t];if(i.vnodeSelector==="")return;let n=i.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let a=0;a<e.length;a++)if(a!==t){let l=e[a];if(e3(l,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${s==="added"?s:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},pH=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},Mw=[],Iw=!1,$O=e=>{(e.children||[]).forEach($O),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},O$=()=>{Iw=!1,Mw.forEach($O),Mw.length=0},C$=e=>{Mw.push(e),Iw||(Iw=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(O$,{timeout:16}):setTimeout(O$,16))},A$=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),C$(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),C$(e))},hH=(e,t,r)=>{if(!t)return;let s=r.eventHandlerInterceptor,i=Object.keys(t),n=i.length;for(let a=0;a<n;a++){let l=i[a],d=t[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")Ow(e,d,!0);else if(l==="classes"){let f=Object.keys(d),h=f.length;for(let y=0;y<h;y++){let v=f[y];d[v]&&e.classList.add(v)}}else if(l==="styles"){let f=Object.keys(d),h=f.length;for(let y=0;y<h;y++){let v=f[y],b=d[v];b&&(SO(b),r.styleApplyer(e,v,b))}}else if(l!=="key"&&d!=null){let f=typeof d;f==="function"?(l.lastIndexOf("on",0)===0&&(s&&(d=s(l,d,e,t)),l==="oninput"&&function(){let h=d;d=function(y){h.apply(this,[y]),y.target["oninput-value"]=y.target.value}}()),e[l]=d):r.namespace===mm?l==="href"?e.setAttributeNS(_O,l,d):e.setAttribute(l,d):f==="string"&&l!=="value"?l==="innerHTML"?e[l]=vO.sanitize(d):e.setAttribute(l,d):e[l]=d}}},fH=(e,t,r)=>{if(t)for(let s of t)Rl(s,e,void 0,r)},xO=(e,t,r)=>{fH(e,t.children,r),t.text&&(e.textContent=t.text),hH(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},Rl=(e,t,r,s)=>{let i,n=0,a=e.vnodeSelector,l=t.ownerDocument;if(a==="")i=e.domNode=l.createTextNode(e.text),r!==void 0?t.insertBefore(i,r):t.appendChild(i);else{for(let d=0;d<=a.length;++d){let f=a.charAt(d);if(d===a.length||f==="."||f==="#"){let h=a.charAt(n-1),y=a.slice(n,d);h==="."?i.classList.add(y):h==="#"?i.id=y:(y==="svg"&&(s=X_(s,{namespace:mm})),s.namespace!==void 0?i=e.domNode=l.createElementNS(s.namespace,y):(i=e.domNode=e.domNode||l.createElement(y),y==="input"&&e.properties&&e.properties.type!==void 0&&i.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(i,r):i.parentNode!==t&&t.appendChild(i)),n=d+1}}xO(i,e,s)}},Ow=(e,t,r)=>{t&&t.split(" ").forEach(s=>{s&&e.classList.toggle(s,r)})},yH=(e,t,r,s)=>{if(!r)return;let i=!1,n=Object.keys(r),a=n.length;for(let l=0;l<a;l++){let d=n[l],f=r[d],h=t[d];if(d==="class")h!==f&&(Ow(e,h,!1),Ow(e,f,!0));else if(d==="classes"){let y=e.classList,v=Object.keys(f),b=v.length;for(let $=0;$<b;$++){let T=v[$],j=!!f[T];j!==!!h[T]&&(i=!0,j?y.add(T):y.remove(T))}}else if(d==="styles"){let y=Object.keys(f),v=y.length;for(let b=0;b<v;b++){let $=y[b],T=f[$];T!==h[$]&&(i=!0,T?(SO(T),s.styleApplyer(e,$,T)):s.styleApplyer(e,$,""))}}else if(f||typeof h!="string"||(f=""),d==="value"){let y=e[d];y!==f&&(e["oninput-value"]?y===e["oninput-value"]:f!==h)&&(e[d]=f,e["oninput-value"]=void 0),f!==h&&(i=!0)}else if(f!==h){let y=typeof f;y==="function"&&s.eventHandlerInterceptor||(s.namespace===mm?d==="href"?e.setAttributeNS(_O,d,f):e.setAttribute(d,f):y==="string"?d==="innerHTML"?e[d]=vO.sanitize(f):d==="role"&&f===""?e.removeAttribute(d):e.setAttribute(d,f):e[d]!==f&&(e[d]=f),i=!0)}}return i},mH=(e,t,r,s,i)=>{if(r===s)return!1;s=s||I$;let n,a=(r=r||I$).length,l=s.length,d=0,f=0,h=!1;for(;f<l;){let y=d<a?r[d]:void 0,v=s[f];if(y!==void 0&&e3(y,v))h=ay(y,v,i)||h,d++;else{let b=dH(r,v,d+1);if(b>=0){for(n=d;n<b;n++)A$(r[n]),Tg(r,n,e,"removed");h=ay(r[b],v,i)||h,d=b+1}else Rl(v,t,d<a?r[d].domNode:void 0,i),pH(v),Tg(s,f,e,"added")}f++}if(a>d)for(n=d;n<a;n++)A$(r[n]),Tg(r,n,e,"removed");return h};ay=(e,t,r)=>{let s=e.domNode,i=!1;if(e===t)return!1;let n=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let a=s.ownerDocument.createTextNode(t.text);return s.parentNode.replaceChild(a,s),t.domNode=a,i=!0,i}t.domNode=s}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=X_(r,{namespace:mm})),e.text!==t.text&&(n=!0,t.text===void 0?s.removeChild(s.firstChild):s.textContent=t.text),t.domNode=s,n=mH(t,s,e.children,t.children,r)||n,n=yH(s,e.properties,t.properties,r)||n,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[s,r,t.vnodeSelector,t.properties,t.children]);return n&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(s,t.properties,e.properties),i};let Qu=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let s=e;e=r,ay(s,r,t)},domNode:e.domNode});const gH={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Zu=e=>X_(gH,e),nh={create:(e,t)=>(t=Zu(t),Rl(e,document.createElement("div"),void 0,t),Qu(e,t)),append:(e,t,r)=>(r=Zu(r),Rl(t,e,void 0,r),Qu(t,r)),insertBefore:(e,t,r)=>(r=Zu(r),Rl(t,e.parentNode,e,r),Qu(t,r)),merge:(e,t,r)=>(r=Zu(r),t.domNode=e,xO(e,t,r),Qu(t,r)),replace:(e,t,r)=>(r=Zu(r),Rl(t,e.parentNode,e,r),e.parentNode.removeChild(e),Qu(t,r))};const vH={handleInterceptedEvent:(e,t,r,s)=>(e.scheduleRender(),t.properties[`on${s.type}`].apply(t.properties.bind||r,[s]))},bH={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{e.style[t]=r}},wH=e=>q(q({},bH),e),_H=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},SH=(e,t)=>e.find(t),j$=(e,t,r=!1)=>{let s=e;return t.forEach((i,n)=>{var a;const l=(a=s)!=null&&a.children?SH(s.children,d=>d.domNode===i):void 0;r&&!l&&n!==t.length-1||(s=l)}),s},$H=e=>{let t;const r=q(q({},vH),e),s=wH(r),i=s.performanceLogger;let n,a=!0,l=!1;const d=[],f=[],h=(v,b,$)=>{let T;s.eventHandlerInterceptor=(L,W,O,p)=>function(m){let g;i("domEvent",m);const _=_H(m.currentTarget,T.domNode),E=_.some(S=>{var A;return customElements.get(S==null||(A=S.tagName)==null?void 0:A.toLowerCase())});if(m.eventPhase===Event.CAPTURING_PHASE||!E)_.reverse(),g=j$(T.getLastRender(),_);else{const S=m.composedPath(),A=S.slice(S.indexOf(m.currentTarget),S.indexOf(T.domNode)).filter(H=>H.getRootNode()===H.ownerDocument).reverse();g=j$(T.getLastRender(),A,!0)}let k;return g&&(k=r.handleInterceptedEvent(t,g,this,m)),i("domEventProcessed",m),k},r.postProcessProjectionOptions==null||r.postProcessProjectionOptions(s);const j=$();T=v(b,j,s),d.push(T),f.push($),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(T,j)};let y=()=>{if(n=void 0,a){a=!1,i("renderStart",void 0);for(let v=0;v<d.length;v++){const b=f[v]();i("rendered",void 0),d[v].update(b),i("patched",void 0)}i("renderDone",void 0),a=!0}};return r.modifyDoRenderImplementation&&(y=r.modifyDoRenderImplementation(y,d,f)),t={renderNow:y,scheduleRender:()=>{n||l||(n=requestAnimationFrame(y))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(v,b)=>{h(nh.append,v,b)},insertBefore:(v,b)=>{h(nh.insertBefore,v,b)},merge:(v,b)=>{h(nh.merge,v,b)},replace:(v,b)=>{h(nh.replace,v,b)},detach:v=>{for(let b=0;b<f.length;b++)if(f[b]===v)return f.splice(b,1),d.splice(b,1)[0];throw new Error("renderFunction was not found")}},t},xH=e=>e;let EO;function EH(){xH(Ts(Cu(EO)))}EO="components/assets";const TO=Symbol("widget"),TH=[],kH={},ly=new WeakMap;function kO(e,t){let r=t.children;if(r&&r.length)for(let i=0;i<r.length;++i)r[i]=kO(e,r[i]);else r=TH;const s=t.vnodeSelector;if(t3(s)){const i=t.properties||kH,n=i.key||s;return{vnodeSelector:"div",properties:{key:n,afterCreate:MH,afterUpdate:IH,afterRemoved:MO,parentWidget:e,widgetConstructor:s,widgetProperties:Ie(q({},i),{key:n,children:r})},children:void 0,text:void 0,domNode:null}}return t}function MH(e,t,r,{parentWidget:s,widgetConstructor:i,widgetProperties:n}){const a=new i(n);a.container=e,ly.set(e,a),a.afterCreate==null||a.afterCreate(a,e),s._internalHandles.add(Wd(()=>MO(e)))}function IH(e,t,r,{widgetProperties:s}){const i=ly.get(e);i&&(i.set(s),i.afterUpdate==null||i.afterUpdate(i,e))}function MO(e){const t=ly.get(e);t&&(t.destroy(),ly.delete(e))}function t3(e){return typeof e=="function"&&e[TO]}function OH(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}const IO="esri.widgets.Widget",R$=ye.getLogger(IO);let CH=0;const AH={widgetIcon:"esri-icon-checkbox-unchecked"};function OO(e,t){for(const r in t)e[r]!=null&&(typeof e[r]=="object"&&typeof t[r]=="object"?OO(e[r],t[r]):e[r]=t[r]);return e}const jH=$H({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(s,i,n,a)=>{const l=t(s,i,n,a),d=r.test(s);if(!((s=s.replace(r,"")).toLowerCase()in n)||d){const f=s[2].toLowerCase()+s.slice(3),h=b=>l.call(n,b);n.addEventListener(f,h,d);const y=()=>n.removeEventListener(f,h,d),v=a.afterRemoved;a.afterRemoved=b=>{v==null||v(b),y()}}return l}},handleInterceptedEvent(e,t,r,s){const{eventPhase:i,type:n}=s,a=i===Event.CAPTURING_PHASE;let l=`on${n}${a?"capture":""}`;const d=t.properties;(l in d||(l=`on${n[0].toUpperCase()}${n.slice(1)}${a?"Capture":""}`,l in d))&&(gO(),e.scheduleRender(),d[l].call(d.bind||r,s))}});let kg=!1,Jt=class extends Gy(ep.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new Ka,this._projector=jH,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=AH.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=m1(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const l=await Mi(this._messageBundleProps.map(async({bundlePath:d,propertyName:f})=>{let h=await N_(d);this.uiStrings&&Object.keys(this.uiStrings)&&(h=OO(U(h),this.uiStrings)),this[f]=h}));for(const d of l)d.error&&R$.error("widget-intl:locale-error",this.declaredClass,d.error)}await this.loadLocale()}),EH();const r=["light","dark"],s=OH()||"light";r.includes(s)||Sy(R$,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const i="esri-widget-uid-"+eO(),n=this.render.bind(this);this._trackingTarget=new Cy(()=>this.scheduleRender());const a=()=>{var l;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:i,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const d=n();let{properties:f}=d;f||(d.properties=f={});let{key:h,styles:y}=f;h||(f.key=i),y||(f.styles=y={}),y.display||(y.display="");let v=0;return(l=d.children)==null||l.forEach(b=>{if(t3(b.vnodeSelector))return;let{properties:$}=b;$||(b.properties=$={}),$.key||($.key=`${this.id}--${v++}`)}),kO(this,d)};this.render=()=>{if(kg)return a();let l=sH(this);if(l)return l;this._trackingTarget.clear(),kg=!0;try{l=gn(this._trackingTarget,a)}finally{kg=!1}return iH(this,l),l},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(e,t){const r=q({},e);return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(a0)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=Cf(this._trackingTarget),this.viewModel=Cf(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,Eg(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return rB(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+CH++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Eg(this),this._projector.scheduleRender())}classes(...e){return oH.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){Eg(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),(e=this._delegatedEventNames)!=null&&e.length&&this._internalHandles.add(hu(()=>this.viewModel,(r,s)=>{s&&this._internalHandles.remove("delegated-events"),r&&this._internalHandles.add(this._delegatedEventNames.map(i=>r.on(i,n=>{this.emit(i,n)})),"delegated-events")},VI)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(a0),this.scheduleRender()};this._internalHandles.add([jk(t),hu(()=>this.uiStrings,t),j_(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};Jt[TO]=!0,o([c()],Jt.prototype,"_readyForTrueRender",void 0),o([c({value:null})],Jt.prototype,"container",null),o([jt("container")],Jt.prototype,"castContainer",null),o([c({aliasOf:"container"})],Jt.prototype,"domNode",void 0),o([c()],Jt.prototype,"iconClass",void 0),o([c()],Jt.prototype,"id",null),o([c()],Jt.prototype,"label",void 0),o([c()],Jt.prototype,"renderable",null),o([c()],Jt.prototype,"uiStrings",void 0),o([c()],Jt.prototype,"viewModel",void 0),o([c()],Jt.prototype,"visible",void 0),o([c()],Jt.prototype,"key",void 0),o([c()],Jt.prototype,"children",void 0),o([c()],Jt.prototype,"afterCreate",void 0),o([c()],Jt.prototype,"afterUpdate",void 0),o([c()],Jt.prototype,"afterRemoved",void 0),Jt=o([M(IO)],Jt);const r3=Jt;function RH(e){return e&&typeof e.highlight=="function"}let Ut=class extends sp(X){constructor(e){super(e),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};o([c()],Ut.prototype,"autoNavigate",void 0),o([c()],Ut.prototype,"filter",void 0),o([c()],Ut.prototype,"getResults",void 0),o([c()],Ut.prototype,"getSuggestions",void 0),o([c()],Ut.prototype,"maxResults",void 0),o([c()],Ut.prototype,"maxSuggestions",void 0),o([c()],Ut.prototype,"minSuggestCharacters",void 0),o([c()],Ut.prototype,"outFields",void 0),o([c()],Ut.prototype,"placeholder",void 0),o([c()],Ut.prototype,"popupEnabled",void 0),o([c()],Ut.prototype,"popupTemplate",void 0),o([c()],Ut.prototype,"prefix",void 0),o([c()],Ut.prototype,"resultGraphicEnabled",void 0),o([c()],Ut.prototype,"resultSymbol",void 0),o([c()],Ut.prototype,"suggestionsEnabled",void 0),o([c()],Ut.prototype,"suffix",void 0),o([c()],Ut.prototype,"withinViewEnabled",void 0),o([c()],Ut.prototype,"zoomScale",void 0),Ut=o([M("esri.widgets.Search.SearchSource")],Ut);const s3=Ut,CO=96;function PH(e,t){const r=t||e.extent,s=e.width,i=Mu(r&&r.spatialReference);return r&&s?r.width/s*i*eI*CO:0}function LH(e,t){return e/(Mu(t)*eI*CO)}function FH(e,t){const r=e.extent,s=e.width,i=LH(t,r.spatialReference);return r.clone().expand(i*s/r.width)}const P$=ye.getLogger("esri.widgets.Search.support.geometryUtils");function NH(e,t){var r,s;if(!t)return P$.error("missing-parameter: view is missing."),Promise.reject(new Z("searchgeometryutils:missing-parameter","view is missing."));if(!e)return P$.error("missing-parameter: point is missing."),Promise.reject(new Z("searchgeometryutils:missing-parameter","point is missing."));if(e.hasZ||t.type==="2d")return Promise.resolve(e);const i=t==null||(r=t.map)==null?void 0:r.ground;return i&&i.layers.length?i.queryElevation(e,{cache:(s=t.basemapTerrain)==null?void 0:s.elevationQueryCache}).then(n=>n.geometry):Promise.resolve(e)}function L$(e){if(we(e))return null;switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":return e.getPoint(0);case"polyline":return e.getPoint(0,0)}return null}function i3(e,t,r){return we(e)?null:e.type==="extent"?e:e.type==="multipoint"||e.type==="polygon"||e.type==="polyline"?e.extent:e.type==="point"?AO(e,t,r):void 0}function Cw(e,t,r){return we(e)||we(t)?null:AO(e.center,t,r)}function AO(e,t,r){const s=e.hasZ?e.z:void 0;return t&&t.map?(r?FH(t,r):t.extent).clone().centerAt(e).set({zmax:s,zmin:s}):new Dt({xmin:e.x-.25,ymin:e.y-.25,xmax:e.x+.25,ymax:e.y+.25,spatialReference:e.spatialReference,zmin:s,zmax:s})}const DH=/https?:\/\/services.*\.arcgis\.com/i,zH=/(?:\{([^}]+)\})/g,eu=ye.getLogger("esri.widgets.Search.support.layerSearchUtils");function VH(e,t){const{exactMatch:r=!1,location:s,maxResults:i,spatialReference:n,source:a,sourceIndex:l,suggestResult:d,view:f}=e,{layer:h,filter:y,zoomScale:v}=a,b=f&&f.scale,$=jO(a,f),T=t&&t.signal;return PO(h).then(()=>{const j=h.popupTemplate;return j?j.getRequiredFields(h.fieldsIndex):null}).then(j=>{var L,W,O;const{objectIdField:p,returnZ:m}=h,g=FO(a);if(!n3(h,g))throw eu.error("invalid-field: displayField is invalid."),new Z("getResults():invalid-field","displayField is invalid.");const _=j&&j.length?j:[g],E=a.outFields||_,k=RO(E);if(E.indexOf(p)!==-1||k||E.push(p),(L=h.floorInfo)!=null&&L.floorField&&E.push(h.floorInfo.floorField),!(k||uy(h,E)))throw eu.error("invalid-field: outField is invalid."),new Z("getResults():invalid-field","outField is invalid.");const S=h.createQuery(),{orderByFields:A}=a;if(A&&(S.orderByFields=A),n){S.outSpatialReference=n;const N=1/Mu(n);N&&(S.maxAllowableOffset=N)}const H=h.geometryType==="mesh"||h.geometryType==="multipatch",B=((W=h.capabilities)==null||(O=W.data)==null?void 0:O.supportsZ)&&!H;if(S.returnZ=B&&m!==!1,S.returnGeometry=!0,S.multipatchOption=H?"xyFootprint":null,E&&(S.outFields=E),s)S.geometry=s;else if(d.key)S.objectIds=[d.key];else{const N=a.searchFields||[g];if(!uy(h,N))throw eu.error("invalid-field: search field is invalid."),new Z("getResults():invalid-field","search field is invalid.");if(LO(h)&&(S.num=i),$&&(S.geometry=$),!d.text.trim())return[];const{prefix:J="",suffix:x=""}=a,V=DO({searchTerm:NO(`${J}${d.text}${x}`),layer:h,searchFields:N,filter:y,exactMatch:r,type:"search"});if(!V)return[];S.where=V}return h.queryFeatures(S,{signal:T}).then(N=>XH(N,f,a,l,g,b,v))})}function UH(e,t){const{source:r,spatialReference:s,view:i,suggestTerm:n,maxSuggestions:a,sourceIndex:l,exactMatch:d}=e,{layer:f,filter:h}=r,y=t&&t.signal,v=jO(r,i);return PO(f).then(()=>{if(!LO(f))return[];const b=FO(r),$=r.searchFields||[b],T=[];r.suggestionTemplate?r.suggestionTemplate.replace(zH,(k,S)=>(T.push(S),k)):T.push(b);const j=RO(T);T.indexOf(f.objectIdField)!==-1||j||T.push(f.objectIdField);const L=n3(f,b),W=j||uy(f,T),O=uy(f,$);if(!L)throw eu.error("invalid-field: displayField is invalid."),new Z("getSuggestions():invalid-field","displayField is invalid.");if(!W)throw eu.error("invalid-field: outField is invalid."),new Z("getSuggestions():invalid-field","outField is invalid.");if(!O)throw eu.error("invalid-field: search field is invalid."),new Z("getSuggestions():invalid-field","search field is invalid.");const p=f.createQuery(),{orderByFields:m}=r;if(m&&(p.orderByFields=m),p.outSpatialReference=s,p.returnGeometry=!1,p.num=a,p.outFields=T,v&&(p.geometry=v),!n.trim())return[];const{prefix:g="",suffix:_=""}=r,E=DO({searchTerm:NO(`${g}${n}${_}`),layer:f,searchFields:$,filter:h,exactMatch:d,type:"suggest"});return E?(p.where=E,f.queryFeatures(p,{signal:y}).then(k=>ZH(k,r,l,b))):[]})}function jO(e,t){const{filter:r,withinViewEnabled:s}=e,i=t&&t.extent;return r&&r.geometry||(s&&i?i:void 0)}function RO(e){return e&&e.indexOf("*")!==-1}async function PO(e){e&&await e.load()}function LO(e){var t,r,s;return(t=e==null||(r=e.capabilities)==null||(s=r.query)==null?void 0:s.supportsPagination)!=null&&t}function qH(e){var t,r,s,i;return(t=e==null||(r=e.fieldsIndex)==null||(s=r.fields)==null||(i=s.find(n=>n.type==="string"))==null?void 0:i.name)!=null?t:""}function FO(e){return e.displayField||e.layer.displayField||qH(e.layer)}function uy(e,t){return!(!e||!t)&&t.every(r=>n3(e,r))}function n3(e,t){return!!e.getField(t)}function BH(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}function HH(e,t,r){let s=null;const{codedValues:i}=e;return i&&i.some(n=>{const a=n.name,l=r?a:a.toLowerCase();return(r?t:t.toLowerCase())===l&&(s=n.code.toString(),!0)}),s}function NO(e){return e.replace(/\'/g,"''")}function oh(e,t){const r=t&&t.where;return r?`(${e}) AND (${r})`:e}function GH({currentTerm:e,field:t,filter:r,exactMatch:s,url:i,type:n}){const a=t.type,l=t.name;if(a==="string"||a==="date"||a==="global-id"){const d=DH.test(i),f=d&&BH(e)?"N":"";if(s&&n==="search")return oh(`${l} = ${f}'${e}'`,r);const h=d?l:`UPPER(${l})`,y=d?e:e.toUpperCase();return oh(`${h} LIKE ${f}${s?`'${y}%'`:`'%${y}%'`}`,r)}if(a==="oid"||a==="small-integer"||a==="integer"||a==="single"||a==="double"){const d=Number(e);return isNaN(d)?null:oh(`${l} = ${d}`,r)}return oh(`${l} = ${e}`,r)}function WH(e,t){return e?` OR (${t})`:`(${t})`}function DO({searchTerm:e,layer:t,searchFields:r,filter:s,exactMatch:i,type:n}){const{definitionExpression:a,url:l}=t;let d="";return e&&r&&r.forEach(f=>{const h=t.getField(f),y=typeof t.getFieldDomain=="function"&&t.getFieldDomain(f),v=(y&&y.type==="coded-value"?HH(y,e,i):null)||e||null;if(v!==null){const b=GH({currentTerm:v,field:h,filter:s,exactMatch:i,url:l,type:n});b&&(d+=WH(d,b))}}),a?`(${a}) AND (${d})`:d}function JH(e,t){let r=null;const{codedValues:s}=e;return s&&s.length&&s.some(i=>i.code===t&&(r=i.name,!0)),r}function KH(e,t){return e[Object.keys(e).find(r=>r.toLowerCase()===t.toLowerCase())]}function zO(e,t,r){const s=e.sourceLayer,{attributes:i}=e,n=typeof s.getFieldDomain=="function"&&s.getFieldDomain(r);if(t)return L_(t,i);if(r&&i){const a=s.getField(r),l=KH(i,r);return l==null?"":n&&n.type==="coded-value"?JH(n,l):(a==null?void 0:a.type)==="date"?La(new Date(l)):typeof l=="number"?l.toString():typeof l!="string"?"":l.trim()}return""}function QH(e,t,r,s){const i=e.sourceLayer,{attributes:n}=e,{objectIdField:a}=i,l=n[a];return{text:zO(e,t.suggestionTemplate,s),key:l,sourceIndex:r}}function ZH(e,t,r,s){return e.features.map(i=>QH(i,t,r,s))}function YH(e,t,r,s,i,n,a){const l=e.clone(),d=e.sourceLayer,f=d&&d.objectIdField,h=f&&e.attributes[f],y=zO(e,r.searchTemplate,i),v=i3(l.geometry,t,n),b=typeof a=="number"?Cw(U(v),t,a):v,$=e.clone();return G(b)&&($.geometry=Va.fromExtent(b)),{extent:b,target:$,feature:l,key:h,name:y,sourceIndex:s}}function XH(e,t,r,s,i,n,a){return e.features.map(l=>YH(l,t,r,s,i,n,a))}var Aw;let Js=Aw=class extends s3{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(t,r)=>VH(q({source:this},t),r),this.getSuggestions=(t,r)=>UH(q({source:this},t),r)}set layer(e){this._set("layer",e),e&&e.load().catch(()=>{})}get name(){return this._getLayerTitle()||""}set name(e){e!==void 0?this._override("name",e):this._clearOverride("name")}clone(){return new Aw({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?U(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?U(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){var e,t;return(e=(t=this.layer.fieldsIndex.fields.find(r=>r.type==="string"))==null?void 0:t.name)!=null?e:""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;return e.loaded?`: ${(t||[this._getDisplayField()]).map(r=>{const s=e.getField(r);return s&&s.alias||r}).join(", ")}`:""}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};o([c({json:{read:{source:"field.name"},write:{target:"field.name"}}})],Js.prototype,"displayField",void 0),o([c({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],Js.prototype,"exactMatch",void 0),o([c({value:null})],Js.prototype,"layer",null),o([c()],Js.prototype,"name",null),o([c({type:[String],json:{write:!0}})],Js.prototype,"orderByFields",void 0),o([c()],Js.prototype,"searchFields",void 0),o([c()],Js.prototype,"searchTemplate",void 0),o([c()],Js.prototype,"suggestionTemplate",void 0),Js=Aw=o([M("esri.widgets.Search.LayerSearchSource")],Js);const El=Js;function ju(e,t){return t?Ie(q({},t),{query:q(q({},e),t.query)}):{query:e}}function Ru(e){return typeof e=="string"?Kr(e):e}function Pu(e,t,r){const s={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){s[i]=[];for(let a=0;a<n.length;a++)s[i][a]=Pu(n[a])}else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r&&r[i]);s[i]=t?a:JSON.stringify(a)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}function eG(e){return e&&typeof e.x=="number"&&typeof e.y=="number"}function tG(e){return e&&typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"}let Wn=class extends X{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};o([c({type:String,json:{write:!0}})],Wn.prototype,"address",void 0),o([c({type:Object,json:{write:!0}})],Wn.prototype,"attributes",void 0),o([c({type:Dt,json:{write:!0}})],Wn.prototype,"extent",void 0),o([c({type:ct,json:{write:!0}})],Wn.prototype,"location",void 0),o([c({type:Number,json:{write:!0}})],Wn.prototype,"score",void 0),Wn=o([M("esri.rest.support.AddressCandidate")],Wn);const o3=Wn,gm={type:String,json:{read:{source:"token"},write:{target:"token"}}};let fr=class extends X{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};o([c({type:Object,json:{write:!0}})],fr.prototype,"address",void 0),o([c(gm)],fr.prototype,"apiKey",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],fr.prototype,"categories",void 0),o([c({type:String,json:{write:!0}})],fr.prototype,"countryCode",void 0),o([c({type:Boolean,json:{write:!0}})],fr.prototype,"forStorage",void 0),o([c({type:ct,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],fr.prototype,"location",void 0),o([c({type:String,json:{write:!0}})],fr.prototype,"locationType",void 0),o([c({type:String,json:{write:!0}})],fr.prototype,"magicKey",void 0),o([c({type:Number,json:{write:!0}})],fr.prototype,"maxLocations",void 0),o([c({type:[String],json:{write:{writer:(e,t)=>{t.outFields=e?e.join(","):null}}}})],fr.prototype,"outFields",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],fr.prototype,"outSpatialReference",void 0),o([c({type:Dt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=r}}}})],fr.prototype,"searchExtent",void 0),fr=o([M("esri.rest.support.AddressToLocationsParameters")],fr),fr.from=at(fr);const VO=fr;async function UO(e,t,r){t=VO.from(t);const s=Ru(e),i=t.toJSON(),{address:n}=i,a=qR(i,["address"]),l=Ie(q(q({},n),a),{f:"json"}),d=Pu(q(q({},s.query),l)),f=ju(d,r),h=`${s.path}/findAddressCandidates`;return Tt(h,f).then(rG)}function rG({data:e}){if(!e)return[];const{candidates:t,spatialReference:r}=e;return t?t.map(s=>{if(!s)return;const{extent:i,location:n}=s,a=!i||tG(i);return eG(n)&&a?(i&&(i.spatialReference=r),n.spatialReference=r,o3.fromJSON(s)):void 0}):[]}let Si=class extends X{constructor(e){super(e),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};o([c({type:[Object],json:{read:{reader:e=>e&&e.records?e.records.map(t=>t.attributes):null},write:{writer:(e,t)=>{const r=[];Array.isArray(e)&&e.forEach(s=>{r.push({attributes:s})}),t.addresses={records:r}}}}})],Si.prototype,"addresses",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],Si.prototype,"categories",void 0),o([c({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],Si.prototype,"countryCode",void 0),o([c({type:String,json:{write:!0}})],Si.prototype,"locationType",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Si.prototype,"outSpatialReference",void 0),Si=o([M("esri.rest.support.AddressesToLocationsParameters")],Si),Si.from=at(Si);const sG=Si;async function iG(e,t,r){t=sG.from(t);const s=Ru(e),i=Ie(q({},t.toJSON()),{f:"json"}),n=Pu(q(q({},s.query),i)),a=ju(n,r),l=`${s.path}/geocodeAddresses`;return Tt(l,a).then(nG)}function nG(e){const{data:t}=e;if(!t)return[];const{locations:r,spatialReference:s}=t;return r?r.map(i=>{const{location:n}=i;return n&&(n.spatialReference=s),o3.fromJSON(i)}):[]}let en=class extends X{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};o([c(gm)],en.prototype,"apiKey",void 0),o([c({type:ct,json:{write:{writer:(e,t)=>{const r=e?e.clone().normalize():null,s=r!==void 0;t.location=s?r:null}}}})],en.prototype,"location",void 0),o([c({type:String,json:{write:!0}})],en.prototype,"locationType",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],en.prototype,"outSpatialReference",void 0),en=o([M("esri.rest.support.LocationToAddressParameters")],en),en.from=at(en);const qO=en;async function BO(e,t,r){t=qO.from(t);const s=Ru(e),i=Ie(q({},t.toJSON()),{f:"json"}),n=Pu(q(q({},s.query),i)),a=ju(n,r),l=`${s.path}/reverseGeocode`;return Tt(l,a).then(oG)}function oG({data:e}){if(!e)return;const{address:t,location:r}=e,s=t&&t.Match_addr||"";return o3.fromJSON({address:s,attributes:t||{},location:r,score:100})}let Tl=class extends X{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};o([c({type:Boolean,json:{write:!0}})],Tl.prototype,"isCollection",void 0),o([c({type:String,json:{write:!0}})],Tl.prototype,"magicKey",void 0),o([c({type:String,json:{write:!0}})],Tl.prototype,"text",void 0),Tl=o([M("esri.rest.support.SuggestionCandidate")],Tl);const aG=Tl;let ts=class extends X{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};o([c(gm)],ts.prototype,"apiKey",void 0),o([c({type:[String],json:{read:{source:"category",reader:e=>e?e.split(","):null},write:{target:"category",writer:(e,t)=>{t.category=e?e.join(","):null}}}})],ts.prototype,"categories",void 0),o([c({type:String,json:{write:!0}})],ts.prototype,"countryCode",void 0),o([c({type:ct,json:{write:{writer:(e,t)=>{t.location=e?e.clone().normalize():null}}}})],ts.prototype,"location",void 0),o([c({type:Number,json:{write:!0}})],ts.prototype,"maxSuggestions",void 0),o([c({type:Ue,json:{read:{source:"outSR"},write:{target:"outSR"}}})],ts.prototype,"outSpatialReference",void 0),o([c({type:Dt,json:{write:{writer:(e,t)=>{const r=e?e.shiftCentralMeridian():null;t.searchExtent=JSON.stringify(r)}}}})],ts.prototype,"searchExtent",void 0),o([c({type:String,json:{write:!0}})],ts.prototype,"text",void 0),ts=o([M("esri.rest.support.SuggestLocationsParameters")],ts),ts.from=at(ts);const HO=ts;async function GO(e,t,r){const s=Ru(e),i=Ie(q({},(t=HO.from(t)).toJSON()),{f:"json"}),n=Pu(q(q({},s.query),i)),a=ju(n,r),l=`${s.path}/suggest`;return Tt(l,a).then(lG)}function lG(e){const{data:t}=e;if(!t)return[];const{suggestions:r}=t;return r?r.map(s=>new aG(s)):[]}let kl=class extends wt{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return typeof e!="string"?e:q({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Kr(e):null}_encode(e,t,r){const s={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){s[i]=[];for(let a=0;a<n.length;a++)s[i][a]=this._encode(n[a])}else if(typeof n=="object")if(n.toJSON){const a=n.toJSON(r&&r[i]);s[i]=t?a:JSON.stringify(a)}else s[i]=t?n:JSON.stringify(n);else s[i]=n}return s}};o([c({readOnly:!0})],kl.prototype,"parsedUrl",null),o([c()],kl.prototype,"requestOptions",void 0),o([c({type:String})],kl.prototype,"url",void 0),kl=o([M("esri.tasks.Task")],kl);const WO=kl;let Nc=class extends WO{constructor(e){super(e),this.outSpatialReference=null,this.url=null}addressToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=q(q({},this.requestOptions),t);return UO(this.url,e,r)}suggestLocations(e,t){const r=q(q({},this.requestOptions),t);return GO(this.url,e,r)}addressesToLocations(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=q(q({},this.requestOptions),t);return iG(this.url,e,r)}locationToAddress(e,t){!e.outSpatialReference&&this.outSpatialReference&&(e.outSpatialReference=this.outSpatialReference);const r=q(q({},this.requestOptions),t);return BO(this.url,e,r)}};o([c({type:Ue})],Nc.prototype,"outSpatialReference",void 0),o([c()],Nc.prototype,"url",void 0),Nc=o([M("esri.tasks.Locator")],Nc);const uG=Nc,cG="Single Line Input",dG=3e5;function pG(e,t){return e.location?gG(e,t):vG(e,t)}function JO(e,t){if(t.localSearchDisabled)return null;const r=e==null?void 0:e.scale;return typeof r=="number"&&r<=dG?e.get("extent.center"):null}function hG(e,t){const{source:r,spatialReference:s,view:i,suggestTerm:n,maxSuggestions:a,sourceIndex:l}=e,d=new HO,{apiKey:f,url:h}=r,y=KO(r,i),v=t&&t.signal;if(!h)return Promise.resolve(null);f&&(d.apiKey=f),r.categories&&(d.categories=r.categories),s&&(d.outSpatialReference=s);const b=JO(i,r);if(b&&(d.location=b),!n.trim())return Promise.resolve(null);const{prefix:$="",suffix:T=""}=r,j=`${$}${n}${T}`;return d.text=j,y&&(d.searchExtent=y),d.maxSuggestions=a,r.countryCode&&(d.countryCode=r.countryCode),GO(h,d,{signal:v}).then(L=>wG(L,l))}function fG(e){return!!e&&/(?:geocode\-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function yG(e){return!!e&&/(?:\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi.test(e)}function F$(e){return!!e&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi.test(e)}const mG="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function gG(e,t){const{source:r,spatialReference:s,location:i,sourceIndex:n,view:a}=e,{apiKey:l,url:d,zoomScale:f,defaultZoomScale:h}=r,y=a&&a.scale,v=t&&t.signal,b=new qO;return b.location=i,l&&(b.apiKey=l),s&&(b.outSpatialReference=s),BO(d,b,{signal:v}).then($=>QO([$],{sourceIndex:n,scale:y,view:a,zoomScale:f,defaultZoomScale:h})).catch(()=>[])}function KO(e,t){const{filter:r,withinViewEnabled:s}=e,i=t&&t.scale,n=t&&t.extent,a=r&&r.geometry;return i3(a,t,i)||(s&&n?n:void 0)}function vG(e,t){const{source:r,suggestResult:s,spatialReference:i,view:n,maxResults:a,sourceIndex:l}=e,d=r&&r.zoomScale,f=r&&r.defaultZoomScale;if(!s.text.trim())return Promise.resolve(null);const h=!s.key&&r.prefix?r.prefix:"",y=!s.key&&r.suffix?r.suffix:"",v=`${h}${s.text}${y}`,b=new VO,{apiKey:$,url:T}=r,j=n&&n.scale,L=KO(r,n),W=t&&t.signal;if($&&(b.apiKey=$),!T)return Promise.resolve(null);r.categories&&(b.categories=r.categories),r.locationType&&(b.locationType=r.locationType),i&&(b.outSpatialReference=i);const O=JO(n,r);O&&(b.location=O),b.maxLocations=a,L&&(b.searchExtent=L),r.countryCode&&(b.countryCode=r.countryCode);const{key:p}=s,m=`${p}`;return p&&(b.magicKey=m),b.address={},b.address[r.singleLineFieldName||cG]=v,r.outFields&&(b.outFields=r.outFields),UO(T,b,{signal:W}).then(g=>QO(g,{key:m,scale:j,sourceIndex:l,view:n,zoomScale:d,defaultZoomScale:f}))}function bG(e,t){return{text:e.text,key:e.magicKey,sourceIndex:t}}function wG(e,t){return e.map(r=>bG(r,t))}function _G(e,t){const{key:r,scale:s,sourceIndex:i,view:n,zoomScale:a,defaultZoomScale:l}=t,{attributes:d,extent:f,location:h,address:y}=e,v=new wn({geometry:h,attributes:d}),b=f||h,$=i3(b,n,s),T=typeof a=="number"?Cw($,n,a):typeof l=="number"&&b.type==="point"?Cw($,n,l):$,j=h?`${h.x},${h.y}`:"",L=y||j,W=v.clone();return G(T)&&(W.geometry=Va.fromExtent(T)),{extent:T,feature:v,target:W,key:r,name:L,sourceIndex:i}}function QO(e,t){return e.filter(Boolean).map(r=>_G(r,t))}var jw;const ZO="esri.widgets.Search.LocatorSearchSource",N$=ye.getLogger(ZO);let yr=jw=class extends s3{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(t,r)=>pG(q({source:this},t),r),this.getSuggestions=(t,r)=>hG(q({source:this},t),r)}set locator(e){hd(N$,"locator",{replacement:"url",version:"4.22"}),this._set("url",e.url),this._set("locator",e)}get locator(){return hd(N$,"locator",{replacement:"url",version:"4.22"}),this._get("locator")}clone(){return new jw({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?U(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?U(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,locator:this.locator,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};o([c()],yr.prototype,"apiKey",void 0),o([c()],yr.prototype,"categories",void 0),o([c()],yr.prototype,"countryCode",void 0),o([c({json:{write:!0}})],yr.prototype,"defaultZoomScale",void 0),o([c()],yr.prototype,"localSearchDisabled",void 0),o([c({type:uG,json:{read:!1,write:!1}})],yr.prototype,"locator",null),o([c()],yr.prototype,"locationType",void 0),o([c({json:{write:!0}})],yr.prototype,"name",void 0),o([c({json:{write:!0}})],yr.prototype,"placeholder",void 0),o([c()],yr.prototype,"searchTemplate",void 0),o([c({json:{write:!0}})],yr.prototype,"singleLineFieldName",void 0),o([c({json:{read:{source:"suggest"},write:{target:"suggest"}}})],yr.prototype,"suggestionsEnabled",void 0),o([c({json:{write:!0}})],yr.prototype,"url",void 0),o([c({json:{write:!0}})],yr.prototype,"zoomScale",void 0),yr=jw=o([M(ZO)],yr);const YO=yr,SG=new je({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),$G=new je({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function xG(e){const{geometries:t,deviationUnit:r,maxDeviation:s}=e.toJSON(),i={maxDeviation:s};return t&&t.length&&(i.geometries=JSON.stringify({geometryType:vo(t[0]),geometries:t}),i.sr=JSON.stringify(t[0].spatialReference)),$G.write(r,i,"deviationUnit"),i}let Jn=class extends X{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};o([c({type:String,json:{write:!0}})],Jn.prototype,"deviationUnit",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>us(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],Jn.prototype,"geometries",void 0),o([c({type:Number,json:{write:!0}})],Jn.prototype,"maxDeviation",void 0),Jn=o([M("esri.rest.support.GeneralizeParameters")],Jn),Jn.from=at(Jn);const EG=Jn,TG=new je({preserveShape:"preserve-shape"});function kG(e){const{polylines:t,lengthUnit:r,geodesic:s,calculationType:i}=e.toJSON(),n={};n.polylines=JSON.stringify(t);const a=e.polylines[0].spatialReference;return n.sr=a.wkid?a.wkid:JSON.stringify(a.toJSON()),r&&(n.lengthUnit=r),s&&(n.geodesic=s),i&&(n.calculationType=TG.toJSON(i)),n}let tn=class extends X{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};o([c({type:String,json:{write:!0}})],tn.prototype,"calculationType",void 0),o([c({type:Boolean,json:{write:!0}})],tn.prototype,"geodesic",void 0),o([c({json:{write:!0}})],tn.prototype,"lengthUnit",void 0),o([c({type:[wu],json:{read:{reader:e=>e?e.map(t=>us(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],tn.prototype,"polylines",void 0),tn=o([M("esri.rest.support.LengthsParameters")],tn),tn.from=at(tn);const MG=tn,IG=new je({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),OG=new je({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function CG(e){const{geometries:t,bevelRatio:r,offsetDistance:s,offsetHow:i,offsetUnit:n}=e.toJSON(),a={bevelRatio:r,offsetDistance:s};return t&&t.length&&(a.geometries=JSON.stringify({geometryType:vo(t[0]),geometries:t}),a.sr=JSON.stringify(t[0].spatialReference)),i&&(a.offsetHow=IG.toJSON(i)),n&&(a.offsetUnit=OG.toJSON(n)),a}let $i=class extends X{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};o([c({type:Number,json:{write:!0}})],$i.prototype,"bevelRatio",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>us(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(r=>r.toJSON())}}}})],$i.prototype,"geometries",void 0),o([c({type:Number,json:{write:!0}})],$i.prototype,"offsetDistance",void 0),o([c({type:String,json:{write:!0}})],$i.prototype,"offsetHow",void 0),o([c({type:String,json:{write:!0}})],$i.prototype,"offsetUnit",void 0),$i=o([M("esri.rest.support.OffsetParameters")],$i),$i.from=at($i);const AG=$i;function jG(e){return{geometryType:vo(e[0]),geometries:e.map(t=>t.toJSON())}}function XO(e,t,r){const s=Tk(t);return e.map(i=>{const n=s.fromJSON(i);return n.spatialReference=r,n})}let ua=class extends X{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:vo(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};o([c()],ua.prototype,"geometries",void 0),o([c({json:{read:{source:"outSR"}}})],ua.prototype,"outSpatialReference",void 0),o([c()],ua.prototype,"transformation",void 0),o([c()],ua.prototype,"transformForward",void 0),ua=o([M("esri.rest.support.ProjectParameters")],ua);const e5=ua,RG=at(e5);async function t5(e,t,r){t=RG(t);const s=Ru(e),i=q(Ie(q({},s.query),{f:"json"}),t.toJSON()),n=t.outSpatialReference,a=vo(t.geometries[0]),l=ju(i,r);return Tt(s.path+"/project",l).then(({data:{geometries:d}})=>XO(d,a,n))}const PG=new je({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function LG(e){const{geometries1:t,geometries2:r,relation:s,relationParameter:i}=e.toJSON(),n={};if(t&&t.length){n.geometries1=JSON.stringify({geometryType:vo(t[0]),geometries:t});const a=t[0].spatialReference;n.sr=a.wkid?a.wkid:JSON.stringify(a)}return r&&r.length>0&&(n.geometries2=JSON.stringify({geometryType:vo(r[0]),geometries:r})),s&&(n.relation=PG.toJSON(s)),i&&(n.relationParam=i),n}let rn=class extends X{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};o([c({json:{read:{reader:e=>e?e.map(t=>us(t)):null},write:{writer:(e,t)=>{t.geometries1=e.map(r=>r.toJSON())}}}})],rn.prototype,"geometries1",void 0),o([c({json:{read:{reader:e=>e?e.map(t=>us(t)):null},write:{writer:(e,t)=>{t.geometries2=e.map(r=>r.toJSON())}}}})],rn.prototype,"geometries2",void 0),o([c({type:String,json:{write:!0}})],rn.prototype,"relation",void 0),o([c({type:String,json:{write:!0}})],rn.prototype,"relationParameter",void 0),rn=o([M("esri.rest.support.RelationParameters")],rn),rn.from=at(rn);const FG=rn,NG=new je({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function DG(e){const{extendHow:t,polylines:r,trimExtendTo:s}=e.toJSON(),i={};return i.extendHow=NG.toJSON(t),r&&r.length&&(i.polylines=JSON.stringify(r),i.sr=JSON.stringify(r[0].spatialReference)),s&&(i.trimExtendTo=JSON.stringify(s)),i}let Kn=class extends X{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};o([c({type:String,json:{write:!0}})],Kn.prototype,"extendHow",void 0),o([c({type:[wu],json:{read:{reader:e=>e?e.map(t=>us(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(r=>r.toJSON())}}}})],Kn.prototype,"polylines",void 0),o([c({json:{read:{reader:e=>e?us(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],Kn.prototype,"trimExtendTo",void 0),Kn=o([M("esri.rest.support.TrimExtendParameters")],Kn),Kn.from=at(Kn);const zG=Kn,r5=ye.getLogger("esri.widgets.support.geolocationUtils"),VG={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function UG(){const e=Y("esri-geolocation");return e||r5.warn("geolocation-unsupported","Geolocation unsupported."),e}function qG(){const e=window.isSecureContext;return e||r5.warn("insecure-context","Geolocation requires a secure origin."),e}function D$(){return UG()&&qG()}function BG(e){return e||(e=VG),new Promise((r,s)=>{setTimeout(()=>s(new Z("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(r,s,e)})}function HG(e,t){const{position:r,view:s}=e;return JG(WG(GG(r)),s,t)}function GG(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:r,timestamp:e.timestamp}}function WG(e){const t=e&&e.coords;return t?new ct({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function JG(e,t,r){if(!t)return Promise.resolve(e);const s=t.spatialReference;return s.isWGS84?Promise.resolve(e):s.isWebMercator?Promise.resolve(Kc(e)):KG(r).then(i=>{if(!i)throw new Z("geometry-service:missing-url","Geometry service URL is missing");const n=new e5({geometries:[e],outSpatialReference:s});return t5(i,n,r).then(a=>a[0])})}function KG(e){if(rt.geometryServiceUrl)return Promise.resolve(rt.geometryServiceUrl);const t=Fr.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}const QG=e=>{let t=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:s}=this;return this.goToOverride?this.goToOverride(s,r):s.goTo(r.target,r.options)}};return o([c()],t.prototype,"goToOverride",void 0),o([c()],t.prototype,"view",void 0),t=o([M("esri.widgets.support.GoTo")],t),t};function vr(e,t){return e.hasOwnProperty(t)&&e[t]!=null&&e[t]!==""}const ZG=()=>N_("esri/widgets/Search/t9n/Search"),s5="esri.widgets.Search.SearchViewModel",Ps=ye.getLogger(s5),z$="highlight",af=yt.ofType({key:e=>e.layer?"layer":"locator",base:s3,typeMap:{layer:El,locator:YO}}),V$=Ue.WGS84,YG="esri/images/search/search-symbol-32.svg",XG="esri/images/search/search-symbol-32.png",eW=/<(?:.|\s)*?>/g,Ml=-1;let Pe=class extends QG(ep.EventedMixin(wt)){constructor(e){super(e),this._handles=new Ka,this._gotoController=null,this._searching=null,this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new af,this.defaultSymbols={point:new ku({url:Cu(Y("trident")?XG:YG),size:24,width:24,height:24}),polyline:new cs({color:[130,130,130,1],width:2}),polygon:new ko({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=Fr.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new af,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){const e=async()=>{const t=await ZG();this.messages=t,this.defaultPopupTemplate=new Ba({title:t.searchResult,content:"{Match_addr}"})};e(),this._handles.add([ny(this,["includeDefaultSources","view","portal"],()=>this._update()),jk(e)])}destroy(){this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:Ml}set activeSourceIndex(e){e!==void 0?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex")}get allPlaceholder(){var e;return(e=this.messages)==null?void 0:e.allPlaceholder}set allPlaceholder(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder")}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:r}=this,s=typeof r=="function"?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,i=this._get("allSources")||new af;return i.removeAll(),i.addMany(s.filter(Boolean)),i}get defaultSymbol(){return hd(Ps,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(e){hd(Ps,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",e)}get locationEnabled(){return this._get("locationEnabled")||D$()}set locationEnabled(e){if(e===void 0)return void this._clearOverride("locationEnabled");const t=D$();if(e&&!t){const r=new Z("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});Ps.error(r)}this._override("locationEnabled",e&&t)}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===Ml)return r;const s=e.getItemAt(t);return s?s.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),e===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null)}search(e,t){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(e),s=this.when().then(()=>this._getResultsFromSources(r,t).then(i=>{var n;if((n=t==null?void 0:t.signal)!=null&&n.aborted)return null;const a={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(a,i,r);const l=this._getFirstResult(a.results),d=(r.location&&l?l.name:r.text).replace(eW,"");return this._set("searchTerm",d),(r.key&&typeof r.sourceIndex=="number"||r.location)&&this._set("selectedSuggestion",r),this._set("results",a.results),this._set("resultCount",a.results.reduce((f,h)=>f+h.results.length,0)),this.emit("search-complete",a),this._selectFirstResult(l).then(()=>a)})).then(i=>(this._clearSearching(),i),i=>{throw this._clearSearching(),i});return this._searching=s,s}searchNearby(e){if(!this.locationEnabled){const r=new Z("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return Ps.error(r),Promise.reject(r)}const t=BG().then(r=>HG({position:r,view:this.view},e)).then(r=>this.search(r,e));return this._searching=t,t.catch(()=>{}).then(()=>this._clearSearching()),t}select(e){if(this.clearGraphics(),!e){const L=new Z("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return Ps.error(L),Promise.reject(L)}const{view:t}=this,r=vr(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),s=this.allSources.getItemAt(r);if(!s){const L=new Z("select:missing-source","Cannot select without a source.",{source:s});return Ps.error(L),Promise.reject(L)}const i=s instanceof El?this._getLayerSourcePopupTemplate(s):s.popupTemplate,n=s.resultSymbol||this._getDefaultSymbol(e),a=vr(s,"resultGraphicEnabled")?s.resultGraphicEnabled:this.resultGraphicEnabled,l=vr(s,"autoNavigate")?s.autoNavigate:this.autoNavigate,d=vr(s,"popupEnabled")?s.popupEnabled:this.popupEnabled,f=d?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:h}=e;if(!h){const L=new Z("select:missing-feature","Cannot select without a feature.",{feature:h});return Ps.error(L),Promise.reject(L)}const{attributes:y,geometry:v,layer:b,sourceLayer:$}=h,T=L$(v),j={layerViewQuery:this._getLayerView(h),elevationQuery:t&&G(T)?NH(T,t).catch(()=>T):Promise.resolve(T)};return Mi(j).then(L=>{const W=L.layerViewQuery.value,O=L.elevationQuery.value;n instanceof Mo&&(n.text=e.name);const p=t&&l?e.target||e.extent:null;return(G(p)?this._goToSearchResult(p):Promise.resolve()).then(()=>{var m;const g=W?h:new wn({geometry:v,symbol:n,attributes:y,layer:b,sourceLayer:$,popupTemplate:f}),_=d&&((m=this.view)==null?void 0:m.popup),E=_&&g.getEffectivePopupTemplate(_.defaultPopupTemplateEnabled);return E&&t.popup.open({features:[g],location:O}),W&&RH(W)&&!E&&this._highlightFeature({graphic:g,layerView:W}),!W&&a&&t&&t.graphics.push(g),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",g),this.emit("select-result",{result:e,source:s,sourceIndex:r}),e})})}suggest(e,t,r){const s=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:s}),this._suggestTimer(t,r).then(()=>this._suggestImmediate(s,r).then(i=>(this._set("suggestions",i.results),this._set("suggestionCount",i.results.reduce((n,a)=>n+a.results.length,0)),this.emit("suggest-complete",i),i)))}async when(){await Db(()=>!this.updating)}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const r=this._updatingPromise=Mi([e==null?void 0:e.load(),t==null?void 0:t.when()]);if(this.destroyed||(await r,r!==this._updatingPromise))return}await Db(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null}_clearSearching(){this._searching=null}_convertHelperServices(){var e,t;const r=(e=this.portal)==null||(t=e.helperServices)==null?void 0:t.geocode;return r?r.map(s=>{if(s.placefinding===!1)return;const i=rt.apiKey&&F$(s.url)?{url:mG}:null,n=YO.fromJSON(q(q({},s),i)),a=n.url;if(F$(a)||yG(a)||fG(a)){const l=n.outFields||["Addr_type","Match_addr","StAddr","City"],d=n.placeholder||this.messages.placeholder,f=typeof n.defaultZoomScale=="number"?n.defaultZoomScale:2500;n.set({singleLineFieldName:"SingleLine",outFields:l,placeholder:d,defaultZoomScale:f})}return n.singleLineFieldName?n:void 0}).filter(Boolean):[]}_getLayerSources(e,t){var r;const s=(r=this.view)==null?void 0:r.map;return e.map(i=>{const n=s.findLayerById(i.id);if(!n)return;const a=this._getLayerJSON(i),l=El.fromJSON(a);return l.placeholder=t,this._getLayer(n,a).then(d=>{l.layer=d}),l}).filter(Boolean).toArray()}_getTableSources(e,t){var r;const s=(r=this.view)==null?void 0:r.map;return e.map(i=>{const n=s.findTableById(i.id);if(!n)return;const a=this._getLayerJSON(i),l=El.fromJSON(a);return l.placeholder=t,this._getLayer(n,a).then(d=>{l.layer=d}),l}).filter(Boolean).toArray()}_convertApplicationProperties(){var e,t,r;const s=(e=this.view)==null?void 0:e.map,i=s==null||(t=s.applicationProperties)==null||(r=t.viewing)==null?void 0:r.search;if(!i)return[];const{enabled:n,hintText:a,layers:l,tables:d}=i;return n?[...this._getLayerSources(l,a),...this._getTableSources(d,a)]:[]}_getSubLayer(e,t){return e.load().then(()=>{if(!e.allSublayers)return Promise.reject();const r=e.allSublayers.find(s=>s.id===t.subLayer);return r?r.createFeatureLayer():Promise.reject()})}async _getBuildingSubLayer(e,t){await e.load();const r=e.allSublayers.find(s=>s.id===t.subLayer);return(r==null?void 0:r.type)!=="building-component"?Promise.reject():(await r.load(),r.associatedLayer==null?Promise.reject():(await r.associatedLayer.load(),r))}_getLayer(e,t){return e.type==="feature"||e.type==="scene"||e.type==="csv"||e.type==="geojson"||e.type==="ogc-feature"?Promise.resolve(e):e.type==="map-image"?this._getSubLayer(e,t).catch(()=>{const r=new Z("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return Ps.error(r),null}):e.type==="building-scene"?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return typeof e.toJSON=="function"?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){var e;const t=(e=this.view)==null?void 0:e.popup,{resultGraphic:r}=this;if(!t||!r)return;const{selectedFeature:s}=t;s&&s===r&&t.close()}_suggestTimer(e,t){const r=e??this.suggestionDelay;return y1(r,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof wn?L$(e.geometry):e instanceof ct?e:Array.isArray(e)&&e.length===2?new ct({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&vr(e,"key")&&vr(e,"text")&&vr(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),r=typeof e=="string"?e:this.searchTerm,{selectedSuggestion:s,selectedResult:i}=this,n=!e&&s&&i,a=n&&s.key===i.key&&s.sourceIndex===i.sourceIndex,l=n&&s.location;return a||l?s:{location:t,text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){let t=null;return e&&e.some(r=>{const{results:s}=r,i=s[0],n=!!i;return n&&(t=i),n}),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then(()=>this._getSuggestionsFromSources(e,t)).then(r=>{var s;if((s=t==null?void 0:t.signal)!=null&&s.aborted)return null;const i={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(i,r),i})}_formatSourceResponse(e,t,r){const s=t&&t.value||[],i=t&&t.error,n=this.allSources.getItemAt(r);if(i){const a={sourceIndex:r,source:n,error:i};e.errors.push(a),Ps.error(i),e.numErrors++}else{const a={sourceIndex:r,source:n,results:s};e.results.push(a),e.numResults+=s.length}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===Ml){const s=r&&vr(r,"sourceIndex")&&r.sourceIndex!==-1?r.sourceIndex:void 0;t.forEach((i,n)=>{const a=s!==void 0?s:n;this._formatSourceResponse(e,i,a)})}else this._formatSourceResponse(e,t[0],e.activeSourceIndex)}_getResultsFromSources(e,t){const{allSources:r}=this,s=!e.location&&vr(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,i=[];if(!r.length){const n=new Z("search:no-sources-defined","At least one source is required.",{allSources:r});return Ps.error(n),Promise.reject(n)}return s===Ml?r.forEach((n,a)=>{i.push(this._getResultsFromSource(e,a,t))}):i.push(this._getResultsFromSource(e,s,t)),Mi(i)}_getSuggestionsFromSources(e,t){const{allSources:r,activeSourceIndex:s}=this,i=[];if(!r.length){const n=new Z("suggest:no-sources-defined","At least one source is required.",{allSources:r});return Ps.error(n),Promise.reject(n)}return s===Ml?r.forEach((n,a)=>{i.push(this._getSuggestionsFromSource(e,a,t))}):i.push(this._getSuggestionsFromSource(e,s,t)),Mi(i)}_getResultsFromSource(e,t,r){var s;const i=this.allSources.getItemAt(t),{location:n=null}=e,a=((s=this.view)==null?void 0:s.spatialReference)||V$,l=vr(i,"maxResults")?i.maxResults:this.maxResults,d=!!(i instanceof El&&vr(i,"exactMatch"))&&i.exactMatch,{view:f}=this;return i.getResults({view:f,sourceIndex:t,location:n,suggestResult:e,spatialReference:a,exactMatch:d,maxResults:l},r)}_getSuggestionsFromSource(e,t,r){const s=this.allSources.getItemAt(t),i=vr(s,"suggestionsEnabled")?s.suggestionsEnabled:this.suggestionsEnabled,n=e.length,a=vr(s,"minSuggestCharacters")?s.minSuggestCharacters:this.minSuggestCharacters;if(i&&e.trim()&&n>=a){var l;const d=((l=this.view)==null?void 0:l.spatialReference)||V$,f=vr(s,"maxSuggestions")?s.maxSuggestions:this.maxSuggestions,{view:h}=this,y=!!(s instanceof El&&vr(s,"exactMatch"))&&s.exactMatch;return s.getSuggestions({view:h,sourceIndex:t,suggestTerm:e,spatialReference:d,maxSuggestions:f,exactMatch:y},r)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return vr(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){const t=this.results;let r=null;return t.some(s=>s.results.some(i=>i===e&&(r=s.sourceIndex,!0))),r}async _goToSearchResult(e){const t=!!e;this._abortGoTo();const r=new AbortController;this._gotoController=r;const s={target:{target:e},options:{animate:t,signal:r.signal}};await this.callGoTo(s),this._gotoController=null}_getDefaultSymbol(e){var t;const{defaultSymbols:r}=this,s=(t=e.feature)==null?void 0:t.geometry;if(!G(s))return null;const i=this._get("defaultSymbol");if(i&&(s.type==="point"||s.type==="multipoint"))return i;switch(s.type){case"point":case"multipoint":return r.point;case"polyline":return r.polyline;case"extent":case"polygon":return r.polygon;default:return null}}_removeHighlight(){this._handles.remove(z$)}async _getLayerView(e){const{view:t}=this;if(!e||!t||e.layer.type==="building-component"||e.layer.type==="subtype-sublayer")return Promise.resolve(null);const{layer:r}=e;return await t.when(),t.whenLayerView(r)}_highlightFeature(e){const{graphic:t,layerView:r}=e,{attributes:s,layer:i}=t,{objectIdField:n}=i,a=s&&s[n],l=r.highlight(a||t);this._handles.add(l,z$)}_setResultFloor(e){var t,r,s;const{view:i}=this,n=(t=e.feature)==null?void 0:t.attributes,a=(r=e.feature)==null?void 0:r.sourceLayer;if(a&&"floorInfo"in a&&a!=null&&(s=a.floorInfo)!=null&&s.floorField&&n){const l=n[a.floorInfo.floorField];i.emit("select-result-floor",l)}}};Pe.ALL_INDEX=Ml,o([c()],Pe.prototype,"_searching",void 0),o([c()],Pe.prototype,"_updatingPromise",void 0),o([c({readOnly:!0,value:null})],Pe.prototype,"activeSource",null),o([c()],Pe.prototype,"activeSourceIndex",null),o([c()],Pe.prototype,"allPlaceholder",null),o([c({readOnly:!0})],Pe.prototype,"allSources",null),o([c()],Pe.prototype,"autoNavigate",void 0),o([c()],Pe.prototype,"autoSelect",void 0),o([c()],Pe.prototype,"defaultPopupTemplate",void 0),o([c({readOnly:!0})],Pe.prototype,"defaultSources",void 0),o([c()],Pe.prototype,"defaultSymbol",null),o([c()],Pe.prototype,"defaultSymbols",void 0),o([c()],Pe.prototype,"includeDefaultSources",void 0),o([c()],Pe.prototype,"locationEnabled",null),o([c()],Pe.prototype,"maxInputLength",void 0),o([c()],Pe.prototype,"maxResults",void 0),o([c()],Pe.prototype,"maxSuggestions",void 0),o([c()],Pe.prototype,"messages",void 0),o([c()],Pe.prototype,"minSuggestCharacters",void 0),o([c({readOnly:!0})],Pe.prototype,"placeholder",null),o([c()],Pe.prototype,"popupEnabled",void 0),o([c({type:Ba})],Pe.prototype,"popupTemplate",void 0),o([c({type:Fr})],Pe.prototype,"portal",void 0),o([c()],Pe.prototype,"resultCount",void 0),o([c()],Pe.prototype,"resultGraphicEnabled",void 0),o([c({readOnly:!0})],Pe.prototype,"resultGraphic",void 0),o([c({readOnly:!0})],Pe.prototype,"results",void 0),o([c({readOnly:!0})],Pe.prototype,"selectedSuggestion",void 0),o([c()],Pe.prototype,"searchAllEnabled",void 0),o([c({readOnly:!0})],Pe.prototype,"selectedResult",void 0),o([c()],Pe.prototype,"searchTerm",null),o([c({type:af})],Pe.prototype,"sources",void 0),o([c({readOnly:!0})],Pe.prototype,"state",null),o([c()],Pe.prototype,"suggestionDelay",void 0),o([c()],Pe.prototype,"suggestionCount",void 0),o([c({readOnly:!0})],Pe.prototype,"suggestions",void 0),o([c()],Pe.prototype,"suggestionsEnabled",void 0),o([c({readOnly:!0})],Pe.prototype,"updating",null),o([c()],Pe.prototype,"view",void 0),o([c()],Pe.prototype,"clear",null),Pe=o([M(s5)],Pe);const Pl=Pe;function U$(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:rW(e[t])}}}function tW(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function rW(e){return function(t,...r){tW(t)?bO(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...r)}}function cy(e){return function(t,r){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var sW=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},i5=function(e,t){for(var r=0,s=e.length;r<s;r++){var i=e[r];Array.isArray(i)?i5(i,t):i!=null&&i!==!1&&(i.hasOwnProperty("vnodeSelector")||(i=sW(i)),t.push(i))}},iW=function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var i=[];return i5(r,i),{vnodeSelector:e,properties:t||void 0,children:i,text:void 0,domNode:null}};function Te(e,t,...r){return typeof e!="function"||t3(e)?iW(e,t,...r):e(t,...r)}const Ui={base:"esri-search-result-renderer esri-widget",anchor:"esri-widget__anchor",showMoreResults:"esri-search-result-renderer__more-results--show-more-results",moreResults:"esri-search-result-renderer__more-results",moreResultsList:"esri-search-result-renderer__more-results-list",moreResultsHeader:"esri-search-result-renderer__more-results-header",moreResultsItem:"esri-search-result-renderer__more-results-item",moreResultsListHeader:"esri-search-result-renderer__more-results-list-header"};let Qn=class extends r3{constructor(e,t){super(e,t),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}render(){const e={[Ui.showMoreResults]:this.showMoreResultsOpen};return Te("div",{class:Ui.base},Te("div",{key:"esri-search-renderer__container",class:this.classes(Ui.moreResults,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return Te("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){var e;const t=(e=this.viewModel)==null?void 0:e.selectedResult,r=t&&t.name||"";return Te("div",{key:"esri-search-renderer__result-name",class:Ui.moreResultsItem},r)}renderMoreResultsLists(){var e;const t=(e=this.viewModel)==null?void 0:e.results,{resultCount:r}=this.viewModel;if(r<2)return null;const s=t.map(i=>this.renderMoreResultsList(i));return Te("div",{key:"esri-search-renderer__more-results-container",class:Ui.moreResultsList},s)}renderMoreResultsButton(){const{messages:e}=this,{resultCount:t}=this.viewModel;return t<2?null:Te("div",{key:"esri-search-renderer__more-results-button",class:Ui.moreResultsItem},Te("a",{class:Ui.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,t){return Te("div",{key:`esri-search-result-renderer__header-${t}`,class:Ui.moreResultsListHeader},e)}renderMoreResultsList(e){var t,r;const{results:s}=e,i=s.length,n=!!i,a=(t=this.viewModel)==null?void 0:t.selectedResult,l=i===1&&s[0]===a,d=this._getSourceName(e.source,e.sourceIndex),f=((r=this.viewModel)==null?void 0:r.results.length)>1&&!l?this.renderMoreResultsHeader(d,e.sourceIndex):null,h=n&&s.map((v,b)=>this.renderMoreResultsListItem(v,b)),y=n&&!l?Te("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},h):null;return n?Te("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},f,y):null}renderMoreResultsListItem(e,t){return e!==this.get("viewModel.selectedResult")?Te("li",{key:`esri-search-result-renderer__list-item-${t}`},Te("a",{class:Ui.anchor,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const t=this.get("viewModel.view.popup");t&&t.reposition()}_selectResultClick(e){e.preventDefault();const t=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(t)}_getSourceName(e,t){return t===Pl.ALL_INDEX?this.messages.all:e.name}};o([c(),cy("esri/widgets/Search/t9n/Search")],Qn.prototype,"messages",void 0),o([c()],Qn.prototype,"showMoreResultsOpen",void 0),o([c()],Qn.prototype,"viewModel",void 0),o([U$()],Qn.prototype,"_showMoreResultsClick",null),o([U$()],Qn.prototype,"_selectResultClick",null),Qn=o([M("esri.widgets.Search.SearchResultRenderer")],Qn);const nW=Qn;function oW(e){return e.split(",").map(t=>t.trim())}function aW(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const r=t._delegatedEventNames,s=Array.isArray(e)?e:oW(e);r.push(...s)}}const Se={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},lW=/<[a-z/][\s\S]*>/i;let Fe=class extends r3{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new Ka,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new nW,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=Se.widgetIcon,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new Pl,this._clearActiveMenu=()=>{this.activeMenu="none"},this._removeActiveMenu=r=>{var s;const i=r.relatedTarget;i&&(s=this._container)!=null&&s.contains(i)||this._clearActiveMenu()},this.own(kw(this,"searchTerm",r=>{(r&&this.activeMenu==="warning"||!r&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu()}),Yq(this,"viewModel.allSources","change",()=>this._watchSourceChanges()),ny(this,"activeMenu",()=>this._resetActiveMenuItemIndex()),ny(this,"viewModel.defaultPopupTemplate",r=>{r&&(r.content=this._renderSearchResultsContent.bind(this))}))}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)}get displayedSearchTerm(){return`${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){var e;(e=this._inputNode)==null||e.focus(),this.emit("search-focus")}blur(){var e;(e=this._inputNode)==null||e.blur(),this.emit("search-blur")}search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:r}=t;return this._searchController=t,this.viewModel.search(e,{signal:r}).catch(s=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,s}).then(s=>{if(this._searchController===t)return this.activeMenu=s.numResults?"none":"warning",this._searchController=null,s})}suggest(e){this._cancelSuggest();const t=new AbortController,{signal:r}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:r}).then(s=>{if(this._suggestController===t)return this._suggestController=null,s.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),s}).catch(()=>{if(this._suggestController===t)return this._suggestController=null,null})}render(){const{state:e}=this.viewModel,t={[Se.disabled]:e==="disabled",[Se.esriWidgetDisabled]:this.disabled};return Te("div",{class:this.classes(Se.base,t)},e==="loading"?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:e}=this;return Te("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes(Se.submitButton,Se.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},Te("span",{"aria-hidden":"true",class:Se.searchIcon}))}renderWarningMenu(){return Te("div",{key:"esri-search__error-menu",class:this.classes(Se.menu,Se.warningMenu)},Te("div",{class:Se.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:r,sourceMenuButtonId:s}=this,{activeSourceIndex:i,allSources:n}=this.viewModel;return n.length>1?Te("button",{id:s,key:"esri-search__source-menu-button",bind:this,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":(t==="source").toString(),"aria-controls":r,class:this.classes(Se.sourcesButton,Se.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:Fc,"data-node-ref":"_sourceMenuButtonNode",type:"button"},Te("span",{"aria-hidden":"true",class:Se.dropdownIcon}),Te("span",{"aria-hidden":"true",class:Se.dropupIcon}),Te("span",{class:Se.sourceName},this._getSourceName(i))):null}renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:r,activeMenu:s,sourceMenuId:i,sourceMenuButtonId:n}=this,a=s==="source"&&r>-1?this._buildId("source-item",r):null;return e.length>1?Te("ul",{"aria-activedescendant":a,"aria-labelledby":n,id:i,role:"menu",bind:this,afterCreate:Fc,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:Se.menuList,tabIndex:-1},t?this.renderSource(Pl.ALL_INDEX):null,e.map((l,d)=>this.renderSource(d)).toArray()):null}renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?Te("div",{key:"esri-search__source-menu",class:this.classes(Se.menu,Se.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:e,messagesCommon:t}=this;return Te("div",{class:Se.loader,key:"base-loader"},Te("span",{"aria-hidden":"true",class:Se.loaderAnimation}),Te("span",{class:Se.fallbackText},e.searchButtonTitle),Te("span",{class:Se.loaderText},t.loading))}renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:r}=this,s={[Se.hasMultipleSources]:e.length>1,[Se.isLoading]:t==="loading",[Se.isSearching]:t==="searching",[Se.showWarning]:r==="warning",[Se.showSources]:r==="source",[Se.showSuggestions]:r==="suggestion"};return Te("div",{tabIndex:-1,afterCreate:i=>{this._container=i,i.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:i=>{i.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(s,Se.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?Te("button",{bind:this,class:this.classes(Se.clearButton,Se.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},Te("span",{"aria-hidden":"true",class:Se.clearIcon})):null}renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:r}=this,s=t&&!r,i=this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0;return s?Te("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(Se.menuList,Se.suggestionList,Se.suggestionListCurrentLocation)},Te("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===0).toString(),role:"option",class:this.classes(Se.menuItem,i?Se.menuItemFocus:null)},Te("span",{"aria-hidden":"true",class:Se.locate})," ",e.useCurrentLocation)):null}renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:r,messages:s,suggestionsMenuId:i,inputId:n,_activeMenuItemIndex:a}=this,{maxInputLength:l,placeholder:d,searchTerm:f,suggestionCount:h}=this.viewModel,y=!(!(t&&!r)&&!h),v=e==="suggestion"&&a>-1?this._buildId("suggestion-item",a):null;return Te("input",{"aria-activedescendant":v,"aria-autocomplete":"list","aria-expanded":(y&&e==="suggestion").toString(),"aria-controls":y?i:null,"aria-haspopup":"listbox","aria-label":s.searchButtonTitle,bind:this,placeholder:d,maxlength:l,autocomplete:"off",type:"text",class:this.classes(Se.esriInput,Se.input),value:f,id:n,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:Fc,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:f?"":d})}renderForm(){return Te("form",{key:"esri-search__form",bind:this,class:Se.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){const{sourceIndex:t}=e,r=e.results.length,s=e.results;return r?Te("ul",{role:"group",key:`esri-search__suggestion-list-${t}`,class:this.classes(Se.menuList,Se.suggestionList)},s.map(i=>this.renderSuggestion(i,this._menuItemCount++))):null}renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map(t=>[this.renderSuggestionHeader(t),this.renderSuggestList(t)]):null}renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:r,inputId:s}=this,{suggestionCount:i}=this.viewModel,n=t&&!e||i;return this._menuItemCount=0,n?Te("div",{id:r,key:"esri-search__suggestions-menu",class:this.classes(Se.menu,Se.suggestionsMenu),role:"listbox","aria-labelledby":s,bind:this,afterCreate:Fc,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return Te("div",{key:"esri-search__input-container",class:Se.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:r}=this.viewModel,{sourceIndex:s}=e,i=e.results.length,n=t.length>1&&r===Pl.ALL_INDEX;return i&&n?Te("div",{key:`esri-search__suggestion-header-${s}`,class:Se.menuHeader},this._getSourceName(s)):null}renderSuggestion(e,t){const{_activeMenuItemIndex:r,messages:s}=this,{searchTerm:i}=this.viewModel;if(i){const{text:n}=e,a=n||s.untitledResult,l=lW.test(a),d=[];if(l)d.push(Te("div",{innerHTML:a}));else{const h=this._splitResult(a,i),y=i.toLowerCase();h.forEach((v,b)=>{v&&v.length&&(v.toLowerCase()===y?d.push(Te("strong",{key:b},v)):d.push(v))})}const f=this.activeMenu==="suggestion"&&r===t;return Te("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":(this.activeMenu==="suggestion"&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${t}`,"data-suggestion":e,role:"option",class:this.classes(Se.menuItem,f?Se.menuItemFocus:null)},d)}}renderSource(e){const{activeSourceIndex:t,searchAllEnabled:r}=this.viewModel,s={[Se.menuItemActive]:e===t,[Se.menuItemFocus]:this.activeMenu==="source"&&e===(r?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},i=r?e+1:e;return Te("li",{bind:this,key:`esri-search__source-${e}`,id:this._buildId("source-item",i),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(Se.source,Se.menuItem,s)},this._getSourceName(e))}renderNoResultsWarning(e){const{messages:t}=this,r=e?L_(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return Te("div",{key:"esri-search__no_results"},Te("div",{class:Se.warningMenuHeader},t.noResults),Te("div",{class:Se.warningMenuText},r))}renderEmptySearchWarning(){const{messages:e}=this;return Te("div",{key:"esri-search__empty-search"},Te("span",{"aria-hidden":"true",class:Se.noticeIcon}),Te("span",{class:Se.noValueText},e.emptyValue))}renderLocateWarning(){const{messages:e}=this;return Te("div",{key:"esri-search__locate-error"},Te("span",{"aria-hidden":"true",class:Se.noticeIcon}),Te("span",{class:Se.noValueText},e.locateError))}renderWarning(){var e;const{displayedSearchTerm:t,_locateFailed:r}=this,{viewModel:s}=this;return r?this.renderLocateWarning():(e=s.selectedSuggestion)!=null&&e.location||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1}_buildId(e,t){return`${this.id}-${e}${t===void 0?"":`-${t}`}`}_watchSourceChanges(){const{_handles:e,viewModel:{allSources:t}}=this,r="sources";e.remove(r),t.forEach(s=>e.add(kw(s,"name",()=>this.scheduleRender()),r))}_handleSourcesMenuToggleFocus(){this.activeMenu!=="source"&&this._clearActiveMenu()}_handleSourcesMenuToggleClick(){const e=this.activeMenu==="source";var t;this.activeMenu=e?"none":"source",this.renderNow(),this.activeMenu==="source"&&((t=this._sourceListNode)==null||t.focus())}_handleClearButtonClick(){this.viewModel.clear(),this._focus()}_handleSearchButtonClick(){this.search()}_handleSuggestionClick(e){const t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))}_handleUseCurrentLocationClick(){this._useCurrentLocation()}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).then(r=>{this.activeMenu=r.numResults?"none":"warning"}).catch(()=>{this._locateFailed=!0,this.activeMenu="warning"}).then(()=>{this._searchController=null})}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget)}_setSourceFromMenuItem(e){var t;if(!e)return;const r=e["data-source-index"];this.viewModel.activeSourceIndex=r,this._clearActiveMenu(),(t=this._sourceMenuButtonNode)==null||t.focus()}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1}_handleInputKeyup(e){var t;const r=qm(e);if(e.ctrlKey||e.metaKey||r==="Copy"||r==="ArrowLeft"||r==="ArrowRight"||r==="Shift")return;if(r==="Tab"||r==="Escape"||e.shiftKey&&r==="Tab")return this._cancelSuggest(),void(r==="Escape"&&this._clearActiveMenu());const s=r==="Home"||r==="End"||r==="ArrowUp"||r==="ArrowDown";if(r==="Enter"&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const i=(t=this._suggestionListNode)==null?void 0:t.getElementsByTagName("li");if(i!=null&&i.length){if(this.activeMenu!=="suggestion"&&this._openSuggestionMenu(),s)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(r,i,this._suggestionListNode);const n=i[this._activeMenuItemIndex];if(r==="Enter"&&n){const a=n["data-suggestion"];return void(a?(this._focus(),this.search(a)):n["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}_handleItemNavigation(e,t,r){const s=this._activeMenuItemIndex;e==="Home"&&(this._activeMenuItemIndex=0),e==="End"&&(this._activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),e==="ArrowDown"&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),s!==this._activeMenuItemIndex&&cH(t[this._activeMenuItemIndex],r)}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)}_openSuggestionMenu(){this.activeMenu="suggestion"}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()}_handleSourceMenuKeydown(e){const t=qm(e);if(bO(t)){e.preventDefault();const r=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(r)}else t!=="ArrowUp"&&t!=="ArrowDown"&&t!=="End"&&t!=="Home"||e.preventDefault()}_handleSourceMenuKeyup(e){var t;const r=qm(e),s=r==="ArrowUp"||r==="ArrowDown"||r==="End"||r==="Home";var i;if(s&&e.preventDefault(),r==="Escape")return this._clearActiveMenu(),void((i=this._sourceMenuButtonNode)==null||i.focus());const n=(t=this._sourceListNode)==null?void 0:t.getElementsByTagName("li");return n&&n.length!==0&&s?(this.activeMenu!=="source"&&(this.activeMenu="source"),void this._handleItemNavigation(r,n,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e)}_formSubmit(e){e.preventDefault(),this._activeMenuItemIndex===-1&&this.search()}_getSourceName(e){const{messages:t}=this,r=this.viewModel,{allSources:s}=r,i=s.getItemAt(e);return e===Pl.ALL_INDEX?t.all:i&&i.name||t.untitledSource}_splitResult(e,t){const r=cT(t);return e.replace(new RegExp(`(^|)(${r})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};o([c()],Fe.prototype,"_activeMenuItemIndex",void 0),o([c()],Fe.prototype,"displayedSearchTerm",null),o([c({readOnly:!0})],Fe.prototype,"inputId",null),o([c({readOnly:!0})],Fe.prototype,"suggestionsMenuId",null),o([c({readOnly:!0})],Fe.prototype,"sourceMenuId",null),o([c({readOnly:!0})],Fe.prototype,"sourceMenuButtonId",null),o([c()],Fe.prototype,"activeMenu",void 0),o([it("viewModel.activeSource")],Fe.prototype,"activeSource",void 0),o([it("viewModel.activeSourceIndex")],Fe.prototype,"activeSourceIndex",void 0),o([it("viewModel.allPlaceholder")],Fe.prototype,"allPlaceholder",void 0),o([it("viewModel.allSources")],Fe.prototype,"allSources",void 0),o([it("viewModel.autoNavigate")],Fe.prototype,"autoNavigate",void 0),o([it("viewModel.autoSelect")],Fe.prototype,"autoSelect",void 0),o([it("viewModel.defaultSources")],Fe.prototype,"defaultSources",void 0),o([c()],Fe.prototype,"disabled",void 0),o([it("viewModel.goToOverride")],Fe.prototype,"goToOverride",void 0),o([c()],Fe.prototype,"iconClass",void 0),o([it("viewModel.includeDefaultSources")],Fe.prototype,"includeDefaultSources",void 0),o([c({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Fe.prototype,"label",void 0),o([it("viewModel.locationEnabled")],Fe.prototype,"locationEnabled",void 0),o([it("viewModel.maxResults")],Fe.prototype,"maxResults",void 0),o([it("viewModel.maxSuggestions")],Fe.prototype,"maxSuggestions",void 0),o([c(),cy("esri/widgets/Search/t9n/Search")],Fe.prototype,"messages",void 0),o([c(),cy("esri/t9n/common")],Fe.prototype,"messagesCommon",void 0),o([it("viewModel.minSuggestCharacters")],Fe.prototype,"minSuggestCharacters",void 0),o([it("viewModel.popupEnabled")],Fe.prototype,"popupEnabled",void 0),o([it("viewModel.popupTemplate")],Fe.prototype,"popupTemplate",void 0),o([it("viewModel.portal")],Fe.prototype,"portal",void 0),o([it("viewModel.resultGraphic")],Fe.prototype,"resultGraphic",void 0),o([it("viewModel.resultGraphicEnabled")],Fe.prototype,"resultGraphicEnabled",void 0),o([it("viewModel.results")],Fe.prototype,"results",void 0),o([it("viewModel.searchAllEnabled")],Fe.prototype,"searchAllEnabled",void 0),o([it("viewModel.searchTerm")],Fe.prototype,"searchTerm",void 0),o([it("viewModel.selectedResult")],Fe.prototype,"selectedResult",void 0),o([it("viewModel.sources")],Fe.prototype,"sources",void 0),o([it("viewModel.suggestions")],Fe.prototype,"suggestions",void 0),o([it("viewModel.suggestionsEnabled")],Fe.prototype,"suggestionsEnabled",void 0),o([it("viewModel.view")],Fe.prototype,"view",void 0),o([aW(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),c({type:Pl})],Fe.prototype,"viewModel",void 0),o([it("viewModel.clear")],Fe.prototype,"clear",null),Fe=o([M("esri.widgets.Search")],Fe);const uW=Fe,yn=po(""),xs=mr({activeSourceIndex:0}),a3=Sn(()=>{var e;return new uW(Ie(q({},xs),{sources:(e=xs.sources)==null?void 0:e.map(t=>t.layer?Ie(q({},t),{layer:new hm(t.layer)}):t)}))}),Rw=Sn(()=>{var e,t;return(t=xs.sources)==null?void 0:t[(e=xs.activeSourceIndex)!=null?e:0]}),$s=mr({loading:!1,data:[]});async function n5(){if($s.status=void 0,!yn.value)throw"Invalid input";$s.loading=!0,$s.status="Searching...";try{const{results:e}=await a3.value.search(yn.value),{results:t}=e[0];return $s.status=t.length?void 0:"Your search returned no results.",$s.data=t.map(({name:r,extent:s,feature:i})=>({name:r,extent:s.toJSON(),feature:i.toJSON()})),t}catch(e){return console.warn(e),$s.status="An error occurred when searching.",[]}finally{$s.loading=!1}}function cW(e,t=500){let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>{e(...s)},t)}}qc(()=>xs.activeSourceIndex,()=>{yn.value="",lo.data=[]});const lo=mr({loading:!1,data:[]}),dW=Sn(()=>[...new Map(lo.data.map(e=>[e.key,e])).values()]);async function o5(){if(yn.value){lo.loading=!0,lo.error=void 0;try{const{results:e}=await a3.value.suggest(yn.value),{results:t}=e[0];lo.data=t}catch{}finally{lo.loading=!1}}}const Pw=cW(o5),vm=mr({}),Dc=mr({loading:!1,data:[]});async function l3(e,t){Dc.loading=!0,Dc.data=[];try{const r=new hm(vm),{features:s}=await r.queryFeatures(Ie(q({outFields:["*"]},t),{geometry:e}));return Dc.data=s.map(i=>i.toJSON()),s}finally{Dc.loading=!1}}const pW={name:"Address",placeholder:"Search by Address",url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/Composite_Address_Locator_Overall/GeocodeServer",singleLineFieldName:"SingleLine",minSuggestCharacters:2},hW={name:"Folio Number",placeholder:"Search by Folio Number",layer:{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/HC_Parcels/MapServer/0",outFields:["FOLIO","SITE_ADDR"],displayField:"FOLIO"},searchFields:["FOLIO","FOLIO_NUMB"],minSuggestCharacters:2},fW=["onSubmit"],yW={key:0},mW=qe("legend",null,"Search Source:",-1),gW={class:"form-check form-check-inline"},vW=["value","id"],bW=["for"],wW=qe("legend",null,"Search:",-1),_W=["placeholder","aria-label"],SW={class:"btn btn-outline-secondary",type:"submit",id:"search-button"},$W={key:0,class:"spinner-border spinner-border-sm",role:"status"},xW=qe("span",{class:"visually-hidden"},"Loading...",-1),EW=[xW],TW={key:1},kW={id:"suggestions"},MW={class:"form-text"},a5=Vd({props:{small:{type:Boolean},large:{type:Boolean},hcSources:{type:Boolean},hideSources:{type:Boolean}},emits:["results"],setup(e,{emit:t}){const r=e;qc(()=>r.hcSources,()=>{xs.includeDefaultSources=!r.hcSources,xs.sources=r.hcSources?[pW,hW]:void 0},{immediate:!0});const s=async i=>{const n=await n5();t("results",n)};return(i,n)=>{var a,l,d;return Je(),ut("form",{onSubmit:YC(s,["prevent"])},[(a=_e(xs).sources)!=null&&a.length?Om((Je(),ut("fieldset",yW,[mW,(Je(!0),ut(xr,null,yf(_e(xs).sources,(f,h)=>(Je(),ut("div",gW,[Om(qe("input",{type:"radio",name:"search-source",value:h,id:`source-${h}`,"onUpdate:modelValue":n[0]||(n[0]=y=>_e(xs).activeSourceIndex=y),class:"form-check-input"},null,8,vW),[[JC,_e(xs).activeSourceIndex]]),qe("label",{for:`source-${h}`,class:"form-check-label"},Es(f.name),9,bW)]))),256))],512)),[[AC,!e.hideSources]]):Zs("",!0),qe("fieldset",null,[wW,qe("div",{class:fu(["input-group",{"input-group-sm":e.small,"input-group-lg":e.large}])},[Om(qe("input",{type:"text",class:"form-control",placeholder:((l=_e(Rw))==null?void 0:l.placeholder)||"Find Address","aria-label":((d=_e(Rw))==null?void 0:d.placeholder)||"Find Address","aria-describedby":"search-button","onUpdate:modelValue":n[1]||(n[1]=f=>rr(yn)?yn.value=f:null),onInput:n[2]||(n[2]=(...f)=>_e(Pw)&&_e(Pw)(...f)),list:"suggestions",required:"",id:"esriSearchInput"},null,40,_W),[[WC,_e(yn)]]),qe("button",SW,[_e($s).loading?(Je(),ut("div",$W,EW)):(Je(),ut("span",TW,"Search"))]),qe("datalist",kW,[(Je(!0),ut(xr,null,yf(_e(lo).data,({text:f})=>(Je(),ut("option",null,Es(f),1))),256))])],2),qe("div",MW,Es(_e($s).status),1)])],40,fW)}}}),EJ=Object.freeze(Object.defineProperty({__proto__:null,$:Od,A:tm,B:Ub,C:Tt,D:Lc,E:o,F:c,G:Fa,H:M,I:WO,J:Y,get K(){return Ss},L:$T,M:Dt,N:je,O:up,P:JI,Q:Li,R:Wc,S:GN,T:Wr,U:m1,V:L6,W:F6,X:N6,Y:Bt,get Z(){return X},_:bu,a:wu,a$:ce,a0:R1,a1:P1,a2:j1,a3:mn,a4:QR,a5:cy,a6:r3,a7:Te,a8:L_,a9:Fc,aA:ct,aB:em,aC:ST,aD:ET,aE:GP,aF:xo,aG:ii,aH:Ny,aI:dk,aJ:BP,aK:vu,aL:qf,aM:u_,aN:Mu,aO:ba,aP:N_,aQ:Cu,aR:Py,aS:_M,aT:xn,aU:ni,aV:Mi,aW:Sy,aX:me,aY:eq,aZ:G_,a_:GT,aa:Wd,ab:ep,get ac(){return Ct},ad:d1,ae:Ta,af:TT,ag:vn,ah:go,ai:kd,aj:s_,ak:QN,al:Zd,am:cu,an:Is,ao:ap,ap:Hd,aq:Ts,ar:pv,as:SD,at:cT,au:hp,av:t6,aw:nD,ax:sy,ay:Q6,az:Fr,b:Kr,b$:qv,b0:ur,b1:$e,b2:ju,b3:l_,b4:WI,b5:YE,b6:o6,b7:x6,b8:M6,b9:O_,bA:CG,bB:FG,bC:LG,bD:XO,bE:zG,bF:DG,bG:t5,bH:at,bI:Pu,bJ:$_,bK:bn,bL:Dz,bM:zz,bN:Vz,bO:d7,bP:Zz,bQ:JF,bR:c_,bS:WF,bT:sP,bU:$I,bV:E2,bW:o2,bX:gM,bY:SI,bZ:Ga,b_:T2,ba:XR,bb:gu,bc:LI,bd:g6,be:FI,bf:aP,bg:P_,bh:gI,bi:hu,bj:oi,bk:XP,bl:md,bm:jt,bn:wt,bo:K2,bp:gr,bq:Ri,br:ik,bs:T1,bt:jG,bu:SG,bv:EG,bw:xG,bx:MG,by:kG,bz:AG,c:Ql,c$:lN,get c0(){return Zl},c1:Zf,c2:k2,c3:KE,c4:cD,c5:bo,c6:Nr,c7:HM,c8:GM,c9:WP,cA:Kl,cB:Jc,cC:ZL,cD:oI,cE:b7,cF:C1,cG:pk,cH:zL,cI:ak,cJ:ck,cK:A1,cL:k1,cM:$L,cN:f1,cO:VI,cP:a1,cQ:Bd,cR:KP,cS:Ka,cT:j_,cU:l0,cV:mI,cW:Vy,cX:l2,cY:Cf,cZ:nM,c_:ov,ca:kk,cb:Ca,cc:ga,cd:nk,ce:G6,cf:ls,cg:rp,ch:tp,ci:XM,cj:_d,ck:fL,cl:Sz,get cm(){return Oa},cn:Yf,co:Xf,cp:Ly,cq:Fy,cr:zF,cs:W1,ct:ip,cu:DF,cv:JV,cw:Oo,cx:UV,cy:Kk,cz:gN,d:us,d$:_7,d0:KR,d1:BL,d2:iP,d3:c1,d4:u1,d5:aF,d6:fF,d7:Xs,d8:lP,d9:cP,dA:bF,dB:SL,dC:GV,dD:iI,dE:ss,dF:xF,dG:TF,dH:kF,dI:CF,dJ:AF,dK:MF,dL:IF,dM:OF,dN:jF,dO:RF,dP:$F,dQ:tq,get dR(){return zb},dS:l1,dT:zI,dU:Ia,get dV(){return sd},dW:W_,dX:Zq,dY:QI,dZ:D1,d_:w7,da:Jk,db:oF,dc:yF,dd:mF,de:VF,df:SF,dg:lF,dh:dF,di:PF,dj:EF,dk:Et,dl:nF,dm:J1,dn:KV,dp:WV,dq:HV,dr:qV,ds:vF,dt:$z,du:BV,dv:XV,dw:_F,dx:YV,dy:Y7,dz:hL,e:Tk,e$:_6,e0:k7,e1:UF,e2:Hl,e3:_I,e4:wI,e5:s7,e6:BI,e7:xT,e8:w2,e9:HP,eA:jy,eB:qy,eC:sF,eD:QV,eE:cF,eF:Gy,eG:c6,eH:A6,eI:Tr,eJ:C6,eK:sp,get eL(){return bb},eM:JU,eN:hm,eO:Y6,eP:y6,eQ:xI,eR:B_,eS:Ba,eT:W6,eU:Jr,eV:Z1,eW:eO,eX:ZI,eY:QU,eZ:b6,e_:CT,ea:Iy,eb:Oy,ec:y1,ed:a0,ee:JE,ef:z_,eg:tP,eh:rP,ei:Of,ej:Ol,ek:Db,el:Ys,em:p6,en:LF,eo:dP,ep:wF,eq:Ge,er:Qy,es:KM,et:XE,eu:mM,ev:By,ew:Ek,ex:xy,ey:wo,ez:$u,f:ye,f$:J6,f0:r6,f1:rm,f2:i6,f3:n6,f4:Hy,f5:v6,f6:cs,f7:ku,f8:Wa,f9:ko,fA:iF,fB:__,fC:Yz,fD:T_,fE:Cd,fF:Yy,fG:_9,fH:w_,fI:Ad,fJ:s6,fK:g1,get fL(){return du},fM:hn,fN:Gr,fO:wM,fP:lp,fQ:Qd,fR:yD,fS:Nb,fT:vN,fU:HL,fV:bP,fW:KU,get fX(){return Ve},fY:PH,fZ:Ay,get f_(){return ya},fa:T6,fb:d6,fc:f6,fd:j6,fe:$0,ff:L1,fg:H6,fh:H_,fi:dm,fj:ww,fk:nd,fl:M_,fm:m6,fn:pm,fo:Z_,fp:E_,fq:it,fr:Ua,fs:zT,ft:Xd,fu:K6,fv:Iu,fw:Ye,fx:WM,fy:iz,fz:XU,g:wn,g$:qF,g0:fd,g1:SM,g2:_1,g3:Mo,g4:S0,g5:Gd,g6:qk,g7:fo,g8:gm,g9:ZR,gA:La,gB:Pk,gC:uu,gD:Q_,gE:To,gF:RT,gG:YN,gH:KN,gI:ZV,gJ:yd,gK:eF,gL:K1,gM:tT,gN:eT,gO:hN,gP:wN,gQ:xN,gR:gF,gS:pF,gT:rT,gU:nP,gV:YR,gW:EM,gX:NF,gY:fN,gZ:yN,g_:hF,ga:EI,gb:ad,gc:bw,gd:Td,ge:Zy,gf:$6,gg:S6,gh:za,gi:g_,gj:zV,gk:Ha,gl:qN,gm:w6,gn:VV,go:tk,gp:JP,gq:w,gr:Ez,gs:h6,gt:FF,gu:_u,gv:D6,gw:z6,gx:V6,gy:cm,gz:r7,h:rt,h0:eU,h1:sm,h2:uN,h3:X7,h4:mN,h5:uF,h6:a5,h7:yn,h8:xs,h9:a3,ha:Rw,hb:$s,hc:n5,hd:lo,he:dW,hf:o5,hg:Pw,hh:vm,hi:Dc,hj:l3,hk:MM,hl:d2,hm:PV,hn:Kq,i:Va,j:yt,k:Ue,l:Kc,m:U,n:o_,o:ec,p:$D,q:Ru,r:G,s:Z,t:we,u:Z6,v:vo,w:ma,x:KI,y:_z,z:xw},Symbol.toStringTag,{value:"Module"})),IW=[{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/SW_FACILITIES/MapServer/1",lookup:"TAG"},{url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/MaintStar/MapServiceBaseMap_20150801_Production_1/MapServer/80",lookup:"NAME"}],uo=mr({loading:!1});async function OW(e){uo.loading=!0,uo.lookup=void 0;try{for(const{url:t,lookup:r}of IW)try{vm.url=t;const[s]=await l3(e);if(!s)continue;return uo.lookup=s==null?void 0:s.attributes[r]}catch{continue}}finally{uo.loading=!1}}const tu=mr({loading:!1,data:[]});async function CW(){tu.loading=!0;try{const{records:e}=await fetch("https://hc-airtable-caching-proxy.netlify.app/api/v1/airtable/appQrDnZGUnnURpdH/providers").then(t=>t.json());tu.data=e}catch{}finally{tu.loading=!1}}const AW=Sn(()=>{var e;return uo.lookup?(e=tu.data.find(({fields:t})=>t.lookups.includes(uo.lookup)))==null?void 0:e.fields:void 0}),jW=Sn(()=>tu.data.length>0&&uo.lookup!==void 0),bm=()=>({esriProvider:uo,fetchProviderFeatures:OW,airtableProviders:tu,fetchAirtableProviders:CW,provider:AW,hasProvider:jW}),Zn={ExactMonthDate:(e,t)=>r=>e==r.getMonth()&&t==r.getDate(),MonthsFirstDayOfWeek:(e,t)=>r=>{let s=new Date(r.getFullYear(),e,1);for(;s.getDay()!==t;)s.setDate(s.getDate()+1);return r.getTime()==s.getTime()},MonthsLastDayOfWeek:(e,t)=>r=>{let s=new Date(r.getFullYear(),e+1,0);for(;s.getDay()!==t;)s.setDate(s.getDate()-1);return r.getTime()==s.getTime()},MonthsNthDayOfWeek:(e,t,r)=>s=>{let i=new Date(s.getFullYear(),e,1);for(;i.getDay()!==t;)i.setDate(i.getDate()+1);return i.setDate(i.getDate()+(r-1)*7),s.getTime()==i.getTime()},MonthsNthToLastDayOfWeek:(e,t,r)=>s=>{let i=new Date(s.getFullYear(),e+1,0);for(;i.getDay()!==t;)i.setDate(i.getDate()-1);return i.setDate(i.getDate()-(r-1)*7),s.getTime()==i.getTime()}};var an=(e=>(e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December",e))(an||{}),Ll=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(Ll||{});const u3={holidays:[Zn.MonthsNthDayOfWeek(an.January,Ll.Monday,3),Zn.MonthsLastDayOfWeek(an.May,Ll.Monday),Zn.ExactMonthDate(an.June,19),Zn.ExactMonthDate(an.July,4),Zn.MonthsFirstDayOfWeek(an.September,Ll.Monday),Zn.MonthsNthDayOfWeek(an.November,Ll.Thursday,4),Zn.ExactMonthDate(an.December,25)]},RW={holidays:[...u3.holidays]},PW={holidays:[...u3.holidays,Zn.ExactMonthDate(an.January,1)]};class c3{constructor(t){p3(this,"holidays");this.holidays=t.holidays}isHoliday(t){let r=!1;for(let s of this.holidays)if(r=s(t),r)break;return r}}const q$=new c3(u3),LW=new c3(RW),B$=new c3(PW);function H$(e,t=new Date,r=!1){t=new Date(t.getFullYear(),t.getMonth(),r?t.getDate()+1:t.getDate());const s=t.getDate(),i=t.getDay(),n=Ll[e]-i;let a=new Date(t.getFullYear(),t.getMonth(),s+n);return a<t?new Date(a.setDate(a.getDate()+7)):a}function Mg(e){let t=[],r=H$(e),s;switch(this){case"recycle":s=q$;break;case"yard":s=LW;break;default:s=B$;break}let i={date:r,isHoliday:s.isHoliday(r)};for(t.push(i);i.isHoliday;)r=H$(e,i.date,!0),i={date:r,isHoliday:this==="recycle"?q$.isHoliday(r):B$.isHoliday(r)},t.push(i);return t}function Ig(e,t){return e.date.valueOf()-t.date.valueOf()}function G$(e){return`(${e.substring(0,3)}) ${e.substring(3,6)}-${e.substring(6,10)}`}var FW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l5={exports:{}};(function(e){(function(){function t(p){var m={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(p===!1)return JSON.parse(JSON.stringify(m));var g={};for(var _ in m)m.hasOwnProperty(_)&&(g[_]=m[_].defaultValue);return g}function r(){var p=t(!0),m={};for(var g in p)p.hasOwnProperty(g)&&(m[g]=!0);return m}var s={},i={},n={},a=t(!0),l="vanilla",d={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:r()};s.helper={},s.extensions={},s.setOption=function(p,m){return a[p]=m,this},s.getOption=function(p){return a[p]},s.getOptions=function(){return a},s.resetOptions=function(){a=t(!0)},s.setFlavor=function(p){if(!d.hasOwnProperty(p))throw Error(p+" flavor was not found");s.resetOptions();var m=d[p];l=p;for(var g in m)m.hasOwnProperty(g)&&(a[g]=m[g])},s.getFlavor=function(){return l},s.getFlavorOptions=function(p){if(d.hasOwnProperty(p))return d[p]},s.getDefaultOptions=function(p){return t(p)},s.subParser=function(p,m){if(s.helper.isString(p))if(typeof m<"u")i[p]=m;else{if(i.hasOwnProperty(p))return i[p];throw Error("SubParser named "+p+" not registered!")}},s.extension=function(p,m){if(!s.helper.isString(p))throw Error("Extension 'name' must be a string");if(p=s.helper.stdExtName(p),s.helper.isUndefined(m)){if(!n.hasOwnProperty(p))throw Error("Extension named "+p+" is not registered!");return n[p]}else{typeof m=="function"&&(m=m()),s.helper.isArray(m)||(m=[m]);var g=f(m,p);if(g.valid)n[p]=m;else throw Error(g.error)}},s.getAllExtensions=function(){return n},s.removeExtension=function(p){delete n[p]},s.resetExtensions=function(){n={}};function f(p,m){var g=m?"Error in "+m+" extension->":"Error in unnamed extension",_={valid:!0,error:""};s.helper.isArray(p)||(p=[p]);for(var E=0;E<p.length;++E){var k=g+" sub-extension "+E+": ",S=p[E];if(typeof S!="object")return _.valid=!1,_.error=k+"must be an object, but "+typeof S+" given",_;if(!s.helper.isString(S.type))return _.valid=!1,_.error=k+'property "type" must be a string, but '+typeof S.type+" given",_;var A=S.type=S.type.toLowerCase();if(A==="language"&&(A=S.type="lang"),A==="html"&&(A=S.type="output"),A!=="lang"&&A!=="output"&&A!=="listener")return _.valid=!1,_.error=k+"type "+A+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',_;if(A==="listener"){if(s.helper.isUndefined(S.listeners))return _.valid=!1,_.error=k+'. Extensions of type "listener" must have a property called "listeners"',_}else if(s.helper.isUndefined(S.filter)&&s.helper.isUndefined(S.regex))return _.valid=!1,_.error=k+A+' extensions must define either a "regex" property or a "filter" method',_;if(S.listeners){if(typeof S.listeners!="object")return _.valid=!1,_.error=k+'"listeners" property must be an object but '+typeof S.listeners+" given",_;for(var H in S.listeners)if(S.listeners.hasOwnProperty(H)&&typeof S.listeners[H]!="function")return _.valid=!1,_.error=k+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+H+" must be a function but "+typeof S.listeners[H]+" given",_}if(S.filter){if(typeof S.filter!="function")return _.valid=!1,_.error=k+'"filter" must be a function, but '+typeof S.filter+" given",_}else if(S.regex){if(s.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return _.valid=!1,_.error=k+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",_;if(s.helper.isUndefined(S.replace))return _.valid=!1,_.error=k+'"regex" extensions must implement a replace string or function',_}}return _}s.validateExtension=function(p){var m=f(p,null);return m.valid?!0:(console.warn(m.error),!1)},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(p){return typeof p=="string"||p instanceof String},s.helper.isFunction=function(p){var m={};return p&&m.toString.call(p)==="[object Function]"},s.helper.isArray=function(p){return Array.isArray(p)},s.helper.isUndefined=function(p){return typeof p>"u"},s.helper.forEach=function(p,m){if(s.helper.isUndefined(p))throw new Error("obj param is required");if(s.helper.isUndefined(m))throw new Error("callback param is required");if(!s.helper.isFunction(m))throw new Error("callback param must be a function/closure");if(typeof p.forEach=="function")p.forEach(m);else if(s.helper.isArray(p))for(var g=0;g<p.length;g++)m(p[g],g,p);else if(typeof p=="object")for(var _ in p)p.hasOwnProperty(_)&&m(p[_],_,p);else throw new Error("obj does not seem to be an array or an iterable object")},s.helper.stdExtName=function(p){return p.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(p,m){var g=m.charCodeAt(0);return"¨E"+g+"E"}s.helper.escapeCharactersCallback=h,s.helper.escapeCharacters=function(p,m,g){var _="(["+m.replace(/([\[\]\\])/g,"\\$1")+"])";g&&(_="\\\\"+_);var E=new RegExp(_,"g");return p=p.replace(E,h),p},s.helper.unescapeHTMLEntities=function(p){return p.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var y=function(p,m,g,_){var E=_||"",k=E.indexOf("g")>-1,S=new RegExp(m+"|"+g,"g"+E.replace(/g/g,"")),A=new RegExp(m,E.replace(/g/g,"")),H=[],B,N,J,x,V;do for(B=0;J=S.exec(p);)if(A.test(J[0]))B++||(N=S.lastIndex,x=N-J[0].length);else if(B&&!--B){V=J.index+J[0].length;var K={left:{start:x,end:N},match:{start:N,end:J.index},right:{start:J.index,end:V},wholeMatch:{start:x,end:V}};if(H.push(K),!k)return H}while(B&&(S.lastIndex=N));return H};s.helper.matchRecursiveRegExp=function(p,m,g,_){for(var E=y(p,m,g,_),k=[],S=0;S<E.length;++S)k.push([p.slice(E[S].wholeMatch.start,E[S].wholeMatch.end),p.slice(E[S].match.start,E[S].match.end),p.slice(E[S].left.start,E[S].left.end),p.slice(E[S].right.start,E[S].right.end)]);return k},s.helper.replaceRecursiveRegExp=function(p,m,g,_,E){if(!s.helper.isFunction(m)){var k=m;m=function(){return k}}var S=y(p,g,_,E),A=p,H=S.length;if(H>0){var B=[];S[0].wholeMatch.start!==0&&B.push(p.slice(0,S[0].wholeMatch.start));for(var N=0;N<H;++N)B.push(m(p.slice(S[N].wholeMatch.start,S[N].wholeMatch.end),p.slice(S[N].match.start,S[N].match.end),p.slice(S[N].left.start,S[N].left.end),p.slice(S[N].right.start,S[N].right.end))),N<H-1&&B.push(p.slice(S[N].wholeMatch.end,S[N+1].wholeMatch.start));S[H-1].wholeMatch.end<p.length&&B.push(p.slice(S[H-1].wholeMatch.end)),A=B.join("")}return A},s.helper.regexIndexOf=function(p,m,g){if(!s.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(m instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var _=p.substring(g||0).search(m);return _>=0?_+(g||0):_},s.helper.splitAtIndex=function(p,m){if(!s.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[p.substring(0,m),p.substring(m)]},s.helper.encodeEmailAddress=function(p){var m=[function(g){return"&#"+g.charCodeAt(0)+";"},function(g){return"&#x"+g.charCodeAt(0).toString(16)+";"},function(g){return g}];return p=p.replace(/./g,function(g){if(g==="@")g=m[Math.floor(Math.random()*2)](g);else{var _=Math.random();g=_>.9?m[2](g):_>.45?m[1](g):m[0](g)}return g}),p},s.helper.padEnd=function(m,g,_){return g=g>>0,_=String(_||" "),m.length>g?String(m):(g=g-m.length,g>_.length&&(_+=_.repeat(g/_.length)),String(m)+_.slice(0,g))},typeof console>"u"&&(console={warn:function(p){alert(p)},log:function(p){alert(p)},error:function(p){throw p}}),s.helper.regexes={asteriskDashAndColon:/([*_:~])/g},s.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},s.Converter=function(p){var m={},g=[],_=[],E={},k=l,S={parsed:{},raw:"",format:""};A();function A(){p=p||{};for(var x in a)a.hasOwnProperty(x)&&(m[x]=a[x]);if(typeof p=="object")for(var V in p)p.hasOwnProperty(V)&&(m[V]=p[V]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof p+" was passed instead.");m.extensions&&s.helper.forEach(m.extensions,H)}function H(x,V){if(V=V||null,s.helper.isString(x))if(x=s.helper.stdExtName(x),V=x,s.extensions[x]){console.warn("DEPRECATION WARNING: "+x+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),B(s.extensions[x],x);return}else if(!s.helper.isUndefined(n[x]))x=n[x];else throw Error('Extension "'+x+'" could not be loaded. It was either not found or is not a valid extension.');typeof x=="function"&&(x=x()),s.helper.isArray(x)||(x=[x]);var K=f(x,V);if(!K.valid)throw Error(K.error);for(var de=0;de<x.length;++de){switch(x[de].type){case"lang":g.push(x[de]);break;case"output":_.push(x[de]);break}if(x[de].hasOwnProperty("listeners"))for(var ke in x[de].listeners)x[de].listeners.hasOwnProperty(ke)&&N(ke,x[de].listeners[ke])}}function B(x,V){typeof x=="function"&&(x=x(new s.Converter)),s.helper.isArray(x)||(x=[x]);var K=f(x,V);if(!K.valid)throw Error(K.error);for(var de=0;de<x.length;++de)switch(x[de].type){case"lang":g.push(x[de]);break;case"output":_.push(x[de]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function N(x,V){if(!s.helper.isString(x))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof x+" given");if(typeof V!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof V+" given");E.hasOwnProperty(x)||(E[x]=[]),E[x].push(V)}function J(x){var V=x.match(/^\s*/)[0].length,K=new RegExp("^\\s{0,"+V+"}","gm");return x.replace(K,"")}this._dispatch=function(V,K,de,ke){if(E.hasOwnProperty(V))for(var ve=0;ve<E[V].length;++ve){var Qe=E[V][ve](V,K,this,de,ke);Qe&&typeof Qe<"u"&&(K=Qe)}return K},this.listen=function(x,V){return N(x,V),this},this.makeHtml=function(x){if(!x)return x;var V={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:g,outputModifiers:_,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return x=x.replace(/¨/g,"¨T"),x=x.replace(/\$/g,"¨D"),x=x.replace(/\r\n/g,`
`),x=x.replace(/\r/g,`
`),x=x.replace(/\u00A0/g,"&nbsp;"),m.smartIndentationFix&&(x=J(x)),x=`

`+x+`

`,x=s.subParser("detab")(x,m,V),x=x.replace(/^[ \t]+$/mg,""),s.helper.forEach(g,function(K){x=s.subParser("runExtension")(K,x,m,V)}),x=s.subParser("metadata")(x,m,V),x=s.subParser("hashPreCodeTags")(x,m,V),x=s.subParser("githubCodeBlocks")(x,m,V),x=s.subParser("hashHTMLBlocks")(x,m,V),x=s.subParser("hashCodeTags")(x,m,V),x=s.subParser("stripLinkDefinitions")(x,m,V),x=s.subParser("blockGamut")(x,m,V),x=s.subParser("unhashHTMLSpans")(x,m,V),x=s.subParser("unescapeSpecialChars")(x,m,V),x=x.replace(/¨D/g,"$$"),x=x.replace(/¨T/g,"¨"),x=s.subParser("completeHTMLDocument")(x,m,V),s.helper.forEach(_,function(K){x=s.subParser("runExtension")(K,x,m,V)}),S=V.metadata,x},this.makeMarkdown=this.makeMd=function(x,V){if(x=x.replace(/\r\n/g,`
`),x=x.replace(/\r/g,`
`),x=x.replace(/>[ \t]+</,">¨NBSP;<"),!V)if(window&&window.document)V=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var K=V.createElement("div");K.innerHTML=x;var de={preList:Kt(K)};xt(K);for(var ke=K.childNodes,ve="",Qe=0;Qe<ke.length;Qe++)ve+=s.subParser("makeMarkdown.node")(ke[Qe],de);function xt(_t){for(var dt=0;dt<_t.childNodes.length;++dt){var St=_t.childNodes[dt];St.nodeType===3?!/\S/.test(St.nodeValue)&&!/^[ ]+$/.test(St.nodeValue)?(_t.removeChild(St),--dt):(St.nodeValue=St.nodeValue.split(`
`).join(" "),St.nodeValue=St.nodeValue.replace(/(\s)+/g,"$1")):St.nodeType===1&&xt(St)}}function Kt(_t){for(var dt=_t.querySelectorAll("pre"),St=[],Pt=0;Pt<dt.length;++Pt)if(dt[Pt].childElementCount===1&&dt[Pt].firstChild.tagName.toLowerCase()==="code"){var Cs=dt[Pt].firstChild.innerHTML.trim(),Qt=dt[Pt].firstChild.getAttribute("data-language")||"";if(Qt==="")for(var ai=dt[Pt].firstChild.className.split(" "),ds=0;ds<ai.length;++ds){var C=ai[ds].match(/^language-(.+)$/);if(C!==null){Qt=C[1];break}}Cs=s.helper.unescapeHTMLEntities(Cs),St.push(Cs),dt[Pt].outerHTML='<precode language="'+Qt+'" precodenum="'+Pt.toString()+'"></precode>'}else St.push(dt[Pt].innerHTML),dt[Pt].innerHTML="",dt[Pt].setAttribute("prenum",Pt.toString());return St}return ve},this.setOption=function(x,V){m[x]=V},this.getOption=function(x){return m[x]},this.getOptions=function(){return m},this.addExtension=function(x,V){V=V||null,H(x,V)},this.useExtension=function(x){H(x)},this.setFlavor=function(x){if(!d.hasOwnProperty(x))throw Error(x+" flavor was not found");var V=d[x];k=x;for(var K in V)V.hasOwnProperty(K)&&(m[K]=V[K])},this.getFlavor=function(){return k},this.removeExtension=function(x){s.helper.isArray(x)||(x=[x]);for(var V=0;V<x.length;++V){for(var K=x[V],de=0;de<g.length;++de)g[de]===K&&g.splice(de,1);for(var ke=0;ke<_.length;++ke)_[ke]===K&&_.splice(ke,1)}},this.getAllExtensions=function(){return{language:g,output:_}},this.getMetadata=function(x){return x?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(x,V){S.parsed[x]=V},this._setMetadataFormat=function(x){S.format=x},this._setMetadataRaw=function(x){S.raw=x}},s.subParser("anchors",function(p,m,g){p=g.converter._dispatch("anchors.before",p,m,g);var _=function(E,k,S,A,H,B,N){if(s.helper.isUndefined(N)&&(N=""),S=S.toLowerCase(),E.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)A="";else if(!A)if(S||(S=k.toLowerCase().replace(/ ?\n/g," ")),A="#"+S,!s.helper.isUndefined(g.gUrls[S]))A=g.gUrls[S],s.helper.isUndefined(g.gTitles[S])||(N=g.gTitles[S]);else return E;A=A.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var J='<a href="'+A+'"';return N!==""&&N!==null&&(N=N.replace(/"/g,"&quot;"),N=N.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),J+=' title="'+N+'"'),m.openLinksInNewWindow&&!/^#/.test(A)&&(J+=' rel="noopener noreferrer" target="¨E95Eblank"'),J+=">"+k+"</a>",J};return p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,_),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),p=p.replace(/\[([^\[\]]+)]()()()()()/g,_),m.ghMentions&&(p=p.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(E,k,S,A,H){if(S==="\\")return k+A;if(!s.helper.isString(m.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var B=m.ghMentionsLink.replace(/\{u}/g,H),N="";return m.openLinksInNewWindow&&(N=' rel="noopener noreferrer" target="¨E95Eblank"'),k+'<a href="'+B+'"'+N+">"+A+"</a>"})),p=g.converter._dispatch("anchors.after",p,m,g),p});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,b=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,$=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,T=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,j=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,L=function(p){return function(m,g,_,E,k,S,A){_=_.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var H=_,B="",N="",J=g||"",x=A||"";return/^www\./i.test(_)&&(_=_.replace(/^www\./i,"http://www.")),p.excludeTrailingPunctuationFromURLs&&S&&(B=S),p.openLinksInNewWindow&&(N=' rel="noopener noreferrer" target="¨E95Eblank"'),J+'<a href="'+_+'"'+N+">"+H+"</a>"+B+x}},W=function(p,m){return function(g,_,E){var k="mailto:";return _=_||"",E=s.subParser("unescapeSpecialChars")(E,p,m),p.encodeEmails?(k=s.helper.encodeEmailAddress(k+E),E=s.helper.encodeEmailAddress(E)):k=k+E,_+'<a href="'+k+'">'+E+"</a>"}};s.subParser("autoLinks",function(p,m,g){return p=g.converter._dispatch("autoLinks.before",p,m,g),p=p.replace($,L(m)),p=p.replace(j,W(m,g)),p=g.converter._dispatch("autoLinks.after",p,m,g),p}),s.subParser("simplifiedAutoLinks",function(p,m,g){return m.simplifiedAutoLink&&(p=g.converter._dispatch("simplifiedAutoLinks.before",p,m,g),m.excludeTrailingPunctuationFromURLs?p=p.replace(b,L(m)):p=p.replace(v,L(m)),p=p.replace(T,W(m,g)),p=g.converter._dispatch("simplifiedAutoLinks.after",p,m,g)),p}),s.subParser("blockGamut",function(p,m,g){return p=g.converter._dispatch("blockGamut.before",p,m,g),p=s.subParser("blockQuotes")(p,m,g),p=s.subParser("headers")(p,m,g),p=s.subParser("horizontalRule")(p,m,g),p=s.subParser("lists")(p,m,g),p=s.subParser("codeBlocks")(p,m,g),p=s.subParser("tables")(p,m,g),p=s.subParser("hashHTMLBlocks")(p,m,g),p=s.subParser("paragraphs")(p,m,g),p=g.converter._dispatch("blockGamut.after",p,m,g),p}),s.subParser("blockQuotes",function(p,m,g){p=g.converter._dispatch("blockQuotes.before",p,m,g),p=p+`

`;var _=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return m.splitAdjacentBlockquotes&&(_=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),p=p.replace(_,function(E){return E=E.replace(/^[ \t]*>[ \t]?/gm,""),E=E.replace(/¨0/g,""),E=E.replace(/^[ \t]+$/gm,""),E=s.subParser("githubCodeBlocks")(E,m,g),E=s.subParser("blockGamut")(E,m,g),E=E.replace(/(^|\n)/g,"$1  "),E=E.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(k,S){var A=S;return A=A.replace(/^  /mg,"¨0"),A=A.replace(/¨0/g,""),A}),s.subParser("hashBlock")(`<blockquote>
`+E+`
</blockquote>`,m,g)}),p=g.converter._dispatch("blockQuotes.after",p,m,g),p}),s.subParser("codeBlocks",function(p,m,g){p=g.converter._dispatch("codeBlocks.before",p,m,g),p+="¨0";var _=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return p=p.replace(_,function(E,k,S){var A=k,H=S,B=`
`;return A=s.subParser("outdent")(A,m,g),A=s.subParser("encodeCode")(A,m,g),A=s.subParser("detab")(A,m,g),A=A.replace(/^\n+/g,""),A=A.replace(/\n+$/g,""),m.omitExtraWLInCodeBlocks&&(B=""),A="<pre><code>"+A+B+"</code></pre>",s.subParser("hashBlock")(A,m,g)+H}),p=p.replace(/¨0/,""),p=g.converter._dispatch("codeBlocks.after",p,m,g),p}),s.subParser("codeSpans",function(p,m,g){return p=g.converter._dispatch("codeSpans.before",p,m,g),typeof p>"u"&&(p=""),p=p.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(_,E,k,S){var A=S;return A=A.replace(/^([ \t]*)/g,""),A=A.replace(/[ \t]*$/g,""),A=s.subParser("encodeCode")(A,m,g),A=E+"<code>"+A+"</code>",A=s.subParser("hashHTMLSpans")(A,m,g),A}),p=g.converter._dispatch("codeSpans.after",p,m,g),p}),s.subParser("completeHTMLDocument",function(p,m,g){if(!m.completeHTMLDocument)return p;p=g.converter._dispatch("completeHTMLDocument.before",p,m,g);var _="html",E=`<!DOCTYPE HTML>
`,k="",S=`<meta charset="utf-8">
`,A="",H="";typeof g.metadata.parsed.doctype<"u"&&(E="<!DOCTYPE "+g.metadata.parsed.doctype+`>
`,_=g.metadata.parsed.doctype.toString().toLowerCase(),(_==="html"||_==="html5")&&(S='<meta charset="utf-8">'));for(var B in g.metadata.parsed)if(g.metadata.parsed.hasOwnProperty(B))switch(B.toLowerCase()){case"doctype":break;case"title":k="<title>"+g.metadata.parsed.title+`</title>
`;break;case"charset":_==="html"||_==="html5"?S='<meta charset="'+g.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+g.metadata.parsed.charset+`">
`;break;case"language":case"lang":A=' lang="'+g.metadata.parsed[B]+'"',H+='<meta name="'+B+'" content="'+g.metadata.parsed[B]+`">
`;break;default:H+='<meta name="'+B+'" content="'+g.metadata.parsed[B]+`">
`}return p=E+"<html"+A+`>
<head>
`+k+S+H+`</head>
<body>
`+p.trim()+`
</body>
</html>`,p=g.converter._dispatch("completeHTMLDocument.after",p,m,g),p}),s.subParser("detab",function(p,m,g){return p=g.converter._dispatch("detab.before",p,m,g),p=p.replace(/\t(?=\t)/g,"    "),p=p.replace(/\t/g,"¨A¨B"),p=p.replace(/¨B(.+?)¨A/g,function(_,E){for(var k=E,S=4-k.length%4,A=0;A<S;A++)k+=" ";return k}),p=p.replace(/¨A/g,"    "),p=p.replace(/¨B/g,""),p=g.converter._dispatch("detab.after",p,m,g),p}),s.subParser("ellipsis",function(p,m,g){return m.ellipsis&&(p=g.converter._dispatch("ellipsis.before",p,m,g),p=p.replace(/\.\.\./g,"…"),p=g.converter._dispatch("ellipsis.after",p,m,g)),p}),s.subParser("emoji",function(p,m,g){if(!m.emoji)return p;p=g.converter._dispatch("emoji.before",p,m,g);var _=/:([\S]+?):/g;return p=p.replace(_,function(E,k){return s.helper.emojis.hasOwnProperty(k)?s.helper.emojis[k]:E}),p=g.converter._dispatch("emoji.after",p,m,g),p}),s.subParser("encodeAmpsAndAngles",function(p,m,g){return p=g.converter._dispatch("encodeAmpsAndAngles.before",p,m,g),p=p.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),p=p.replace(/<(?![a-z\/?$!])/gi,"&lt;"),p=p.replace(/</g,"&lt;"),p=p.replace(/>/g,"&gt;"),p=g.converter._dispatch("encodeAmpsAndAngles.after",p,m,g),p}),s.subParser("encodeBackslashEscapes",function(p,m,g){return p=g.converter._dispatch("encodeBackslashEscapes.before",p,m,g),p=p.replace(/\\(\\)/g,s.helper.escapeCharactersCallback),p=p.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,s.helper.escapeCharactersCallback),p=g.converter._dispatch("encodeBackslashEscapes.after",p,m,g),p}),s.subParser("encodeCode",function(p,m,g){return p=g.converter._dispatch("encodeCode.before",p,m,g),p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,s.helper.escapeCharactersCallback),p=g.converter._dispatch("encodeCode.after",p,m,g),p}),s.subParser("escapeSpecialCharsWithinTagAttributes",function(p,m,g){p=g.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",p,m,g);var _=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,E=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return p=p.replace(_,function(k){return k.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),p=p.replace(E,function(k){return k.replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),p=g.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",p,m,g),p}),s.subParser("githubCodeBlocks",function(p,m,g){return m.ghCodeBlocks?(p=g.converter._dispatch("githubCodeBlocks.before",p,m,g),p+="¨0",p=p.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(_,E,k,S){var A=m.omitExtraWLInCodeBlocks?"":`
`;return S=s.subParser("encodeCode")(S,m,g),S=s.subParser("detab")(S,m,g),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(k?' class="'+k+" language-"+k+'"':"")+">"+S+A+"</code></pre>",S=s.subParser("hashBlock")(S,m,g),`

¨G`+(g.ghCodeBlocks.push({text:_,codeblock:S})-1)+`G

`}),p=p.replace(/¨0/,""),g.converter._dispatch("githubCodeBlocks.after",p,m,g)):p}),s.subParser("hashBlock",function(p,m,g){return p=g.converter._dispatch("hashBlock.before",p,m,g),p=p.replace(/(^\n+|\n+$)/g,""),p=`

¨K`+(g.gHtmlBlocks.push(p)-1)+`K

`,p=g.converter._dispatch("hashBlock.after",p,m,g),p}),s.subParser("hashCodeTags",function(p,m,g){p=g.converter._dispatch("hashCodeTags.before",p,m,g);var _=function(E,k,S,A){var H=S+s.subParser("encodeCode")(k,m,g)+A;return"¨C"+(g.gHtmlSpans.push(H)-1)+"C"};return p=s.helper.replaceRecursiveRegExp(p,_,"<code\\b[^>]*>","</code>","gim"),p=g.converter._dispatch("hashCodeTags.after",p,m,g),p}),s.subParser("hashElement",function(p,m,g){return function(_,E){var k=E;return k=k.replace(/\n\n/g,`
`),k=k.replace(/^\n/,""),k=k.replace(/\n+$/g,""),k=`

¨K`+(g.gHtmlBlocks.push(k)-1)+`K

`,k}}),s.subParser("hashHTMLBlocks",function(p,m,g){p=g.converter._dispatch("hashHTMLBlocks.before",p,m,g);var _=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],E=function(x,V,K,de){var ke=x;return K.search(/\bmarkdown\b/)!==-1&&(ke=K+g.converter.makeHtml(V)+de),`

¨K`+(g.gHtmlBlocks.push(ke)-1)+`K

`};m.backslashEscapesHTMLTags&&(p=p.replace(/\\<(\/?[^>]+?)>/g,function(x,V){return"&lt;"+V+"&gt;"}));for(var k=0;k<_.length;++k)for(var S,A=new RegExp("^ {0,3}(<"+_[k]+"\\b[^>]*>)","im"),H="<"+_[k]+"\\b[^>]*>",B="</"+_[k]+">";(S=s.helper.regexIndexOf(p,A))!==-1;){var N=s.helper.splitAtIndex(p,S),J=s.helper.replaceRecursiveRegExp(N[1],E,H,B,"im");if(J===N[1])break;p=N[0].concat(J)}return p=p.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(p,m,g)),p=s.helper.replaceRecursiveRegExp(p,function(x){return`

¨K`+(g.gHtmlBlocks.push(x)-1)+`K

`},"^ {0,3}<!--","-->","gm"),p=p.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(p,m,g)),p=g.converter._dispatch("hashHTMLBlocks.after",p,m,g),p}),s.subParser("hashHTMLSpans",function(p,m,g){p=g.converter._dispatch("hashHTMLSpans.before",p,m,g);function _(E){return"¨C"+(g.gHtmlSpans.push(E)-1)+"C"}return p=p.replace(/<[^>]+?\/>/gi,function(E){return _(E)}),p=p.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(E){return _(E)}),p=p.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(E){return _(E)}),p=p.replace(/<[^>]+?>/gi,function(E){return _(E)}),p=g.converter._dispatch("hashHTMLSpans.after",p,m,g),p}),s.subParser("unhashHTMLSpans",function(p,m,g){p=g.converter._dispatch("unhashHTMLSpans.before",p,m,g);for(var _=0;_<g.gHtmlSpans.length;++_){for(var E=g.gHtmlSpans[_],k=0;/¨C(\d+)C/.test(E);){var S=RegExp.$1;if(E=E.replace("¨C"+S+"C",g.gHtmlSpans[S]),k===10){console.error("maximum nesting of 10 spans reached!!!");break}++k}p=p.replace("¨C"+_+"C",E)}return p=g.converter._dispatch("unhashHTMLSpans.after",p,m,g),p}),s.subParser("hashPreCodeTags",function(p,m,g){p=g.converter._dispatch("hashPreCodeTags.before",p,m,g);var _=function(E,k,S,A){var H=S+s.subParser("encodeCode")(k,m,g)+A;return`

¨G`+(g.ghCodeBlocks.push({text:E,codeblock:H})-1)+`G

`};return p=s.helper.replaceRecursiveRegExp(p,_,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),p=g.converter._dispatch("hashPreCodeTags.after",p,m,g),p}),s.subParser("headers",function(p,m,g){p=g.converter._dispatch("headers.before",p,m,g);var _=isNaN(parseInt(m.headerLevelStart))?1:parseInt(m.headerLevelStart),E=m.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,k=m.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;p=p.replace(E,function(H,B){var N=s.subParser("spanGamut")(B,m,g),J=m.noHeaderId?"":' id="'+A(B)+'"',x=_,V="<h"+x+J+">"+N+"</h"+x+">";return s.subParser("hashBlock")(V,m,g)}),p=p.replace(k,function(H,B){var N=s.subParser("spanGamut")(B,m,g),J=m.noHeaderId?"":' id="'+A(B)+'"',x=_+1,V="<h"+x+J+">"+N+"</h"+x+">";return s.subParser("hashBlock")(V,m,g)});var S=m.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;p=p.replace(S,function(H,B,N){var J=N;m.customizedHeaderId&&(J=N.replace(/\s?\{([^{]+?)}\s*$/,""));var x=s.subParser("spanGamut")(J,m,g),V=m.noHeaderId?"":' id="'+A(N)+'"',K=_-1+B.length,de="<h"+K+V+">"+x+"</h"+K+">";return s.subParser("hashBlock")(de,m,g)});function A(H){var B,N;if(m.customizedHeaderId){var J=H.match(/\{([^{]+?)}\s*$/);J&&J[1]&&(H=J[1])}return B=H,s.helper.isString(m.prefixHeaderId)?N=m.prefixHeaderId:m.prefixHeaderId===!0?N="section-":N="",m.rawPrefixHeaderId||(B=N+B),m.ghCompatibleHeaderId?B=B.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():m.rawHeaderId?B=B.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():B=B.replace(/[^\w]/g,"").toLowerCase(),m.rawPrefixHeaderId&&(B=N+B),g.hashLinkCounts[B]?B=B+"-"+g.hashLinkCounts[B]++:g.hashLinkCounts[B]=1,B}return p=g.converter._dispatch("headers.after",p,m,g),p}),s.subParser("horizontalRule",function(p,m,g){p=g.converter._dispatch("horizontalRule.before",p,m,g);var _=s.subParser("hashBlock")("<hr />",m,g);return p=p.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,_),p=p.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,_),p=p.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,_),p=g.converter._dispatch("horizontalRule.after",p,m,g),p}),s.subParser("images",function(p,m,g){p=g.converter._dispatch("images.before",p,m,g);var _=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,k=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,A=/!\[([^\[\]]+)]()()()()()/g;function H(N,J,x,V,K,de,ke,ve){return V=V.replace(/\s/g,""),B(N,J,x,V,K,de,ke,ve)}function B(N,J,x,V,K,de,ke,ve){var Qe=g.gUrls,xt=g.gTitles,Kt=g.gDimensions;if(x=x.toLowerCase(),ve||(ve=""),N.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)V="";else if(V===""||V===null)if((x===""||x===null)&&(x=J.toLowerCase().replace(/ ?\n/g," ")),V="#"+x,!s.helper.isUndefined(Qe[x]))V=Qe[x],s.helper.isUndefined(xt[x])||(ve=xt[x]),s.helper.isUndefined(Kt[x])||(K=Kt[x].width,de=Kt[x].height);else return N;J=J.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),V=V.replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback);var _t='<img src="'+V+'" alt="'+J+'"';return ve&&s.helper.isString(ve)&&(ve=ve.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskDashAndColon,s.helper.escapeCharactersCallback),_t+=' title="'+ve+'"'),K&&de&&(K=K==="*"?"auto":K,de=de==="*"?"auto":de,_t+=' width="'+K+'"',_t+=' height="'+de+'"'),_t+=" />",_t}return p=p.replace(S,B),p=p.replace(k,H),p=p.replace(E,B),p=p.replace(_,B),p=p.replace(A,B),p=g.converter._dispatch("images.after",p,m,g),p}),s.subParser("italicsAndBold",function(p,m,g){p=g.converter._dispatch("italicsAndBold.before",p,m,g);function _(E,k,S){return k+E+S}return m.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(E,k){return _(k,"<strong><em>","</em></strong>")}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(E,k){return _(k,"<strong>","</strong>")}),p=p.replace(/\b_(\S[\s\S]*?)_\b/g,function(E,k){return _(k,"<em>","</em>")})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(E,k){return/\S$/.test(k)?_(k,"<strong><em>","</em></strong>"):E}),p=p.replace(/__(\S[\s\S]*?)__/g,function(E,k){return/\S$/.test(k)?_(k,"<strong>","</strong>"):E}),p=p.replace(/_([^\s_][\s\S]*?)_/g,function(E,k){return/\S$/.test(k)?_(k,"<em>","</em>"):E})),m.literalMidWordAsterisks?(p=p.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(E,k,S){return _(S,k+"<strong><em>","</em></strong>")}),p=p.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(E,k,S){return _(S,k+"<strong>","</strong>")}),p=p.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(E,k,S){return _(S,k+"<em>","</em>")})):(p=p.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(E,k){return/\S$/.test(k)?_(k,"<strong><em>","</em></strong>"):E}),p=p.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(E,k){return/\S$/.test(k)?_(k,"<strong>","</strong>"):E}),p=p.replace(/\*([^\s*][\s\S]*?)\*/g,function(E,k){return/\S$/.test(k)?_(k,"<em>","</em>"):E})),p=g.converter._dispatch("italicsAndBold.after",p,m,g),p}),s.subParser("lists",function(p,m,g){function _(S,A){g.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="¨0";var H=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,B=/\n[ \t]*\n(?!¨0)/.test(S);return m.disableForced4SpacesIndentedSublists&&(H=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(H,function(N,J,x,V,K,de,ke){ke=ke&&ke.trim()!=="";var ve=s.subParser("outdent")(K,m,g),Qe="";return de&&m.tasklists&&(Qe=' class="task-list-item" style="list-style-type: none;"',ve=ve.replace(/^[ \t]*\[(x|X| )?]/m,function(){var xt='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ke&&(xt+=" checked"),xt+=">",xt})),ve=ve.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(xt){return"¨A"+xt}),J||ve.search(/\n{2,}/)>-1?(ve=s.subParser("githubCodeBlocks")(ve,m,g),ve=s.subParser("blockGamut")(ve,m,g)):(ve=s.subParser("lists")(ve,m,g),ve=ve.replace(/\n$/,""),ve=s.subParser("hashHTMLBlocks")(ve,m,g),ve=ve.replace(/\n\n+/g,`

`),B?ve=s.subParser("paragraphs")(ve,m,g):ve=s.subParser("spanGamut")(ve,m,g)),ve=ve.replace("¨A",""),ve="<li"+Qe+">"+ve+`</li>
`,ve}),S=S.replace(/¨0/g,""),g.gListLevel--,A&&(S=S.replace(/\s+$/,"")),S}function E(S,A){if(A==="ol"){var H=S.match(/^ *(\d+)\./);if(H&&H[1]!=="1")return' start="'+H[1]+'"'}return""}function k(S,A,H){var B=m.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,N=m.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,J=A==="ul"?B:N,x="";if(S.search(J)!==-1)(function K(de){var ke=de.search(J),ve=E(S,A);ke!==-1?(x+=`

<`+A+ve+`>
`+_(de.slice(0,ke),!!H)+"</"+A+`>
`,A=A==="ul"?"ol":"ul",J=A==="ul"?B:N,K(de.slice(ke))):x+=`

<`+A+ve+`>
`+_(de,!!H)+"</"+A+`>
`})(S);else{var V=E(S,A);x=`

<`+A+V+`>
`+_(S,!!H)+"</"+A+`>
`}return x}return p=g.converter._dispatch("lists.before",p,m,g),p+="¨0",g.gListLevel?p=p.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,A,H){var B=H.search(/[*+-]/g)>-1?"ul":"ol";return k(A,B,!0)}):p=p.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,A,H,B){var N=B.search(/[*+-]/g)>-1?"ul":"ol";return k(H,N,!1)}),p=p.replace(/¨0/,""),p=g.converter._dispatch("lists.after",p,m,g),p}),s.subParser("metadata",function(p,m,g){if(!m.metadata)return p;p=g.converter._dispatch("metadata.before",p,m,g);function _(E){g.metadata.raw=E,E=E.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),E=E.replace(/\n {4}/g," "),E.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(k,S,A){return g.metadata.parsed[S]=A,""})}return p=p.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(E,k,S){return _(S),"¨M"}),p=p.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(E,k,S){return k&&(g.metadata.format=k),_(S),"¨M"}),p=p.replace(/¨M/g,""),p=g.converter._dispatch("metadata.after",p,m,g),p}),s.subParser("outdent",function(p,m,g){return p=g.converter._dispatch("outdent.before",p,m,g),p=p.replace(/^(\t|[ ]{1,4})/gm,"¨0"),p=p.replace(/¨0/g,""),p=g.converter._dispatch("outdent.after",p,m,g),p}),s.subParser("paragraphs",function(p,m,g){p=g.converter._dispatch("paragraphs.before",p,m,g),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,"");for(var _=p.split(/\n{2,}/g),E=[],k=_.length,S=0;S<k;S++){var A=_[S];A.search(/¨(K|G)(\d+)\1/g)>=0?E.push(A):A.search(/\S/)>=0&&(A=s.subParser("spanGamut")(A,m,g),A=A.replace(/^([ \t]*)/g,"<p>"),A+="</p>",E.push(A))}for(k=E.length,S=0;S<k;S++){for(var H="",B=E[S],N=!1;/¨(K|G)(\d+)\1/.test(B);){var J=RegExp.$1,x=RegExp.$2;J==="K"?H=g.gHtmlBlocks[x]:N?H=s.subParser("encodeCode")(g.ghCodeBlocks[x].text,m,g):H=g.ghCodeBlocks[x].codeblock,H=H.replace(/\$/g,"$$$$"),B=B.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,H),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(B)&&(N=!0)}E[S]=B}return p=E.join(`
`),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,""),g.converter._dispatch("paragraphs.after",p,m,g)}),s.subParser("runExtension",function(p,m,g,_){if(p.filter)m=p.filter(m,_.converter,g);else if(p.regex){var E=p.regex;E instanceof RegExp||(E=new RegExp(E,"g")),m=m.replace(E,p.replace)}return m}),s.subParser("spanGamut",function(p,m,g){return p=g.converter._dispatch("spanGamut.before",p,m,g),p=s.subParser("codeSpans")(p,m,g),p=s.subParser("escapeSpecialCharsWithinTagAttributes")(p,m,g),p=s.subParser("encodeBackslashEscapes")(p,m,g),p=s.subParser("images")(p,m,g),p=s.subParser("anchors")(p,m,g),p=s.subParser("autoLinks")(p,m,g),p=s.subParser("simplifiedAutoLinks")(p,m,g),p=s.subParser("emoji")(p,m,g),p=s.subParser("underline")(p,m,g),p=s.subParser("italicsAndBold")(p,m,g),p=s.subParser("strikethrough")(p,m,g),p=s.subParser("ellipsis")(p,m,g),p=s.subParser("hashHTMLSpans")(p,m,g),p=s.subParser("encodeAmpsAndAngles")(p,m,g),m.simpleLineBreaks?/\n\n¨K/.test(p)||(p=p.replace(/\n+/g,`<br />
`)):p=p.replace(/  +\n/g,`<br />
`),p=g.converter._dispatch("spanGamut.after",p,m,g),p}),s.subParser("strikethrough",function(p,m,g){function _(E){return m.simplifiedAutoLink&&(E=s.subParser("simplifiedAutoLinks")(E,m,g)),"<del>"+E+"</del>"}return m.strikethrough&&(p=g.converter._dispatch("strikethrough.before",p,m,g),p=p.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(E,k){return _(k)}),p=g.converter._dispatch("strikethrough.after",p,m,g)),p}),s.subParser("stripLinkDefinitions",function(p,m,g){var _=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,E=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;p+="¨0";var k=function(S,A,H,B,N,J,x){return A=A.toLowerCase(),p.toLowerCase().split(A).length-1<2?S:(H.match(/^data:.+?\/.+?;base64,/)?g.gUrls[A]=H.replace(/\s/g,""):g.gUrls[A]=s.subParser("encodeAmpsAndAngles")(H,m,g),J?J+x:(x&&(g.gTitles[A]=x.replace(/"|'/g,"&quot;")),m.parseImgDimensions&&B&&N&&(g.gDimensions[A]={width:B,height:N}),""))};return p=p.replace(E,k),p=p.replace(_,k),p=p.replace(/¨0/,""),p}),s.subParser("tables",function(p,m,g){if(!m.tables)return p;var _=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,E=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function k(N){return/^:[ \t]*--*$/.test(N)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(N)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(N)?' style="text-align:center;"':""}function S(N,J){var x="";return N=N.trim(),(m.tablesHeaderId||m.tableHeaderId)&&(x=' id="'+N.replace(/ /g,"_").toLowerCase()+'"'),N=s.subParser("spanGamut")(N,m,g),"<th"+x+J+">"+N+`</th>
`}function A(N,J){var x=s.subParser("spanGamut")(N,m,g);return"<td"+J+">"+x+`</td>
`}function H(N,J){for(var x=`<table>
<thead>
<tr>
`,V=N.length,K=0;K<V;++K)x+=N[K];for(x+=`</tr>
</thead>
<tbody>
`,K=0;K<J.length;++K){x+=`<tr>
`;for(var de=0;de<V;++de)x+=J[K][de];x+=`</tr>
`}return x+=`</tbody>
</table>
`,x}function B(N){var J,x=N.split(`
`);for(J=0;J<x.length;++J)/^ {0,3}\|/.test(x[J])&&(x[J]=x[J].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(x[J])&&(x[J]=x[J].replace(/\|[ \t]*$/,"")),x[J]=s.subParser("codeSpans")(x[J],m,g);var V=x[0].split("|").map(function(_t){return _t.trim()}),K=x[1].split("|").map(function(_t){return _t.trim()}),de=[],ke=[],ve=[],Qe=[];for(x.shift(),x.shift(),J=0;J<x.length;++J)x[J].trim()!==""&&de.push(x[J].split("|").map(function(_t){return _t.trim()}));if(V.length<K.length)return N;for(J=0;J<K.length;++J)ve.push(k(K[J]));for(J=0;J<V.length;++J)s.helper.isUndefined(ve[J])&&(ve[J]=""),ke.push(S(V[J],ve[J]));for(J=0;J<de.length;++J){for(var xt=[],Kt=0;Kt<ke.length;++Kt)s.helper.isUndefined(de[J][Kt]),xt.push(A(de[J][Kt],ve[Kt]));Qe.push(xt)}return H(ke,Qe)}return p=g.converter._dispatch("tables.before",p,m,g),p=p.replace(/\\(\|)/g,s.helper.escapeCharactersCallback),p=p.replace(_,B),p=p.replace(E,B),p=g.converter._dispatch("tables.after",p,m,g),p}),s.subParser("underline",function(p,m,g){return m.underline&&(p=g.converter._dispatch("underline.before",p,m,g),m.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(_,E){return"<u>"+E+"</u>"}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(_,E){return"<u>"+E+"</u>"})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(_,E){return/\S$/.test(E)?"<u>"+E+"</u>":_}),p=p.replace(/__(\S[\s\S]*?)__/g,function(_,E){return/\S$/.test(E)?"<u>"+E+"</u>":_})),p=p.replace(/(_)/g,s.helper.escapeCharactersCallback),p=g.converter._dispatch("underline.after",p,m,g)),p}),s.subParser("unescapeSpecialChars",function(p,m,g){return p=g.converter._dispatch("unescapeSpecialChars.before",p,m,g),p=p.replace(/¨E(\d+)E/g,function(_,E){var k=parseInt(E);return String.fromCharCode(k)}),p=g.converter._dispatch("unescapeSpecialChars.after",p,m,g),p}),s.subParser("makeMarkdown.blockquote",function(p,m){var g="";if(p.hasChildNodes())for(var _=p.childNodes,E=_.length,k=0;k<E;++k){var S=s.subParser("makeMarkdown.node")(_[k],m);S!==""&&(g+=S)}return g=g.trim(),g="> "+g.split(`
`).join(`
> `),g}),s.subParser("makeMarkdown.codeBlock",function(p,m){var g=p.getAttribute("language"),_=p.getAttribute("precodenum");return"```"+g+`
`+m.preList[_]+"\n```"}),s.subParser("makeMarkdown.codeSpan",function(p){return"`"+p.innerHTML+"`"}),s.subParser("makeMarkdown.emphasis",function(p,m){var g="";if(p.hasChildNodes()){g+="*";for(var _=p.childNodes,E=_.length,k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m);g+="*"}return g}),s.subParser("makeMarkdown.header",function(p,m,g){var _=new Array(g+1).join("#"),E="";if(p.hasChildNodes()){E=_+" ";for(var k=p.childNodes,S=k.length,A=0;A<S;++A)E+=s.subParser("makeMarkdown.node")(k[A],m)}return E}),s.subParser("makeMarkdown.hr",function(){return"---"}),s.subParser("makeMarkdown.image",function(p){var m="";return p.hasAttribute("src")&&(m+="!["+p.getAttribute("alt")+"](",m+="<"+p.getAttribute("src")+">",p.hasAttribute("width")&&p.hasAttribute("height")&&(m+=" ="+p.getAttribute("width")+"x"+p.getAttribute("height")),p.hasAttribute("title")&&(m+=' "'+p.getAttribute("title")+'"'),m+=")"),m}),s.subParser("makeMarkdown.links",function(p,m){var g="";if(p.hasChildNodes()&&p.hasAttribute("href")){var _=p.childNodes,E=_.length;g="[";for(var k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m);g+="](",g+="<"+p.getAttribute("href")+">",p.hasAttribute("title")&&(g+=' "'+p.getAttribute("title")+'"'),g+=")"}return g}),s.subParser("makeMarkdown.list",function(p,m,g){var _="";if(!p.hasChildNodes())return"";for(var E=p.childNodes,k=E.length,S=p.getAttribute("start")||1,A=0;A<k;++A)if(!(typeof E[A].tagName>"u"||E[A].tagName.toLowerCase()!=="li")){var H="";g==="ol"?H=S.toString()+". ":H="- ",_+=H+s.subParser("makeMarkdown.listItem")(E[A],m),++S}return _+=`
<!-- -->
`,_.trim()}),s.subParser("makeMarkdown.listItem",function(p,m){for(var g="",_=p.childNodes,E=_.length,k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m);return/\n$/.test(g)?g=g.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):g+=`
`,g}),s.subParser("makeMarkdown.node",function(p,m,g){g=g||!1;var _="";if(p.nodeType===3)return s.subParser("makeMarkdown.txt")(p,m);if(p.nodeType===8)return"<!--"+p.data+`-->

`;if(p.nodeType!==1)return"";var E=p.tagName.toLowerCase();switch(E){case"h1":g||(_=s.subParser("makeMarkdown.header")(p,m,1)+`

`);break;case"h2":g||(_=s.subParser("makeMarkdown.header")(p,m,2)+`

`);break;case"h3":g||(_=s.subParser("makeMarkdown.header")(p,m,3)+`

`);break;case"h4":g||(_=s.subParser("makeMarkdown.header")(p,m,4)+`

`);break;case"h5":g||(_=s.subParser("makeMarkdown.header")(p,m,5)+`

`);break;case"h6":g||(_=s.subParser("makeMarkdown.header")(p,m,6)+`

`);break;case"p":g||(_=s.subParser("makeMarkdown.paragraph")(p,m)+`

`);break;case"blockquote":g||(_=s.subParser("makeMarkdown.blockquote")(p,m)+`

`);break;case"hr":g||(_=s.subParser("makeMarkdown.hr")(p,m)+`

`);break;case"ol":g||(_=s.subParser("makeMarkdown.list")(p,m,"ol")+`

`);break;case"ul":g||(_=s.subParser("makeMarkdown.list")(p,m,"ul")+`

`);break;case"precode":g||(_=s.subParser("makeMarkdown.codeBlock")(p,m)+`

`);break;case"pre":g||(_=s.subParser("makeMarkdown.pre")(p,m)+`

`);break;case"table":g||(_=s.subParser("makeMarkdown.table")(p,m)+`

`);break;case"code":_=s.subParser("makeMarkdown.codeSpan")(p,m);break;case"em":case"i":_=s.subParser("makeMarkdown.emphasis")(p,m);break;case"strong":case"b":_=s.subParser("makeMarkdown.strong")(p,m);break;case"del":_=s.subParser("makeMarkdown.strikethrough")(p,m);break;case"a":_=s.subParser("makeMarkdown.links")(p,m);break;case"img":_=s.subParser("makeMarkdown.image")(p,m);break;default:_=p.outerHTML+`

`}return _}),s.subParser("makeMarkdown.paragraph",function(p,m){var g="";if(p.hasChildNodes())for(var _=p.childNodes,E=_.length,k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m);return g=g.trim(),g}),s.subParser("makeMarkdown.pre",function(p,m){var g=p.getAttribute("prenum");return"<pre>"+m.preList[g]+"</pre>"}),s.subParser("makeMarkdown.strikethrough",function(p,m){var g="";if(p.hasChildNodes()){g+="~~";for(var _=p.childNodes,E=_.length,k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m);g+="~~"}return g}),s.subParser("makeMarkdown.strong",function(p,m){var g="";if(p.hasChildNodes()){g+="**";for(var _=p.childNodes,E=_.length,k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m);g+="**"}return g}),s.subParser("makeMarkdown.table",function(p,m){var g="",_=[[],[]],E=p.querySelectorAll("thead>tr>th"),k=p.querySelectorAll("tbody>tr"),S,A;for(S=0;S<E.length;++S){var H=s.subParser("makeMarkdown.tableCell")(E[S],m),B="---";if(E[S].hasAttribute("style")){var N=E[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(N){case"text-align:left;":B=":---";break;case"text-align:right;":B="---:";break;case"text-align:center;":B=":---:";break}}_[0][S]=H.trim(),_[1][S]=B}for(S=0;S<k.length;++S){var J=_.push([])-1,x=k[S].getElementsByTagName("td");for(A=0;A<E.length;++A){var V=" ";typeof x[A]<"u"&&(V=s.subParser("makeMarkdown.tableCell")(x[A],m)),_[J].push(V)}}var K=3;for(S=0;S<_.length;++S)for(A=0;A<_[S].length;++A){var de=_[S][A].length;de>K&&(K=de)}for(S=0;S<_.length;++S){for(A=0;A<_[S].length;++A)S===1?_[S][A].slice(-1)===":"?_[S][A]=s.helper.padEnd(_[S][A].slice(-1),K-1,"-")+":":_[S][A]=s.helper.padEnd(_[S][A],K,"-"):_[S][A]=s.helper.padEnd(_[S][A],K);g+="| "+_[S].join(" | ")+` |
`}return g.trim()}),s.subParser("makeMarkdown.tableCell",function(p,m){var g="";if(!p.hasChildNodes())return"";for(var _=p.childNodes,E=_.length,k=0;k<E;++k)g+=s.subParser("makeMarkdown.node")(_[k],m,!0);return g.trim()}),s.subParser("makeMarkdown.txt",function(p){var m=p.nodeValue;return m=m.replace(/ +/g," "),m=m.replace(/¨NBSP;/g," "),m=s.helper.unescapeHTMLEntities(m),m=m.replace(/([*_~|`])/g,"\\$1"),m=m.replace(/^(\s*)>/g,"\\$1>"),m=m.replace(/^#/gm,"\\#"),m=m.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),m=m.replace(/^( {0,3}\d+)\./gm,"$1\\."),m=m.replace(/^( {0,3})([+-])/gm,"$1\\$2"),m=m.replace(/]([\s]*)\(/g,"\\]$1\\("),m=m.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),m});var O=this;e.exports?e.exports=s:O.showdown=s}).call(FW)})(l5);var NW=l5.exports;const DW={key:0,class:"card-body d-flex justify-content-center"},zW={key:1,class:"card-header"},VW={class:"mb-0"},UW={key:0},qW={class:"list-unstyled small mb-0"},BW={key:0},HW=["href"],GW={key:1},WW=["href"],JW={key:2},KW=["href","textContent"],QW={key:3},ZW=["href"],YW=["innerHTML"],XW={key:2,class:"card-body text-center"},eJ=Vd({__name:"Provider",setup(e){const{esriProvider:t,provider:r,airtableProviders:s}=bm(),i=new NW.Converter;return(n,a)=>{var l;return _e(t).loading||_e(s).loading?(Je(),ut("div",DW,a[0]||(a[0]=[qe("div",{class:"spinner-border",role:"status"},[qe("span",{class:"visually-hidden"},"Loading...")],-1)]))):_e(r)!==void 0?(Je(),ut("div",zW,[qe("h4",VW,Es(_e(r).name),1),_e(r).address?(Je(),ut("div",UW,Es(_e(r).address),1)):Zs("",!0),qe("ul",qW,[_e(r).phone?(Je(),ut("li",BW,[a[1]||(a[1]=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-telephone me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})],-1)),qe("a",{href:`tel:${_e(r).phone}`},Es(("usePhoneFormat"in n?n.usePhoneFormat:_e(G$))(_e(r).phone)),9,HW)])):Zs("",!0),_e(r).fax?(Je(),ut("li",GW,[a[2]||(a[2]=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-printer me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}),qe("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"})],-1)),qe("a",{href:`fax:${_e(r).fax}`},Es(("usePhoneFormat"in n?n.usePhoneFormat:_e(G$))(_e(r).fax)),9,WW)])):Zs("",!0),_e(r).email?(Je(),ut("li",JW,[a[3]||(a[3]=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-envelope me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"})],-1)),qe("a",{href:`mailto:${_e(r).email}`,textContent:Es(_e(r).email)},null,8,KW),a[4]||(a[4]=qe("br",null,null,-1))])):Zs("",!0),_e(r).website?(Je(),ut("li",QW,[a[5]||(a[5]=qe("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-globe2 me-2",viewBox:"0 0 16 16"},[qe("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855-.143.268-.276.56-.395.872.705.157 1.472.257 2.282.287V1.077zM4.249 3.539c.142-.384.304-.744.481-1.078a6.7 6.7 0 0 1 .597-.933A7.01 7.01 0 0 0 3.051 3.05c.362.184.763.349 1.198.49zM3.509 7.5c.036-1.07.188-2.087.436-3.008a9.124 9.124 0 0 1-1.565-.667A6.964 6.964 0 0 0 1.018 7.5h2.49zm1.4-2.741a12.344 12.344 0 0 0-.4 2.741H7.5V5.091c-.91-.03-1.783-.145-2.591-.332zM8.5 5.09V7.5h2.99a12.342 12.342 0 0 0-.399-2.741c-.808.187-1.681.301-2.591.332zM4.51 8.5c.035.987.176 1.914.399 2.741A13.612 13.612 0 0 1 7.5 10.91V8.5H4.51zm3.99 0v2.409c.91.03 1.783.145 2.591.332.223-.827.364-1.754.4-2.741H8.5zm-3.282 3.696c.12.312.252.604.395.872.552 1.035 1.218 1.65 1.887 1.855V11.91c-.81.03-1.577.13-2.282.287zm.11 2.276a6.696 6.696 0 0 1-.598-.933 8.853 8.853 0 0 1-.481-1.079 8.38 8.38 0 0 0-1.198.49 7.01 7.01 0 0 0 2.276 1.522zm-1.383-2.964A13.36 13.36 0 0 1 3.508 8.5h-2.49a6.963 6.963 0 0 0 1.362 3.675c.47-.258.995-.482 1.565-.667zm6.728 2.964a7.009 7.009 0 0 0 2.275-1.521 8.376 8.376 0 0 0-1.197-.49 8.853 8.853 0 0 1-.481 1.078 6.688 6.688 0 0 1-.597.933zM8.5 11.909v3.014c.67-.204 1.335-.82 1.887-1.855.143-.268.276-.56.395-.872A12.63 12.63 0 0 0 8.5 11.91zm3.555-.401c.57.185 1.095.409 1.565.667A6.963 6.963 0 0 0 14.982 8.5h-2.49a13.36 13.36 0 0 1-.437 3.008zM14.982 7.5a6.963 6.963 0 0 0-1.362-3.675c-.47.258-.995.482-1.565.667.248.92.4 1.938.437 3.008h2.49zM11.27 2.461c.177.334.339.694.482 1.078a8.368 8.368 0 0 0 1.196-.49 7.01 7.01 0 0 0-2.275-1.52c.218.283.418.597.597.932zm-.488 1.343a7.765 7.765 0 0 0-.395-.872C9.835 1.897 9.17 1.282 8.5 1.077V4.09c.81-.03 1.577-.13 2.282-.287z"})],-1)),qe("a",{href:_e(r).website,target:"_blank"},"Customer Service Website",8,ZW)])):Zs("",!0)]),(l=_e(r).message)!=null&&l.trim()?(Je(),ut("div",{key:1,class:"alert alert-warning my-2",innerHTML:_e(i).makeHtml(_e(r).message)},null,8,YW)):Zs("",!0)])):(Je(),ut("div",XW,"No results"))}}}),Og="https://maps.hillsboroughcounty.org/arcgis/rest/services/SolidWaste_Viewer/SolidWasteRouteSchedules/MapServer",W$={garbage:`${Og}/2`,recycle:`${Og}/1`,yard:`${Og}/0`},yo=mr({loading:!1,data:{garbage:void 0,recycle:void 0,yard:void 0}});async function tJ(e){yo.loading=!0;try{let t;for(t in W$)try{vm.url=W$[t];const[r]=await l3(e);yo.data[t]=(r==null?void 0:r.toJSON().attributes)||void 0}catch{console.info(`unable to find ${t} schedule`)}}finally{yo.loading=!1}}const u5=Sn(()=>{const{garbage:e,recycle:t,yard:r}=yo.data;return{garbage:e?[e.Day1,e.Day2]:void 0,recycle:t?[t.Day]:void 0,yard:r?[r.Day]:void 0}}),rJ=Sn(()=>{const{garbage:e,recycle:t,yard:r}=u5.value;return{garbage:e?e.map(Mg).flat().sort(Ig):void 0,recycle:t?t.map(Mg.bind("recycle")).flat().sort(Ig):void 0,yard:r?r.map(Mg.bind("yard")).flat().sort(Ig):void 0}}),sJ=Sn(()=>yo.data.garbage!==void 0||yo.data.recycle!==void 0||yo.data.yard!==void 0),c5=()=>({schedule:yo,fetchScheduleFeatures:tJ,weekdays:u5,nextDates:rJ,hasSchedule:sJ}),iJ={key:0,class:"card-body d-flex justify-content-center"},nJ={key:1,class:"table table-striped mb-0"},oJ={key:0},aJ=["id"],lJ=["aria-describedby"],uJ={key:0,class:"badge bg-secondary ms-2"},cJ={key:2,class:"card-body"},dJ=Vd({__name:"Schedule",setup(e){const{schedule:t,weekdays:r,nextDates:s,hasSchedule:i}=c5(),{hasProvider:n}=bm(),a={weekday:"short",year:"numeric",month:"long",day:"numeric"};return(l,d)=>_e(t).loading?(Je(),ut("div",iJ,d[0]||(d[0]=[qe("div",{class:"spinner-border",role:"status"},[qe("span",{class:"visually-hidden"},"Loading...")],-1)]))):_e(i)?(Je(),ut("table",nJ,[qe("tbody",null,[(Je(!0),ut(xr,null,yf(_e(r),(f,h)=>(Je(),ut(xr,null,[f?(Je(),ut("tr",oJ,[qe("th",{id:h,class:"text-capitalize"},[gf(Es(h)+" Days ",1),d[1]||(d[1]=qe("small",{class:"d-block fw-light"},"Next Pickup Date(s)",-1))],8,aJ),qe("td",{"aria-describedby":h},[gf(Es(f.map(y=>`${y.toString()}s`).join(" & "))+" ",1),qe("ul",null,[(Je(!0),ut(xr,null,yf(_e(s)[h],y=>(Je(),ut("li",null,[qe("span",{class:fu({"text-decoration-line-through":y.isHoliday})},Es(y.date.toLocaleDateString(void 0,a)),3),y.isHoliday?(Je(),ut("span",uJ," No pickup on holiday ")):Zs("",!0)]))),256))])],8,lJ)])):Zs("",!0)],64))),256))])])):_e(n)?(Je(),ut("div",cJ," We weren't able to find your trash and recycling schedule, but we know who your hauler is. Contact the provider listed above for your pickup schedule. ")):Zs("",!0)}}),d5=po(!1),pJ=async e=>{var i,n;const{fetchProviderFeatures:t}=bm(),{fetchScheduleFeatures:r}=c5();if(d5.value=!0,$s.status=null,!e.length)throw"No Search Results";const[s]=e;$s.status=`Results for ${s.name}`,await Promise.allSettled([t((i=s==null?void 0:s.feature)==null?void 0:i.geometry),r((n=s==null?void 0:s.feature)==null?void 0:n.geometry)])},hJ=()=>({hasSearched:d5,watchResults:pJ});var fJ={exports:{}};(function(e){(function(t){if(typeof window>"u")return;var r=!0,s=10,i="",n=0,a="",l=null,d="",f=!1,h={resize:1,click:1},y=128,v=!0,b=1,$="bodyOffset",T=$,j=!0,L="",W={},O=32,p=null,m=!1,g=!1,_="[iFrameSizer]",E=_.length,k="",S={max:1,min:1,bodyScroll:1,documentElementScroll:1},A="child",H=window.parent,B="*",N=0,J=!1,x=null,V=16,K=1,de="scroll",ke=de,ve=window,Qe=function(){ee("onMessage function not defined")},xt=function(){},Kt=function(){},_t={height:function(){return ee("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return ee("Custom width calculation function not defined"),document.body.scrollWidth}},dt={},St=!1;function Pt(){}try{var Cs=Object.create({},{passive:{get:function(){St=!0}}});window.addEventListener("test",Pt,Cs),window.removeEventListener("test",Pt,Cs)}catch{}function Qt(D,P,oe,be){D.addEventListener(P,oe,St?be||{}:!1)}function ai(D,P,oe){D.removeEventListener(P,oe,!1)}function ds(D){return D.charAt(0).toUpperCase()+D.slice(1)}function C(D){var P,oe,be,We=null,Lt=0,pt=function(){Lt=Date.now(),We=null,be=D.apply(P,oe),We||(P=oe=null)};return function(){var zt=Date.now();Lt||(Lt=zt);var lt=V-(zt-Lt);return P=this,oe=arguments,lt<=0||lt>V?(We&&(clearTimeout(We),We=null),Lt=zt,be=D.apply(P,oe),We||(P=oe=null)):We||(We=setTimeout(pt,lt)),be}}function R(D){return _+"["+k+"] "+D}function F(D){m&&typeof window.console=="object"&&console.log(R(D))}function ee(D){typeof window.console=="object"&&console.warn(R(D))}function te(){se(),F("Initialising iFrame ("+window.location.href+")"),ue(),Ee(),ie("background",i),ie("padding",d),cr(),et(),Ke(),fe(),dr(),Ya(),sr(),W=Fi(),Di("init","Init message from host page"),xt()}function se(){function D(oe){return oe==="true"}var P=L.slice(E).split(":");k=P[0],n=t===P[1]?n:Number(P[1]),f=t===P[2]?f:D(P[2]),m=t===P[3]?m:D(P[3]),O=t===P[4]?O:Number(P[4]),r=t===P[6]?r:D(P[6]),a=P[7],T=t===P[8]?T:P[8],i=P[9],d=P[10],N=t===P[11]?N:Number(P[11]),W.enable=t===P[12]?!1:D(P[12]),A=t===P[13]?A:P[13],ke=t===P[14]?ke:P[14],g=t===P[15]?g:D(P[15])}function pe(D){var P=D.split("Callback");if(P.length===2){var oe="on"+P[0].charAt(0).toUpperCase()+P[0].slice(1);this[oe]=this[D],delete this[D],ee("Deprecated: '"+D+"' has been renamed '"+oe+"'. The old method will be removed in the next major version.")}}function ue(){function D(){var oe=window.iFrameResizer;F("Reading data from page: "+JSON.stringify(oe)),Object.keys(oe).forEach(pe,oe),Qe="onMessage"in oe?oe.onMessage:Qe,xt="onReady"in oe?oe.onReady:xt,B="targetOrigin"in oe?oe.targetOrigin:B,T="heightCalculationMethod"in oe?oe.heightCalculationMethod:T,ke="widthCalculationMethod"in oe?oe.widthCalculationMethod:ke}function P(oe,be){return typeof oe=="function"&&(F("Setup custom "+be+"CalcMethod"),_t[be]=oe,oe="custom"),oe}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(D(),T=P(T,"height"),ke=P(ke,"width")),F("TargetOrigin for parent set to: "+B)}function le(D,P){return P.indexOf("-")!==-1&&(ee("Negative CSS value ignored for "+D),P=""),P}function ie(D,P){t!==P&&P!==""&&P!=="null"&&(document.body.style[D]=P,F("Body "+D+' set to "'+P+'"'))}function Ee(){t===a&&(a=n+"px"),ie("margin",le("margin",a))}function fe(){document.documentElement.style.height="",document.body.style.height="",F('HTML & body height set to "auto"')}function he(D){var P={add:function(oe){function be(){Di(D.eventName,D.eventType)}dt[oe]=be,Qt(window,oe,be,{passive:!0})},remove:function(oe){var be=dt[oe];delete dt[oe],ai(window,oe,be)}};D.eventNames&&Array.prototype.map?(D.eventName=D.eventNames[0],D.eventNames.map(P[D.method])):P[D.method](D.eventName),F(ds(D.method)+" event listener: "+D.eventType)}function Me(D){he({method:D,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),he({method:D,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),he({method:D,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),he({method:D,eventType:"Input",eventName:"input"}),he({method:D,eventType:"Mouse Up",eventName:"mouseup"}),he({method:D,eventType:"Mouse Down",eventName:"mousedown"}),he({method:D,eventType:"Orientation Change",eventName:"orientationchange"}),he({method:D,eventType:"Print",eventNames:["afterprint","beforeprint"]}),he({method:D,eventType:"Ready State Change",eventName:"readystatechange"}),he({method:D,eventType:"Touch Start",eventName:"touchstart"}),he({method:D,eventType:"Touch End",eventName:"touchend"}),he({method:D,eventType:"Touch Cancel",eventName:"touchcancel"}),he({method:D,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),he({method:D,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),he({method:D,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),A==="child"&&he({method:D,eventType:"IFrame Resized",eventName:"resize"})}function Re(D,P,oe,be){return P!==D&&(D in oe||(ee(D+" is not a valid option for "+be+"CalculationMethod."),D=P),F(be+' calculation method set to "'+D+'"')),D}function et(){T=Re(T,$,As,"height")}function Ke(){ke=Re(ke,de,Ni,"width")}function sr(){r===!0?(Me("add"),wm()):F("Auto Resize disabled")}function Ht(){l!==null&&l.disconnect()}function kr(){Me("remove"),Ht(),clearInterval(p)}function cr(){var D=document.createElement("div");D.style.clear="both",D.style.display="block",D.style.height="0",document.body.appendChild(D)}function Fi(){function D(){return{x:window.pageXOffset===t?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===t?document.documentElement.scrollTop:window.pageYOffset}}function P(lt){var ge=lt.getBoundingClientRect(),ht=D();return{x:parseInt(ge.left,10)+parseInt(ht.x,10),y:parseInt(ge.top,10)+parseInt(ht.y,10)}}function oe(lt){function ge(Zr){var li=P(Zr);F("Moving to in page link (#"+ht+") at x: "+li.x+" y: "+li.y),Be(li.y,li.x,"scrollToOffset")}var ht=lt.split("#")[1]||lt,He=decodeURIComponent(ht),Dr=document.getElementById(He)||document.getElementsByName(He)[0];t===Dr?(F("In page link (#"+ht+") not found in iFrame, so sending to parent"),Be(0,0,"inPageLink","#"+ht)):ge(Dr)}function be(){var lt=window.location.hash,ge=window.location.href;lt!==""&&lt!=="#"&&oe(ge)}function We(){function lt(ge){function ht(He){He.preventDefault(),oe(this.getAttribute("href"))}ge.getAttribute("href")!=="#"&&Qt(ge,"click",ht)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),lt)}function Lt(){Qt(window,"hashchange",be)}function pt(){setTimeout(be,y)}function zt(){Array.prototype.forEach&&document.querySelectorAll?(F("Setting up location.hash handlers"),We(),Lt(),pt()):ee("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return W.enable?zt():F("In page linking not enabled"),{findTarget:oe}}function Ya(){if(g!==!0)return;function D(oe){Be(0,0,oe.type,oe.screenY+":"+oe.screenX)}function P(oe,be){F("Add event listener: "+be),Qt(window.document,oe,D)}P("mouseenter","Mouse Enter"),P("mouseleave","Mouse Leave")}function dr(){F("Enable public methods"),ve.parentIFrame={autoResize:function(P){return P===!0&&r===!1?(r=!0,sr()):P===!1&&r===!0&&(r=!1,kr()),Be(0,0,"autoResize",JSON.stringify(r)),r},close:function(){Be(0,0,"close")},getId:function(){return k},getPageInfo:function(P){typeof P=="function"?(Kt=P,Be(0,0,"pageInfo")):(Kt=function(){},Be(0,0,"pageInfoStop"))},moveToAnchor:function(P){W.findTarget(P)},reset:function(){z("parentIFrame.reset")},scrollTo:function(P,oe){Be(oe,P,"scrollTo")},scrollToOffset:function(P,oe){Be(oe,P,"scrollToOffset")},sendMessage:function(P,oe){Be(0,0,"message",JSON.stringify(P),oe)},setHeightCalculationMethod:function(P){T=P,et()},setWidthCalculationMethod:function(P){ke=P,Ke()},setTargetOrigin:function(P){F("Set targetOrigin: "+P),B=P},size:function(P,oe){var be=""+(P||"")+(oe?","+oe:"");Di("size","parentIFrame.size("+be+")",P,oe)}}}function Mr(){O!==0&&(F("setInterval: "+O+"ms"),p=setInterval(function(){Di("interval","setInterval: "+O)},Math.abs(O)))}function Xa(){function D(He){function Dr(Zr){Zr.complete===!1&&(F("Attach listeners to "+Zr.src),Zr.addEventListener("load",We,!1),Zr.addEventListener("error",Lt,!1),lt.push(Zr))}He.type==="attributes"&&He.attributeName==="src"?Dr(He.target):He.type==="childList"&&Array.prototype.forEach.call(He.target.querySelectorAll("img"),Dr)}function P(He){lt.splice(lt.indexOf(He),1)}function oe(He){F("Remove listeners from "+He.src),He.removeEventListener("load",We,!1),He.removeEventListener("error",Lt,!1),P(He)}function be(He,Dr,Zr){oe(He.target),Di(Dr,Zr+": "+He.target.src)}function We(He){be(He,"imageLoad","Image loaded")}function Lt(He){be(He,"imageLoadFailed","Image load failed")}function pt(He){Di("mutationObserver","mutationObserver: "+He[0].target+" "+He[0].type),He.forEach(D)}function zt(){var He=document.querySelector("body"),Dr={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return ht=new ge(pt),F("Create body MutationObserver"),ht.observe(He,Dr),ht}var lt=[],ge=window.MutationObserver||window.WebKitMutationObserver,ht=zt();return{disconnect:function(){"disconnect"in ht&&(F("Disconnect body MutationObserver"),ht.disconnect(),lt.forEach(oe))}}}function wm(){var D=0>O;window.MutationObserver||window.WebKitMutationObserver?D?Mr():l=Xa():(F("MutationObserver not supported in this browser!"),Mr())}function Lu(D,P){var oe=0;return P=P||document.body,oe=document.defaultView.getComputedStyle(P,null),oe=oe===null?0:oe[D],parseInt(oe,s)}function _m(D){D>V/2&&(V=2*D,F("Event throttle increased to "+V+"ms"))}function Fu(D,P){for(var oe=P.length,be=0,We=0,Lt=ds(D),pt=Date.now(),zt=0;zt<oe;zt++)be=P[zt].getBoundingClientRect()[D]+Lu("margin"+Lt,P[zt]),be>We&&(We=be);return pt=Date.now()-pt,F("Parsed "+oe+" HTML elements"),F("Element position calculated in "+pt+"ms"),_m(pt),We}function el(D){return[D.bodyOffset(),D.bodyScroll(),D.documentElementOffset(),D.documentElementScroll()]}function yp(D,P){function oe(){return ee("No tagged elements ("+P+") found on page"),document.querySelectorAll("body *")}var be=document.querySelectorAll("["+P+"]");return be.length===0&&oe(),Fu(D,be)}function mp(){return document.querySelectorAll("body *")}var As={bodyOffset:function(){return document.body.offsetHeight+Lu("marginTop")+Lu("marginBottom")},offset:function(){return As.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return _t.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,el(As))},min:function(){return Math.min.apply(null,el(As))},grow:function(){return As.max()},lowestElement:function(){return Math.max(As.bodyOffset()||As.documentElementOffset(),Fu("bottom",mp()))},taggedElement:function(){return yp("bottom","data-iframe-height")}},Ni={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return _t.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Ni.bodyScroll(),Ni.documentElementScroll())},max:function(){return Math.max.apply(null,el(Ni))},min:function(){return Math.min.apply(null,el(Ni))},rightMostElement:function(){return Fu("right",mp())},taggedElement:function(){return yp("right","data-iframe-width")}};function gp(D,P,oe,be){function We(){b=ht,K=He,Be(b,K,D)}function Lt(){function Dr(Zr,li){var $m=Math.abs(Zr-li)<=N;return!$m}return ht=t===oe?As[T]():oe,He=t===be?Ni[ke]():be,Dr(b,ht)||f&&Dr(K,He)}function pt(){return!(D in{init:1,interval:1,size:1})}function zt(){return T in S||f&&ke in S}function lt(){F("No change in size detected")}function ge(){pt()&&zt()?z(P):D in{interval:1}||lt()}var ht,He;Lt()||D==="init"?(vp(),We()):ge()}var Sm=C(gp);function Di(D,P,oe,be){function We(){D in{reset:1,resetPage:1,init:1}||F("Trigger event: "+P)}function Lt(){return J&&D in h}Lt()?F("Trigger event cancelled: "+D):(We(),D==="init"?gp(D,P,oe,be):Sm(D,P,oe,be))}function vp(){J||(J=!0,F("Trigger event lock on")),clearTimeout(x),x=setTimeout(function(){J=!1,F("Trigger event lock off"),F("--")},y)}function bp(D){b=As[T](),K=Ni[ke](),Be(b,K,D)}function z(D){var P=T;T=$,F("Reset trigger event: "+D),vp(),bp("reset"),T=P}function Be(D,P,oe,be,We){function Lt(){t===We?We=B:F("Message targetOrigin: "+We)}function pt(){var zt=D+":"+P,lt=k+":"+zt+":"+oe+(t===be?"":":"+be);F("Sending message to host page ("+lt+")"),H.postMessage(_+lt,We)}Lt(),pt()}function Co(D){var P={init:function(){L=D.data,H=D.source,te(),v=!1,setTimeout(function(){j=!1},y)},reset:function(){j?F("Page reset ignored by init"):(F("Page size reset by host page"),bp("resetPage"))},resize:function(){Di("resizeParent","Parent window requested size check")},moveToAnchor:function(){W.findTarget(We())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var ht=We();F("PageInfoFromParent called from parent: "+ht),Kt(JSON.parse(ht)),F(" --")},message:function(){var ht=We();F("onMessage called from parent: "+ht),Qe(JSON.parse(ht)),F(" --")}};function oe(){return _===(""+D.data).slice(0,E)}function be(){return D.data.split("]")[1].split(":")[0]}function We(){return D.data.slice(D.data.indexOf(":")+1)}function Lt(){return!e.exports&&"iFrameResize"in window||window.jQuery!==t&&"iFrameResize"in window.jQuery.prototype}function pt(){return D.data.split(":")[2]in{true:1,false:1}}function zt(){var ge=be();ge in P?P[ge]():!Lt()&&!pt()&&ee("Unexpected message ("+D.data+")")}function lt(){v===!1?zt():pt()?P.init():F('Ignored message of type "'+be()+'". Received before initialization.')}oe()&&lt()}function Qr(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}"iframeResizer"in window||(window.iframeChildListener=function(D){Co({data:D,sameDomian:!0})},Qt(window,"message",Co),Qt(window,"readystatechange",Qr),Qr())})()})(fJ);const yJ={class:"container-fluid py-3"},mJ={key:0,class:"card rounded-0 mt-3"},gJ=Vd({__name:"App",setup(e){const{watchResults:t,hasSearched:r}=hJ(),{fetchAirtableProviders:s}=bm();return s(),(i,n)=>{const a=eJ,l=dJ;return Je(),ut("main",yJ,[Ot(_e(a5),{"hc-sources":"","hide-sources":"",large:"",onResults:_e(t)},null,8,["onResults"]),_e(r)?(Je(),ut("div",mJ,[Ot(a),Ot(l)])):Zs("",!0)])}}}),vJ={__name:"nuxt-error-page",props:{error:Object},setup(e){const r=e.error;(r.stack||"").split(`
`).splice(1).map(y=>({text:y.replace("webpack:/","").replace(".vue",".js").trim(),internal:y.includes("node_modules")&&!y.includes(".cache")||y.includes("internal")||y.includes("new Promise")})).map(y=>`<span class="stack${y.internal?" internal":""}">${y.text}</span>`).join(`
`);const s=Number(r.statusCode||500),i=s===404,n=r.statusMessage??(i?"Page Not Found":"Internal Server Error"),a=r.message||r.toString(),l=void 0,h=i?_3(()=>Ne(()=>import("./error-404.29a20f2f.js"),["./error-404.29a20f2f.js","./_plugin-vue_export-helper.4672a92d.js","./error-404.fda4aa6a.css"],import.meta.url).then(y=>y.default||y)):_3(()=>Ne(()=>import("./error-500.77f70c89.js"),["./error-500.77f70c89.js","./_plugin-vue_export-helper.4672a92d.js","./error-500.88db509d.css"],import.meta.url).then(y=>y.default||y));return(y,v)=>(Je(),ca(_e(h),A5(iE({statusCode:_e(s),statusMessage:_e(n),description:_e(a),stack:_e(l)})),null,16))}},J$={__name:"nuxt-root",setup(e){const t=()=>null,r=lr(),s=r.deferHydration(),i=!1;Px(NE,zE()),r.hooks.callHookWith(l=>l.map(d=>d()),"vue:setup");const n=o1();Ox((l,d,f)=>{if(r.hooks.callHook("vue:error",l,d,f).catch(h=>console.error("[nuxt] Error in `vue:error` hook",h)),mR(l)&&(l.fatal||l.unhandled))return r.runWithContext(()=>fR(l)),!1});const a=!1;return(l,d)=>(Je(),ca(lC,{onResolve:_e(s)},{default:kx(()=>[_e(n)?(Je(),ca(_e(vJ),{key:0,error:_e(n)},null,8,["error"])):_e(a)?(Je(),ca(_e(t),{key:1,context:_e(a)},null,8,["context"])):_e(i)?(Je(),ca(R4(_e(i)),{key:2})):(Je(),ca(_e(gJ),{key:3}))]),_:1},8,["onResolve"]))}};let K$;{let e;K$=async function(){var a,l;if(e)return e;const s=!!((a=window.__NUXT__)!=null&&a.serverRendered||((l=document.getElementById("__NUXT_DATA__"))==null?void 0:l.dataset.ssr)==="true")?rA(J$):tA(J$),i=aj({vueApp:s});async function n(d){await i.callHook("app:error",d),i.payload.error=i.payload.error||d}s.config.errorHandler=n;try{await uj(i,DR)}catch(d){n(d)}try{await i.hooks.callHook("app:created",s),await i.hooks.callHook("app:beforeMount",s),s.mount(SR),await i.hooks.callHook("app:mounted",s),await Ww()}catch(d){n(d)}return s.config.errorHandler===n&&(s.config.errorHandler=void 0),s},e=K$().catch(t=>{console.error("Error while mounting app:",t)})}export{Is as $,ep as A,Ct as B,d1 as C,vu as D,SD as E,r3 as F,Te as G,Mu as H,L_ as I,Fc as J,Wd as K,ET as L,Dt as M,X as N,Kr as O,TT as P,vn as Q,go as R,kd as S,Ta as T,Tt as U,s_ as V,Zd as W,cu as X,rt as Y,QN as Z,Ne as _,dk as a,Dz as a$,ap as a0,Hd as a1,Ts as a2,pv as a3,ye as a4,Py as a5,yt as a6,_M as a7,xn as a8,ni as a9,jG as aA,vo as aB,SG as aC,EG as aD,xG as aE,MG as aF,kG as aG,AG as aH,CG as aI,FG as aJ,LG as aK,XO as aL,zG as aM,DG as aN,at as aO,je as aP,wt as aQ,gr as aR,Pu as aS,d7 as aT,Zz as aU,JF as aV,o_ as aW,c_ as aX,WF as aY,bn as aZ,$_ as a_,Mi as aa,Fr as ab,Sy as ac,me as ad,N_ as ae,sy as af,Cu as ag,up as ah,ce as ai,wn as aj,WO as ak,Ru as al,tm as am,o6 as an,x6 as ao,M6 as ap,O_ as aq,XR as ar,gu as as,LI as at,g6 as au,FI as av,WI as aw,YE as ax,t5 as ay,ju as az,Ny as b,iP as b$,zz as b0,Vz as b1,sP as b2,SI as b3,Ga as b4,T2 as b5,gM as b6,$I as b7,E2 as b8,o2 as b9,yF as bA,VF as bB,SF as bC,mF as bD,lF as bE,Xs as bF,Ia as bG,Ka as bH,sd as bI,W_ as bJ,$T as bK,Zq as bL,ma as bM,zb as bN,l1 as bO,zI as bP,tq as bQ,QI as bR,UF as bS,R1 as bT,Vy as bU,KI as bV,_z as bW,Hl as bX,Iy as bY,Oy as bZ,mn as b_,qv as ba,Zl as bb,Zf as bc,k2 as bd,hp as be,t6 as bf,nD as bg,bo as bh,WP as bi,oi as bj,kk as bk,bu as bl,Ca as bm,ga as bn,nk as bo,G6 as bp,cT as bq,aF as br,fF as bs,W1 as bt,DF as bu,lP as bv,cP as bw,dF as bx,Jk as by,oF as bz,ii as c,l0 as c$,y1 as c0,a1 as c1,KE as c2,xT as c3,Db as c4,a0 as c5,gN as c6,z_ as c7,_I as c8,tP as c9,u1 as cA,Kl as cB,mI as cC,Jc as cD,f1 as cE,hu as cF,VI as cG,Bd as cH,KP as cI,j_ as cJ,l2 as cK,Cf as cL,nM as cM,ov as cN,lN as cO,KR as cP,A1 as cQ,Ql as cR,BL as cS,ZL as cT,oI as cU,ik as cV,C1 as cW,pk as cX,zL as cY,k1 as cZ,$L as c_,rP as ca,wI as cb,ls as cc,Of as cd,Wc as ce,s7 as cf,JE as cg,Ol as ch,Ys as ci,p6 as cj,Li as ck,w2 as cl,HP as cm,ip as cn,BI as co,dP as cp,wF as cq,XE as cr,_7 as cs,k7 as ct,D1 as cu,b7 as cv,w7 as cw,Ri as cx,md as cy,c1 as cz,us as d,iI as d$,ak as d0,ck as d1,P1 as d2,j1 as d3,eq as d4,G_ as d5,GT as d6,ur as d7,$e as d8,l_ as d9,Ly as dA,Fy as dB,Kk as dC,JV as dD,UV as dE,Oo as dF,L6 as dG,F6 as dH,N6 as dI,PF as dJ,EF as dK,J1 as dL,KV as dM,WV as dN,HV as dO,qV as dP,vF as dQ,$z as dR,BV as dS,XV as dT,_F as dU,YV as dV,Y7 as dW,bF as dX,SL as dY,hL as dZ,GV as d_,Kc as da,Tk as db,ec as dc,P_ as dd,gI as de,XP as df,jt as dg,aP as dh,K2 as di,Bt as dj,T1 as dk,Q6 as dl,Nr as dm,HM as dn,GM as dp,rp as dq,tp as dr,zF as ds,XM as dt,_d as du,fL as dv,Sz as dw,Oa as dx,Yf as dy,Xf as dz,QR as e,r6 as e$,Od as e0,ss as e1,Et as e2,jF as e3,Ub as e4,Fa as e5,LF as e6,Ge as e7,Qy as e8,KM as e9,PH as eA,K6 as eB,sp as eC,Ay as eD,ya as eE,Tr as eF,Y6 as eG,J6 as eH,dm as eI,Ba as eJ,M_ as eK,xI as eL,jy as eM,_6 as eN,B_ as eO,fd as eP,CT as eQ,JU as eR,Gy as eS,y6 as eT,Z1 as eU,QU as eV,b6 as eW,bb as eX,W6 as eY,Jr as eZ,eO as e_,mM as ea,By as eb,Ek as ec,xy as ed,cD as ee,Ss as ef,m1 as eg,JI as eh,Wr as ei,GN as ej,$D as ek,xw as el,Z6 as em,Lc as en,Z_ as eo,hm as ep,h6 as eq,KU as er,c6 as es,j6 as et,A6 as eu,C6 as ev,ZI as ew,d6 as ex,hn as ey,Ve as ez,ST as f,bw as f$,rm as f0,i6 as f1,n6 as f2,Hy as f3,wo as f4,v6 as f5,cs as f6,ku as f7,Wa as f8,ko as f9,XU as fA,iF as fB,Ad as fC,s6 as fD,Nb as fE,g1 as fF,Qd as fG,$u as fH,du as fI,Gr as fJ,wM as fK,lp as fL,yD as fM,bP as fN,HL as fO,vN as fP,_1 as fQ,Mo as fR,SM as fS,S0 as fT,Gd as fU,qk as fV,fo as fW,gm as fX,ZR as fY,EI as fZ,ad as f_,T6 as fa,f6 as fb,$0 as fc,L1 as fd,H6 as fe,H_ as ff,ww as fg,nd as fh,m6 as fi,pm as fj,it as fk,Ua as fl,E_ as fm,zT as fn,Xd as fo,Iu as fp,Ye as fq,WM as fr,__ as fs,Yz as ft,T_ as fu,Cd as fv,_9 as fw,w_ as fx,iz as fy,Yy as fz,Ue as g,x4 as g$,Td as g0,Zy as g1,$6 as g2,S6 as g3,za as g4,g_ as g5,zV as g6,Ha as g7,qN as g8,w6 as g9,sm as gA,mN as gB,uN as gC,uF as gD,K1 as gE,gF,eT as gG,EM as gH,X7 as gI,pF as gJ,fN as gK,yN as gL,tT as gM,rT as gN,YR as gO,eU as gP,nP as gQ,NF as gR,Je as gS,ut as gT,qe as gU,Es as gV,SJ as gW,po as gX,_J as gY,qc as gZ,O4 as g_,VV as ga,tk as gb,JP as gc,w as gd,Ez as ge,D6 as gf,z6 as gg,V6 as gh,_u as gi,FF as gj,cm as gk,r7 as gl,La as gm,Pk as gn,uu as go,Q_ as gp,qy as gq,QV as gr,sF as gs,cF as gt,hN as gu,wN as gv,xN as gw,RT as gx,YN as gy,To as gz,U as h,$4 as h0,Yg as h1,bC as h2,ZV as h3,KN as h4,yd as h5,eF as h6,wy as h7,Vd as h8,Sn as h9,by as ha,k4 as hb,HE as hc,aS as hd,xJ as he,TC as hf,wJ as hg,mu as hh,qd as hi,hE as hj,$J as hk,Wg as hl,yE as hm,Tf as hn,lr as ho,vR as hp,Ot as hq,kx as hr,gf as hs,EJ as ht,u_ as i,ct as j,GP as k,Y as l,wu as m,ba as n,Z as o,xo as p,o as q,G as r,BP as s,we as t,c as u,Va as v,cy as w,M as x,em as y,qf as z};
