import{dd as d,eQ as f,r as c,t as u,a6 as h,q as n,u as l,x as p}from"./entry.a426b012.js";let i=class extends d(h){constructor(t){super(t),this.getCollections=null}initialize(){this.handles.add(f(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const t=c(this.getCollections)?this.getCollections():null;if(u(t))return void this.removeAll();let o=0;for(const r of t)c(r)&&(o=this._processCollection(o,r));this.splice(o,this.length)}_createNewInstance(t){return new h(t)}_processCollection(t,o){if(!o)return t;const r=this.itemFilterFunction?this.itemFilterFunction:e=>!!e;for(const e of o)if(e){if(r(e)){const s=this.indexOf(e,t);s>=0?s!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const s=this.getChildrenFunction(e);if(Array.isArray(s))for(const a of s)t=this._processCollection(t,a);else t=this._processCollection(t,s)}}return t}};n([l()],i.prototype,"getCollections",void 0),n([l()],i.prototype,"getChildrenFunction",void 0),n([l()],i.prototype,"itemFilterFunction",void 0),i=n([p("esri.core.CollectionFlattener")],i);const F=i;export{F as p};
